[REPLACE]^private final Object idMetadata;^54^^^^^^^[REPLACE] private final IdMetadata<T> idMetadata;^ [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper  
[REPLACE]^private final Class metamodel;^56^^^^^^^[REPLACE] private final Metamodel metamodel;^ [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper  
[REPLACE]^private  @Nullable String entityName;^57^^^^^^^[REPLACE] private final @Nullable String entityName;^ [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper  
[REPLACE]^private final Object type;^247^^^^^^^[REPLACE] private final IdentifiableType<T> type;^ [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper  
[REPLACE]^private  Set<SingularAttribute<? super T, ?>> attributes;^248^^^^^^^[REPLACE] private final Set<SingularAttribute<? super T, ?>> attributes;^ [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper  
[REPLACE]^private @Object Class<?> idType;^249^^^^^^^[REPLACE] private @Nullable Class<?> idType;^ [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper  
[REPLACE]^private  Metamodel metamodel;^321^^^^^^^[REPLACE] private final Metamodel metamodel;^ [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper  
[REPLACE]^super ( true ) ;^67^^^^^65^88^[REPLACE] super ( domainClass ) ;^[METHOD] <init> [TYPE] Metamodel) [PARAMETER] Class<T> domainClass Metamodel metamodel [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  ManagedType type  [TYPE]  IdentifiableType identifiableType  type  [TYPE]  Set attributes  [TYPE]  boolean false  true  [TYPE]  Optional versionAttribute  [TYPE]  Class domainClass  idType  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata 
[REPLACE]^Assert.notNull ( metamodel, "Metamodel must not be this!" ) ;^69^^^^^65^88^[REPLACE] Assert.notNull ( metamodel, "Metamodel must not be null!" ) ;^[METHOD] <init> [TYPE] Metamodel) [PARAMETER] Class<T> domainClass Metamodel metamodel [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  ManagedType type  [TYPE]  IdentifiableType identifiableType  type  [TYPE]  Set attributes  [TYPE]  boolean false  true  [TYPE]  Optional versionAttribute  [TYPE]  Class domainClass  idType  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata 
[REPLACE]^this.metamodel =  null;^70^^^^^65^88^[REPLACE] this.metamodel = metamodel;^[METHOD] <init> [TYPE] Metamodel) [PARAMETER] Class<T> domainClass Metamodel metamodel [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  ManagedType type  [TYPE]  IdentifiableType identifiableType  type  [TYPE]  Set attributes  [TYPE]  boolean false  true  [TYPE]  Optional versionAttribute  [TYPE]  Class domainClass  idType  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata 
[REPLACE]^ManagedType<?> managedSuperType = metamodel.managedType ( superType )  ;^72^^^^^65^88^[REPLACE] ManagedType<T> type = metamodel.managedType ( domainClass ) ;^[METHOD] <init> [TYPE] Metamodel) [PARAMETER] Class<T> domainClass Metamodel metamodel [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  ManagedType type  [TYPE]  IdentifiableType identifiableType  type  [TYPE]  Set attributes  [TYPE]  boolean false  true  [TYPE]  Optional versionAttribute  [TYPE]  Class domainClass  idType  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata 
[REPLACE]^if  ( type != null )  {^74^^^^^65^88^[REPLACE] if  ( type == null )  {^[METHOD] <init> [TYPE] Metamodel) [PARAMETER] Class<T> domainClass Metamodel metamodel [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  ManagedType type  [TYPE]  IdentifiableType identifiableType  type  [TYPE]  Set attributes  [TYPE]  boolean false  true  [TYPE]  Optional versionAttribute  [TYPE]  Class domainClass  idType  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata 
[ADD]^^74^75^76^^^65^88^[ADD] if  ( type == null )  { throw new IllegalArgumentException  (" ")  ; }^[METHOD] <init> [TYPE] Metamodel) [PARAMETER] Class<T> domainClass Metamodel metamodel [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  ManagedType type  [TYPE]  IdentifiableType identifiableType  type  [TYPE]  Set attributes  [TYPE]  boolean false  true  [TYPE]  Optional versionAttribute  [TYPE]  Class domainClass  idType  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata 
[REPLACE]^throw new IllegalArgumentException ( "The given domain class does not contain an id attribute!" )  ;^75^^^^^65^88^[REPLACE] throw new IllegalArgumentException  (" ")  ;^[METHOD] <init> [TYPE] Metamodel) [PARAMETER] Class<T> domainClass Metamodel metamodel [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  ManagedType type  [TYPE]  IdentifiableType identifiableType  type  [TYPE]  Set attributes  [TYPE]  boolean false  true  [TYPE]  Optional versionAttribute  [TYPE]  Class domainClass  idType  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata 
[REPLACE]^return ;^75^^^^^65^88^[REPLACE] throw new IllegalArgumentException  (" ")  ;^[METHOD] <init> [TYPE] Metamodel) [PARAMETER] Class<T> domainClass Metamodel metamodel [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  ManagedType type  [TYPE]  IdentifiableType identifiableType  type  [TYPE]  Set attributes  [TYPE]  boolean false  true  [TYPE]  Optional versionAttribute  [TYPE]  Class domainClass  idType  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata 
[REPLACE]^this.entityName  =  null;^78^^^^^65^88^[REPLACE] this.entityName = type instanceof EntityType ?  (  ( EntityType<?> )  type ) .getName (  )  : null;^[METHOD] <init> [TYPE] Metamodel) [PARAMETER] Class<T> domainClass Metamodel metamodel [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  ManagedType type  [TYPE]  IdentifiableType identifiableType  type  [TYPE]  Set attributes  [TYPE]  boolean false  true  [TYPE]  Optional versionAttribute  [TYPE]  Class domainClass  idType  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata 
[REPLACE]^if  ( ! ! ( null instanceof IdentifiableType )  )  {^80^^^^^65^88^[REPLACE] if  ( ! ( type instanceof IdentifiableType )  )  {^[METHOD] <init> [TYPE] Metamodel) [PARAMETER] Class<T> domainClass Metamodel metamodel [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  ManagedType type  [TYPE]  IdentifiableType identifiableType  type  [TYPE]  Set attributes  [TYPE]  boolean false  true  [TYPE]  Optional versionAttribute  [TYPE]  Class domainClass  idType  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata 
[ADD]^^80^81^82^^^65^88^[ADD] if  ( ! ( type instanceof IdentifiableType )  )  { throw new IllegalArgumentException  (" ")  ; }^[METHOD] <init> [TYPE] Metamodel) [PARAMETER] Class<T> domainClass Metamodel metamodel [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  ManagedType type  [TYPE]  IdentifiableType identifiableType  type  [TYPE]  Set attributes  [TYPE]  boolean false  true  [TYPE]  Optional versionAttribute  [TYPE]  Class domainClass  idType  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata 
[REPLACE]^throw new IllegalArgumentException ( "The given domain class can not be found in the given Metamodel!" )  ;^81^^^^^65^88^[REPLACE] throw new IllegalArgumentException  (" ")  ;^[METHOD] <init> [TYPE] Metamodel) [PARAMETER] Class<T> domainClass Metamodel metamodel [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  ManagedType type  [TYPE]  IdentifiableType identifiableType  type  [TYPE]  Set attributes  [TYPE]  boolean false  true  [TYPE]  Optional versionAttribute  [TYPE]  Class domainClass  idType  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata 
[ADD]^this.versionAttribute = findVersionAttribute ( identifiableType, metamodel ) ;^86^87^88^^^65^88^[ADD] this.idMetadata = new IdMetadata<T> ( identifiableType ) ; this.versionAttribute = findVersionAttribute ( identifiableType, metamodel ) ; }^[METHOD] <init> [TYPE] Metamodel) [PARAMETER] Class<T> domainClass Metamodel metamodel [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  ManagedType type  [TYPE]  IdentifiableType identifiableType  type  [TYPE]  Set attributes  [TYPE]  boolean false  true  [TYPE]  Optional versionAttribute  [TYPE]  Class domainClass  idType  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata 
[REPLACE]^this.idMetadata = new IdMetadata<T> ( identifiableType )  ;^87^^^^^65^88^[REPLACE] this.versionAttribute = findVersionAttribute ( identifiableType, metamodel ) ;^[METHOD] <init> [TYPE] Metamodel) [PARAMETER] Class<T> domainClass Metamodel metamodel [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  ManagedType type  [TYPE]  IdentifiableType identifiableType  type  [TYPE]  Set attributes  [TYPE]  boolean false  true  [TYPE]  Optional versionAttribute  [TYPE]  Class domainClass  idType  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata 
[ADD]^return Optional.ofNullable ( type.getVersion ( Object.class )  ) ;^110^111^112^^114^108^139^[ADD] try { return Optional.ofNullable ( type.getVersion ( Object.class )  ) ; } catch  ( IllegalArgumentException o_O )  { }^[METHOD] findVersionAttribute [TYPE] <T> [PARAMETER] IdentifiableType<T> type Metamodel metamodel [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  SingularAttribute attribute  [TYPE]  ManagedType managedSuperType  [TYPE]  IdentifiableType identifiableType  source  type  [TYPE]  Set attributes  [TYPE]  boolean false  true  [TYPE]  Optional versionAttribute  [TYPE]  Class domainClass  idType  superType  type  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata  [TYPE]  IllegalArgumentException o_O 
[REPLACE]^return Optional.ofNullable ( this.getVersion ( Object.class )  ) ;^111^^^^^108^139^[REPLACE] return Optional.ofNullable ( type.getVersion ( Object.class )  ) ;^[METHOD] findVersionAttribute [TYPE] <T> [PARAMETER] IdentifiableType<T> type Metamodel metamodel [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  SingularAttribute attribute  [TYPE]  ManagedType managedSuperType  [TYPE]  IdentifiableType identifiableType  source  type  [TYPE]  Set attributes  [TYPE]  boolean false  true  [TYPE]  Optional versionAttribute  [TYPE]  Class domainClass  idType  superType  type  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata  [TYPE]  IllegalArgumentException o_O 
[REPLACE]^return Optional .of ( null )  ;^111^^^^^108^139^[REPLACE] return Optional.ofNullable ( type.getVersion ( Object.class )  ) ;^[METHOD] findVersionAttribute [TYPE] <T> [PARAMETER] IdentifiableType<T> type Metamodel metamodel [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  SingularAttribute attribute  [TYPE]  ManagedType managedSuperType  [TYPE]  IdentifiableType identifiableType  source  type  [TYPE]  Set attributes  [TYPE]  boolean false  true  [TYPE]  Optional versionAttribute  [TYPE]  Class domainClass  idType  superType  type  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata  [TYPE]  IllegalArgumentException o_O 
[REPLACE]^Set<SingularAttribute<? super T, ?>> attributes = null.getSingularAttributes (  ) ;^116^^^^^108^139^[REPLACE] Set<SingularAttribute<? super T, ?>> attributes = type.getSingularAttributes (  ) ;^[METHOD] findVersionAttribute [TYPE] <T> [PARAMETER] IdentifiableType<T> type Metamodel metamodel [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  SingularAttribute attribute  [TYPE]  ManagedType managedSuperType  [TYPE]  IdentifiableType identifiableType  source  type  [TYPE]  Set attributes  [TYPE]  boolean false  true  [TYPE]  Optional versionAttribute  [TYPE]  Class domainClass  idType  superType  type  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata  [TYPE]  IllegalArgumentException o_O 
[REPLACE]^if  ( this.isVersion (  )  )  {^119^^^^^108^139^[REPLACE] if  ( attribute.isVersion (  )  )  {^[METHOD] findVersionAttribute [TYPE] <T> [PARAMETER] IdentifiableType<T> type Metamodel metamodel [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  SingularAttribute attribute  [TYPE]  ManagedType managedSuperType  [TYPE]  IdentifiableType identifiableType  source  type  [TYPE]  Set attributes  [TYPE]  boolean false  true  [TYPE]  Optional versionAttribute  [TYPE]  Class domainClass  idType  superType  type  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata  [TYPE]  IllegalArgumentException o_O 
[REPLACE]^return Optional.of ( false ) ;^120^^^^^108^139^[REPLACE] return Optional.of ( attribute ) ;^[METHOD] findVersionAttribute [TYPE] <T> [PARAMETER] IdentifiableType<T> type Metamodel metamodel [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  SingularAttribute attribute  [TYPE]  ManagedType managedSuperType  [TYPE]  IdentifiableType identifiableType  source  type  [TYPE]  Set attributes  [TYPE]  boolean false  true  [TYPE]  Optional versionAttribute  [TYPE]  Class domainClass  idType  superType  type  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata  [TYPE]  IllegalArgumentException o_O 
[REPLACE]^for  ( SingularAttribute<? super T, ?> attribute : this )  {^118^^^^^108^139^[REPLACE] for  ( SingularAttribute<? super T, ?> attribute : attributes )  {^[METHOD] findVersionAttribute [TYPE] <T> [PARAMETER] IdentifiableType<T> type Metamodel metamodel [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  SingularAttribute attribute  [TYPE]  ManagedType managedSuperType  [TYPE]  IdentifiableType identifiableType  source  type  [TYPE]  Set attributes  [TYPE]  boolean false  true  [TYPE]  Optional versionAttribute  [TYPE]  Class domainClass  idType  superType  type  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata  [TYPE]  IllegalArgumentException o_O 
[REPLACE]^if  ( false.isVersion (  )  )  {^119^^^^^108^139^[REPLACE] if  ( attribute.isVersion (  )  )  {^[METHOD] findVersionAttribute [TYPE] <T> [PARAMETER] IdentifiableType<T> type Metamodel metamodel [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  SingularAttribute attribute  [TYPE]  ManagedType managedSuperType  [TYPE]  IdentifiableType identifiableType  source  type  [TYPE]  Set attributes  [TYPE]  boolean false  true  [TYPE]  Optional versionAttribute  [TYPE]  Class domainClass  idType  superType  type  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata  [TYPE]  IllegalArgumentException o_O 
[REPLACE]^return empty (  )  ;^120^^^^^108^139^[REPLACE] return Optional.of ( attribute ) ;^[METHOD] findVersionAttribute [TYPE] <T> [PARAMETER] IdentifiableType<T> type Metamodel metamodel [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  SingularAttribute attribute  [TYPE]  ManagedType managedSuperType  [TYPE]  IdentifiableType identifiableType  source  type  [TYPE]  Set attributes  [TYPE]  boolean false  true  [TYPE]  Optional versionAttribute  [TYPE]  Class domainClass  idType  superType  type  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata  [TYPE]  IllegalArgumentException o_O 
[REPLACE]^return Optional.of ( null ) ;^120^^^^^108^139^[REPLACE] return Optional.of ( attribute ) ;^[METHOD] findVersionAttribute [TYPE] <T> [PARAMETER] IdentifiableType<T> type Metamodel metamodel [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  SingularAttribute attribute  [TYPE]  ManagedType managedSuperType  [TYPE]  IdentifiableType identifiableType  source  type  [TYPE]  Set attributes  [TYPE]  boolean false  true  [TYPE]  Optional versionAttribute  [TYPE]  Class domainClass  idType  superType  type  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata  [TYPE]  IllegalArgumentException o_O 
[REPLACE]^return Optional.of ( this ) ;^120^^^^^108^139^[REPLACE] return Optional.of ( attribute ) ;^[METHOD] findVersionAttribute [TYPE] <T> [PARAMETER] IdentifiableType<T> type Metamodel metamodel [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  SingularAttribute attribute  [TYPE]  ManagedType managedSuperType  [TYPE]  IdentifiableType identifiableType  source  type  [TYPE]  Set attributes  [TYPE]  boolean false  true  [TYPE]  Optional versionAttribute  [TYPE]  Class domainClass  idType  superType  type  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata  [TYPE]  IllegalArgumentException o_O 
[ADD]^^118^119^120^121^^108^139^[ADD] for  ( SingularAttribute<? super T, ?> attribute : attributes )  { if  ( attribute.isVersion (  )  )  { return Optional.of ( attribute ) ; }^[METHOD] findVersionAttribute [TYPE] <T> [PARAMETER] IdentifiableType<T> type Metamodel metamodel [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  SingularAttribute attribute  [TYPE]  ManagedType managedSuperType  [TYPE]  IdentifiableType identifiableType  source  type  [TYPE]  Set attributes  [TYPE]  boolean false  true  [TYPE]  Optional versionAttribute  [TYPE]  Class domainClass  idType  superType  type  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata  [TYPE]  IllegalArgumentException o_O 
[REPLACE]^Class<?> superType = this.getJavaType (  ) .orElse (  ) ;^124^^^^^108^139^[REPLACE] Class<?> superType = type.getJavaType (  ) .getSuperclass (  ) ;^[METHOD] findVersionAttribute [TYPE] <T> [PARAMETER] IdentifiableType<T> type Metamodel metamodel [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  SingularAttribute attribute  [TYPE]  ManagedType managedSuperType  [TYPE]  IdentifiableType identifiableType  source  type  [TYPE]  Set attributes  [TYPE]  boolean false  true  [TYPE]  Optional versionAttribute  [TYPE]  Class domainClass  idType  superType  type  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata  [TYPE]  IllegalArgumentException o_O 
[REPLACE]^if  ( ! ! ( managedSuperType instanceof IdentifiableType )  )  {^130^^^^^108^139^[REPLACE] if  ( ! ( managedSuperType instanceof IdentifiableType )  )  {^[METHOD] findVersionAttribute [TYPE] <T> [PARAMETER] IdentifiableType<T> type Metamodel metamodel [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  SingularAttribute attribute  [TYPE]  ManagedType managedSuperType  [TYPE]  IdentifiableType identifiableType  source  type  [TYPE]  Set attributes  [TYPE]  boolean false  true  [TYPE]  Optional versionAttribute  [TYPE]  Class domainClass  idType  superType  type  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata  [TYPE]  IllegalArgumentException o_O 
[REPLACE]^return of ( attribute )  ;^131^^^^^108^139^[REPLACE] return Optional.empty (  ) ;^[METHOD] findVersionAttribute [TYPE] <T> [PARAMETER] IdentifiableType<T> type Metamodel metamodel [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  SingularAttribute attribute  [TYPE]  ManagedType managedSuperType  [TYPE]  IdentifiableType identifiableType  source  type  [TYPE]  Set attributes  [TYPE]  boolean false  true  [TYPE]  Optional versionAttribute  [TYPE]  Class domainClass  idType  superType  type  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata  [TYPE]  IllegalArgumentException o_O 
[ADD]^ManagedType<?> managedSuperType = metamodel.managedType ( superType ) ;^126^127^128^^130^108^139^[ADD] try {  ManagedType<?> managedSuperType = metamodel.managedType ( superType ) ; if  ( ! ( managedSuperType instanceof IdentifiableType )  )  {^[METHOD] findVersionAttribute [TYPE] <T> [PARAMETER] IdentifiableType<T> type Metamodel metamodel [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  SingularAttribute attribute  [TYPE]  ManagedType managedSuperType  [TYPE]  IdentifiableType identifiableType  source  type  [TYPE]  Set attributes  [TYPE]  boolean false  true  [TYPE]  Optional versionAttribute  [TYPE]  Class domainClass  idType  superType  type  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata  [TYPE]  IllegalArgumentException o_O 
[ADD]^^130^131^132^^^108^139^[ADD] if  ( ! ( managedSuperType instanceof IdentifiableType )  )  { return Optional.empty (  ) ; }^[METHOD] findVersionAttribute [TYPE] <T> [PARAMETER] IdentifiableType<T> type Metamodel metamodel [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  SingularAttribute attribute  [TYPE]  ManagedType managedSuperType  [TYPE]  IdentifiableType identifiableType  source  type  [TYPE]  Set attributes  [TYPE]  boolean false  true  [TYPE]  Optional versionAttribute  [TYPE]  Class domainClass  idType  superType  type  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata  [TYPE]  IllegalArgumentException o_O 
[REPLACE]^return Optional.map (  ) ;^131^^^^^108^139^[REPLACE] return Optional.empty (  ) ;^[METHOD] findVersionAttribute [TYPE] <T> [PARAMETER] IdentifiableType<T> type Metamodel metamodel [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  SingularAttribute attribute  [TYPE]  ManagedType managedSuperType  [TYPE]  IdentifiableType identifiableType  source  type  [TYPE]  Set attributes  [TYPE]  boolean false  true  [TYPE]  Optional versionAttribute  [TYPE]  Class domainClass  idType  superType  type  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata  [TYPE]  IllegalArgumentException o_O 
[REPLACE]^return Optional .map (  )  ;^131^^^^^108^139^[REPLACE] return Optional.empty (  ) ;^[METHOD] findVersionAttribute [TYPE] <T> [PARAMETER] IdentifiableType<T> type Metamodel metamodel [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  SingularAttribute attribute  [TYPE]  ManagedType managedSuperType  [TYPE]  IdentifiableType identifiableType  source  type  [TYPE]  Set attributes  [TYPE]  boolean false  true  [TYPE]  Optional versionAttribute  [TYPE]  Class domainClass  idType  superType  type  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata  [TYPE]  IllegalArgumentException o_O 
[REPLACE]^ManagedType<T> type = metamodel.managedType ( domainClass )  ;^128^^^^^108^139^[REPLACE] ManagedType<?> managedSuperType = metamodel.managedType ( superType ) ;^[METHOD] findVersionAttribute [TYPE] <T> [PARAMETER] IdentifiableType<T> type Metamodel metamodel [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  SingularAttribute attribute  [TYPE]  ManagedType managedSuperType  [TYPE]  IdentifiableType identifiableType  source  type  [TYPE]  Set attributes  [TYPE]  boolean false  true  [TYPE]  Optional versionAttribute  [TYPE]  Class domainClass  idType  superType  type  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata  [TYPE]  IllegalArgumentException o_O 
[REPLACE]^return Optional.map (  ) ;^137^^^^^108^139^[REPLACE] return Optional.empty (  ) ;^[METHOD] findVersionAttribute [TYPE] <T> [PARAMETER] IdentifiableType<T> type Metamodel metamodel [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  SingularAttribute attribute  [TYPE]  ManagedType managedSuperType  [TYPE]  IdentifiableType identifiableType  source  type  [TYPE]  Set attributes  [TYPE]  boolean false  true  [TYPE]  Optional versionAttribute  [TYPE]  Class domainClass  idType  superType  type  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata  [TYPE]  IllegalArgumentException o_O 
[ADD]^^128^^^^^108^139^[ADD] ManagedType<?> managedSuperType = metamodel.managedType ( superType ) ;^[METHOD] findVersionAttribute [TYPE] <T> [PARAMETER] IdentifiableType<T> type Metamodel metamodel [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  SingularAttribute attribute  [TYPE]  ManagedType managedSuperType  [TYPE]  IdentifiableType identifiableType  source  type  [TYPE]  Set attributes  [TYPE]  boolean false  true  [TYPE]  Optional versionAttribute  [TYPE]  Class domainClass  idType  superType  type  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata  [TYPE]  IllegalArgumentException o_O 
[REPLACE]^BeanWrapper wrapper = new DirectFieldAccessFallbackBeanWrapper ( entity )  ;^149^^^^^147^169^[REPLACE] BeanWrapper entityWrapper = new DirectFieldAccessFallbackBeanWrapper ( entity ) ;^[METHOD] getId [TYPE] ID [PARAMETER] T entity [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  SingularAttribute attribute  [TYPE]  BeanWrapper entityWrapper  idWrapper  [TYPE]  IdentifiableType identifiableType  source  type  [TYPE]  Set attributes  [TYPE]  boolean false  partialIdValueFound  true  [TYPE]  Optional versionAttribute  [TYPE]  T entity  [TYPE]  Class domainClass  idType  superType  type  [TYPE]  Object propertyValue  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata 
[REPLACE]^if  ( idMetadata .getSimpleIdAttribute (  )   )  {^151^^^^^147^169^[REPLACE] if  ( idMetadata.hasSimpleId (  )  )  {^[METHOD] getId [TYPE] ID [PARAMETER] T entity [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  SingularAttribute attribute  [TYPE]  BeanWrapper entityWrapper  idWrapper  [TYPE]  IdentifiableType identifiableType  source  type  [TYPE]  Set attributes  [TYPE]  boolean false  partialIdValueFound  true  [TYPE]  Optional versionAttribute  [TYPE]  T entity  [TYPE]  Class domainClass  idType  superType  type  [TYPE]  Object propertyValue  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata 
[REPLACE]^return  ( ID )  idWrapper.getPropertyValue ( idMetadata.getSimpleIdAttribute (  ) .getName (  )  ) ;^152^^^^^147^169^[REPLACE] return  ( ID )  entityWrapper.getPropertyValue ( idMetadata.getSimpleIdAttribute (  ) .getName (  )  ) ;^[METHOD] getId [TYPE] ID [PARAMETER] T entity [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  SingularAttribute attribute  [TYPE]  BeanWrapper entityWrapper  idWrapper  [TYPE]  IdentifiableType identifiableType  source  type  [TYPE]  Set attributes  [TYPE]  boolean false  partialIdValueFound  true  [TYPE]  Optional versionAttribute  [TYPE]  T entity  [TYPE]  Class domainClass  idType  superType  type  [TYPE]  Object propertyValue  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata 
[ADD]^^155^156^^158^159^147^169^[ADD] BeanWrapper idWrapper = new IdentifierDerivingDirectFieldAccessFallbackBeanWrapper ( idMetadata.getType (  ) , metamodel ) ; boolean partialIdValueFound = false; for  ( SingularAttribute<? super T, ?> attribute : idMetadata )  { Object propertyValue = entityWrapper.getPropertyValue ( attribute.getName (  )  ) ;^[METHOD] getId [TYPE] ID [PARAMETER] T entity [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  SingularAttribute attribute  [TYPE]  BeanWrapper entityWrapper  idWrapper  [TYPE]  IdentifiableType identifiableType  source  type  [TYPE]  Set attributes  [TYPE]  boolean false  partialIdValueFound  true  [TYPE]  Optional versionAttribute  [TYPE]  T entity  [TYPE]  Class domainClass  idType  superType  type  [TYPE]  Object propertyValue  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata 
[REPLACE]^boolean partialIdValueFound = true;^156^^^^^147^169^[REPLACE] boolean partialIdValueFound = false;^[METHOD] getId [TYPE] ID [PARAMETER] T entity [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  SingularAttribute attribute  [TYPE]  BeanWrapper entityWrapper  idWrapper  [TYPE]  IdentifiableType identifiableType  source  type  [TYPE]  Set attributes  [TYPE]  boolean false  partialIdValueFound  true  [TYPE]  Optional versionAttribute  [TYPE]  T entity  [TYPE]  Class domainClass  idType  superType  type  [TYPE]  Object propertyValue  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata 
[REPLACE]^if  ( propertyValue == null )  {^161^^^^^147^169^[REPLACE] if  ( propertyValue != null )  {^[METHOD] getId [TYPE] ID [PARAMETER] T entity [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  SingularAttribute attribute  [TYPE]  BeanWrapper entityWrapper  idWrapper  [TYPE]  IdentifiableType identifiableType  source  type  [TYPE]  Set attributes  [TYPE]  boolean false  partialIdValueFound  true  [TYPE]  Optional versionAttribute  [TYPE]  T entity  [TYPE]  Class domainClass  idType  superType  type  [TYPE]  Object propertyValue  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata 
[REPLACE]^partialIdValueFound = false;^162^^^^^147^169^[REPLACE] partialIdValueFound = true;^[METHOD] getId [TYPE] ID [PARAMETER] T entity [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  SingularAttribute attribute  [TYPE]  BeanWrapper entityWrapper  idWrapper  [TYPE]  IdentifiableType identifiableType  source  type  [TYPE]  Set attributes  [TYPE]  boolean false  partialIdValueFound  true  [TYPE]  Optional versionAttribute  [TYPE]  T entity  [TYPE]  Class domainClass  idType  superType  type  [TYPE]  Object propertyValue  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata 
[ADD]^partialIdValueFound = true;^161^162^163^^^147^169^[ADD] if  ( propertyValue != null )  { partialIdValueFound = true; }^[METHOD] getId [TYPE] ID [PARAMETER] T entity [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  SingularAttribute attribute  [TYPE]  BeanWrapper entityWrapper  idWrapper  [TYPE]  IdentifiableType identifiableType  source  type  [TYPE]  Set attributes  [TYPE]  boolean false  partialIdValueFound  true  [TYPE]  Optional versionAttribute  [TYPE]  T entity  [TYPE]  Class domainClass  idType  superType  type  [TYPE]  Object propertyValue  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata 
[REPLACE]^Object idPropertyValue = sourceIdValueWrapper.getPropertyValue ( idAttributeName )  ;^159^^^^^147^169^[REPLACE] Object propertyValue = entityWrapper.getPropertyValue ( attribute.getName (  )  ) ;^[METHOD] getId [TYPE] ID [PARAMETER] T entity [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  SingularAttribute attribute  [TYPE]  BeanWrapper entityWrapper  idWrapper  [TYPE]  IdentifiableType identifiableType  source  type  [TYPE]  Set attributes  [TYPE]  boolean false  partialIdValueFound  true  [TYPE]  Optional versionAttribute  [TYPE]  T entity  [TYPE]  Class domainClass  idType  superType  type  [TYPE]  Object propertyValue  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata 
[REPLACE]^SingularAttribute<?, ?> sa  ;^158^^^^^147^169^[REPLACE] for  ( SingularAttribute<? super T, ?> attribute : idMetadata )  {^[METHOD] getId [TYPE] ID [PARAMETER] T entity [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  SingularAttribute attribute  [TYPE]  BeanWrapper entityWrapper  idWrapper  [TYPE]  IdentifiableType identifiableType  source  type  [TYPE]  Set attributes  [TYPE]  boolean false  partialIdValueFound  true  [TYPE]  Optional versionAttribute  [TYPE]  T entity  [TYPE]  Class domainClass  idType  superType  type  [TYPE]  Object propertyValue  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata 
[ADD]^^159^^^^^147^169^[ADD] Object propertyValue = entityWrapper.getPropertyValue ( attribute.getName (  )  ) ;^[METHOD] getId [TYPE] ID [PARAMETER] T entity [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  SingularAttribute attribute  [TYPE]  BeanWrapper entityWrapper  idWrapper  [TYPE]  IdentifiableType identifiableType  source  type  [TYPE]  Set attributes  [TYPE]  boolean false  partialIdValueFound  true  [TYPE]  Optional versionAttribute  [TYPE]  T entity  [TYPE]  Class domainClass  idType  superType  type  [TYPE]  Object propertyValue  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata 
[REPLACE]^return true ?  ( ID )  idWrapper .getPropertyValue (  )   : this;^168^^^^^147^169^[REPLACE] return partialIdValueFound ?  ( ID )  idWrapper.getWrappedInstance (  )  : null;^[METHOD] getId [TYPE] ID [PARAMETER] T entity [CLASS] JpaMetamodelEntityInformation IdMetadata IdentifierDerivingDirectFieldAccessFallbackBeanWrapper   [TYPE]  SingularAttribute attribute  [TYPE]  BeanWrapper entityWrapper  idWrapper  [TYPE]  IdentifiableType identifiableType  source  type  [TYPE]  Set attributes  [TYPE]  boolean false  partialIdValueFound  true  [TYPE]  Optional versionAttribute  [TYPE]  T entity  [TYPE]  Class domainClass  idType  superType  type  [TYPE]  Object propertyValue  [TYPE]  String entityName  [TYPE]  Metamodel metamodel  [TYPE]  IdMetadata idMetadata 
