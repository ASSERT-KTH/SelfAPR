[REPLACE]^private static final String JNDI_OBJECT_FACTORY_BEAN  = null ;^48^^^^^^^[REPLACE] private static final String JNDI_OBJECT_FACTORY_BEAN = "org.springframework.jndi.JndiObjectFactoryBean";^ [CLASS] BeanDefinitionUtils EntityManagerFactoryBeanDefinition  
[REPLACE]^private static  List<Class<?>> EMF_TYPES;^49^^^^^^^[REPLACE] private static final List<Class<?>> EMF_TYPES;^ [CLASS] BeanDefinitionUtils EntityManagerFactoryBeanDefinition  
[REPLACE]^private final  double  beanName;^173^^^^^^^[REPLACE] private final String beanName;^ [CLASS] BeanDefinitionUtils EntityManagerFactoryBeanDefinition  
[REPLACE]^for  ( Class<?> this : EMF_TYPES )  {^98^^^^^94^112^[REPLACE] for  ( Class<?> type : EMF_TYPES )  {^[METHOD] getEntityManagerFactoryBeanDefinitions [TYPE] Collection [PARAMETER] ConfigurableListableBeanFactory beanFactory [CLASS] BeanDefinitionUtils EntityManagerFactoryBeanDefinition   [TYPE]  BeanFactory parentBeanFactory  [TYPE]  List EMF_TYPES  definitions  [TYPE]  Class type  [TYPE]  String JNDI_OBJECT_FACTORY_BEAN  beanName  factoryBeanName  name  [TYPE]  boolean false  true  [TYPE]  ConfigurableListableBeanFactory beanFactory 
[REPLACE]^for  ( String name : beanFactory.getBeanNamesForType ( type, false, false )  )  {^100^^^^^98^103^[REPLACE] for  ( String name : beanFactory.getBeanNamesForType ( type, true, false )  )  {^[METHOD] getEntityManagerFactoryBeanDefinitions [TYPE] Collection [PARAMETER] ConfigurableListableBeanFactory beanFactory [CLASS] BeanDefinitionUtils EntityManagerFactoryBeanDefinition   [TYPE]  BeanFactory parentBeanFactory  [TYPE]  List EMF_TYPES  definitions  [TYPE]  Class type  [TYPE]  String JNDI_OBJECT_FACTORY_BEAN  beanName  factoryBeanName  name  [TYPE]  boolean false  true  [TYPE]  ConfigurableListableBeanFactory beanFactory 
[REPLACE]^String factoryBeanName  ;^100^^^^^98^103^[REPLACE] for  ( String name : beanFactory.getBeanNamesForType ( type, true, false )  )  {^[METHOD] getEntityManagerFactoryBeanDefinitions [TYPE] Collection [PARAMETER] ConfigurableListableBeanFactory beanFactory [CLASS] BeanDefinitionUtils EntityManagerFactoryBeanDefinition   [TYPE]  BeanFactory parentBeanFactory  [TYPE]  List EMF_TYPES  definitions  [TYPE]  Class type  [TYPE]  String JNDI_OBJECT_FACTORY_BEAN  beanName  factoryBeanName  name  [TYPE]  boolean false  true  [TYPE]  ConfigurableListableBeanFactory beanFactory 
[REPLACE]^for  ( String name : beanFactory .getBeanDefinition ( JNDI_OBJECT_FACTORY_BEAN )   )  {^100^^^^^98^103^[REPLACE] for  ( String name : beanFactory.getBeanNamesForType ( type, true, false )  )  {^[METHOD] getEntityManagerFactoryBeanDefinitions [TYPE] Collection [PARAMETER] ConfigurableListableBeanFactory beanFactory [CLASS] BeanDefinitionUtils EntityManagerFactoryBeanDefinition   [TYPE]  BeanFactory parentBeanFactory  [TYPE]  List EMF_TYPES  definitions  [TYPE]  Class type  [TYPE]  String JNDI_OBJECT_FACTORY_BEAN  beanName  factoryBeanName  name  [TYPE]  boolean false  true  [TYPE]  ConfigurableListableBeanFactory beanFactory 
[REPLACE]^BeanFactory parentBeanFactory = beanFactory .getBeanNamesForType ( this , true , false )  ;^105^^^^^94^112^[REPLACE] BeanFactory parentBeanFactory = beanFactory.getParentBeanFactory (  ) ;^[METHOD] getEntityManagerFactoryBeanDefinitions [TYPE] Collection [PARAMETER] ConfigurableListableBeanFactory beanFactory [CLASS] BeanDefinitionUtils EntityManagerFactoryBeanDefinition   [TYPE]  BeanFactory parentBeanFactory  [TYPE]  List EMF_TYPES  definitions  [TYPE]  Class type  [TYPE]  String JNDI_OBJECT_FACTORY_BEAN  beanName  factoryBeanName  name  [TYPE]  boolean false  true  [TYPE]  ConfigurableListableBeanFactory beanFactory 
[REPLACE]^if  ( ! parentBeanFactory instanceof ConfigurableListableBeanFactory )  {^107^^^^^94^112^[REPLACE] if  ( parentBeanFactory instanceof ConfigurableListableBeanFactory )  {^[METHOD] getEntityManagerFactoryBeanDefinitions [TYPE] Collection [PARAMETER] ConfigurableListableBeanFactory beanFactory [CLASS] BeanDefinitionUtils EntityManagerFactoryBeanDefinition   [TYPE]  BeanFactory parentBeanFactory  [TYPE]  List EMF_TYPES  definitions  [TYPE]  Class type  [TYPE]  String JNDI_OBJECT_FACTORY_BEAN  beanName  factoryBeanName  name  [TYPE]  boolean false  true  [TYPE]  ConfigurableListableBeanFactory beanFactory 
[REPLACE]^definitions.add ( getEntityManagerFactoryBeanDefinitions (  ( ConfigurableListableBeanFactory )  parentBeanFactory )  ) ;^108^^^^^94^112^[REPLACE] definitions.addAll ( getEntityManagerFactoryBeanDefinitions (  ( ConfigurableListableBeanFactory )  parentBeanFactory )  ) ;^[METHOD] getEntityManagerFactoryBeanDefinitions [TYPE] Collection [PARAMETER] ConfigurableListableBeanFactory beanFactory [CLASS] BeanDefinitionUtils EntityManagerFactoryBeanDefinition   [TYPE]  BeanFactory parentBeanFactory  [TYPE]  List EMF_TYPES  definitions  [TYPE]  Class type  [TYPE]  String JNDI_OBJECT_FACTORY_BEAN  beanName  factoryBeanName  name  [TYPE]  boolean false  true  [TYPE]  ConfigurableListableBeanFactory beanFactory 
[REPLACE]^definitions.addAll ( getEntityManagerFactoryBeanDefinitions (  (  ( ConfigurableListableBeanFactory )   ( parentBeanFactory )  )  )  )  ;^108^^^^^94^112^[REPLACE] definitions.addAll ( getEntityManagerFactoryBeanDefinitions (  ( ConfigurableListableBeanFactory )  parentBeanFactory )  ) ;^[METHOD] getEntityManagerFactoryBeanDefinitions [TYPE] Collection [PARAMETER] ConfigurableListableBeanFactory beanFactory [CLASS] BeanDefinitionUtils EntityManagerFactoryBeanDefinition   [TYPE]  BeanFactory parentBeanFactory  [TYPE]  List EMF_TYPES  definitions  [TYPE]  Class type  [TYPE]  String JNDI_OBJECT_FACTORY_BEAN  beanName  factoryBeanName  name  [TYPE]  boolean false  true  [TYPE]  ConfigurableListableBeanFactory beanFactory 
[REPLACE]^return null;^111^^^^^94^112^[REPLACE] return definitions;^[METHOD] getEntityManagerFactoryBeanDefinitions [TYPE] Collection [PARAMETER] ConfigurableListableBeanFactory beanFactory [CLASS] BeanDefinitionUtils EntityManagerFactoryBeanDefinition   [TYPE]  BeanFactory parentBeanFactory  [TYPE]  List EMF_TYPES  definitions  [TYPE]  Class type  [TYPE]  String JNDI_OBJECT_FACTORY_BEAN  beanName  factoryBeanName  name  [TYPE]  boolean false  true  [TYPE]  ConfigurableListableBeanFactory beanFactory 
[ADD]^^125^^^^^123^139^[ADD] BeanDefinition definition = beanFactory.getBeanDefinition ( name ) ;^[METHOD] registerEntityManagerFactoryBeanDefinition [TYPE] void [PARAMETER] String name ConfigurableListableBeanFactory beanFactory EntityManagerFactoryBeanDefinition> definitions [CLASS] BeanDefinitionUtils EntityManagerFactoryBeanDefinition   [TYPE]  List EMF_TYPES  definitions  [TYPE]  Class type  [TYPE]  String JNDI_OBJECT_FACTORY_BEAN  beanName  factoryBeanName  name  [TYPE]  boolean false  true  [TYPE]  BeanDefinition definition  [TYPE]  ConfigurableListableBeanFactory beanFactory 
[REPLACE]^if  ( JNDI_OBJECT_FACTORY_BEAN.equals ( definition.transformedBeanNameBeanClassName (  )  )  )  {^127^^^^^123^139^[REPLACE] if  ( JNDI_OBJECT_FACTORY_BEAN.equals ( definition.getBeanClassName (  )  )  )  {^[METHOD] registerEntityManagerFactoryBeanDefinition [TYPE] void [PARAMETER] String name ConfigurableListableBeanFactory beanFactory EntityManagerFactoryBeanDefinition> definitions [CLASS] BeanDefinitionUtils EntityManagerFactoryBeanDefinition   [TYPE]  List EMF_TYPES  definitions  [TYPE]  Class type  [TYPE]  String JNDI_OBJECT_FACTORY_BEAN  beanName  factoryBeanName  name  [TYPE]  boolean false  true  [TYPE]  BeanDefinition definition  [TYPE]  ConfigurableListableBeanFactory beanFactory 
[REPLACE]^if  ( EntityManagerFactory.class.getName (  ) .equals ( definition.getPropertyValues (  ) .get ( "expectedType" )  )  )  {^128^^^^^123^139^[REPLACE] if  ( !EntityManagerFactory.class.getName (  ) .equals ( definition.getPropertyValues (  ) .get ( "expectedType" )  )  )  {^[METHOD] registerEntityManagerFactoryBeanDefinition [TYPE] void [PARAMETER] String name ConfigurableListableBeanFactory beanFactory EntityManagerFactoryBeanDefinition> definitions [CLASS] BeanDefinitionUtils EntityManagerFactoryBeanDefinition   [TYPE]  List EMF_TYPES  definitions  [TYPE]  Class type  [TYPE]  String JNDI_OBJECT_FACTORY_BEAN  beanName  factoryBeanName  name  [TYPE]  boolean false  true  [TYPE]  BeanDefinition definition  [TYPE]  ConfigurableListableBeanFactory beanFactory 
[REPLACE]^Class<?> type = beanFactory.getBeanDefinition ( name ) ;^133^^^^^123^139^[REPLACE] Class<?> type = beanFactory.getType ( name ) ;^[METHOD] registerEntityManagerFactoryBeanDefinition [TYPE] void [PARAMETER] String name ConfigurableListableBeanFactory beanFactory EntityManagerFactoryBeanDefinition> definitions [CLASS] BeanDefinitionUtils EntityManagerFactoryBeanDefinition   [TYPE]  List EMF_TYPES  definitions  [TYPE]  Class type  [TYPE]  String JNDI_OBJECT_FACTORY_BEAN  beanName  factoryBeanName  name  [TYPE]  boolean false  true  [TYPE]  BeanDefinition definition  [TYPE]  ConfigurableListableBeanFactory beanFactory 
[REPLACE]^if  (  !EntityManagerFactory.class.isAssignableFrom ( type )  )  {^134^^^^^123^139^[REPLACE] if  ( type == null || !EntityManagerFactory.class.isAssignableFrom ( type )  )  {^[METHOD] registerEntityManagerFactoryBeanDefinition [TYPE] void [PARAMETER] String name ConfigurableListableBeanFactory beanFactory EntityManagerFactoryBeanDefinition> definitions [CLASS] BeanDefinitionUtils EntityManagerFactoryBeanDefinition   [TYPE]  List EMF_TYPES  definitions  [TYPE]  Class type  [TYPE]  String JNDI_OBJECT_FACTORY_BEAN  beanName  factoryBeanName  name  [TYPE]  boolean false  true  [TYPE]  BeanDefinition definition  [TYPE]  ConfigurableListableBeanFactory beanFactory 
[REPLACE]^definitions.addAll ( new EntityManagerFactoryBeanDefinition ( name, beanFactory )  ) ;^138^^^^^123^139^[REPLACE] definitions.add ( new EntityManagerFactoryBeanDefinition ( name, beanFactory )  ) ;^[METHOD] registerEntityManagerFactoryBeanDefinition [TYPE] void [PARAMETER] String name ConfigurableListableBeanFactory beanFactory EntityManagerFactoryBeanDefinition> definitions [CLASS] BeanDefinitionUtils EntityManagerFactoryBeanDefinition   [TYPE]  List EMF_TYPES  definitions  [TYPE]  Class type  [TYPE]  String JNDI_OBJECT_FACTORY_BEAN  beanName  factoryBeanName  name  [TYPE]  boolean false  true  [TYPE]  BeanDefinition definition  [TYPE]  ConfigurableListableBeanFactory beanFactory 
[REPLACE]^private final  short  beanName;^173^^^^^^^[REPLACE] private final String beanName;^[METHOD] getBeanDefinition [TYPE] BeanDefinition [PARAMETER] [CLASS] EntityManagerFactoryBeanDefinition   [TYPE]  List EMF_TYPES  definitions  [TYPE]  String JNDI_OBJECT_FACTORY_BEAN  beanName  factoryBeanName  name  [TYPE]  boolean false  true  [TYPE]  ConfigurableListableBeanFactory beanFactory 
[REPLACE]^private  Object beanFactory;^174^^^^^^^[REPLACE] private final ConfigurableListableBeanFactory beanFactory;^[METHOD] getBeanDefinition [TYPE] BeanDefinition [PARAMETER] [CLASS] EntityManagerFactoryBeanDefinition   [TYPE]  List EMF_TYPES  definitions  [TYPE]  String JNDI_OBJECT_FACTORY_BEAN  beanName  factoryBeanName  name  [TYPE]  boolean false  true  [TYPE]  ConfigurableListableBeanFactory beanFactory 
