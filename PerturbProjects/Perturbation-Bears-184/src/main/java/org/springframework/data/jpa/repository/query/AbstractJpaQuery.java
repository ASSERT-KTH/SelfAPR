[REPLACE]^private final Object method;^65^^^^^^^[REPLACE] private final JpaQueryMethod method;^ [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap  
[REPLACE]^private final Object em;^66^^^^^^^[REPLACE] private final EntityManager em;^ [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap  
[REPLACE]^private  JpaMetamodel metamodel;^67^^^^^^^[REPLACE] private final JpaMetamodel metamodel;^ [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap  
[REPLACE]^Lazy<ParameterBinder> parameterBinder ;^69^^^^^^^[REPLACE] Lazy<ParameterBinder> parameterBinder = new Lazy<> ( this::createBinder ) ;^ [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap  
[REPLACE]^private  ReturnedType type;^255^^^^^^^[REPLACE] private final ReturnedType type;^ [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap  
[REPLACE]^private  Tuple tuple;^304^^^^^^^[REPLACE] private final Tuple tuple;^ [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap  
[REPLACE]^if  ( method.isStreamQuery (   )  || method.isModifyingQuery (  )  )  )  {^142^^^^^140^157^[REPLACE] if  ( method.isStreamQuery (  )  )  {^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[ADD]^^142^143^144^145^^140^157^[ADD] if  ( method.isStreamQuery (  )  )  { return new StreamExecution (  ) ; } else if  ( method.isProcedureQuery (  )  )  { return new ProcedureExecution (  ) ;^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^} else if  ( method.isProcedureQuery (   )  || method.isModifyingQuery (  )  )  )  {^144^^^^^140^157^[REPLACE] } else if  ( method.isProcedureQuery (  )  )  {^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^}  else {^146^^^^^140^157^[REPLACE] } else if  ( method.isCollectionQuery (  )  )  {^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[ADD]^}   return new SlicedExecution ( method.getParameters (  )  ) ;^146^147^148^149^^140^157^[ADD] else if  ( method.isCollectionQuery (  )  )  { return new CollectionExecution (  ) ; } else if  ( method.isSliceQuery (  )  )  { return new SlicedExecution ( method.getParameters (  )  ) ;^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^}  if  ( method.isPageQuery (  )  )  {^148^^^^^140^157^[REPLACE] } else if  ( method.isSliceQuery (  )  )  {^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^}  else {^150^^^^^140^157^[REPLACE] } else if  ( method.isPageQuery (  )  )  {^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[ADD]^}   return new PagedExecution ( method.getParameters (  )  ) ;return new ModifyingExecution ( method, em ) ;^150^151^152^153^^140^157^[ADD] else if  ( method.isPageQuery (  )  )  { return new PagedExecution ( method.getParameters (  )  ) ; } else if  ( method.isModifyingQuery (  )  )  { return new ModifyingExecution ( method, em ) ;^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^}  else {^152^^^^^140^157^[REPLACE] } else if  ( method.isModifyingQuery (  )  )  {^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^return  new CollectionExecution (  )  ;^155^^^^^152^156^[REPLACE] return new SingleEntityExecution (  ) ;^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^return new CollectionExecution (  )  ;^153^^^^^140^157^[REPLACE] return new ModifyingExecution ( method, em ) ;^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^return  new CollectionExecution (  )  ;^155^^^^^140^157^[REPLACE] return new SingleEntityExecution (  ) ;^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^return new PagedExecution ( method.getHints (  )  ) ;^151^^^^^140^157^[REPLACE] return new PagedExecution ( method.getParameters (  )  ) ;^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^} else if  ( method.isCollectionQuery (  )  )  {^152^^^^^140^157^[REPLACE] } else if  ( method.isModifyingQuery (  )  )  {^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^return new SlicedExecution ( method.getParameters (  )  )  ;^151^^^^^140^157^[REPLACE] return new PagedExecution ( method.getParameters (  )  ) ;^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^return new SlicedExecution ( method .getLockModeType (  )   ) ;^149^^^^^140^157^[REPLACE] return new SlicedExecution ( method.getParameters (  )  ) ;^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[ADD]^}   return new ModifyingExecution ( method, em ) ;^150^151^152^153^^140^157^[ADD] else if  ( method.isPageQuery (  )  )  { return new PagedExecution ( method.getParameters (  )  ) ; } else if  ( method.isModifyingQuery (  )  )  { return new ModifyingExecution ( method, em ) ;^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^return new CollectionExecution (  )  ;^155^^^^^140^157^[REPLACE] return new SingleEntityExecution (  ) ;^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^} else if  ( method.isCollectionQuery (   )  || method.isStreamQuery (  )  )  )  {^152^^^^^140^157^[REPLACE] } else if  ( method.isModifyingQuery (  )  )  {^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^return new SlicedExecution ( method.getHints (  )  ) ;^149^^^^^140^157^[REPLACE] return new SlicedExecution ( method.getParameters (  )  ) ;^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^return new SingleEntityExecution (  )  ;^147^^^^^140^157^[REPLACE] return new CollectionExecution (  ) ;^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^}  else {^148^^^^^140^157^[REPLACE] } else if  ( method.isSliceQuery (  )  )  {^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[ADD]^}   return new SlicedExecution ( method.getParameters (  )  ) ;return new PagedExecution ( method.getParameters (  )  ) ;^148^149^150^151^^140^157^[ADD] else if  ( method.isSliceQuery (  )  )  { return new SlicedExecution ( method.getParameters (  )  ) ; } else if  ( method.isPageQuery (  )  )  { return new PagedExecution ( method.getParameters (  )  ) ;^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REMOVE]^if  ( method.isPageQuery (  )  )  {     return new PagedExecution ( method.getParameters (  )  ) ; }else     if  ( method.isModifyingQuery (  )  )  {         return new ModifyingExecution ( method, em ) ;     }else {         return new SingleEntityExecution (  ) ;     }^152^^^^^140^157^[REMOVE] ^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^}  if  ( method.isPageQuery (  )  )  {^150^^^^^140^157^[REPLACE] } else if  ( method.isPageQuery (  )  )  {^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^return new PagedExecution ( method .getLockModeType (  )   ) ;^151^^^^^140^157^[REPLACE] return new PagedExecution ( method.getParameters (  )  ) ;^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^return  new SingleEntityExecution (  )  ;^147^^^^^140^157^[REPLACE] return new CollectionExecution (  ) ;^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^return  new StreamExecution (  )  ;^145^^^^^140^157^[REPLACE] return new ProcedureExecution (  ) ;^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REMOVE]^if  ( method.isProcedureQuery (  )  )  {     return new ProcedureExecution (  ) ; }else     if  ( method.isCollectionQuery (  )  )  {         return new CollectionExecution (  ) ;     }else         if  ( method.isSliceQuery (  )  )  {             return new SlicedExecution ( method.getParameters (  )  ) ;         }else             if  ( method.isPageQuery (  )  )  {                 return new PagedExecution ( method.getParameters (  )  ) ;             }else                 if  ( method.isModifyingQuery (  )  )  {                     return new ModifyingExecution ( method, em ) ;                 }else {                     return new SingleEntityExecution (  ) ;                 }^146^^^^^140^157^[REMOVE] ^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^} else if  ( method.isSliceQuery (   )  && method.isModifyingQuery (  )  )  )  {^148^^^^^140^157^[REPLACE] } else if  ( method.isSliceQuery (  )  )  {^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REMOVE]^if  ( method.isCollectionQuery (  )  )  {     return new CollectionExecution (  ) ; }else     if  ( method.isSliceQuery (  )  )  {         return new SlicedExecution ( method.getParameters (  )  ) ;     }else         if  ( method.isPageQuery (  )  )  {             return new PagedExecution ( method.getParameters (  )  ) ;         }else             if  ( method.isModifyingQuery (  )  )  {                 return new ModifyingExecution ( method, em ) ;             }else {                 return new SingleEntityExecution (  ) ;             }^148^^^^^140^157^[REMOVE] ^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^}  if  ( method.isCollectionQuery (   )  && method.isStreamQuery (  )  )  )  {^152^^^^^140^157^[REPLACE] } else if  ( method.isModifyingQuery (  )  )  {^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^return new CollectionExecution (  )  ;^155^^^^^152^156^[REPLACE] return new SingleEntityExecution (  ) ;^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[ADD]^}   return new ModifyingExecution ( method, em ) ;return new SingleEntityExecution (  ) ;^152^153^154^155^156^140^157^[ADD] else if  ( method.isModifyingQuery (  )  )  { return new ModifyingExecution ( method, em ) ; } else { return new SingleEntityExecution (  ) ; }^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^}  if  ( method.isSliceQuery (   )  || method.isModifyingQuery (  )  )  )  {^148^^^^^140^157^[REPLACE] } else if  ( method.isSliceQuery (  )  )  {^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^} else if  ( method.isModifyingQuery (  )  && ( method.isSliceQuery (  )  )  {^150^^^^^140^157^[REPLACE] } else if  ( method.isPageQuery (  )  )  {^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^}  if  ( method.isCollectionQuery (  )  )  {^152^^^^^140^157^[REPLACE] } else if  ( method.isModifyingQuery (  )  )  {^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[ADD]^}   return new SingleEntityExecution (  ) ;^152^153^154^155^156^140^157^[ADD] else if  ( method.isModifyingQuery (  )  )  { return new ModifyingExecution ( method, em ) ; } else { return new SingleEntityExecution (  ) ; }^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^return  new ProcedureExecution (  )  ;^143^^^^^140^157^[REPLACE] return new StreamExecution (  ) ;^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[ADD]^}   return new CollectionExecution (  ) ;^144^145^146^147^^140^157^[ADD] else if  ( method.isProcedureQuery (  )  )  { return new ProcedureExecution (  ) ; } else if  ( method.isCollectionQuery (  )  )  { return new CollectionExecution (  ) ;^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^}  if  ( method.isSliceQuery (   )  && method.isStreamQuery (  )  )  )  {^146^^^^^140^157^[REPLACE] } else if  ( method.isCollectionQuery (  )  )  {^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^}  if  ( method .isPageQuery (   )  || method.isModifyingQuery (  )  )   )  {^148^^^^^140^157^[REPLACE] } else if  ( method.isSliceQuery (  )  )  {^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^}  if  ( method.isModifyingQuery (  )  || ( method.isPageQuery (  )  )  {^150^^^^^140^157^[REPLACE] } else if  ( method.isPageQuery (  )  )  {^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^}  if  ( method.isCollectionQuery (   )  || method.isStreamQuery (  )  )  )  {^152^^^^^140^157^[REPLACE] } else if  ( method.isModifyingQuery (  )  )  {^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^return new PagedExecution ( method.getParameters (  )  )  ;^149^^^^^140^157^[REPLACE] return new SlicedExecution ( method.getParameters (  )  ) ;^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[ADD]^}   return new PagedExecution ( method.getParameters (  )  ) ;^148^149^150^151^^140^157^[ADD] else if  ( method.isSliceQuery (  )  )  { return new SlicedExecution ( method.getParameters (  )  ) ; } else if  ( method.isPageQuery (  )  )  { return new PagedExecution ( method.getParameters (  )  ) ;^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^}  if  ( method .isSliceQuery (   )  && method.isModifyingQuery (  )  )   )  {^150^^^^^140^157^[REPLACE] } else if  ( method.isPageQuery (  )  )  {^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REMOVE]^if  ( method.isSliceQuery (  )  )  {     return new SlicedExecution ( method.getParameters (  )  ) ; }else     if  ( method.isPageQuery (  )  )  {         return new PagedExecution ( method.getParameters (  )  ) ;     }else         if  ( method.isModifyingQuery (  )  )  {             return new ModifyingExecution ( method, em ) ;         }else {             return new SingleEntityExecution (  ) ;         }^150^^^^^140^157^[REMOVE] ^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^} else if  ( method.isModifyingQuery (  )  || ( method.isPageQuery (  )  )  {^150^^^^^140^157^[REPLACE] } else if  ( method.isPageQuery (  )  )  {^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^} else if  ( method.isSliceQuery (   )  || method.isModifyingQuery (  )  )  )  {^148^^^^^140^157^[REPLACE] } else if  ( method.isSliceQuery (  )  )  {^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^return new StreamExecution (  )  ;^145^^^^^140^157^[REPLACE] return new ProcedureExecution (  ) ;^[METHOD] getExecution [TYPE] JpaQueryExecution [PARAMETER] [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^if  ( ! ! (JpaMetamodel instanceof Tuple )  )  {^276^^^^^274^293^[REPLACE] if  ( ! ( source instanceof Tuple )  )  {^[METHOD] convert [TYPE] Object [PARAMETER] Object source [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  Object source  value  [TYPE]  List elements  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^return value;^277^^^^^274^293^[REPLACE] return source;^[METHOD] convert [TYPE] Object [PARAMETER] Object source [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  Object source  value  [TYPE]  List elements  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[ADD]^^280^281^^^^274^293^[ADD] Tuple tuple =  ( Tuple )  source; List<TupleElement<?>> elements = tuple.getElements (  ) ;^[METHOD] convert [TYPE] Object [PARAMETER] Object source [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  Object source  value  [TYPE]  List elements  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[ADD]^^281^^^^^274^293^[ADD] List<TupleElement<?>> elements = tuple.getElements (  ) ;^[METHOD] convert [TYPE] Object [PARAMETER] Object source [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  Object source  value  [TYPE]  List elements  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^if  ( elements.size (  )  + 0  == 0  )  {^283^^^^^274^293^[REPLACE] if  ( elements.size (  )  == 1 )  {^[METHOD] convert [TYPE] Object [PARAMETER] Object source [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  Object source  value  [TYPE]  List elements  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^if  ( type.isInstance ( value )  || value != null )  {^287^^^^^274^293^[REPLACE] if  ( type.isInstance ( value )  || value == null )  {^[METHOD] convert [TYPE] Object [PARAMETER] Object source [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  Object source  value  [TYPE]  List elements  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[ADD]^return value;^287^288^289^^^274^293^[ADD] if  ( type.isInstance ( value )  || value == null )  { return value; }^[METHOD] convert [TYPE] Object [PARAMETER] Object source [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  Object source  value  [TYPE]  List elements  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^return source;^288^^^^^274^293^[REPLACE] return value;^[METHOD] convert [TYPE] Object [PARAMETER] Object source [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  Object source  value  [TYPE]  List elements  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^Object value = tuple.get ( null.get ( 2 )  ) ;^285^^^^^274^293^[REPLACE] Object value = tuple.get ( elements.get ( 0 )  ) ;^[METHOD] convert [TYPE] Object [PARAMETER] Object source [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  Object source  value  [TYPE]  List elements  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^if  ( type.isInstance ( value )  ) {^287^^^^^274^293^[REPLACE] if  ( type.isInstance ( value )  || value == null )  {^[METHOD] convert [TYPE] Object [PARAMETER] Object source [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  Object source  value  [TYPE]  List elements  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^Object value = tuple.get ( elements.get ( 1 )  ) ;^285^^^^^274^293^[REPLACE] Object value = tuple.get ( elements.get ( 0 )  ) ;^[METHOD] convert [TYPE] Object [PARAMETER] Object source [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  Object source  value  [TYPE]  List elements  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
[REPLACE]^return  new TupleConverter ( withDynamicProjection.getReturnedType (  )  )  ;^292^^^^^274^293^[REPLACE] return new TupleBackedMap ( tuple ) ;^[METHOD] convert [TYPE] Object [PARAMETER] Object source [CLASS] AbstractJpaQuery TupleConverter TupleBackedMap   [TYPE]  JpaQueryMethod method  [TYPE]  Lazy parameterBinder  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  Object source  value  [TYPE]  List elements  [TYPE]  ReturnedType type  [TYPE]  JpaMetamodel metamodel  [TYPE]  Tuple tuple 
