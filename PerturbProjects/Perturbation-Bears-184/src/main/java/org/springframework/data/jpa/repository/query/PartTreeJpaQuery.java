[REPLACE]^private final Object tree;^50^^^^^^^[REPLACE] private final PartTree tree;^ [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer  
[REPLACE]^private  JpaParameters parameters;^51^^^^^^^[REPLACE] private final JpaParameters parameters;^ [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer  
[REPLACE]^private  QueryPreparer countQuery;^54^^^^^^^[REPLACE] private final QueryPreparer countQuery;^ [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer  
[REPLACE]^private  EntityManager em;^55^^^^^^^[REPLACE] private final EntityManager em;^ [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer  
[REPLACE]^private final @Object CriteriaQuery<?> cachedCriteriaQuery;^129^^^^^^^[REPLACE] private final @Nullable CriteriaQuery<?> cachedCriteriaQuery;^ [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer  
[REPLACE]^private  @Nullable ParameterBinder cachedParameterBinder;^130^^^^^^^[REPLACE] private final @Nullable ParameterBinder cachedParameterBinder;^ [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer  
[REPLACE]^private final @Object List<ParameterMetadata<?>> expressions;^131^^^^^^^[REPLACE] private final @Nullable List<ParameterMetadata<?>> expressions;^ [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer  
[REPLACE]^this.em =  null;^68^^^^^64^84^[REPLACE] this.em = em;^[METHOD] <init> [TYPE] PersistenceProvider) [PARAMETER] JpaQueryMethod method EntityManager em PersistenceProvider persistenceProvider [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer   [TYPE]  JpaQueryMethod method  [TYPE]  QueryPreparer countQuery  query  [TYPE]  EntityManager em  [TYPE]  boolean false  recreationRequired  true  [TYPE]  ParameterBinder cachedParameterBinder  [TYPE]  PersistenceProvider persistenceProvider  [TYPE]  CriteriaQuery cachedCriteriaQuery  [TYPE]  List expressions  [TYPE]  Class domainClass  [TYPE]  PartTree tree  [TYPE]  JpaParameters parameters  [TYPE]  Exception o_O 
[REPLACE]^Class<?> domainClass = method.getEntityInformation (  ) .createQuery (  ) ;^69^^^^^64^84^[REPLACE] Class<?> domainClass = method.getEntityInformation (  ) .getJavaType (  ) ;^[METHOD] <init> [TYPE] PersistenceProvider) [PARAMETER] JpaQueryMethod method EntityManager em PersistenceProvider persistenceProvider [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer   [TYPE]  JpaQueryMethod method  [TYPE]  QueryPreparer countQuery  query  [TYPE]  EntityManager em  [TYPE]  boolean false  recreationRequired  true  [TYPE]  ParameterBinder cachedParameterBinder  [TYPE]  PersistenceProvider persistenceProvider  [TYPE]  CriteriaQuery cachedCriteriaQuery  [TYPE]  List expressions  [TYPE]  Class domainClass  [TYPE]  PartTree tree  [TYPE]  JpaParameters parameters  [TYPE]  Exception o_O 
[REPLACE]^this.parameters =  null.getParameters (  ) ;^70^^^^^64^84^[REPLACE] this.parameters = method.getParameters (  ) ;^[METHOD] <init> [TYPE] PersistenceProvider) [PARAMETER] JpaQueryMethod method EntityManager em PersistenceProvider persistenceProvider [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer   [TYPE]  JpaQueryMethod method  [TYPE]  QueryPreparer countQuery  query  [TYPE]  EntityManager em  [TYPE]  boolean false  recreationRequired  true  [TYPE]  ParameterBinder cachedParameterBinder  [TYPE]  PersistenceProvider persistenceProvider  [TYPE]  CriteriaQuery cachedCriteriaQuery  [TYPE]  List expressions  [TYPE]  Class domainClass  [TYPE]  PartTree tree  [TYPE]  JpaParameters parameters  [TYPE]  Exception o_O 
[REPLACE]^boolean recreationRequired = parameters.hasDynamicProjection (  )  && parameters.potentiallySortsDynamically (  ) ;^72^^^^^64^84^[REPLACE] boolean recreationRequired = parameters.hasDynamicProjection (  )  || parameters.potentiallySortsDynamically (  ) ;^[METHOD] <init> [TYPE] PersistenceProvider) [PARAMETER] JpaQueryMethod method EntityManager em PersistenceProvider persistenceProvider [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer   [TYPE]  JpaQueryMethod method  [TYPE]  QueryPreparer countQuery  query  [TYPE]  EntityManager em  [TYPE]  boolean false  recreationRequired  true  [TYPE]  ParameterBinder cachedParameterBinder  [TYPE]  PersistenceProvider persistenceProvider  [TYPE]  CriteriaQuery cachedCriteriaQuery  [TYPE]  List expressions  [TYPE]  Class domainClass  [TYPE]  PartTree tree  [TYPE]  JpaParameters parameters  [TYPE]  Exception o_O 
[ADD]^this.tree = new PartTree ( method.getName (  ) , domainClass ) ;this.countQuery = new CountQueryPreparer ( persistenceProvider, recreationRequired ) ;this.query = tree.isCountProjection (  )  ? countQuery : new QueryPreparer ( persistenceProvider, recreationRequired ) ;^74^75^76^77^78^64^84^[ADD] try {  this.tree = new PartTree ( method.getName (  ) , domainClass ) ; this.countQuery = new CountQueryPreparer ( persistenceProvider, recreationRequired ) ; this.query = tree.isCountProjection (  )  ? countQuery : new QueryPreparer ( persistenceProvider, recreationRequired ) ;^[METHOD] <init> [TYPE] PersistenceProvider) [PARAMETER] JpaQueryMethod method EntityManager em PersistenceProvider persistenceProvider [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer   [TYPE]  JpaQueryMethod method  [TYPE]  QueryPreparer countQuery  query  [TYPE]  EntityManager em  [TYPE]  boolean false  recreationRequired  true  [TYPE]  ParameterBinder cachedParameterBinder  [TYPE]  PersistenceProvider persistenceProvider  [TYPE]  CriteriaQuery cachedCriteriaQuery  [TYPE]  List expressions  [TYPE]  Class domainClass  [TYPE]  PartTree tree  [TYPE]  JpaParameters parameters  [TYPE]  Exception o_O 
[ADD]^^76^^^^^64^84^[ADD] this.tree = new PartTree ( method.getName (  ) , domainClass ) ;^[METHOD] <init> [TYPE] PersistenceProvider) [PARAMETER] JpaQueryMethod method EntityManager em PersistenceProvider persistenceProvider [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer   [TYPE]  JpaQueryMethod method  [TYPE]  QueryPreparer countQuery  query  [TYPE]  EntityManager em  [TYPE]  boolean false  recreationRequired  true  [TYPE]  ParameterBinder cachedParameterBinder  [TYPE]  PersistenceProvider persistenceProvider  [TYPE]  CriteriaQuery cachedCriteriaQuery  [TYPE]  List expressions  [TYPE]  Class domainClass  [TYPE]  PartTree tree  [TYPE]  JpaParameters parameters  [TYPE]  Exception o_O 
[ADD]^^77^^^^^64^84^[ADD] this.countQuery = new CountQueryPreparer ( persistenceProvider, recreationRequired ) ;^[METHOD] <init> [TYPE] PersistenceProvider) [PARAMETER] JpaQueryMethod method EntityManager em PersistenceProvider persistenceProvider [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer   [TYPE]  JpaQueryMethod method  [TYPE]  QueryPreparer countQuery  query  [TYPE]  EntityManager em  [TYPE]  boolean false  recreationRequired  true  [TYPE]  ParameterBinder cachedParameterBinder  [TYPE]  PersistenceProvider persistenceProvider  [TYPE]  CriteriaQuery cachedCriteriaQuery  [TYPE]  List expressions  [TYPE]  Class domainClass  [TYPE]  PartTree tree  [TYPE]  JpaParameters parameters  [TYPE]  Exception o_O 
[REPLACE]^this.countQuery = new CountQueryPreparer ( persistenceProvider, recreationRequired )  ;^78^^^^^64^84^[REPLACE] this.query = tree.isCountProjection (  )  ? countQuery : new QueryPreparer ( persistenceProvider, recreationRequired ) ;^[METHOD] <init> [TYPE] PersistenceProvider) [PARAMETER] JpaQueryMethod method EntityManager em PersistenceProvider persistenceProvider [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer   [TYPE]  JpaQueryMethod method  [TYPE]  QueryPreparer countQuery  query  [TYPE]  EntityManager em  [TYPE]  boolean false  recreationRequired  true  [TYPE]  ParameterBinder cachedParameterBinder  [TYPE]  PersistenceProvider persistenceProvider  [TYPE]  CriteriaQuery cachedCriteriaQuery  [TYPE]  List expressions  [TYPE]  Class domainClass  [TYPE]  PartTree tree  [TYPE]  JpaParameters parameters  [TYPE]  Exception o_O 
[REPLACE]^this.tree =  new PartTree ( null.getName (  ) , domainClass ) ;^76^^^^^64^84^[REPLACE] this.tree = new PartTree ( method.getName (  ) , domainClass ) ;^[METHOD] <init> [TYPE] PersistenceProvider) [PARAMETER] JpaQueryMethod method EntityManager em PersistenceProvider persistenceProvider [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer   [TYPE]  JpaQueryMethod method  [TYPE]  QueryPreparer countQuery  query  [TYPE]  EntityManager em  [TYPE]  boolean false  recreationRequired  true  [TYPE]  ParameterBinder cachedParameterBinder  [TYPE]  PersistenceProvider persistenceProvider  [TYPE]  CriteriaQuery cachedCriteriaQuery  [TYPE]  List expressions  [TYPE]  Class domainClass  [TYPE]  PartTree tree  [TYPE]  JpaParameters parameters  [TYPE]  Exception o_O 
[REPLACE]^this.query =  ( tree.isCountProjection (  )  )  ? countQuery : new QueryPreparer ( persistenceProvider, recreationRequired )  ;^77^^^^^64^84^[REPLACE] this.countQuery = new CountQueryPreparer ( persistenceProvider, recreationRequired ) ;^[METHOD] <init> [TYPE] PersistenceProvider) [PARAMETER] JpaQueryMethod method EntityManager em PersistenceProvider persistenceProvider [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer   [TYPE]  JpaQueryMethod method  [TYPE]  QueryPreparer countQuery  query  [TYPE]  EntityManager em  [TYPE]  boolean false  recreationRequired  true  [TYPE]  ParameterBinder cachedParameterBinder  [TYPE]  PersistenceProvider persistenceProvider  [TYPE]  CriteriaQuery cachedCriteriaQuery  [TYPE]  List expressions  [TYPE]  Class domainClass  [TYPE]  PartTree tree  [TYPE]  JpaParameters parameters  [TYPE]  Exception o_O 
[REPLACE]^return ;^81^82^^^^64^84^[REPLACE] throw new IllegalArgumentException ( String.format ( "Failed to create query for method %s! %s", method, o_O.getMessage (  )  ) , o_O ) ;^[METHOD] <init> [TYPE] PersistenceProvider) [PARAMETER] JpaQueryMethod method EntityManager em PersistenceProvider persistenceProvider [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer   [TYPE]  JpaQueryMethod method  [TYPE]  QueryPreparer countQuery  query  [TYPE]  EntityManager em  [TYPE]  boolean false  recreationRequired  true  [TYPE]  ParameterBinder cachedParameterBinder  [TYPE]  PersistenceProvider persistenceProvider  [TYPE]  CriteriaQuery cachedCriteriaQuery  [TYPE]  List expressions  [TYPE]  Class domainClass  [TYPE]  PartTree tree  [TYPE]  JpaParameters parameters  [TYPE]  Exception o_O 
[REPLACE]^if  (  accessor.hasBindableNullValue (  )  )  {^160^^^^^154^172^[REPLACE] if  ( cachedCriteriaQuery == null || accessor.hasBindableNullValue (  )  )  {^[METHOD] createQuery [TYPE] Query [PARAMETER] Object[] values [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer   [TYPE]  QueryPreparer countQuery  query  [TYPE]  EntityManager em  [TYPE]  JpaQueryCreator creator  [TYPE]  boolean false  true  [TYPE]  ParameterBinder cachedParameterBinder  parameterBinder  [TYPE]  ParametersParameterAccessor accessor  [TYPE]  PersistenceProvider persistenceProvider  [TYPE]  CriteriaQuery cachedCriteriaQuery  criteriaQuery  [TYPE]  List expressions  [TYPE]  PartTree tree  [TYPE]  JpaParameters parameters  [TYPE]  Object[] values 
[ADD]^^162^^^^^154^172^[ADD] criteriaQuery = creator.createQuery ( getDynamicSort ( values )  ) ;^[METHOD] createQuery [TYPE] Query [PARAMETER] Object[] values [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer   [TYPE]  QueryPreparer countQuery  query  [TYPE]  EntityManager em  [TYPE]  JpaQueryCreator creator  [TYPE]  boolean false  true  [TYPE]  ParameterBinder cachedParameterBinder  parameterBinder  [TYPE]  ParametersParameterAccessor accessor  [TYPE]  PersistenceProvider persistenceProvider  [TYPE]  CriteriaQuery cachedCriteriaQuery  criteriaQuery  [TYPE]  List expressions  [TYPE]  PartTree tree  [TYPE]  JpaParameters parameters  [TYPE]  Object[] values 
[REPLACE]^this.cachedParameterBinder = getBinder ( expressions )  ;^164^^^^^154^172^[REPLACE] parameterBinder = getBinder ( expressions ) ;^[METHOD] createQuery [TYPE] Query [PARAMETER] Object[] values [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer   [TYPE]  QueryPreparer countQuery  query  [TYPE]  EntityManager em  [TYPE]  JpaQueryCreator creator  [TYPE]  boolean false  true  [TYPE]  ParameterBinder cachedParameterBinder  parameterBinder  [TYPE]  ParametersParameterAccessor accessor  [TYPE]  PersistenceProvider persistenceProvider  [TYPE]  CriteriaQuery cachedCriteriaQuery  criteriaQuery  [TYPE]  List expressions  [TYPE]  PartTree tree  [TYPE]  JpaParameters parameters  [TYPE]  Object[] values 
[ADD]^^161^^^^^154^172^[ADD] JpaQueryCreator creator = createCreator ( persistenceProvider, Optional.of ( accessor )  ) ;^[METHOD] createQuery [TYPE] Query [PARAMETER] Object[] values [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer   [TYPE]  QueryPreparer countQuery  query  [TYPE]  EntityManager em  [TYPE]  JpaQueryCreator creator  [TYPE]  boolean false  true  [TYPE]  ParameterBinder cachedParameterBinder  parameterBinder  [TYPE]  ParametersParameterAccessor accessor  [TYPE]  PersistenceProvider persistenceProvider  [TYPE]  CriteriaQuery cachedCriteriaQuery  criteriaQuery  [TYPE]  List expressions  [TYPE]  PartTree tree  [TYPE]  JpaParameters parameters  [TYPE]  Object[] values 
[REPLACE]^List<ParameterMetadata<?>> expressions = creator.createQuery (  ) ;^163^^^^^154^172^[REPLACE] List<ParameterMetadata<?>> expressions = creator.getParameterExpressions (  ) ;^[METHOD] createQuery [TYPE] Query [PARAMETER] Object[] values [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer   [TYPE]  QueryPreparer countQuery  query  [TYPE]  EntityManager em  [TYPE]  JpaQueryCreator creator  [TYPE]  boolean false  true  [TYPE]  ParameterBinder cachedParameterBinder  parameterBinder  [TYPE]  ParametersParameterAccessor accessor  [TYPE]  PersistenceProvider persistenceProvider  [TYPE]  CriteriaQuery cachedCriteriaQuery  criteriaQuery  [TYPE]  List expressions  [TYPE]  PartTree tree  [TYPE]  JpaParameters parameters  [TYPE]  Object[] values 
[REPLACE]^criteriaQuery =  null.createQuery ( getDynamicSort ( values )  ) ;^162^^^^^154^172^[REPLACE] criteriaQuery = creator.createQuery ( getDynamicSort ( values )  ) ;^[METHOD] createQuery [TYPE] Query [PARAMETER] Object[] values [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer   [TYPE]  QueryPreparer countQuery  query  [TYPE]  EntityManager em  [TYPE]  JpaQueryCreator creator  [TYPE]  boolean false  true  [TYPE]  ParameterBinder cachedParameterBinder  parameterBinder  [TYPE]  ParametersParameterAccessor accessor  [TYPE]  PersistenceProvider persistenceProvider  [TYPE]  CriteriaQuery cachedCriteriaQuery  criteriaQuery  [TYPE]  List expressions  [TYPE]  PartTree tree  [TYPE]  JpaParameters parameters  [TYPE]  Object[] values 
[REPLACE]^List<ParameterMetadata<?>> expressions = creator .createQuery ( values )  ;^163^^^^^154^172^[REPLACE] List<ParameterMetadata<?>> expressions = creator.getParameterExpressions (  ) ;^[METHOD] createQuery [TYPE] Query [PARAMETER] Object[] values [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer   [TYPE]  QueryPreparer countQuery  query  [TYPE]  EntityManager em  [TYPE]  JpaQueryCreator creator  [TYPE]  boolean false  true  [TYPE]  ParameterBinder cachedParameterBinder  parameterBinder  [TYPE]  ParametersParameterAccessor accessor  [TYPE]  PersistenceProvider persistenceProvider  [TYPE]  CriteriaQuery cachedCriteriaQuery  criteriaQuery  [TYPE]  List expressions  [TYPE]  PartTree tree  [TYPE]  JpaParameters parameters  [TYPE]  Object[] values 
[REPLACE]^if  ( parameterBinder != false )  {^167^^^^^154^172^[REPLACE] if  ( parameterBinder == null )  {^[METHOD] createQuery [TYPE] Query [PARAMETER] Object[] values [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer   [TYPE]  QueryPreparer countQuery  query  [TYPE]  EntityManager em  [TYPE]  JpaQueryCreator creator  [TYPE]  boolean false  true  [TYPE]  ParameterBinder cachedParameterBinder  parameterBinder  [TYPE]  ParametersParameterAccessor accessor  [TYPE]  PersistenceProvider persistenceProvider  [TYPE]  CriteriaQuery cachedCriteriaQuery  criteriaQuery  [TYPE]  List expressions  [TYPE]  PartTree tree  [TYPE]  JpaParameters parameters  [TYPE]  Object[] values 
[ADD]^^168^^^^^154^172^[ADD] throw new IllegalStateException  (" ")  ;^[METHOD] createQuery [TYPE] Query [PARAMETER] Object[] values [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer   [TYPE]  QueryPreparer countQuery  query  [TYPE]  EntityManager em  [TYPE]  JpaQueryCreator creator  [TYPE]  boolean false  true  [TYPE]  ParameterBinder cachedParameterBinder  parameterBinder  [TYPE]  ParametersParameterAccessor accessor  [TYPE]  PersistenceProvider persistenceProvider  [TYPE]  CriteriaQuery cachedCriteriaQuery  criteriaQuery  [TYPE]  List expressions  [TYPE]  PartTree tree  [TYPE]  JpaParameters parameters  [TYPE]  Object[] values 
[REPLACE]^return ;^168^^^^^154^172^[REPLACE] throw new IllegalStateException  (" ")  ;^[METHOD] createQuery [TYPE] Query [PARAMETER] Object[] values [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer   [TYPE]  QueryPreparer countQuery  query  [TYPE]  EntityManager em  [TYPE]  JpaQueryCreator creator  [TYPE]  boolean false  true  [TYPE]  ParameterBinder cachedParameterBinder  parameterBinder  [TYPE]  ParametersParameterAccessor accessor  [TYPE]  PersistenceProvider persistenceProvider  [TYPE]  CriteriaQuery cachedCriteriaQuery  criteriaQuery  [TYPE]  List expressions  [TYPE]  PartTree tree  [TYPE]  JpaParameters parameters  [TYPE]  Object[] values 
[REPLACE]^return restrictMaxResultsIfNecessary ( invokeBinding ( cachedParameterBinder, createQuery ( criteriaQuery ) , values )  ) ;^171^^^^^154^172^[REPLACE] return restrictMaxResultsIfNecessary ( invokeBinding ( parameterBinder, createQuery ( criteriaQuery ) , values )  ) ;^[METHOD] createQuery [TYPE] Query [PARAMETER] Object[] values [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer   [TYPE]  QueryPreparer countQuery  query  [TYPE]  EntityManager em  [TYPE]  JpaQueryCreator creator  [TYPE]  boolean false  true  [TYPE]  ParameterBinder cachedParameterBinder  parameterBinder  [TYPE]  ParametersParameterAccessor accessor  [TYPE]  PersistenceProvider persistenceProvider  [TYPE]  CriteriaQuery cachedCriteriaQuery  criteriaQuery  [TYPE]  List expressions  [TYPE]  PartTree tree  [TYPE]  JpaParameters parameters  [TYPE]  Object[] values 
[REPLACE]^if  ( tree.isLimiting (   )  || tree.isExistsProjection (  )  )  )  {^180^^^^^178^202^[REPLACE] if  ( tree.isLimiting (  )  )  {^[METHOD] restrictMaxResultsIfNecessary [TYPE] Query [PARAMETER] Query query [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer   [TYPE]  QueryPreparer countQuery  query  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ParameterBinder cachedParameterBinder  parameterBinder  [TYPE]  Query query  [TYPE]  PersistenceProvider persistenceProvider  [TYPE]  CriteriaQuery cachedCriteriaQuery  criteriaQuery  [TYPE]  List expressions  [TYPE]  PartTree tree  [TYPE]  JpaParameters parameters 
[REPLACE]^if  ( query.getMaxResults (  )   ==  Integer.MAX_VALUE )  {^182^^^^^178^202^[REPLACE] if  ( query.getMaxResults (  )  != Integer.MAX_VALUE )  {^[METHOD] restrictMaxResultsIfNecessary [TYPE] Query [PARAMETER] Query query [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer   [TYPE]  QueryPreparer countQuery  query  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ParameterBinder cachedParameterBinder  parameterBinder  [TYPE]  Query query  [TYPE]  PersistenceProvider persistenceProvider  [TYPE]  CriteriaQuery cachedCriteriaQuery  criteriaQuery  [TYPE]  List expressions  [TYPE]  PartTree tree  [TYPE]  JpaParameters parameters 
[ADD]^^182^183^^^^178^202^[ADD] if  ( query.getMaxResults (  )  != Integer.MAX_VALUE )  {^[METHOD] restrictMaxResultsIfNecessary [TYPE] Query [PARAMETER] Query query [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer   [TYPE]  QueryPreparer countQuery  query  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ParameterBinder cachedParameterBinder  parameterBinder  [TYPE]  Query query  [TYPE]  PersistenceProvider persistenceProvider  [TYPE]  CriteriaQuery cachedCriteriaQuery  criteriaQuery  [TYPE]  List expressions  [TYPE]  PartTree tree  [TYPE]  JpaParameters parameters 
[REPLACE]^if  (  query.getFirstResult (  )  > 0 )  {^189^^^^^178^202^[REPLACE] if  ( query.getMaxResults (  )  > tree.getMaxResults (  )  && query.getFirstResult (  )  > 0 )  {^[METHOD] restrictMaxResultsIfNecessary [TYPE] Query [PARAMETER] Query query [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer   [TYPE]  QueryPreparer countQuery  query  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ParameterBinder cachedParameterBinder  parameterBinder  [TYPE]  Query query  [TYPE]  PersistenceProvider persistenceProvider  [TYPE]  CriteriaQuery cachedCriteriaQuery  criteriaQuery  [TYPE]  List expressions  [TYPE]  PartTree tree  [TYPE]  JpaParameters parameters 
[REPLACE]^query.setFirstResult ( query.getFirstResult (  )    ( query.getMaxResults (  )   tree.getMaxResults (  )  )  ) ;^190^^^^^178^202^[REPLACE] query.setFirstResult ( query.getFirstResult (  )  -  ( query.getMaxResults (  )  - tree.getMaxResults (  )  )  ) ;^[METHOD] restrictMaxResultsIfNecessary [TYPE] Query [PARAMETER] Query query [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer   [TYPE]  QueryPreparer countQuery  query  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ParameterBinder cachedParameterBinder  parameterBinder  [TYPE]  Query query  [TYPE]  PersistenceProvider persistenceProvider  [TYPE]  CriteriaQuery cachedCriteriaQuery  criteriaQuery  [TYPE]  List expressions  [TYPE]  PartTree tree  [TYPE]  JpaParameters parameters 
[REPLACE]^( query.getMaxResults (  )  )  ;^190^^^^^178^202^[REPLACE] query.setFirstResult ( query.getFirstResult (  )  -  ( query.getMaxResults (  )  - tree.getMaxResults (  )  )  ) ;^[METHOD] restrictMaxResultsIfNecessary [TYPE] Query [PARAMETER] Query query [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer   [TYPE]  QueryPreparer countQuery  query  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ParameterBinder cachedParameterBinder  parameterBinder  [TYPE]  Query query  [TYPE]  PersistenceProvider persistenceProvider  [TYPE]  CriteriaQuery cachedCriteriaQuery  criteriaQuery  [TYPE]  List expressions  [TYPE]  PartTree tree  [TYPE]  JpaParameters parameters 
[REPLACE]^query.setMaxResults ( 1 )  ;^190^^^^^178^202^[REPLACE] query.setFirstResult ( query.getFirstResult (  )  -  ( query.getMaxResults (  )  - tree.getMaxResults (  )  )  ) ;^[METHOD] restrictMaxResultsIfNecessary [TYPE] Query [PARAMETER] Query query [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer   [TYPE]  QueryPreparer countQuery  query  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ParameterBinder cachedParameterBinder  parameterBinder  [TYPE]  Query query  [TYPE]  PersistenceProvider persistenceProvider  [TYPE]  CriteriaQuery cachedCriteriaQuery  criteriaQuery  [TYPE]  List expressions  [TYPE]  PartTree tree  [TYPE]  JpaParameters parameters 
[REPLACE]^tree.getMaxResults (  )  ;^190^^^^^178^202^[REPLACE] query.setFirstResult ( query.getFirstResult (  )  -  ( query.getMaxResults (  )  - tree.getMaxResults (  )  )  ) ;^[METHOD] restrictMaxResultsIfNecessary [TYPE] Query [PARAMETER] Query query [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer   [TYPE]  QueryPreparer countQuery  query  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ParameterBinder cachedParameterBinder  parameterBinder  [TYPE]  Query query  [TYPE]  PersistenceProvider persistenceProvider  [TYPE]  CriteriaQuery cachedCriteriaQuery  criteriaQuery  [TYPE]  List expressions  [TYPE]  PartTree tree  [TYPE]  JpaParameters parameters 
[REPLACE]^if  ( query.getMaxResults (  )  > tree.getMaxResults (  )  || query.getFirstResult (  )  > 0 )  {^189^^^^^178^202^[REPLACE] if  ( query.getMaxResults (  )  > tree.getMaxResults (  )  && query.getFirstResult (  )  > 0 )  {^[METHOD] restrictMaxResultsIfNecessary [TYPE] Query [PARAMETER] Query query [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer   [TYPE]  QueryPreparer countQuery  query  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ParameterBinder cachedParameterBinder  parameterBinder  [TYPE]  Query query  [TYPE]  PersistenceProvider persistenceProvider  [TYPE]  CriteriaQuery cachedCriteriaQuery  criteriaQuery  [TYPE]  List expressions  [TYPE]  PartTree tree  [TYPE]  JpaParameters parameters 
[ADD]^query.setFirstResult ( query.getFirstResult (  )  -  ( query.getMaxResults (  )  - tree.getMaxResults (  )  )  ) ;^189^190^191^^^178^202^[ADD] if  ( query.getMaxResults (  )  > tree.getMaxResults (  )  && query.getFirstResult (  )  > 0 )  { query.setFirstResult ( query.getFirstResult (  )  -  ( query.getMaxResults (  )  - tree.getMaxResults (  )  )  ) ; }^[METHOD] restrictMaxResultsIfNecessary [TYPE] Query [PARAMETER] Query query [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer   [TYPE]  QueryPreparer countQuery  query  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ParameterBinder cachedParameterBinder  parameterBinder  [TYPE]  Query query  [TYPE]  PersistenceProvider persistenceProvider  [TYPE]  CriteriaQuery cachedCriteriaQuery  criteriaQuery  [TYPE]  List expressions  [TYPE]  PartTree tree  [TYPE]  JpaParameters parameters 
[REPLACE]^query.setFirstResult ( query.setMaxResults (  )  -  ( query.getMaxResults (  )  - tree.getMaxResults (  )  )  ) ;^190^^^^^178^202^[REPLACE] query.setFirstResult ( query.getFirstResult (  )  -  ( query.getMaxResults (  )  - tree.getMaxResults (  )  )  ) ;^[METHOD] restrictMaxResultsIfNecessary [TYPE] Query [PARAMETER] Query query [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer   [TYPE]  QueryPreparer countQuery  query  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ParameterBinder cachedParameterBinder  parameterBinder  [TYPE]  Query query  [TYPE]  PersistenceProvider persistenceProvider  [TYPE]  CriteriaQuery cachedCriteriaQuery  criteriaQuery  [TYPE]  List expressions  [TYPE]  PartTree tree  [TYPE]  JpaParameters parameters 
[REMOVE]^( query.getMaxResults (  )  )  ;^190^^^^^178^202^[REMOVE] ^[METHOD] restrictMaxResultsIfNecessary [TYPE] Query [PARAMETER] Query query [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer   [TYPE]  QueryPreparer countQuery  query  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ParameterBinder cachedParameterBinder  parameterBinder  [TYPE]  Query query  [TYPE]  PersistenceProvider persistenceProvider  [TYPE]  CriteriaQuery cachedCriteriaQuery  criteriaQuery  [TYPE]  List expressions  [TYPE]  PartTree tree  [TYPE]  JpaParameters parameters 
[ADD]^^190^^^^^178^202^[ADD] query.setFirstResult ( query.getFirstResult (  )  -  ( query.getMaxResults (  )  - tree.getMaxResults (  )  )  ) ;^[METHOD] restrictMaxResultsIfNecessary [TYPE] Query [PARAMETER] Query query [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer   [TYPE]  QueryPreparer countQuery  query  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ParameterBinder cachedParameterBinder  parameterBinder  [TYPE]  Query query  [TYPE]  PersistenceProvider persistenceProvider  [TYPE]  CriteriaQuery cachedCriteriaQuery  criteriaQuery  [TYPE]  List expressions  [TYPE]  PartTree tree  [TYPE]  JpaParameters parameters 
[ADD]^^189^190^191^^^178^202^[ADD] if  ( query.getMaxResults (  )  > tree.getMaxResults (  )  && query.getFirstResult (  )  > 0 )  { query.setFirstResult ( query.getFirstResult (  )  -  ( query.getMaxResults (  )  - tree.getMaxResults (  )  )  ) ; }^[METHOD] restrictMaxResultsIfNecessary [TYPE] Query [PARAMETER] Query query [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer   [TYPE]  QueryPreparer countQuery  query  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ParameterBinder cachedParameterBinder  parameterBinder  [TYPE]  Query query  [TYPE]  PersistenceProvider persistenceProvider  [TYPE]  CriteriaQuery cachedCriteriaQuery  criteriaQuery  [TYPE]  List expressions  [TYPE]  PartTree tree  [TYPE]  JpaParameters parameters 
[REMOVE]^tree.getMaxResults (  )  ;^190^^^^^178^202^[REMOVE] ^[METHOD] restrictMaxResultsIfNecessary [TYPE] Query [PARAMETER] Query query [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer   [TYPE]  QueryPreparer countQuery  query  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ParameterBinder cachedParameterBinder  parameterBinder  [TYPE]  Query query  [TYPE]  PersistenceProvider persistenceProvider  [TYPE]  CriteriaQuery cachedCriteriaQuery  criteriaQuery  [TYPE]  List expressions  [TYPE]  PartTree tree  [TYPE]  JpaParameters parameters 
[REPLACE]^query.setFirstResult ( query.getFirstResult (  )  -  ( query .setMaxResults (  )   - tree^190^^^^^178^202^[REPLACE] query.setFirstResult ( query.getFirstResult (  )  -  ( query.getMaxResults (  )  - tree.getMaxResults (  )  )  ) ;^[METHOD] restrictMaxResultsIfNecessary [TYPE] Query [PARAMETER] Query query [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer   [TYPE]  QueryPreparer countQuery  query  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ParameterBinder cachedParameterBinder  parameterBinder  [TYPE]  Query query  [TYPE]  PersistenceProvider persistenceProvider  [TYPE]  CriteriaQuery cachedCriteriaQuery  criteriaQuery  [TYPE]  List expressions  [TYPE]  PartTree tree  [TYPE]  JpaParameters parameters 
[REMOVE]^query.setMaxResults ( 1 )  ;^190^^^^^178^202^[REMOVE] ^[METHOD] restrictMaxResultsIfNecessary [TYPE] Query [PARAMETER] Query query [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer   [TYPE]  QueryPreparer countQuery  query  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ParameterBinder cachedParameterBinder  parameterBinder  [TYPE]  Query query  [TYPE]  PersistenceProvider persistenceProvider  [TYPE]  CriteriaQuery cachedCriteriaQuery  criteriaQuery  [TYPE]  List expressions  [TYPE]  PartTree tree  [TYPE]  JpaParameters parameters 
[REPLACE]^if  ( tree.isExistsProjection (   )  || tree.isLimiting (  )  )  )  {^197^^^^^178^202^[REPLACE] if  ( tree.isExistsProjection (  )  )  {^[METHOD] restrictMaxResultsIfNecessary [TYPE] Query [PARAMETER] Query query [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer   [TYPE]  QueryPreparer countQuery  query  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ParameterBinder cachedParameterBinder  parameterBinder  [TYPE]  Query query  [TYPE]  PersistenceProvider persistenceProvider  [TYPE]  CriteriaQuery cachedCriteriaQuery  criteriaQuery  [TYPE]  List expressions  [TYPE]  PartTree tree  [TYPE]  JpaParameters parameters 
[ADD]^^197^198^199^^^178^202^[ADD] if  ( tree.isExistsProjection (  )  )  { query.setMaxResults ( 1 ) ; }^[METHOD] restrictMaxResultsIfNecessary [TYPE] Query [PARAMETER] Query query [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer   [TYPE]  QueryPreparer countQuery  query  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ParameterBinder cachedParameterBinder  parameterBinder  [TYPE]  Query query  [TYPE]  PersistenceProvider persistenceProvider  [TYPE]  CriteriaQuery cachedCriteriaQuery  criteriaQuery  [TYPE]  List expressions  [TYPE]  PartTree tree  [TYPE]  JpaParameters parameters 
[REPLACE]^query .getMaxResults (  )  ;^198^^^^^178^202^[REPLACE] query.setMaxResults ( 1 ) ;^[METHOD] restrictMaxResultsIfNecessary [TYPE] Query [PARAMETER] Query query [CLASS] PartTreeJpaQuery QueryPreparer CountQueryPreparer   [TYPE]  QueryPreparer countQuery  query  [TYPE]  EntityManager em  [TYPE]  boolean false  true  [TYPE]  ParameterBinder cachedParameterBinder  parameterBinder  [TYPE]  Query query  [TYPE]  PersistenceProvider persistenceProvider  [TYPE]  CriteriaQuery cachedCriteriaQuery  criteriaQuery  [TYPE]  List expressions  [TYPE]  PartTree tree  [TYPE]  JpaParameters parameters 
