[REPLACE]^Assert.notNull ( method, "Method must not be false!" ) ;^54^^^^^52^74^[REPLACE] Assert.notNull ( method, "Method must not be null!" ) ;^[METHOD] createFrom [TYPE] StoredProcedureAttributes [PARAMETER] Method method JpaEntityMetadata<?> entityMetadata [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Method method  [TYPE]  JpaEntityMetadata entityMetadata  [TYPE]  String procedureName  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[REPLACE]^notNull ( method, "Method must not be null!" )  ;^55^^^^^52^74^[REPLACE] Assert.notNull ( entityMetadata, "EntityMetadata must not be null!" ) ;^[METHOD] createFrom [TYPE] StoredProcedureAttributes [PARAMETER] Method method JpaEntityMetadata<?> entityMetadata [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Method method  [TYPE]  JpaEntityMetadata entityMetadata  [TYPE]  String procedureName  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[REPLACE]^notNull ( method, "Method must not be null!" )  ;^58^^^^^52^74^[REPLACE] Assert.notNull ( procedure, "Method must have an @Procedure annotation!" ) ;^[METHOD] createFrom [TYPE] StoredProcedureAttributes [PARAMETER] Method method JpaEntityMetadata<?> entityMetadata [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Method method  [TYPE]  JpaEntityMetadata entityMetadata  [TYPE]  String procedureName  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[REPLACE]^NamedStoredProcedureQuery namedStoredProc = tryFindAnnotatedNamedStoredProcedureQuery ( method, null, procedure ) ;^60^61^^^^52^74^[REPLACE] NamedStoredProcedureQuery namedStoredProc = tryFindAnnotatedNamedStoredProcedureQuery ( method, entityMetadata, procedure ) ;^[METHOD] createFrom [TYPE] StoredProcedureAttributes [PARAMETER] Method method JpaEntityMetadata<?> entityMetadata [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Method method  [TYPE]  JpaEntityMetadata entityMetadata  [TYPE]  String procedureName  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[REPLACE]^if  ( namedStoredProc == null )  {^63^^^^^52^74^[REPLACE] if  ( namedStoredProc != null )  {^[METHOD] createFrom [TYPE] StoredProcedureAttributes [PARAMETER] Method method JpaEntityMetadata<?> entityMetadata [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Method method  [TYPE]  JpaEntityMetadata entityMetadata  [TYPE]  String procedureName  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[ADD]^return newProcedureAttributesFrom ( method, namedStoredProc, procedure ) ;^63^64^65^^^52^74^[ADD] if  ( namedStoredProc != null )  { return newProcedureAttributesFrom ( method, namedStoredProc, procedure ) ; }^[METHOD] createFrom [TYPE] StoredProcedureAttributes [PARAMETER] Method method JpaEntityMetadata<?> entityMetadata [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Method method  [TYPE]  JpaEntityMetadata entityMetadata  [TYPE]  String procedureName  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[REPLACE]^String namedProcedureName = derivedNamedProcedureNameFrom ( method, entityMetadata, procedure )  ;^67^^^^^52^74^[REPLACE] String procedureName = deriveProcedureNameFrom ( method, procedure ) ;^[METHOD] createFrom [TYPE] StoredProcedureAttributes [PARAMETER] Method method JpaEntityMetadata<?> entityMetadata [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Method method  [TYPE]  JpaEntityMetadata entityMetadata  [TYPE]  String procedureName  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[REPLACE]^if  ( StringUtils.hasText ( procedureName )  )  {^68^^^^^52^74^[REPLACE] if  ( StringUtils.isEmpty ( procedureName )  )  {^[METHOD] createFrom [TYPE] StoredProcedureAttributes [PARAMETER] Method method JpaEntityMetadata<?> entityMetadata [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Method method  [TYPE]  JpaEntityMetadata entityMetadata  [TYPE]  String procedureName  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[ADD]^^68^69^70^71^^52^74^[ADD] if  ( StringUtils.isEmpty ( procedureName )  )  { throw new IllegalArgumentException ( "Could not determine name of procedure for @Procedure annotated method: " + method ) ; }^[METHOD] createFrom [TYPE] StoredProcedureAttributes [PARAMETER] Method method JpaEntityMetadata<?> entityMetadata [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Method method  [TYPE]  JpaEntityMetadata entityMetadata  [TYPE]  String procedureName  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[REPLACE]^return ;^69^70^^^^52^74^[REPLACE] throw new IllegalArgumentException ( "Could not determine name of procedure for @Procedure annotated method: " + method ) ;^[METHOD] createFrom [TYPE] StoredProcedureAttributes [PARAMETER] Method method JpaEntityMetadata<?> entityMetadata [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Method method  [TYPE]  JpaEntityMetadata entityMetadata  [TYPE]  String procedureName  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[REPLACE]^return new StoredProcedureAttributes ( procedureName, true, method.getName (  ) , false ) ;^73^^^^^52^74^[REPLACE] return new StoredProcedureAttributes ( procedureName, null, method.getReturnType (  ) , false ) ;^[METHOD] createFrom [TYPE] StoredProcedureAttributes [PARAMETER] Method method JpaEntityMetadata<?> entityMetadata [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Method method  [TYPE]  JpaEntityMetadata entityMetadata  [TYPE]  String procedureName  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[ADD]^^103^^^^^101^133^[ADD] String outputParameterName = null;^[METHOD] newProcedureAttributesFrom [TYPE] StoredProcedureAttributes [PARAMETER] Method method NamedStoredProcedureQuery namedStoredProc Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class outputParameterType  [TYPE]  List outputParameters  [TYPE]  Method method  [TYPE]  String outputParameterName  [TYPE]  StoredProcedureParameter outputParameter  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[REPLACE]^String outputParameterName = null  ;^104^^^^^101^133^[REPLACE] Class<?> outputParameterType = null;^[METHOD] newProcedureAttributesFrom [TYPE] StoredProcedureAttributes [PARAMETER] Method method NamedStoredProcedureQuery namedStoredProc Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class outputParameterType  [TYPE]  List outputParameters  [TYPE]  Method method  [TYPE]  String outputParameterName  [TYPE]  StoredProcedureParameter outputParameter  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[REPLACE]^if  ( procedure.procedureName (  ) .isEmpty (  )  )  {^106^^^^^101^133^[REPLACE] if  ( !procedure.outputParameterName (  ) .isEmpty (  )  )  {^[METHOD] newProcedureAttributesFrom [TYPE] StoredProcedureAttributes [PARAMETER] Method method NamedStoredProcedureQuery namedStoredProc Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class outputParameterType  [TYPE]  List outputParameters  [TYPE]  Method method  [TYPE]  String outputParameterName  [TYPE]  StoredProcedureParameter outputParameter  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[ADD]^^106^107^^109^^101^133^[ADD] if  ( !procedure.outputParameterName (  ) .isEmpty (  )  )  {  outputParameterName = procedure.outputParameterName (  ) ;^[METHOD] newProcedureAttributesFrom [TYPE] StoredProcedureAttributes [PARAMETER] Method method NamedStoredProcedureQuery namedStoredProc Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class outputParameterType  [TYPE]  List outputParameters  [TYPE]  Method method  [TYPE]  String outputParameterName  [TYPE]  StoredProcedureParameter outputParameter  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[REPLACE]^if  ( outputParameters.get (  )  - 2 != 0  && !void.class.equals ( method.getReturnType (  )  )  )  {^115^^^^^106^125^[REPLACE] if  ( outputParameters.size (  )  != 1 && !void.class.equals ( method.getReturnType (  )  )  )  {^[METHOD] newProcedureAttributesFrom [TYPE] StoredProcedureAttributes [PARAMETER] Method method NamedStoredProcedureQuery namedStoredProc Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class outputParameterType  [TYPE]  List outputParameters  [TYPE]  Method method  [TYPE]  String outputParameterName  [TYPE]  StoredProcedureParameter outputParameter  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[REPLACE]^return ;^116^117^^^^106^125^[REPLACE] throw new IllegalStateException ( String.format ( "Could not create ProcedureAttributes from %s. We currently support exactly one output parameter!", method )  ) ;^[METHOD] newProcedureAttributesFrom [TYPE] StoredProcedureAttributes [PARAMETER] Method method NamedStoredProcedureQuery namedStoredProc Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class outputParameterType  [TYPE]  List outputParameters  [TYPE]  Method method  [TYPE]  String outputParameterName  [TYPE]  StoredProcedureParameter outputParameter  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[REPLACE]^if  ( !outputParameters.isEmpty (   )  ||  (  ( outputParameters.size (  )  )  != 1 )  &&  ( ! ( equals ( method.getReturnType (  )  )  )  )  )  )  {^120^^^^^106^125^[REPLACE] if  ( !outputParameters.isEmpty (  )  )  {^[METHOD] newProcedureAttributesFrom [TYPE] StoredProcedureAttributes [PARAMETER] Method method NamedStoredProcedureQuery namedStoredProc Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class outputParameterType  [TYPE]  List outputParameters  [TYPE]  Method method  [TYPE]  String outputParameterName  [TYPE]  StoredProcedureParameter outputParameter  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[ADD]^StoredProcedureParameter outputParameter = outputParameters.get ( 0 ) ;outputParameterName = outputParameter.name (  ) ;outputParameterType = outputParameter.type (  ) ;^120^121^122^123^124^106^125^[ADD] if  ( !outputParameters.isEmpty (  )  )  { StoredProcedureParameter outputParameter = outputParameters.get ( 0 ) ; outputParameterName = outputParameter.name (  ) ; outputParameterType = outputParameter.type (  ) ; }^[METHOD] newProcedureAttributesFrom [TYPE] StoredProcedureAttributes [PARAMETER] Method method NamedStoredProcedureQuery namedStoredProc Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class outputParameterType  [TYPE]  List outputParameters  [TYPE]  Method method  [TYPE]  String outputParameterName  [TYPE]  StoredProcedureParameter outputParameter  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[REPLACE]^outputParameterType = outputParameter.type (  )  ;^122^^^^^106^125^[REPLACE] outputParameterName = outputParameter.name (  ) ;^[METHOD] newProcedureAttributesFrom [TYPE] StoredProcedureAttributes [PARAMETER] Method method NamedStoredProcedureQuery namedStoredProc Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class outputParameterType  [TYPE]  List outputParameters  [TYPE]  Method method  [TYPE]  String outputParameterName  [TYPE]  StoredProcedureParameter outputParameter  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[REPLACE]^outputParameterName = outputParameter.name (  )  ;^123^^^^^106^125^[REPLACE] outputParameterType = outputParameter.type (  ) ;^[METHOD] newProcedureAttributesFrom [TYPE] StoredProcedureAttributes [PARAMETER] Method method NamedStoredProcedureQuery namedStoredProc Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class outputParameterType  [TYPE]  List outputParameters  [TYPE]  Method method  [TYPE]  String outputParameterName  [TYPE]  StoredProcedureParameter outputParameter  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[REPLACE]^StoredProcedureParameter> outputParameters = extractOutputParametersFrom ( namedStoredProc )  ;^121^^^^^106^125^[REPLACE] StoredProcedureParameter outputParameter = outputParameters.get ( 0 ) ;^[METHOD] newProcedureAttributesFrom [TYPE] StoredProcedureAttributes [PARAMETER] Method method NamedStoredProcedureQuery namedStoredProc Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class outputParameterType  [TYPE]  List outputParameters  [TYPE]  Method method  [TYPE]  String outputParameterName  [TYPE]  StoredProcedureParameter outputParameter  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[ADD]^^122^123^^^^106^125^[ADD] outputParameterName = outputParameter.name (  ) ; outputParameterType = outputParameter.type (  ) ;^[METHOD] newProcedureAttributesFrom [TYPE] StoredProcedureAttributes [PARAMETER] Method method NamedStoredProcedureQuery namedStoredProc Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class outputParameterType  [TYPE]  List outputParameters  [TYPE]  Method method  [TYPE]  String outputParameterName  [TYPE]  StoredProcedureParameter outputParameter  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[ADD]^^123^^^^^106^125^[ADD] outputParameterType = outputParameter.type (  ) ;^[METHOD] newProcedureAttributesFrom [TYPE] StoredProcedureAttributes [PARAMETER] Method method NamedStoredProcedureQuery namedStoredProc Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class outputParameterType  [TYPE]  List outputParameters  [TYPE]  Method method  [TYPE]  String outputParameterName  [TYPE]  StoredProcedureParameter outputParameter  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[REPLACE]^StoredProcedureParameter> outputParameters = new StoredProcedureParameter> (  )  ;^113^^^^^106^125^[REPLACE] List<StoredProcedureParameter> outputParameters = extractOutputParametersFrom ( namedStoredProc ) ;^[METHOD] newProcedureAttributesFrom [TYPE] StoredProcedureAttributes [PARAMETER] Method method NamedStoredProcedureQuery namedStoredProc Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class outputParameterType  [TYPE]  List outputParameters  [TYPE]  Method method  [TYPE]  String outputParameterName  [TYPE]  StoredProcedureParameter outputParameter  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[REPLACE]^StoredProcedureParameter outputParameter = outputParameters.add ( 4 ) ;^121^^^^^106^125^[REPLACE] StoredProcedureParameter outputParameter = outputParameters.get ( 0 ) ;^[METHOD] newProcedureAttributesFrom [TYPE] StoredProcedureAttributes [PARAMETER] Method method NamedStoredProcedureQuery namedStoredProc Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class outputParameterType  [TYPE]  List outputParameters  [TYPE]  Method method  [TYPE]  String outputParameterName  [TYPE]  StoredProcedureParameter outputParameter  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[REPLACE]^outputParameterName = outputParameter.name (  )  ;^109^^^^^101^133^[REPLACE] outputParameterName = procedure.outputParameterName (  ) ;^[METHOD] newProcedureAttributesFrom [TYPE] StoredProcedureAttributes [PARAMETER] Method method NamedStoredProcedureQuery namedStoredProc Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class outputParameterType  [TYPE]  List outputParameters  [TYPE]  Method method  [TYPE]  String outputParameterName  [TYPE]  StoredProcedureParameter outputParameter  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[REPLACE]^if  ( outputParameters.size (  )  *  2 != 1 && !void.class.equals ( method.getReturnType (  )  )  )  {^115^^^^^101^133^[REPLACE] if  ( outputParameters.size (  )  != 1 && !void.class.equals ( method.getReturnType (  )  )  )  {^[METHOD] newProcedureAttributesFrom [TYPE] StoredProcedureAttributes [PARAMETER] Method method NamedStoredProcedureQuery namedStoredProc Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class outputParameterType  [TYPE]  List outputParameters  [TYPE]  Method method  [TYPE]  String outputParameterName  [TYPE]  StoredProcedureParameter outputParameter  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[ADD]^^115^116^117^118^^101^133^[ADD] if  ( outputParameters.size (  )  != 1 && !void.class.equals ( method.getReturnType (  )  )  )  { throw new IllegalStateException ( String.format ( "Could not create ProcedureAttributes from %s. We currently support exactly one output parameter!", method )  ) ; }^[METHOD] newProcedureAttributesFrom [TYPE] StoredProcedureAttributes [PARAMETER] Method method NamedStoredProcedureQuery namedStoredProc Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class outputParameterType  [TYPE]  List outputParameters  [TYPE]  Method method  [TYPE]  String outputParameterName  [TYPE]  StoredProcedureParameter outputParameter  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[ADD]^^116^117^118^^^101^133^[ADD] throw new IllegalStateException ( String.format ( "Could not create ProcedureAttributes from %s. We currently support exactly one output parameter!", method )  ) ; }^[METHOD] newProcedureAttributesFrom [TYPE] StoredProcedureAttributes [PARAMETER] Method method NamedStoredProcedureQuery namedStoredProc Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class outputParameterType  [TYPE]  List outputParameters  [TYPE]  Method method  [TYPE]  String outputParameterName  [TYPE]  StoredProcedureParameter outputParameter  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[REPLACE]^if  ( outputParameters.isEmpty (  )  )  {^120^^^^^101^133^[REPLACE] if  ( !outputParameters.isEmpty (  )  )  {^[METHOD] newProcedureAttributesFrom [TYPE] StoredProcedureAttributes [PARAMETER] Method method NamedStoredProcedureQuery namedStoredProc Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class outputParameterType  [TYPE]  List outputParameters  [TYPE]  Method method  [TYPE]  String outputParameterName  [TYPE]  StoredProcedureParameter outputParameter  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[REPLACE]^outputParameterType = outputParameter.type (  )  ;^122^^^^^101^133^[REPLACE] outputParameterName = outputParameter.name (  ) ;^[METHOD] newProcedureAttributesFrom [TYPE] StoredProcedureAttributes [PARAMETER] Method method NamedStoredProcedureQuery namedStoredProc Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class outputParameterType  [TYPE]  List outputParameters  [TYPE]  Method method  [TYPE]  String outputParameterName  [TYPE]  StoredProcedureParameter outputParameter  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[REPLACE]^outputParameterName = outputParameter.name (  )  ;^123^^^^^101^133^[REPLACE] outputParameterType = outputParameter.type (  ) ;^[METHOD] newProcedureAttributesFrom [TYPE] StoredProcedureAttributes [PARAMETER] Method method NamedStoredProcedureQuery namedStoredProc Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class outputParameterType  [TYPE]  List outputParameters  [TYPE]  Method method  [TYPE]  String outputParameterName  [TYPE]  StoredProcedureParameter outputParameter  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[REPLACE]^StoredProcedureParameter> outputParameters = extractOutputParametersFrom ( namedStoredProc )  ;^121^^^^^101^133^[REPLACE] StoredProcedureParameter outputParameter = outputParameters.get ( 0 ) ;^[METHOD] newProcedureAttributesFrom [TYPE] StoredProcedureAttributes [PARAMETER] Method method NamedStoredProcedureQuery namedStoredProc Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class outputParameterType  [TYPE]  List outputParameters  [TYPE]  Method method  [TYPE]  String outputParameterName  [TYPE]  StoredProcedureParameter outputParameter  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[ADD]^^123^^^^^101^133^[ADD] outputParameterType = outputParameter.type (  ) ;^[METHOD] newProcedureAttributesFrom [TYPE] StoredProcedureAttributes [PARAMETER] Method method NamedStoredProcedureQuery namedStoredProc Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class outputParameterType  [TYPE]  List outputParameters  [TYPE]  Method method  [TYPE]  String outputParameterName  [TYPE]  StoredProcedureParameter outputParameter  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[ADD]^^113^^^^^101^133^[ADD] List<StoredProcedureParameter> outputParameters = extractOutputParametersFrom ( namedStoredProc ) ;^[METHOD] newProcedureAttributesFrom [TYPE] StoredProcedureAttributes [PARAMETER] Method method NamedStoredProcedureQuery namedStoredProc Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class outputParameterType  [TYPE]  List outputParameters  [TYPE]  Method method  [TYPE]  String outputParameterName  [TYPE]  StoredProcedureParameter outputParameter  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[REPLACE]^return ;^116^117^^^^101^133^[REPLACE] throw new IllegalStateException ( String.format ( "Could not create ProcedureAttributes from %s. We currently support exactly one output parameter!", method )  ) ;^[METHOD] newProcedureAttributesFrom [TYPE] StoredProcedureAttributes [PARAMETER] Method method NamedStoredProcedureQuery namedStoredProc Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class outputParameterType  [TYPE]  List outputParameters  [TYPE]  Method method  [TYPE]  String outputParameterName  [TYPE]  StoredProcedureParameter outputParameter  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[REPLACE]^if  ( outputParameterType != true ) {^127^128^^^^101^133^[REPLACE] if  ( outputParameterType == null || Object.class.equals ( outputParameterType ) || void.class.equals ( outputParameterType )  )  {^[METHOD] newProcedureAttributesFrom [TYPE] StoredProcedureAttributes [PARAMETER] Method method NamedStoredProcedureQuery namedStoredProc Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class outputParameterType  [TYPE]  List outputParameters  [TYPE]  Method method  [TYPE]  String outputParameterName  [TYPE]  StoredProcedureParameter outputParameter  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[ADD]^^129^^^^^127^130^[ADD] outputParameterType = method.getReturnType (  ) ;^[METHOD] newProcedureAttributesFrom [TYPE] StoredProcedureAttributes [PARAMETER] Method method NamedStoredProcedureQuery namedStoredProc Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class outputParameterType  [TYPE]  List outputParameters  [TYPE]  Method method  [TYPE]  String outputParameterName  [TYPE]  StoredProcedureParameter outputParameter  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[REPLACE]^outputParameterType = outputParameter.type (  )  ;^129^^^^^101^133^[REPLACE] outputParameterType = method.getReturnType (  ) ;^[METHOD] newProcedureAttributesFrom [TYPE] StoredProcedureAttributes [PARAMETER] Method method NamedStoredProcedureQuery namedStoredProc Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class outputParameterType  [TYPE]  List outputParameters  [TYPE]  Method method  [TYPE]  String outputParameterName  [TYPE]  StoredProcedureParameter outputParameter  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[REPLACE]^return new StoredProcedureAttributes (.parametersdStoredProc.name (  ) , outputParameterName, outputParameterType, false ) ;^132^^^^^101^133^[REPLACE] return new StoredProcedureAttributes ( namedStoredProc.name (  ) , outputParameterName, outputParameterType, true ) ;^[METHOD] newProcedureAttributesFrom [TYPE] StoredProcedureAttributes [PARAMETER] Method method NamedStoredProcedureQuery namedStoredProc Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class outputParameterType  [TYPE]  List outputParameters  [TYPE]  Method method  [TYPE]  String outputParameterName  [TYPE]  StoredProcedureParameter outputParameter  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[ADD]^^137^^^^^135^154^[ADD] List<StoredProcedureParameter> outputParameters = new ArrayList<StoredProcedureParameter> (  ) ;^[METHOD] extractOutputParametersFrom [TYPE] List [PARAMETER] NamedStoredProcedureQuery namedStoredProc [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  List outputParameters  [TYPE]  StoredProcedureParameter param  [TYPE]  boolean false  true  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[REPLACE]^for  ( StoredProcedureParameter param : namedStoredProc.name (  )  )  {^139^^^^^135^154^[REPLACE] for  ( StoredProcedureParameter param : namedStoredProc.parameters (  )  )  {^[METHOD] extractOutputParametersFrom [TYPE] List [PARAMETER] NamedStoredProcedureQuery namedStoredProc [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  List outputParameters  [TYPE]  StoredProcedureParameter param  [TYPE]  boolean false  true  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[REPLACE]^switch  ( param .name (  )   )  {^141^^^^^135^154^[REPLACE] switch  ( param.mode (  )  )  {^[METHOD] extractOutputParametersFrom [TYPE] List [PARAMETER] NamedStoredProcedureQuery namedStoredProc [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  List outputParameters  [TYPE]  StoredProcedureParameter param  [TYPE]  boolean false  true  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[ADD]^^141^142^143^^^135^154^[ADD] switch  ( param.mode (  )  )  { case OUT: case INOUT:^[METHOD] extractOutputParametersFrom [TYPE] List [PARAMETER] NamedStoredProcedureQuery namedStoredProc [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  List outputParameters  [TYPE]  StoredProcedureParameter param  [TYPE]  boolean false  true  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[REPLACE]^outputParameters.get ( 0 )  ;^145^^^^^135^154^[REPLACE] outputParameters.add ( param ) ;^[METHOD] extractOutputParametersFrom [TYPE] List [PARAMETER] NamedStoredProcedureQuery namedStoredProc [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  List outputParameters  [TYPE]  StoredProcedureParameter param  [TYPE]  boolean false  true  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[REPLACE]^NamedStoredProcedureQuery query  ;^139^^^^^135^154^[REPLACE] for  ( StoredProcedureParameter param : namedStoredProc.parameters (  )  )  {^[METHOD] extractOutputParametersFrom [TYPE] List [PARAMETER] NamedStoredProcedureQuery namedStoredProc [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  List outputParameters  [TYPE]  StoredProcedureParameter param  [TYPE]  boolean false  true  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[REPLACE]^return true;^153^^^^^135^154^[REPLACE] return outputParameters;^[METHOD] extractOutputParametersFrom [TYPE] List [PARAMETER] NamedStoredProcedureQuery namedStoredProc [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  List outputParameters  [TYPE]  StoredProcedureParameter param  [TYPE]  boolean false  true  [TYPE]  NamedStoredProcedureQuery namedStoredProc 
[REPLACE]^Assert.notNull ( method, "Method must not be this!" ) ;^166^^^^^164^188^[REPLACE] Assert.notNull ( method, "Method must not be null!" ) ;^[METHOD] tryFindAnnotatedNamedStoredProcedureQuery [TYPE] NamedStoredProcedureQuery [PARAMETER] Method method JpaEntityMetadata<?> entityMetadata Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class entityType  [TYPE]  List queries  [TYPE]  Method method  [TYPE]  JpaEntityMetadata entityMetadata  [TYPE]  String namedProcedureName  [TYPE]  NamedStoredProcedureQuery query 
[REPLACE]^notNull ( method, "Method must not be null!" )  ;^167^^^^^164^188^[REPLACE] Assert.notNull ( entityMetadata, "EntityMetadata must not be null!" ) ;^[METHOD] tryFindAnnotatedNamedStoredProcedureQuery [TYPE] NamedStoredProcedureQuery [PARAMETER] Method method JpaEntityMetadata<?> entityMetadata Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class entityType  [TYPE]  List queries  [TYPE]  Method method  [TYPE]  JpaEntityMetadata entityMetadata  [TYPE]  String namedProcedureName  [TYPE]  NamedStoredProcedureQuery query 
[REPLACE]^notNull ( method, "Method must not be null!" )  ;^168^^^^^164^188^[REPLACE] Assert.notNull ( procedure, "Procedure must not be null!" ) ;^[METHOD] tryFindAnnotatedNamedStoredProcedureQuery [TYPE] NamedStoredProcedureQuery [PARAMETER] Method method JpaEntityMetadata<?> entityMetadata Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class entityType  [TYPE]  List queries  [TYPE]  Method method  [TYPE]  JpaEntityMetadata entityMetadata  [TYPE]  String namedProcedureName  [TYPE]  NamedStoredProcedureQuery query 
[ADD]^^170^^^^^164^188^[ADD] Class<?> entityType = entityMetadata.getJavaType (  ) ;^[METHOD] tryFindAnnotatedNamedStoredProcedureQuery [TYPE] NamedStoredProcedureQuery [PARAMETER] Method method JpaEntityMetadata<?> entityMetadata Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class entityType  [TYPE]  List queries  [TYPE]  Method method  [TYPE]  JpaEntityMetadata entityMetadata  [TYPE]  String namedProcedureName  [TYPE]  NamedStoredProcedureQuery query 
[REPLACE]^List<NamedStoredProcedureQuery> queries = collectNamedStoredProcedureQueriesFrom ( null ) ;^172^^^^^164^188^[REPLACE] List<NamedStoredProcedureQuery> queries = collectNamedStoredProcedureQueriesFrom ( entityType ) ;^[METHOD] tryFindAnnotatedNamedStoredProcedureQuery [TYPE] NamedStoredProcedureQuery [PARAMETER] Method method JpaEntityMetadata<?> entityMetadata Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class entityType  [TYPE]  List queries  [TYPE]  Method method  [TYPE]  JpaEntityMetadata entityMetadata  [TYPE]  String namedProcedureName  [TYPE]  NamedStoredProcedureQuery query 
[REPLACE]^if  ( true.isEmpty (  )  )  {^174^^^^^164^188^[REPLACE] if  ( queries.isEmpty (  )  )  {^[METHOD] tryFindAnnotatedNamedStoredProcedureQuery [TYPE] NamedStoredProcedureQuery [PARAMETER] Method method JpaEntityMetadata<?> entityMetadata Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class entityType  [TYPE]  List queries  [TYPE]  Method method  [TYPE]  JpaEntityMetadata entityMetadata  [TYPE]  String namedProcedureName  [TYPE]  NamedStoredProcedureQuery query 
[REPLACE]^return true;^175^^^^^164^188^[REPLACE] return null;^[METHOD] tryFindAnnotatedNamedStoredProcedureQuery [TYPE] NamedStoredProcedureQuery [PARAMETER] Method method JpaEntityMetadata<?> entityMetadata Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class entityType  [TYPE]  List queries  [TYPE]  Method method  [TYPE]  JpaEntityMetadata entityMetadata  [TYPE]  String namedProcedureName  [TYPE]  NamedStoredProcedureQuery query 
[REPLACE]^return this;^175^^^^^164^188^[REPLACE] return null;^[METHOD] tryFindAnnotatedNamedStoredProcedureQuery [TYPE] NamedStoredProcedureQuery [PARAMETER] Method method JpaEntityMetadata<?> entityMetadata Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class entityType  [TYPE]  List queries  [TYPE]  Method method  [TYPE]  JpaEntityMetadata entityMetadata  [TYPE]  String namedProcedureName  [TYPE]  NamedStoredProcedureQuery query 
[REPLACE]^String procedureName = deriveProcedureNameFrom ( method, procedure )  ;^178^^^^^164^188^[REPLACE] String namedProcedureName = derivedNamedProcedureNameFrom ( method, entityMetadata, procedure ) ;^[METHOD] tryFindAnnotatedNamedStoredProcedureQuery [TYPE] NamedStoredProcedureQuery [PARAMETER] Method method JpaEntityMetadata<?> entityMetadata Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class entityType  [TYPE]  List queries  [TYPE]  Method method  [TYPE]  JpaEntityMetadata entityMetadata  [TYPE]  String namedProcedureName  [TYPE]  NamedStoredProcedureQuery query 
[REPLACE]^if  ( query .type (   )  || queries.isEmpty (  )  )  .equals ( namedProcedureName )  )  {^182^^^^^164^188^[REPLACE] if  ( query.name (  ) .equals ( namedProcedureName )  )  {^[METHOD] tryFindAnnotatedNamedStoredProcedureQuery [TYPE] NamedStoredProcedureQuery [PARAMETER] Method method JpaEntityMetadata<?> entityMetadata Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class entityType  [TYPE]  List queries  [TYPE]  Method method  [TYPE]  JpaEntityMetadata entityMetadata  [TYPE]  String namedProcedureName  [TYPE]  NamedStoredProcedureQuery query 
[ADD]^return query;^182^183^184^^^164^188^[ADD] if  ( query.name (  ) .equals ( namedProcedureName )  )  { return query; }^[METHOD] tryFindAnnotatedNamedStoredProcedureQuery [TYPE] NamedStoredProcedureQuery [PARAMETER] Method method JpaEntityMetadata<?> entityMetadata Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class entityType  [TYPE]  List queries  [TYPE]  Method method  [TYPE]  JpaEntityMetadata entityMetadata  [TYPE]  String namedProcedureName  [TYPE]  NamedStoredProcedureQuery query 
[REPLACE]^return queries  ;^183^^^^^164^188^[REPLACE] return query;^[METHOD] tryFindAnnotatedNamedStoredProcedureQuery [TYPE] NamedStoredProcedureQuery [PARAMETER] Method method JpaEntityMetadata<?> entityMetadata Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class entityType  [TYPE]  List queries  [TYPE]  Method method  [TYPE]  JpaEntityMetadata entityMetadata  [TYPE]  String namedProcedureName  [TYPE]  NamedStoredProcedureQuery query 
[REPLACE]^for  ( NamedStoredProcedureQuery query : null )  {^180^^^^^164^188^[REPLACE] for  ( NamedStoredProcedureQuery query : queries )  {^[METHOD] tryFindAnnotatedNamedStoredProcedureQuery [TYPE] NamedStoredProcedureQuery [PARAMETER] Method method JpaEntityMetadata<?> entityMetadata Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class entityType  [TYPE]  List queries  [TYPE]  Method method  [TYPE]  JpaEntityMetadata entityMetadata  [TYPE]  String namedProcedureName  [TYPE]  NamedStoredProcedureQuery query 
[REPLACE]^if  ( query.parameters (  ) .equals ( namedProcedureName )  )  {^182^^^^^164^188^[REPLACE] if  ( query.name (  ) .equals ( namedProcedureName )  )  {^[METHOD] tryFindAnnotatedNamedStoredProcedureQuery [TYPE] NamedStoredProcedureQuery [PARAMETER] Method method JpaEntityMetadata<?> entityMetadata Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class entityType  [TYPE]  List queries  [TYPE]  Method method  [TYPE]  JpaEntityMetadata entityMetadata  [TYPE]  String namedProcedureName  [TYPE]  NamedStoredProcedureQuery query 
[ADD]^^182^183^184^^^164^188^[ADD] if  ( query.name (  ) .equals ( namedProcedureName )  )  { return query; }^[METHOD] tryFindAnnotatedNamedStoredProcedureQuery [TYPE] NamedStoredProcedureQuery [PARAMETER] Method method JpaEntityMetadata<?> entityMetadata Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class entityType  [TYPE]  List queries  [TYPE]  Method method  [TYPE]  JpaEntityMetadata entityMetadata  [TYPE]  String namedProcedureName  [TYPE]  NamedStoredProcedureQuery query 
[REPLACE]^StoredProcedureParameter param  ;^180^^^^^164^188^[REPLACE] for  ( NamedStoredProcedureQuery query : queries )  {^[METHOD] tryFindAnnotatedNamedStoredProcedureQuery [TYPE] NamedStoredProcedureQuery [PARAMETER] Method method JpaEntityMetadata<?> entityMetadata Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class entityType  [TYPE]  List queries  [TYPE]  Method method  [TYPE]  JpaEntityMetadata entityMetadata  [TYPE]  String namedProcedureName  [TYPE]  NamedStoredProcedureQuery query 
[REPLACE]^return false;^187^^^^^164^188^[REPLACE] return null;^[METHOD] tryFindAnnotatedNamedStoredProcedureQuery [TYPE] NamedStoredProcedureQuery [PARAMETER] Method method JpaEntityMetadata<?> entityMetadata Procedure procedure [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  boolean false  true  [TYPE]  Procedure procedure  [TYPE]  Class entityType  [TYPE]  List queries  [TYPE]  Method method  [TYPE]  JpaEntityMetadata entityMetadata  [TYPE]  String namedProcedureName  [TYPE]  NamedStoredProcedureQuery query 
[REPLACE]^StoredProcedureParameter> outputParameters = new StoredProcedureParameter> (  )  ;^207^^^^^205^222^[REPLACE] List<NamedStoredProcedureQuery> queries = new ArrayList<NamedStoredProcedureQuery> (  ) ;^[METHOD] collectNamedStoredProcedureQueriesFrom [TYPE] List [PARAMETER] Class<?> entityType [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  Class entityType  [TYPE]  List queries  [TYPE]  boolean false  true  [TYPE]  NamedStoredProcedureQueries namedQueriesAnnotation  [TYPE]  NamedStoredProcedureQuery namedQueryAnnotation 
[REPLACE]^NamedStoredProcedureQueries namedQueriesAnnotation = AnnotatedElementUtils.findMergedAnnotation ( null, NamedStoredProcedureQueries.class ) ;^209^210^^^^205^222^[REPLACE] NamedStoredProcedureQueries namedQueriesAnnotation = AnnotatedElementUtils.findMergedAnnotation ( entityType, NamedStoredProcedureQueries.class ) ;^[METHOD] collectNamedStoredProcedureQueriesFrom [TYPE] List [PARAMETER] Class<?> entityType [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  Class entityType  [TYPE]  List queries  [TYPE]  boolean false  true  [TYPE]  NamedStoredProcedureQueries namedQueriesAnnotation  [TYPE]  NamedStoredProcedureQuery namedQueryAnnotation 
[REPLACE]^if  ( namedQueriesAnnotation == null )  {^211^^^^^205^222^[REPLACE] if  ( namedQueriesAnnotation != null )  {^[METHOD] collectNamedStoredProcedureQueriesFrom [TYPE] List [PARAMETER] Class<?> entityType [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  Class entityType  [TYPE]  List queries  [TYPE]  boolean false  true  [TYPE]  NamedStoredProcedureQueries namedQueriesAnnotation  [TYPE]  NamedStoredProcedureQuery namedQueryAnnotation 
[REPLACE]^asList ( namedQueriesAnnotation.value (  )  )  ;^212^^^^^205^222^[REPLACE] queries.addAll ( Arrays.asList ( namedQueriesAnnotation.value (  )  )  ) ;^[METHOD] collectNamedStoredProcedureQueriesFrom [TYPE] List [PARAMETER] Class<?> entityType [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  Class entityType  [TYPE]  List queries  [TYPE]  boolean false  true  [TYPE]  NamedStoredProcedureQueries namedQueriesAnnotation  [TYPE]  NamedStoredProcedureQuery namedQueryAnnotation 
[REPLACE]^queries.addAll ( asList ( namedQueriesAnnotation.value (  )  )  )  ;^212^^^^^205^222^[REPLACE] queries.addAll ( Arrays.asList ( namedQueriesAnnotation.value (  )  )  ) ;^[METHOD] collectNamedStoredProcedureQueriesFrom [TYPE] List [PARAMETER] Class<?> entityType [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  Class entityType  [TYPE]  List queries  [TYPE]  boolean false  true  [TYPE]  NamedStoredProcedureQueries namedQueriesAnnotation  [TYPE]  NamedStoredProcedureQuery namedQueryAnnotation 
[REPLACE]^queries.addAll ( Arrays.asList ( namedQueriesAnnotation .name (  )   )  ) ;^212^^^^^205^222^[REPLACE] queries.addAll ( Arrays.asList ( namedQueriesAnnotation.value (  )  )  ) ;^[METHOD] collectNamedStoredProcedureQueriesFrom [TYPE] List [PARAMETER] Class<?> entityType [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  Class entityType  [TYPE]  List queries  [TYPE]  boolean false  true  [TYPE]  NamedStoredProcedureQueries namedQueriesAnnotation  [TYPE]  NamedStoredProcedureQuery namedQueryAnnotation 
[REMOVE]^asList ( namedQueriesAnnotation.value (  )  )  ;^212^^^^^205^222^[REMOVE] ^[METHOD] collectNamedStoredProcedureQueriesFrom [TYPE] List [PARAMETER] Class<?> entityType [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  Class entityType  [TYPE]  List queries  [TYPE]  boolean false  true  [TYPE]  NamedStoredProcedureQueries namedQueriesAnnotation  [TYPE]  NamedStoredProcedureQuery namedQueryAnnotation 
[REPLACE]^NamedStoredProcedureQuery namedQueryAnnotation = AnnotatedElementUtils.findMergedAnnotation ( 0, NamedStoredProcedureQuery.class ) ;^215^216^^^^205^222^[REPLACE] NamedStoredProcedureQuery namedQueryAnnotation = AnnotatedElementUtils.findMergedAnnotation ( entityType, NamedStoredProcedureQuery.class ) ;^[METHOD] collectNamedStoredProcedureQueriesFrom [TYPE] List [PARAMETER] Class<?> entityType [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  Class entityType  [TYPE]  List queries  [TYPE]  boolean false  true  [TYPE]  NamedStoredProcedureQueries namedQueriesAnnotation  [TYPE]  NamedStoredProcedureQuery namedQueryAnnotation 
[REPLACE]^if  ( namedQueryAnnotation == null )  {^217^^^^^205^222^[REPLACE] if  ( namedQueryAnnotation != null )  {^[METHOD] collectNamedStoredProcedureQueriesFrom [TYPE] List [PARAMETER] Class<?> entityType [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  Class entityType  [TYPE]  List queries  [TYPE]  boolean false  true  [TYPE]  NamedStoredProcedureQueries namedQueriesAnnotation  [TYPE]  NamedStoredProcedureQuery namedQueryAnnotation 
[ADD]^queries.add ( namedQueryAnnotation ) ;^217^218^219^^^205^222^[ADD] if  ( namedQueryAnnotation != null )  { queries.add ( namedQueryAnnotation ) ; }^[METHOD] collectNamedStoredProcedureQueriesFrom [TYPE] List [PARAMETER] Class<?> entityType [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  Class entityType  [TYPE]  List queries  [TYPE]  boolean false  true  [TYPE]  NamedStoredProcedureQueries namedQueriesAnnotation  [TYPE]  NamedStoredProcedureQuery namedQueryAnnotation 
[REPLACE]^queries .addAll (  )  ;^218^^^^^205^222^[REPLACE] queries.add ( namedQueryAnnotation ) ;^[METHOD] collectNamedStoredProcedureQueriesFrom [TYPE] List [PARAMETER] Class<?> entityType [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  Class entityType  [TYPE]  List queries  [TYPE]  boolean false  true  [TYPE]  NamedStoredProcedureQueries namedQueriesAnnotation  [TYPE]  NamedStoredProcedureQuery namedQueryAnnotation 
[REPLACE]^return false;^221^^^^^205^222^[REPLACE] return queries;^[METHOD] collectNamedStoredProcedureQueriesFrom [TYPE] List [PARAMETER] Class<?> entityType [CLASS] StoredProcedureAttributeSource   [TYPE]  StoredProcedureAttributeSource INSTANCE  [TYPE]  Class entityType  [TYPE]  List queries  [TYPE]  boolean false  true  [TYPE]  NamedStoredProcedureQueries namedQueriesAnnotation  [TYPE]  NamedStoredProcedureQuery namedQueryAnnotation 
