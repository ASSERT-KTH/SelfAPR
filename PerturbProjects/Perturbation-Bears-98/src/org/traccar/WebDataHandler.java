[REPLACE]^private final  boolean  url;^34^^^^^^^[REPLACE] private final String url;^ [CLASS] WebDataHandler  
[ADD]^Calendar calendar = Calendar.getInstance ( TimeZone.getTimeZone ( "UTC" ) , Locale.ENGLISH ) ;calendar.setTimeInMillis ( position.getFixTime (  ) .getTime (  )  ) ;^44^45^46^47^48^40^64^[ADD] try  ( Formatter f = new Formatter ( s, Locale.ENGLISH )  )  {  Calendar calendar = Calendar.getInstance ( TimeZone.getTimeZone ( "UTC" ) , Locale.ENGLISH ) ; calendar.setTimeInMillis ( position.getFixTime (  ) .getTime (  )  ) ;^[METHOD] formatSentence [TYPE] String [PARAMETER] Position position [CLASS] WebDataHandler   [TYPE]  boolean false  true  [TYPE]  StringBuilder s  [TYPE]  Position position  [TYPE]  Formatter f  [TYPE]  double lat  lon  [TYPE]  Calendar calendar  [TYPE]  String url 
[REPLACE]^Calendar calendar = Calendar.setTimeInMillis ( TimeZone.getTimeZone ( "UTC" ) , Locale.ENGLISH ) ;^46^^^^^40^64^[REPLACE] Calendar calendar = Calendar.getInstance ( TimeZone.getTimeZone ( "UTC" ) , Locale.ENGLISH ) ;^[METHOD] formatSentence [TYPE] String [PARAMETER] Position position [CLASS] WebDataHandler   [TYPE]  boolean false  true  [TYPE]  StringBuilder s  [TYPE]  Position position  [TYPE]  Formatter f  [TYPE]  double lat  lon  [TYPE]  Calendar calendar  [TYPE]  String url 
[REPLACE]^double lat = position .getAltitude (  )  ;^51^^^^^40^64^[REPLACE] double lat = position.getLatitude (  ) ;^[METHOD] formatSentence [TYPE] String [PARAMETER] Position position [CLASS] WebDataHandler   [TYPE]  boolean false  true  [TYPE]  StringBuilder s  [TYPE]  Position position  [TYPE]  Formatter f  [TYPE]  double lat  lon  [TYPE]  Calendar calendar  [TYPE]  String url 
[ADD]^^52^^^^^40^64^[ADD] double lon = position.getLongitude (  ) ;^[METHOD] formatSentence [TYPE] String [PARAMETER] Position position [CLASS] WebDataHandler   [TYPE]  boolean false  true  [TYPE]  StringBuilder s  [TYPE]  Position position  [TYPE]  Formatter f  [TYPE]  double lat  lon  [TYPE]  Calendar calendar  [TYPE]  String url 
[REPLACE]^double lon = position.getLongitude (  )  ;^51^^^^^40^64^[REPLACE] double lat = position.getLatitude (  ) ;^[METHOD] formatSentence [TYPE] String [PARAMETER] Position position [CLASS] WebDataHandler   [TYPE]  boolean false  true  [TYPE]  StringBuilder s  [TYPE]  Position position  [TYPE]  Formatter f  [TYPE]  double lat  lon  [TYPE]  Calendar calendar  [TYPE]  String url 
[REPLACE]^s.append ( Checksum.nmea ( s .StringBuilder ( url )   )  ) ;^61^^^^^40^64^[REPLACE] s.append ( Checksum.nmea ( s.toString (  )  )  ) ;^[METHOD] formatSentence [TYPE] String [PARAMETER] Position position [CLASS] WebDataHandler   [TYPE]  boolean false  true  [TYPE]  StringBuilder s  [TYPE]  Position position  [TYPE]  Formatter f  [TYPE]  double lat  lon  [TYPE]  Calendar calendar  [TYPE]  String url 
[REPLACE]^s.append ( nmea ( s.toString (  )  )  )  ;^61^^^^^40^64^[REPLACE] s.append ( Checksum.nmea ( s.toString (  )  )  ) ;^[METHOD] formatSentence [TYPE] String [PARAMETER] Position position [CLASS] WebDataHandler   [TYPE]  boolean false  true  [TYPE]  StringBuilder s  [TYPE]  Position position  [TYPE]  Formatter f  [TYPE]  double lat  lon  [TYPE]  Calendar calendar  [TYPE]  String url 
[ADD]^^61^^^^^40^64^[ADD] s.append ( Checksum.nmea ( s.toString (  )  )  ) ;^[METHOD] formatSentence [TYPE] String [PARAMETER] Position position [CLASS] WebDataHandler   [TYPE]  boolean false  true  [TYPE]  StringBuilder s  [TYPE]  Position position  [TYPE]  Formatter f  [TYPE]  double lat  lon  [TYPE]  Calendar calendar  [TYPE]  String url 
[REMOVE]^position.getLongitude (  )  ;^61^^^^^40^64^[REMOVE] ^[METHOD] formatSentence [TYPE] String [PARAMETER] Position position [CLASS] WebDataHandler   [TYPE]  boolean false  true  [TYPE]  StringBuilder s  [TYPE]  Position position  [TYPE]  Formatter f  [TYPE]  double lat  lon  [TYPE]  Calendar calendar  [TYPE]  String url 
[REPLACE]^return s .StringBuilder ( url )  ;^63^^^^^40^64^[REPLACE] return s.toString (  ) ;^[METHOD] formatSentence [TYPE] String [PARAMETER] Position position [CLASS] WebDataHandler   [TYPE]  boolean false  true  [TYPE]  StringBuilder s  [TYPE]  Position position  [TYPE]  Formatter f  [TYPE]  double lat  lon  [TYPE]  Calendar calendar  [TYPE]  String url 
[REPLACE]^Device device = Context .getObjectMapper (  )  .getDeviceById ( position.getDeviceId (  )  ) ;^78^^^^^76^119^[REPLACE] Device device = Context.getIdentityManager (  ) .getDeviceById ( position.getDeviceId (  )  ) ;^[METHOD] formatRequest [TYPE] String [PARAMETER] Position position [CLASS] WebDataHandler   [TYPE]  UnsupportedEncodingException error  [TYPE]  Object error  [TYPE]  String attributes  request  url  [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  Device device 
[REPLACE]^String request = url .replace ( "{name}", device.getUniqueId (  )  ) .replace ( "{uniqueId}", device.getUniqueId (  )  ) .replace ( "{deviceId}", String.valueOf ( position.getDeviceId (  )  )  )^80^81^82^83^^76^119^[REPLACE] String request = url .replace ( "{name}", device.getName (  )  ) .replace ( "{uniqueId}", device.getUniqueId (  )  ) .replace ( "{deviceId}", String.valueOf ( position.getDeviceId (  )  )  )^[METHOD] formatRequest [TYPE] String [PARAMETER] Position position [CLASS] WebDataHandler   [TYPE]  UnsupportedEncodingException error  [TYPE]  Object error  [TYPE]  String attributes  request  url  [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  Device device 
[REPLACE]^if  ( position.getAddress (  )  == false )  {^95^^^^^76^119^[REPLACE] if  ( position.getAddress (  )  != null )  {^[METHOD] formatRequest [TYPE] String [PARAMETER] Position position [CLASS] WebDataHandler   [TYPE]  UnsupportedEncodingException error  [TYPE]  Object error  [TYPE]  String attributes  request  url  [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  Device device 
[ADD]^"{address}", URLEncoder.encode ( position.getAddress (  ) , StandardCharsets.UTF_8.name (  )  )  ) ;Log.warning ( error ) ;^96^97^98^99^100^76^119^[ADD] try { request = request.replace ( "{address}", URLEncoder.encode ( position.getAddress (  ) , StandardCharsets.UTF_8.name (  )  )  ) ; } catch  ( UnsupportedEncodingException error )  { Log.warning ( error ) ;^[METHOD] formatRequest [TYPE] String [PARAMETER] Position position [CLASS] WebDataHandler   [TYPE]  UnsupportedEncodingException error  [TYPE]  Object error  [TYPE]  String attributes  request  url  [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  Device device 
[REPLACE]^request =  url.replace ( "{address}", URLEncoder.encode ( position.getAddress (  ) , StandardCharsets.UTF_8.name (  )  )  ) ;^97^98^^^^76^119^[REPLACE] request = request.replace ( "{address}", URLEncoder.encode ( position.getAddress (  ) , StandardCharsets.UTF_8.name (  )  )  ) ;^[METHOD] formatRequest [TYPE] String [PARAMETER] Position position [CLASS] WebDataHandler   [TYPE]  UnsupportedEncodingException error  [TYPE]  Object error  [TYPE]  String attributes  request  url  [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  Device device 
[REPLACE]^if  ( request .replace ( null , null )   )  {^104^^^^^76^119^[REPLACE] if  ( request.contains ( "{attributes}" )  )  {^[METHOD] formatRequest [TYPE] String [PARAMETER] Position position [CLASS] WebDataHandler   [TYPE]  UnsupportedEncodingException error  [TYPE]  Object error  [TYPE]  String attributes  request  url  [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  Device device 
[ADD]^String attributes = Context.getObjectMapper (  ) .writeValueAsString ( position.getAttributes (  )  ) ;"{attributes}", URLEncoder.encode ( attributes, StandardCharsets.UTF_8.name (  )  )  ) ;^105^106^107^108^109^76^119^[ADD] try { String attributes = Context.getObjectMapper (  ) .writeValueAsString ( position.getAttributes (  )  ) ; request = request.replace ( "{attributes}", URLEncoder.encode ( attributes, StandardCharsets.UTF_8.name (  )  )  ) ; } catch  ( UnsupportedEncodingException | JsonProcessingException error )  {^[METHOD] formatRequest [TYPE] String [PARAMETER] Position position [CLASS] WebDataHandler   [TYPE]  UnsupportedEncodingException error  [TYPE]  Object error  [TYPE]  String attributes  request  url  [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  Device device 
[ADD]^^107^108^^^^76^119^[ADD] request = request.replace ( "{attributes}", URLEncoder.encode ( attributes, StandardCharsets.UTF_8.name (  )  )  ) ;^[METHOD] formatRequest [TYPE] String [PARAMETER] Position position [CLASS] WebDataHandler   [TYPE]  UnsupportedEncodingException error  [TYPE]  Object error  [TYPE]  String attributes  request  url  [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  Device device 
[REPLACE]^String attributes = Context.getObjectMapper (  ) .replace ( position.getAttributes (  )  ) ;^106^^^^^76^119^[REPLACE] String attributes = Context.getObjectMapper (  ) .writeValueAsString ( position.getAttributes (  )  ) ;^[METHOD] formatRequest [TYPE] String [PARAMETER] Position position [CLASS] WebDataHandler   [TYPE]  UnsupportedEncodingException error  [TYPE]  Object error  [TYPE]  String attributes  request  url  [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  Device device 
[REPLACE]^request =  url.replace ( "{attributes}", URLEncoder.encode ( attributes, StandardCharsets.UTF_8.name (  )  )  ) ;^107^108^^^^76^119^[REPLACE] request = request.replace ( "{attributes}", URLEncoder.encode ( attributes, StandardCharsets.UTF_8.name (  )  )  ) ;^[METHOD] formatRequest [TYPE] String [PARAMETER] Position position [CLASS] WebDataHandler   [TYPE]  UnsupportedEncodingException error  [TYPE]  Object error  [TYPE]  String attributes  request  url  [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  Device device 
[ADD]^^109^110^^^^76^119^[ADD] catch  ( UnsupportedEncodingException | JsonProcessingException error )  { Log.warning ( error ) ;^[METHOD] formatRequest [TYPE] String [PARAMETER] Position position [CLASS] WebDataHandler   [TYPE]  UnsupportedEncodingException error  [TYPE]  Object error  [TYPE]  String attributes  request  url  [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  Device device 
[ADD]^^106^^^^^76^119^[ADD] String attributes = Context.getObjectMapper (  ) .writeValueAsString ( position.getAttributes (  )  ) ;^[METHOD] formatRequest [TYPE] String [PARAMETER] Position position [CLASS] WebDataHandler   [TYPE]  UnsupportedEncodingException error  [TYPE]  Object error  [TYPE]  String attributes  request  url  [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  Device device 
[REPLACE]^if  ( request.contains ( "{gprmc}"  )  && request.contains ( "{attributes}" )  )  )  {^114^^^^^76^119^[REPLACE] if  ( request.contains ( "{gprmc}" )  )  {^[METHOD] formatRequest [TYPE] String [PARAMETER] Position position [CLASS] WebDataHandler   [TYPE]  UnsupportedEncodingException error  [TYPE]  Object error  [TYPE]  String attributes  request  url  [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  Device device 
[REPLACE]^request =  url.replace ( "{gprmc}", formatSentence ( position )  ) ;^115^^^^^76^119^[REPLACE] request = request.replace ( "{gprmc}", formatSentence ( position )  ) ;^[METHOD] formatRequest [TYPE] String [PARAMETER] Position position [CLASS] WebDataHandler   [TYPE]  UnsupportedEncodingException error  [TYPE]  Object error  [TYPE]  String attributes  request  url  [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  Device device 
[REPLACE]^request =  null.replace ( "{gprmc}", formatSentence ( position )  ) ;^115^^^^^76^119^[REPLACE] request = request.replace ( "{gprmc}", formatSentence ( position )  ) ;^[METHOD] formatRequest [TYPE] String [PARAMETER] Position position [CLASS] WebDataHandler   [TYPE]  UnsupportedEncodingException error  [TYPE]  Object error  [TYPE]  String attributes  request  url  [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  Device device 
[REPLACE]^return url;^118^^^^^76^119^[REPLACE] return request;^[METHOD] formatRequest [TYPE] String [PARAMETER] Position position [CLASS] WebDataHandler   [TYPE]  UnsupportedEncodingException error  [TYPE]  Object error  [TYPE]  String attributes  request  url  [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  Device device 
