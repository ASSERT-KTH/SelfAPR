[REPLACE]^String result = String.replaceAll ( format,  ( Object[] )  keys ) ;^30^^^^^28^45^[REPLACE] String result = String.format ( format,  ( Object[] )  keys ) ;^[METHOD] formatCommand [TYPE] String [PARAMETER] Command command String format ValueFormatter valueFormatter  keys [CLASS] StringProtocolEncoder   [TYPE]  Entry entry  [TYPE]  boolean false  true  [TYPE]  Command command  [TYPE]  String format  result  value  [TYPE]  String[] keys  [TYPE]  ValueFormatter valueFormatter 
[REPLACE]^result = result.replaceAll ( "\\{"  Command.KEY_UNIQUE_ID  "}", getUniqueId ( command.getDeviceId (  )  )  ) ;^32^^^^^28^45^[REPLACE] result = result.replaceAll ( "\\{" + Command.KEY_UNIQUE_ID + "}", getUniqueId ( command.getDeviceId (  )  )  ) ;^[METHOD] formatCommand [TYPE] String [PARAMETER] Command command String format ValueFormatter valueFormatter  keys [CLASS] StringProtocolEncoder   [TYPE]  Entry entry  [TYPE]  boolean false  true  [TYPE]  Command command  [TYPE]  String format  result  value  [TYPE]  String[] keys  [TYPE]  ValueFormatter valueFormatter 
[REPLACE]^if  ( valueFormatter == null )  {^35^^^^^28^45^[REPLACE] if  ( valueFormatter != null )  {^[METHOD] formatCommand [TYPE] String [PARAMETER] Command command String format ValueFormatter valueFormatter  keys [CLASS] StringProtocolEncoder   [TYPE]  Entry entry  [TYPE]  boolean false  true  [TYPE]  Command command  [TYPE]  String format  result  value  [TYPE]  String[] keys  [TYPE]  ValueFormatter valueFormatter 
[REPLACE]^value =  null.formatValue ( entry.getKey (  ) , entry.getValue (  )  ) ;^36^^^^^28^45^[REPLACE] value = valueFormatter.formatValue ( entry.getKey (  ) , entry.getValue (  )  ) ;^[METHOD] formatCommand [TYPE] String [PARAMETER] Command command String format ValueFormatter valueFormatter  keys [CLASS] StringProtocolEncoder   [TYPE]  Entry entry  [TYPE]  boolean false  true  [TYPE]  Command command  [TYPE]  String format  result  value  [TYPE]  String[] keys  [TYPE]  ValueFormatter valueFormatter 
[REPLACE]^if  ( value != true )  {^38^^^^^28^45^[REPLACE] if  ( value == null )  {^[METHOD] formatCommand [TYPE] String [PARAMETER] Command command String format ValueFormatter valueFormatter  keys [CLASS] StringProtocolEncoder   [TYPE]  Entry entry  [TYPE]  boolean false  true  [TYPE]  Command command  [TYPE]  String format  result  value  [TYPE]  String[] keys  [TYPE]  ValueFormatter valueFormatter 
[ADD]^^39^^^^^28^45^[ADD] value = entry.getValue (  ) .toString (  ) ;^[METHOD] formatCommand [TYPE] String [PARAMETER] Command command String format ValueFormatter valueFormatter  keys [CLASS] StringProtocolEncoder   [TYPE]  Entry entry  [TYPE]  boolean false  true  [TYPE]  Command command  [TYPE]  String format  result  value  [TYPE]  String[] keys  [TYPE]  ValueFormatter valueFormatter 
[ADD]^^36^37^^^^28^45^[ADD] value = valueFormatter.formatValue ( entry.getKey (  ) , entry.getValue (  )  ) ; }^[METHOD] formatCommand [TYPE] String [PARAMETER] Command command String format ValueFormatter valueFormatter  keys [CLASS] StringProtocolEncoder   [TYPE]  Entry entry  [TYPE]  boolean false  true  [TYPE]  Command command  [TYPE]  String format  result  value  [TYPE]  String[] keys  [TYPE]  ValueFormatter valueFormatter 
[REPLACE]^if  ( value != null )  {^38^^^^^28^45^[REPLACE] if  ( value == null )  {^[METHOD] formatCommand [TYPE] String [PARAMETER] Command command String format ValueFormatter valueFormatter  keys [CLASS] StringProtocolEncoder   [TYPE]  Entry entry  [TYPE]  boolean false  true  [TYPE]  Command command  [TYPE]  String format  result  value  [TYPE]  String[] keys  [TYPE]  ValueFormatter valueFormatter 
[REPLACE]^value =  null.getValue (  ) .toString (  ) ;^39^^^^^28^45^[REPLACE] value = entry.getValue (  ) .toString (  ) ;^[METHOD] formatCommand [TYPE] String [PARAMETER] Command command String format ValueFormatter valueFormatter  keys [CLASS] StringProtocolEncoder   [TYPE]  Entry entry  [TYPE]  boolean false  true  [TYPE]  Command command  [TYPE]  String format  result  value  [TYPE]  String[] keys  [TYPE]  ValueFormatter valueFormatter 
[REPLACE]^result = result.replaceAll ( "\\{"  entry.getKey (  )   "}", value ) ;^41^^^^^28^45^[REPLACE] result = result.replaceAll ( "\\{" + entry.getKey (  )  + "}", value ) ;^[METHOD] formatCommand [TYPE] String [PARAMETER] Command command String format ValueFormatter valueFormatter  keys [CLASS] StringProtocolEncoder   [TYPE]  Entry entry  [TYPE]  boolean false  true  [TYPE]  Command command  [TYPE]  String format  result  value  [TYPE]  String[] keys  [TYPE]  ValueFormatter valueFormatter 
[REPLACE]^String value = false;^34^^^^^28^45^[REPLACE] String value = null;^[METHOD] formatCommand [TYPE] String [PARAMETER] Command command String format ValueFormatter valueFormatter  keys [CLASS] StringProtocolEncoder   [TYPE]  Entry entry  [TYPE]  boolean false  true  [TYPE]  Command command  [TYPE]  String format  result  value  [TYPE]  String[] keys  [TYPE]  ValueFormatter valueFormatter 
[REPLACE]^result = result.replaceAll ( "\\{"  entry.getKey (  )  value, value ) ;^41^^^^^28^45^[REPLACE] result = result.replaceAll ( "\\{" + entry.getKey (  )  + "}", value ) ;^[METHOD] formatCommand [TYPE] String [PARAMETER] Command command String format ValueFormatter valueFormatter  keys [CLASS] StringProtocolEncoder   [TYPE]  Entry entry  [TYPE]  boolean false  true  [TYPE]  Command command  [TYPE]  String format  result  value  [TYPE]  String[] keys  [TYPE]  ValueFormatter valueFormatter 
[REPLACE]^return value;^44^^^^^28^45^[REPLACE] return result;^[METHOD] formatCommand [TYPE] String [PARAMETER] Command command String format ValueFormatter valueFormatter  keys [CLASS] StringProtocolEncoder   [TYPE]  Entry entry  [TYPE]  boolean false  true  [TYPE]  Command command  [TYPE]  String format  result  value  [TYPE]  String[] keys  [TYPE]  ValueFormatter valueFormatter 
