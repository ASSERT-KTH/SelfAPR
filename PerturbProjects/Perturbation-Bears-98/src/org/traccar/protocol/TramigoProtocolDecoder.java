[REPLACE]^public static final int MSG_COMPACT ;^43^^^^^^^[REPLACE] public static final int MSG_COMPACT = 0x0100;^ [CLASS] TramigoProtocolDecoder  
[REPLACE]^public static final int MSG_FULL  = null ;^44^^^^^^^[REPLACE] public static final int MSG_FULL = 0x00FE;^ [CLASS] TramigoProtocolDecoder  
[REPLACE]^private static  Object DIRECTIONS = new Object {"N", "NE", "E", "SE", "S", "SW", "W", "NW"};^46^^^^^^^[REPLACE] private static final String[] DIRECTIONS = new String[] {"N", "NE", "E", "SE", "S", "SW", "W", "NW"};^ [CLASS] TramigoProtocolDecoder  
[ADD]^^52^^^^^50^153^[ADD] ChannelBuffer buf =  ( ChannelBuffer )  msg;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^int type = buf.readUnsignedShort (  )  ;^54^^^^^50^153^[REPLACE] int protocol = buf.readUnsignedByte (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^buf.readUnsignedInt (  )  ;^55^^^^^50^153^[REPLACE] buf.readUnsignedByte (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^int index = buf .readUnsignedInt (  )  ;^56^^^^^50^153^[REPLACE] int index = buf.readUnsignedShort (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^int type = buf.readUnsignedInt (  ) ;^57^^^^^50^153^[REPLACE] int type = buf.readUnsignedShort (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^buf.readUnsignedInt (  ) ;^58^^^^^50^153^[REPLACE] buf.readUnsignedShort (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REMOVE]^( buf.readUnsignedShort (  )  )  ;^58^^^^^50^153^[REMOVE] ^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^buf.readUnsignedInt (  ) ;^59^^^^^50^153^[REPLACE] buf.readUnsignedShort (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^buf.readUnsignedInt (  ) ;^60^^^^^50^153^[REPLACE] buf.readUnsignedShort (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[ADD]^^60^61^^^^50^153^[ADD] buf.readUnsignedShort (  ) ; long id = buf.readUnsignedInt (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^long id = buf .readUnsignedByte (  )  ;^61^^^^^50^153^[REPLACE] long id = buf.readUnsignedInt (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^( buf.readUnsignedInt (  )  )  ;^62^^^^^50^153^[REPLACE] buf.readUnsignedInt (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^position .setCourse ( null )  ;^65^^^^^50^153^[REPLACE] position.setProtocol ( getProtocolName (  )  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^position.set ( Position.KEY_INDEX, type ) ;^66^^^^^50^153^[REPLACE] position.set ( Position.KEY_INDEX, index ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^position.setValid ( false ) ;^67^^^^^50^153^[REPLACE] position.setValid ( true ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^DeviceSession deviceSession = getDeviceSession ( channel, remoteAddress, String.equals ( id )  ) ;^69^^^^^50^153^[REPLACE] DeviceSession deviceSession = getDeviceSession ( channel, remoteAddress, String.valueOf ( id )  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^if  ( sentence.contains ( "Ignition off detected" )  && ( deviceSession != null )  {^70^^^^^50^153^[REPLACE] if  ( deviceSession == null )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^return true;^71^^^^^50^153^[REPLACE] return null;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^return this;^71^^^^^50^153^[REPLACE] return null;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^position.set ( deviceSession.getDeviceId (  )  ) ;^73^^^^^50^153^[REPLACE] position.setDeviceId ( deviceSession.getDeviceId (  )  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REMOVE]^deviceSession.getDeviceId (  )  ;^73^^^^^50^153^[REMOVE] ^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^if  ( protocol == 0x01 ) {^75^^^^^50^153^[REPLACE] if  ( protocol == 0x01 &&  ( type == MSG_COMPACT || type == MSG_FULL )  )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^}  else {^105^^^^^50^153^[REPLACE] } else if  ( protocol == 0x80 )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[ADD]^}   channel.write ( ChannelBuffers.copiedBuffer ( "gprs,ack," + index, StandardCharsets.US_ASCII )  ) ;^105^106^107^108^109^50^153^[ADD] else if  ( protocol == 0x80 )  {  if  ( channel != null )  { channel.write ( ChannelBuffers.copiedBuffer ( "gprs,ack," + index, StandardCharsets.US_ASCII )  ) ; }^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^if  ( channel == null )  {^107^^^^^50^153^[REPLACE] if  ( channel != null )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^channel.write ( ChannelBuffers.copiedBuffer ( "gprs,ack,"  index, StandardCharsets.US_ASCII )  ) ;^108^^^^^50^153^[REPLACE] channel.write ( ChannelBuffers.copiedBuffer ( "gprs,ack," + index, StandardCharsets.US_ASCII )  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^channel.write ( ChannelBuffers.copiedBuffer ( sentence  type, StandardCharsets.US_ASCII )  ) ;^108^^^^^50^153^[REPLACE] channel.write ( ChannelBuffers.copiedBuffer ( "gprs,ack," + index, StandardCharsets.US_ASCII )  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REMOVE]^channel.write ( copiedBuffer (  ( "gprs,ack," + index ) , US_ASCII )  )  ;^108^^^^^50^153^[REMOVE] ^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^if  ( !matcher.group (  )  )  {^115^^^^^50^153^[REPLACE] if  ( !matcher.find (  )  )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^return this;^116^^^^^50^153^[REPLACE] return null;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^if  ( ! ( matcher.find (  )  )  || ( matcher.find (  )  )  {^123^^^^^50^153^[REPLACE] if  ( matcher.find (  )  )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^if  ( matcher.group ( 1  )  &&  ( protocol == 1 )  &&  (  ( type ==  ( MSG_COMPACT )  )  ||  ( type ==  ( MSG_FULL )  )  )  ) .equals ( DIRECTIONS[i] )  )  {^125^^^^^50^153^[REPLACE] if  ( matcher.group ( 1 ) .equals ( DIRECTIONS[i] )  )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[ADD]^position.setCourse ( i * 45.0 ) ;break;^125^126^127^128^^50^153^[ADD] if  ( matcher.group ( 1 ) .equals ( DIRECTIONS[i] )  )  { position.setCourse ( i * 45.0 ) ; break; }^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^posindextion.setCourse ( i  45.0 ) ;^126^^^^^50^153^[REPLACE] position.setCourse ( i * 45.0 ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^for  ( int i = 0 ; i < DIRECTIONS.length; i++ )  {^124^^^^^50^153^[REPLACE] for  ( int i = 0; i < DIRECTIONS.length; i++ )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^if  ( matcher.group ( 1  )  ||  ( protocol == 1 )  &&  (  ( type ==  ( MSG_COMPACT )  )  ||  ( type ==  ( MSG_FULL )  )  )  ) .equals ( DIRECTIONS[i] )  )  {^125^^^^^50^153^[REPLACE] if  ( matcher.group ( 1 ) .equals ( DIRECTIONS[i] )  )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^position.setCourse ( i  3.0d ) ;^126^^^^^50^153^[REPLACE] position.setCourse ( i * 45.0 ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REMOVE]^position.setValid ( true )  ;^126^^^^^50^153^[REMOVE] ^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^if  ( matcher.find (  )  )  {^135^^^^^50^153^[REPLACE] if  ( !matcher.find (  )  )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[ADD]^^135^136^137^^^50^153^[ADD] if  ( !matcher.find (  )  )  { return null; }^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^return this;^136^^^^^50^153^[REPLACE] return null;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^if  ( sentence.equals ( "Ignition on detected" )  )  {^142^^^^^50^153^[REPLACE] if  ( sentence.contains ( "Ignition on detected" )  )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^}  else {^144^^^^^50^153^[REPLACE] } else if  ( sentence.contains ( "Ignition off detected" )  )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^position.set ( Position.KEY_IGNITION, true ) ;^145^^^^^50^153^[REPLACE] position.set ( Position.KEY_IGNITION, false ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[ADD]^^145^^^^^50^153^[ADD] position.set ( Position.KEY_IGNITION, false ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^position.set ( Position.KEY_IGNITION, false ) ;^143^^^^^50^153^[REPLACE] position.set ( Position.KEY_IGNITION, true ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[ADD]^}^144^145^146^^^50^153^[ADD] else if  ( sentence.contains ( "Ignition off detected" )  )  { position.set ( Position.KEY_IGNITION, false ) ; }^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^position.set ( Position.KEY_IGNITION, true )  ;^145^^^^^50^153^[REPLACE] position.set ( Position.KEY_IGNITION, false ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^pattern ;^121^^^^^50^153^[REPLACE] pattern = Pattern.compile ( " ( [NSWE]{1,2} )  with speed  ( \\d+ )  km/h" ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^matcher =  null.matcher ( sentence ) ;^122^^^^^50^153^[REPLACE] matcher = pattern.matcher ( sentence ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^pattern  =  pattern ;^133^^^^^50^153^[REPLACE] pattern = Pattern.compile ( " ( \\d{1,2}:\\d{2} \\w{3} \\d{1,2} ) " ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^matcher =  null.matcher ( sentence ) ;^134^^^^^50^153^[REPLACE] matcher = pattern.matcher ( sentence ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^return true;^116^^^^^50^153^[REPLACE] return null;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^return false;^136^^^^^50^153^[REPLACE] return null;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^String sentence = buf .readUnsignedInt (  )  ;^111^^^^^50^153^[REPLACE] String sentence = buf.toString ( StandardCharsets.US_ASCII ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^Matcher.compile = pattern.matcher ( sentence ) ;^114^^^^^50^153^[REPLACE] Matcher matcher = pattern.matcher ( sentence ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[ADD]^^138^^^^^50^153^[ADD] DateFormat dateFormat = new SimpleDateFormat ( "HH:mm MMM d yyyy", Locale.ENGLISH ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^channel.write ( ChannelBuffers.copiedBuffer ( "gprs,ack,"  type, StandardCharsets.US_ASCII )  ) ;^108^^^^^50^153^[REPLACE] channel.write ( ChannelBuffers.copiedBuffer ( "gprs,ack," + index, StandardCharsets.US_ASCII )  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^channel.write ( ChannelBuffers.copiedBuffer (sentence  index, StandardCharsets.US_ASCII )  ) ;^108^^^^^50^153^[REPLACE] channel.write ( ChannelBuffers.copiedBuffer ( "gprs,ack," + index, StandardCharsets.US_ASCII )  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^if  ( matcher.group ( 4 ) .equals ( DIRECTIONS[i] )  )  {^125^^^^^50^153^[REPLACE] if  ( matcher.group ( 1 ) .equals ( DIRECTIONS[i] )  )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^position.setCourse ( i  45.0 ) ;^126^^^^^50^153^[REPLACE] position.setCourse ( i * 45.0 ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^if  ( matcher.group ( 2 ) .equals ( DIRECTIONS[i] )  )  {^125^^^^^50^153^[REPLACE] if  ( matcher.group ( 1 ) .equals ( DIRECTIONS[i] )  )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^position.setCourse (index  45.0 ) ;^126^^^^^50^153^[REPLACE] position.setCourse ( i * 45.0 ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^if  ( !matcher.group (  )  )  {^135^^^^^50^153^[REPLACE] if  ( !matcher.find (  )  )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^return true;^136^^^^^50^153^[REPLACE] return null;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^position.set ( Position.KEY_IGNITION, false )  ;^143^^^^^50^153^[REPLACE] position.set ( Position.KEY_IGNITION, true ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^}  if  ( sentence.equals ( "Ignition off detected" )  )  {^144^^^^^50^153^[REPLACE] } else if  ( sentence.contains ( "Ignition off detected" )  )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^position .set ( protocol )  ;^145^^^^^50^153^[REPLACE] position.set ( Position.KEY_IGNITION, false ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^pattern  =  pattern ;^121^^^^^50^153^[REPLACE] pattern = Pattern.compile ( " ( [NSWE]{1,2} )  with speed  ( \\d+ )  km/h" ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^pattern ;^133^^^^^50^153^[REPLACE] pattern = Pattern.compile ( " ( \\d{1,2}:\\d{2} \\w{3} \\d{1,2} ) " ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^if  ( channel == false )  {^107^^^^^50^153^[REPLACE] if  ( channel != null )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[ADD]^^108^^^^^50^153^[ADD] channel.write ( ChannelBuffers.copiedBuffer ( "gprs,ack," + index, StandardCharsets.US_ASCII )  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^return false;^116^^^^^50^153^[REPLACE] return null;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^if  ( ! ( matcher.find (  )  )  && ( matcher.find (  )  )  {^123^^^^^50^153^[REPLACE] if  ( matcher.find (  )  )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^position.setCourse ( i index ) ;^126^^^^^50^153^[REPLACE] position.setCourse ( i * 45.0 ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^if  ( sentence.contains ( "Ignition off detected" )  && ( sentence.contains ( "Ignition on detected" )  )  {^142^^^^^50^153^[REPLACE] if  ( sentence.contains ( "Ignition on detected" )  )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[ADD]^}   position.set ( Position.KEY_IGNITION, false ) ;^144^145^146^^^50^153^[ADD] else if  ( sentence.contains ( "Ignition off detected" )  )  { position.set ( Position.KEY_IGNITION, false ) ; }^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^}  if  ( sentence .equals ( msg  )  || sentence.contains ( "Ignition on detected" )  )   )  {^144^^^^^50^153^[REPLACE] } else if  ( sentence.contains ( "Ignition off detected" )  )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^position .set ( MSG_COMPACT )  ;^145^^^^^50^153^[REPLACE] position.set ( Position.KEY_IGNITION, false ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[ADD]^^134^^^^^50^153^[ADD] matcher = pattern.matcher ( sentence ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[ADD]^^111^^^^^50^153^[ADD] String sentence = buf.toString ( StandardCharsets.US_ASCII ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[ADD]^^124^125^126^127^128^50^153^[ADD] for  ( int i = 0; i < DIRECTIONS.length; i++ )  { if  ( matcher.group ( 1 ) .equals ( DIRECTIONS[i] )  )  { position.setCourse ( i * 45.0 ) ; break; }^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^channel.write ( ChannelBuffers.copiedBuffer ( "gprs,ack," sentence, StandardCharsets.US_ASCII )  ) ;^108^^^^^50^153^[REPLACE] channel.write ( ChannelBuffers.copiedBuffer ( "gprs,ack," + index, StandardCharsets.US_ASCII )  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^if  ( !matcher.find (   )  && matcher.find (  )  )  )  {^115^^^^^50^153^[REPLACE] if  ( !matcher.find (  )  )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^if  ( matcher.group ( 1 ) .contains ( DIRECTIONS[i] )  )  {^125^^^^^50^153^[REPLACE] if  ( matcher.group ( 1 ) .equals ( DIRECTIONS[i] )  )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^position.setProtocol ( index  1.0d ) ;^126^^^^^50^153^[REPLACE] position.setCourse ( i * 45.0 ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^if  ( sentence.contains ( "Ignition on detected"  )  || sentence.contains ( "Ignition off detected" )  )  )  {^142^^^^^50^153^[REPLACE] if  ( sentence.contains ( "Ignition on detected" )  )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[ADD]^^142^143^144^145^146^50^153^[ADD] if  ( sentence.contains ( "Ignition on detected" )  )  { position.set ( Position.KEY_IGNITION, true ) ; } else if  ( sentence.contains ( "Ignition off detected" )  )  { position.set ( Position.KEY_IGNITION, false ) ; }^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^return this;^152^^^^^50^153^[REPLACE] return null;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] TramigoProtocolDecoder   [TYPE]  Pattern pattern  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Matcher matcher  [TYPE]  Channel channel  [TYPE]  String[] DIRECTIONS  [TYPE]  String sentence  [TYPE]  int MSG_COMPACT  MSG_FULL  i  index  protocol  type  [TYPE]  long id  [TYPE]  ChannelBuffer buf  [TYPE]  boolean false  true  [TYPE]  DateFormat dateFormat  [TYPE]  Object msg  [TYPE]  SocketAddress remoteAddress 
