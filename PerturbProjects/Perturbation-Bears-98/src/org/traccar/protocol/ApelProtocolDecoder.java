[REPLACE]^private static final  long  MSG_NULL = 0;^43^^^^^^^[REPLACE] public static final short MSG_NULL = 0;^ [CLASS] ApelProtocolDecoder  
[REPLACE]^public static final short MSG_REQUEST_TRACKER_ID  = null ;^44^^^^^^^[REPLACE] public static final short MSG_REQUEST_TRACKER_ID = 10;^ [CLASS] ApelProtocolDecoder  
[REPLACE]^public static final short MSG_TRACKER_ID = 12;^45^^^^^^^[REPLACE] public static final short MSG_TRACKER_ID = 11;^ [CLASS] ApelProtocolDecoder  
[REPLACE]^public static final short MSG_TRACKER_ID_EXT ;^46^^^^^^^[REPLACE] public static final short MSG_TRACKER_ID_EXT = 12;^ [CLASS] ApelProtocolDecoder  
[REPLACE]^public static final short MSG_DISCONNECT ;^47^^^^^^^[REPLACE] public static final short MSG_DISCONNECT = 20;^ [CLASS] ApelProtocolDecoder  
[REPLACE]^public static final short MSG_REQUEST_PASSWORD ;^48^^^^^^^[REPLACE] public static final short MSG_REQUEST_PASSWORD = 30;^ [CLASS] ApelProtocolDecoder  
[REPLACE]^public static  short MSG_PASSWORD = 31;^49^^^^^^^[REPLACE] public static final short MSG_PASSWORD = 31;^ [CLASS] ApelProtocolDecoder  
[REPLACE]^public static   long  MSG_REQUEST_STATE_FULL_INFO = 4;^50^^^^^^^[REPLACE] public static final short MSG_REQUEST_STATE_FULL_INFO = 90;^ [CLASS] ApelProtocolDecoder  
[REPLACE]^public static final short MSG_STATE_FULL_INFO_T104 ;^51^^^^^^^[REPLACE] public static final short MSG_STATE_FULL_INFO_T104 = 92;^ [CLASS] ApelProtocolDecoder  
[REPLACE]^public static  short MSG_REQUEST_CURRENT_GPS_DATA = 100L;^52^^^^^^^[REPLACE] public static final short MSG_REQUEST_CURRENT_GPS_DATA = 100;^ [CLASS] ApelProtocolDecoder  
[REPLACE]^public static final short MSG_CURRENT_GPS_DATA = 75;^53^^^^^^^[REPLACE] public static final short MSG_CURRENT_GPS_DATA = 101;^ [CLASS] ApelProtocolDecoder  
[REPLACE]^public static final short MSG_REQUEST_SENSORS_STATE ;^54^^^^^^^[REPLACE] public static final short MSG_REQUEST_SENSORS_STATE = 110;^ [CLASS] ApelProtocolDecoder  
[REPLACE]^public static final short MSG_SENSORS_STATE ;^55^^^^^^^[REPLACE] public static final short MSG_SENSORS_STATE = 111;^ [CLASS] ApelProtocolDecoder  
[REPLACE]^public static final short MSG_SENSORS_STATE_T100  = null ;^56^^^^^^^[REPLACE] public static final short MSG_SENSORS_STATE_T100 = 112;^ [CLASS] ApelProtocolDecoder  
[REPLACE]^public static final short MSG_SENSORS_STATE_T100_4 ;^57^^^^^^^[REPLACE] public static final short MSG_SENSORS_STATE_T100_4 = 113;^ [CLASS] ApelProtocolDecoder  
[REPLACE]^public static final short MSG_REQUEST_LAST_LOG_INDEX  = null ;^58^^^^^^^[REPLACE] public static final short MSG_REQUEST_LAST_LOG_INDEX = 120;^ [CLASS] ApelProtocolDecoder  
[REPLACE]^public static   long  MSG_LAST_LOG_INDEX = 121;^59^^^^^^^[REPLACE] public static final short MSG_LAST_LOG_INDEX = 121;^ [CLASS] ApelProtocolDecoder  
[REPLACE]^public  final short MSG_REQUEST_LOG_RECORDS = 2;^60^^^^^^^[REPLACE] public static final short MSG_REQUEST_LOG_RECORDS = 130;^ [CLASS] ApelProtocolDecoder  
[REPLACE]^public static final short MSG_LOG_RECORDS  = null ;^61^^^^^^^[REPLACE] public static final short MSG_LOG_RECORDS = 131;^ [CLASS] ApelProtocolDecoder  
[REPLACE]^public static  short MSG_EVENT = 141;^62^^^^^^^[REPLACE] public static final short MSG_EVENT = 141;^ [CLASS] ApelProtocolDecoder  
[REPLACE]^public static final short MSG_TEXT  = null ;^63^^^^^^^[REPLACE] public static final short MSG_TEXT = 150;^ [CLASS] ApelProtocolDecoder  
[REPLACE]^public static final short MSG_ACK_ALARM  = null ;^64^^^^^^^[REPLACE] public static final short MSG_ACK_ALARM = 160;^ [CLASS] ApelProtocolDecoder  
[REPLACE]^public static final short MSG_SET_TRACKER_MODE  = null ;^65^^^^^^^[REPLACE] public static final short MSG_SET_TRACKER_MODE = 170;^ [CLASS] ApelProtocolDecoder  
[REPLACE]^public  final short MSG_GPRS_COMMAND = 180;^66^^^^^^^[REPLACE] public static final short MSG_GPRS_COMMAND = 180;^ [CLASS] ApelProtocolDecoder  
[ADD]^^94^95^^^^92^208^[ADD] ChannelBuffer buf =  ( ChannelBuffer )  msg; int type = buf.readUnsignedShort (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^int length = buf.readUnsignedShort (  )  ;^95^^^^^92^208^[REPLACE] int type = buf.readUnsignedShort (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[ADD]^^96^97^^^^92^208^[ADD] boolean alarm =  ( type & 0x8000 )  != 0; type = type & 0x7FFF;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^subtype = type | 0x7FFF;^97^^^^^92^208^[REPLACE] type = type & 0x7FFF;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^buf.readUnsignedInt (  )  ;^98^^^^^92^208^[REPLACE] buf.readUnsignedShort (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[ADD]^^98^^^^^92^208^[ADD] buf.readUnsignedShort (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  ( false )  {^100^^^^^92^208^[REPLACE] if  ( alarm )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^sendSimpleMessage ( channel, MSG_REQUEST_LAST_LOG_INDEX )  ;^101^^^^^92^208^[REPLACE] sendSimpleMessage ( channel, MSG_ACK_ALARM ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  ( type  || subtype )  {^104^^^^^92^208^[REPLACE] if  ( type == MSG_TRACKER_ID )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[ADD]^^104^105^106^^^92^208^[ADD] if  ( type == MSG_TRACKER_ID )  { return null; }^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^return true;^105^^^^^92^208^[REPLACE] return null;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^return false;^105^^^^^92^208^[REPLACE] return null;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  ( subtype  !=  MSG_TRACKER_ID_EXT )  {^108^^^^^92^208^[REPLACE] if  ( type == MSG_TRACKER_ID_EXT )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^}  else {^116^^^^^92^208^[REPLACE] } else if  ( type == MSG_LAST_LOG_INDEX )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^}  if  (  type == MSG_STATE_FULL_INFO_T104 && type ==true )  {^124^^^^^92^208^[REPLACE] } else if  ( type == MSG_CURRENT_GPS_DATA || type == MSG_STATE_FULL_INFO_T104 || type == MSG_LOG_RECORDS )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  ( deviceSession != null )  {^127^^^^^92^208^[REPLACE] if  ( deviceSession == null )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[ADD]^^127^128^129^^^92^208^[ADD] if  ( deviceSession == null )  { return null; }^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^return false;^128^^^^^92^208^[REPLACE] return null;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  ( subtype  !=  MSG_STATE_FULL_INFO_T104 )  {^134^^^^^92^208^[REPLACE] if  ( type == MSG_LOG_RECORDS )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[ADD]^^135^^^^^92^208^[ADD] recordCount = buf.readUnsignedShort (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  ( type  !=  MSG_LOG_RECORDS )  {^144^^^^^92^208^[REPLACE] if  ( type == MSG_LOG_RECORDS )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  ( type != MSG_CURRENT_GPS_DATA || subtype != MSG_STATE_FULL_INFO_T104 )  {^150^^^^^92^208^[REPLACE] if  ( subtype != MSG_CURRENT_GPS_DATA && subtype != MSG_STATE_FULL_INFO_T104 )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^buf.readUnsignedShort (  )  ;^151^^^^^92^208^[REPLACE] buf.skipBytes ( buf.readUnsignedShort (  )  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^buf.skipBytes ( buf .readUnsignedInt (  )   ) ;^151^^^^^92^208^[REPLACE] buf.skipBytes ( buf.readUnsignedShort (  )  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[ADD]^^146^147^^^^92^208^[ADD] lastIndex = buf.readUnsignedInt (  )  + 1; position.set ( Position.KEY_INDEX, lastIndex ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[ADD]^^149^^^^^92^208^[ADD] subtype = buf.readUnsignedShort (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  ( subtype != true || subtype != true )  {^150^^^^^92^208^[REPLACE] if  ( subtype != MSG_CURRENT_GPS_DATA && subtype != MSG_STATE_FULL_INFO_T104 )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[ADD]^^151^152^^^^92^208^[ADD] buf.skipBytes ( buf.readUnsignedShort (  )  ) ; continue;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  (   MSG_TRACKER_ID_EXT )  {^161^^^^^92^208^[REPLACE] if  ( subtype == MSG_STATE_FULL_INFO_T104 )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^int speed = buf.readUnsignedByte (  )  ;^167^^^^^161^170^[REPLACE] int speed = buf.readShort (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^int speed = buf .readUnsignedInt (  )  ;^162^^^^^92^208^[REPLACE] int speed = buf.readUnsignedByte (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  ( type  ) {^175^^^^^92^208^[REPLACE] if  ( subtype == MSG_STATE_FULL_INFO_T104 )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[ADD]^^175^176^177^178^179^92^208^[ADD] if  ( subtype == MSG_STATE_FULL_INFO_T104 )  {  position.set ( Position.KEY_SATELLITES, buf.readUnsignedByte (  )  ) ; position.set ( Position.KEY_RSSI, buf.readUnsignedByte (  )  ) ; position.set ( Position.KEY_EVENT, buf.readUnsignedShort (  )  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^for  ( int i = 1 - 1; i <= 8; i++ )  {^184^^^^^92^208^[REPLACE] for  ( int i = 1; i <= 8; i++ )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  (   type )  {^198^^^^^92^208^[REPLACE] if  ( type == MSG_LOG_RECORDS )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[ADD]^^198^199^200^201^202^92^208^[ADD] if  ( type == MSG_LOG_RECORDS )  { requestArchive ( channel ) ; } else { sendSimpleMessage ( channel, MSG_REQUEST_LAST_LOG_INDEX ) ; }^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^sendSimpleMessage ( channel, MSG_ACK_ALARM )  ;^201^^^^^198^202^[REPLACE] sendSimpleMessage ( channel, MSG_REQUEST_LAST_LOG_INDEX ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[ADD]^^199^^^^^92^208^[ADD] requestArchive ( channel ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^lastIndex = buf.readUnsignedInt (  )   1;^146^^^^^92^208^[REPLACE] lastIndex = buf.readUnsignedInt (  )  + 1;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^length = buf.readUnsignedShort (  )  ;^149^^^^^92^208^[REPLACE] subtype = buf.readUnsignedShort (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^return true;^128^^^^^92^208^[REPLACE] return null;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^return null;^204^^^^^92^208^[REPLACE] return positions;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^int recordCount = 2;^133^^^^^92^208^[REPLACE] int recordCount = 1;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^for  ( int j = 1; j < recordCount; j++ )  {^138^^^^^92^208^[REPLACE] for  ( int j = 0; j < recordCount; j++ )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^int subtype = subtype;^143^^^^^92^208^[REPLACE] int subtype = type;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^int speed = buf.readUnsignedInt (  ) ;^162^^^^^92^208^[REPLACE] int speed = buf.readUnsignedByte (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^int speed = buf.readUnsignedByte (  )  ;^167^^^^^92^208^[REPLACE] int speed = buf.readShort (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^for  ( int i = 0; i <= 8; i++ )  {^184^^^^^92^208^[REPLACE] for  ( int i = 1; i <= 8; i++ )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  (subtype  !=  MSG_LOG_RECORDS )  {^134^^^^^92^208^[REPLACE] if  ( type == MSG_LOG_RECORDS )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^length = buf.readUnsignedShort (  )  ;^135^^^^^92^208^[REPLACE] recordCount = buf.readUnsignedShort (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  (  (  ( type ==  ( MSG_CURRENT_GPS_DATA )  )  ||  ( type ==  ( MSG_STATE_FULL_INFO_T104 )  )  )  ||  ( type ==  ( MSG_LOG_RECORDS )  )  && ( type  !=  MSG_LOG_RECORDS )  {^144^^^^^92^208^[REPLACE] if  ( type == MSG_LOG_RECORDS )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[ADD]^^144^145^146^147^^92^208^[ADD] if  ( type == MSG_LOG_RECORDS )  { position.set ( Position.KEY_ARCHIVE, true ) ; lastIndex = buf.readUnsignedInt (  )  + 1; position.set ( Position.KEY_INDEX, lastIndex ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  ( subtype != MSG_CURRENT_GPS_DATA ) {^150^^^^^92^208^[REPLACE] if  ( subtype != MSG_CURRENT_GPS_DATA && subtype != MSG_STATE_FULL_INFO_T104 )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^buf.skipBytes ( buf.readUnsignedInt (  )  ) ;^151^^^^^92^208^[REPLACE] buf.skipBytes ( buf.readUnsignedShort (  )  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[ADD]^continue;^151^152^^^^92^208^[ADD] buf.skipBytes ( buf.readUnsignedShort (  )  ) ; continue;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[ADD]^^146^^^^^92^208^[ADD] lastIndex = buf.readUnsignedInt (  )  + 1;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  ( subtype != MSG_CURRENT_GPS_DATA || subtype != MSG_STATE_FULL_INFO_T104 )  {^150^^^^^92^208^[REPLACE] if  ( subtype != MSG_CURRENT_GPS_DATA && subtype != MSG_STATE_FULL_INFO_T104 )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^buf.readUnsignedInt (  )  ;^151^^^^^92^208^[REPLACE] buf.skipBytes ( buf.readUnsignedShort (  )  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REMOVE]^buf.readUnsignedInt (  )  ;^151^^^^^92^208^[REMOVE] ^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  ( subtype  ) {^161^^^^^92^208^[REPLACE] if  ( subtype == MSG_STATE_FULL_INFO_T104 )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[ADD]^^167^168^^^^161^170^[ADD] int speed = buf.readShort (  ) ; position.setValid ( speed != -1 ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^int type = buf.readUnsignedShort (  )  ;^162^^^^^92^208^[REPLACE] int speed = buf.readUnsignedByte (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  ( subtype  != type )  {^175^^^^^92^208^[REPLACE] if  ( subtype == MSG_STATE_FULL_INFO_T104 )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  (subsubtype  ) {^198^^^^^92^208^[REPLACE] if  ( type == MSG_LOG_RECORDS )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REMOVE]^sendSimpleMessage ( channel, MSG_ACK_ALARM )  ;^201^^^^^198^202^[REMOVE] ^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^return this;^128^^^^^92^208^[REPLACE] return null;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^return true;^204^^^^^92^208^[REPLACE] return positions;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^int i = 1  ;^138^^^^^92^208^[REPLACE] for  ( int j = 0; j < recordCount; j++ )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[ADD]^^167^^^^^92^208^[ADD] int speed = buf.readShort (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^for  ( int i = 1L; i <= 8; i++ )  {^184^^^^^92^208^[REPLACE] for  ( int i = 1; i <= 8; i++ )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  ( newIndex  !=  0 + 1 )  {^119^^^^^92^208^[REPLACE] if  ( index > 0 )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^newIndex =  lastIndex;^120^^^^^92^208^[REPLACE] newIndex = index;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^newIndex =  null;^120^^^^^92^208^[REPLACE] newIndex = index;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^long index = buf.readUnsignedByte (  ) ;^118^^^^^92^208^[REPLACE] long index = buf.readUnsignedInt (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  (newIndex  >=  2 )  {^119^^^^^92^208^[REPLACE] if  ( index > 0 )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^} else if  ( type == MSG_CURRENT_GPS_DATA && type == MSG_STATE_FULL_INFO_T104 && type == MSG_LOG_RECORDS )  {^124^^^^^92^208^[REPLACE] } else if  ( type == MSG_CURRENT_GPS_DATA || type == MSG_STATE_FULL_INFO_T104 || type == MSG_LOG_RECORDS )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REMOVE]^if  ( type ==  ( MSG_LAST_LOG_INDEX )  )  {     long index = buf.readUnsignedInt (  ) ;     if  ( index > 0 )  {         newIndex = index;         requestArchive ( channel ) ;     } }else     if  (  (  ( type ==  ( MSG_CURRENT_GPS_DATA )  )  ||  ( type ==  ( MSG_STATE_FULL_INFO_T104 )  )  )  ||  ( type ==  ( MSG_LOG_RECORDS )  )  )  {         DeviceSession deviceSession = getDeviceSession ( channel, remoteAddress ) ;         if  ( deviceSession == null )  {             return null;         }         Position> positions = new LinkedList<> (  ) ;         int recordCount = 1;         if  ( type ==  ( MSG_LOG_RECORDS )  )  {             recordCount = buf.readUnsignedShort (  ) ;         }         for  ( int j = 0; j < recordCount; j++ )  {             Position position = new Position (  ) ;             position.setProtocol ( getProtocolName (  )  ) ;             position.setDeviceId ( deviceSession.getDeviceId (  )  ) ;             int subtype = type;             if  ( type ==  ( MSG_LOG_RECORDS )  )  {                 position.set ( Position.KEY_ARCHIVE, true ) ;                 lastIndex =  ( buf.readUnsignedInt (  )  )  + 1;                 position.set ( Position.KEY_INDEX, lastIndex ) ;                 subtype = buf.readUnsignedShort (  ) ;                 if  (  ( subtype !=  ( MSG_CURRENT_GPS_DATA )  )  &&  ( subtype !=  ( MSG_STATE_FULL_INFO_T104 )  )  )  {                     buf.skipBytes ( buf.readUnsignedShort (  )  ) ;                     continue;                 }                 buf.readUnsignedShort (  ) ;             }             position.setTime ( new Date (  (  ( buf.readUnsignedInt (  )  )  * 1000 )  )  ) ;             position.setLatitude (  (  (  ( buf.readInt (  )  )  * 180.0 )  / 2147483647 )  ) ;             position.setLongitude (  (  (  ( buf.readInt (  )  )  * 180.0 )  / 2147483647 )  ) ;             if  ( subtype ==  ( MSG_STATE_FULL_INFO_T104 )  )  {                 int speed = buf.readUnsignedByte (  ) ;                 position.setValid (  ( speed != 255 )  ) ;                 position.setSpeed ( knotsFromKph ( speed )  ) ;                 position.set ( Position.KEY_HDOP, buf.readByte (  )  ) ;             }else {                 int speed = buf.readShort (  ) ;                 position.setValid (  ( speed !=  ( -1 )  )  ) ;                 position.setSpeed ( knotsFromKph (  ( speed * 0.01 )  )  ) ;             }             position.setCourse (  (  ( buf.readShort (  )  )  * 0.01 )  ) ;             position.setAltitude ( buf.readShort (  )  ) ;             if  ( subtype ==  ( MSG_STATE_FULL_INFO_T104 )  )  {                 position.set ( Position.KEY_SATELLITES, buf.readUnsignedByte (  )  ) ;                 position.set ( Position.KEY_RSSI, buf.readUnsignedByte (  )  ) ;                 position.set ( Position.KEY_EVENT, buf.readUnsignedShort (  )  ) ;                 position.set ( Position.KEY_ODOMETER, buf.readUnsignedInt (  )  ) ;                 position.set ( Position.KEY_INPUT, buf.readUnsignedByte (  )  ) ;                 position.set ( Position.KEY_OUTPUT, buf.readUnsignedByte (  )  ) ;                 for  ( int i = 1; i <= 8; i++ )  {                     position.set (  (  ( PREFIX_ADC )  + i ) , buf.readUnsignedShort (  )  ) ;                 }                 position.set (  (  ( PREFIX_COUNT )  + 1 ) , buf.readUnsignedInt (  )  ) ;                 position.set (  (  ( PREFIX_COUNT )  + 2 ) , buf.readUnsignedInt (  )  ) ;                 position.set (  (  ( PREFIX_COUNT )  + 3 ) , buf.readUnsignedInt (  )  ) ;             }             positions.add ( position ) ;         }         buf.readUnsignedInt (  ) ;         if  ( type ==  ( MSG_LOG_RECORDS )  )  {             requestArchive ( channel ) ;         }else {             sendSimpleMessage ( channel, MSG_REQUEST_LAST_LOG_INDEX ) ;         }         return positions;     }^124^^^^^92^208^[REMOVE] ^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  ( type  !=  MSG_LOG_RECORDS )  {^134^^^^^92^208^[REPLACE] if  ( type == MSG_LOG_RECORDS )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[ADD]^recordCount = buf.readUnsignedShort (  ) ;^134^135^136^^^92^208^[ADD] if  ( type == MSG_LOG_RECORDS )  { recordCount = buf.readUnsignedShort (  ) ; }^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  ( type  ) {^144^^^^^92^208^[REPLACE] if  ( type == MSG_LOG_RECORDS )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[ADD]^buf.skipBytes ( buf.readUnsignedShort (  )  ) ;continue;^150^151^152^153^^92^208^[ADD] if  ( subtype != MSG_CURRENT_GPS_DATA && subtype != MSG_STATE_FULL_INFO_T104 )  { buf.skipBytes ( buf.readUnsignedShort (  )  ) ; continue; }^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[ADD]^^151^^^^^92^208^[ADD] buf.skipBytes ( buf.readUnsignedShort (  )  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[ADD]^position.set ( Position.KEY_INDEX, lastIndex ) ;^146^147^^^^92^208^[ADD] lastIndex = buf.readUnsignedInt (  )  + 1; position.set ( Position.KEY_INDEX, lastIndex ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^int speed = buf.readInt (  ) ;^167^^^^^161^170^[REPLACE] int speed = buf.readShort (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  ( subtype  ||  MSG_STATE_FULL_INFO_T104 )  {^175^^^^^92^208^[REPLACE] if  ( subtype == MSG_STATE_FULL_INFO_T104 )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^for  ( int i = 1 + 1; i <= 8; i++ )  {^184^^^^^92^208^[REPLACE] for  ( int i = 1; i <= 8; i++ )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  (   MSG_LOG_RECORDS )  {^198^^^^^92^208^[REPLACE] if  ( type == MSG_LOG_RECORDS )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[ADD]^^201^^^^^198^202^[ADD] sendSimpleMessage ( channel, MSG_REQUEST_LAST_LOG_INDEX ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^return false;^204^^^^^92^208^[REPLACE] return positions;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[ADD]^^133^^^^^92^208^[ADD] int recordCount = 1;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^for  ( int j = 4; j < recordCount; j++ )  {^138^^^^^92^208^[REPLACE] for  ( int j = 0; j < recordCount; j++ )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[ADD]^^143^^^^^92^208^[ADD] int subtype = type;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^int speed = buf.readInt (  ) ;^167^^^^^92^208^[REPLACE] int speed = buf.readShort (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^int j = 0  ;^184^^^^^92^208^[REPLACE] for  ( int i = 1; i <= 8; i++ )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  ( type  &&  MSG_LOG_RECORDS )  {^134^^^^^92^208^[REPLACE] if  ( type == MSG_LOG_RECORDS )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[ADD]^^134^135^136^^^92^208^[ADD] if  ( type == MSG_LOG_RECORDS )  { recordCount = buf.readUnsignedShort (  ) ; }^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  ( type  ||  MSG_LOG_RECORDS )  {^144^^^^^92^208^[REPLACE] if  ( type == MSG_LOG_RECORDS )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  ( subtype != MSG_CURRENT_GPS_DATA || subtype !=true )  {^150^^^^^92^208^[REPLACE] if  ( subtype != MSG_CURRENT_GPS_DATA && subtype != MSG_STATE_FULL_INFO_T104 )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  ( type !=true || subtype != MSG_STATE_FULL_INFO_T104 )  {^150^^^^^92^208^[REPLACE] if  ( subtype != MSG_CURRENT_GPS_DATA && subtype != MSG_STATE_FULL_INFO_T104 )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[ADD]^^150^151^152^153^^92^208^[ADD] if  ( subtype != MSG_CURRENT_GPS_DATA && subtype != MSG_STATE_FULL_INFO_T104 )  { buf.skipBytes ( buf.readUnsignedShort (  )  ) ; continue; }^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  ( subtype  &&  MSG_STATE_FULL_INFO_T104 )  {^161^^^^^92^208^[REPLACE] if  ( subtype == MSG_STATE_FULL_INFO_T104 )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  (   MSG_STATE_FULL_INFO_T204 )  {^175^^^^^92^208^[REPLACE] if  ( subtype == MSG_STATE_FULL_INFO_T104 )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^for  ( int i = 1 * 2; i <= 8; i++ )  {^184^^^^^92^208^[REPLACE] for  ( int i = 1; i <= 8; i++ )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  (subtype  &&  MSG_LOG_RECORDS )  {^198^^^^^92^208^[REPLACE] if  ( type == MSG_LOG_RECORDS )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^return 1;^204^^^^^92^208^[REPLACE] return positions;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^long index = buf .readUnsignedByte (  )  ;^118^^^^^92^208^[REPLACE] long index = buf.readUnsignedInt (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[ADD]^^126^^^^^92^208^[ADD] DeviceSession deviceSession = getDeviceSession ( channel, remoteAddress ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[ADD]^^131^^^^^92^208^[ADD] List<Position> positions = new LinkedList<> (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^int recordCount = 1 - 4;^133^^^^^92^208^[REPLACE] int recordCount = 1;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^for  ( int j = 0 / 2; j < recordCount; j++ )  {^138^^^^^92^208^[REPLACE] for  ( int j = 0; j < recordCount; j++ )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[ADD]^^184^185^186^^^92^208^[ADD] for  ( int i = 1; i <= 8; i++ )  { position.set ( Position.PREFIX_ADC + i, buf.readUnsignedShort (  )  ) ; }^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^subtype = buf.readUnsignedShort (  )  ;^113^^^^^92^208^[REPLACE] length = buf.readUnsignedShort (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^int length = buf.readUnsignedInt (  ) ;^111^^^^^92^208^[REPLACE] int length = buf.readUnsignedShort (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^}  if  ( type  && subtype )  {^116^^^^^92^208^[REPLACE] } else if  ( type == MSG_LAST_LOG_INDEX )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^}  if  (  type == MSG_STATE_FULL_INFO_T104 && type == MSG_LOG_RECORDS )  {^124^^^^^92^208^[REPLACE] } else if  ( type == MSG_CURRENT_GPS_DATA || type == MSG_STATE_FULL_INFO_T104 || type == MSG_LOG_RECORDS )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[ADD]^return null;^127^128^129^^^92^208^[ADD] if  ( deviceSession == null )  { return null; }^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  ( type  != subtype )  {^134^^^^^92^208^[REPLACE] if  ( type == MSG_LOG_RECORDS )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  ( type  != speed )  {^144^^^^^92^208^[REPLACE] if  ( type == MSG_LOG_RECORDS )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  (  subtype !=true )  {^150^^^^^92^208^[REPLACE] if  ( subtype != MSG_CURRENT_GPS_DATA && subtype != MSG_STATE_FULL_INFO_T104 )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  ( subtype != false || subtype != true )  {^150^^^^^92^208^[REPLACE] if  ( subtype != MSG_CURRENT_GPS_DATA && subtype != MSG_STATE_FULL_INFO_T104 )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  (   MSG_STATE_FULL_INFO_T104 )  {^161^^^^^92^208^[REPLACE] if  ( subtype == MSG_STATE_FULL_INFO_T104 )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^int speed = buf .writeShort ( MSG_NULL )  ;^167^^^^^161^170^[REPLACE] int speed = buf.readShort (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  ( subtype  !=  MSG_STATE_FULL_INFO_T1 * 404 )  {^175^^^^^92^208^[REPLACE] if  ( subtype == MSG_STATE_FULL_INFO_T104 )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^for  ( int i = 4; i <= 8; i++ )  {^184^^^^^92^208^[REPLACE] for  ( int i = 1; i <= 8; i++ )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  ( type  ) {^198^^^^^92^208^[REPLACE] if  ( type == MSG_LOG_RECORDS )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REMOVE]^if  ( alarm )  {     sendSimpleMessage ( channel, MSG_ACK_ALARM ) ; }^198^^^^^92^208^[REMOVE] ^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^return this;^204^^^^^92^208^[REPLACE] return positions;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^int recordCount = 1 >>> 3;^133^^^^^92^208^[REPLACE] int recordCount = 1;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^for  ( int j = 2; j < recordCount; j++ )  {^138^^^^^92^208^[REPLACE] for  ( int j = 0; j < recordCount; j++ )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^for  ( int i = 3; i <= 8; i++ )  {^184^^^^^92^208^[REPLACE] for  ( int i = 1; i <= 8; i++ )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  ( deviceSession != true )  {^127^^^^^92^208^[REPLACE] if  ( deviceSession == null )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  (   MSG_LOG_RECORDS )  {^134^^^^^92^208^[REPLACE] if  ( type == MSG_LOG_RECORDS )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  ( speed  != subtype  ||  (  ( type ==  ( MSG_CURRENT_GPS_DATA )  )  ||  ( type ==  ( MSG_STATE_FULL_INFO_T104 )  )  )  ||  ( type ==  ( MSG_LOG_RECORDS )  )  )  {^144^^^^^92^208^[REPLACE] if  ( type == MSG_LOG_RECORDS )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  (  subtype != MSG_STATE_FULL_INFO_T104 )  {^150^^^^^92^208^[REPLACE] if  ( subtype != MSG_CURRENT_GPS_DATA && subtype != MSG_STATE_FULL_INFO_T104 )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^lastIndex = buf.readUnsignedInt (  )   4;^146^^^^^92^208^[REPLACE] lastIndex = buf.readUnsignedInt (  )  + 1;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^buf .readBytes ( type )  ;^151^^^^^92^208^[REPLACE] buf.skipBytes ( buf.readUnsignedShort (  )  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  (   MSG_STATE_FULL_INFO_T104 )  {^175^^^^^92^208^[REPLACE] if  ( subtype == MSG_STATE_FULL_INFO_T104 )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  ( type  &&  MSG_LOG_RECORDS )  {^198^^^^^92^208^[REPLACE] if  ( type == MSG_LOG_RECORDS )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^for  ( int j = 0L; j < recordCount; j++ )  {^138^^^^^92^208^[REPLACE] for  ( int j = 0; j < recordCount; j++ )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[ADD]^^139^140^^^^92^208^[ADD] Position position = new Position (  ) ; position.setProtocol ( getProtocolName (  )  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  (newIndex  ==  0 )  {^119^^^^^92^208^[REPLACE] if  ( index > 0 )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[ADD]^^119^120^121^122^^92^208^[ADD] if  ( index > 0 )  { newIndex = index; requestArchive ( channel ) ; }^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[ADD]^requestArchive ( channel ) ;^120^121^^^^92^208^[ADD] newIndex = index; requestArchive ( channel ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^int speed = buf.readUnsignedByte (  )  ;^118^^^^^92^208^[REPLACE] long index = buf.readUnsignedInt (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  ( newIndex  <  0 + 3 )  {^119^^^^^92^208^[REPLACE] if  ( index > 0 )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^}  if  ( type == MSG_CURRENT_GPS_DATA && type == MSG_STATE_FULL_INFO_T104 && type == MSG_LOG_RECORDS )  {^124^^^^^92^208^[REPLACE] } else if  ( type == MSG_CURRENT_GPS_DATA || type == MSG_STATE_FULL_INFO_T104 || type == MSG_LOG_RECORDS )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[ADD]^}   DeviceSession deviceSession = getDeviceSession ( channel, remoteAddress ) ;return null;^124^125^126^127^128^92^208^[ADD] else if  ( type == MSG_CURRENT_GPS_DATA || type == MSG_STATE_FULL_INFO_T104 || type == MSG_LOG_RECORDS )  {  DeviceSession deviceSession = getDeviceSession ( channel, remoteAddress ) ; if  ( deviceSession == null )  { return null;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  ( type  &&  MSG_LOG_RECORDS )  {^144^^^^^92^208^[REPLACE] if  ( type == MSG_LOG_RECORDS )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^lastIndex = buf.readUnsignedInt (  )   0;^146^^^^^92^208^[REPLACE] lastIndex = buf.readUnsignedInt (  )  + 1;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  ( subtype  !=  MSG_STATE_FULL_INFO_T104 )  {^161^^^^^92^208^[REPLACE] if  ( subtype == MSG_STATE_FULL_INFO_T104 )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[ADD]^position.setValid ( speed != -1 ) ;^167^168^^^^161^170^[ADD] int speed = buf.readShort (  ) ; position.setValid ( speed != -1 ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[ADD]^^162^^^^^92^208^[ADD] int speed = buf.readUnsignedByte (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  ( subtype  &&  MSG_STATE_FULL_INFO_T104 )  {^175^^^^^92^208^[REPLACE] if  ( subtype == MSG_STATE_FULL_INFO_T104 )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  (  (  ( type ==  ( MSG_CURRENT_GPS_DATA )  )  ||  ( type ==  ( MSG_STATE_FULL_INFO_T104 )  )  )  ||  ( type ==  ( MSG_LOG_RECORDS )  )  && (subtype  !=  MSG_LOG_RECORDS )  {^198^^^^^92^208^[REPLACE] if  ( type == MSG_LOG_RECORDS )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^int recordCount = 4;^133^^^^^92^208^[REPLACE] int recordCount = 1;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  ( type  ) {^134^^^^^92^208^[REPLACE] if  ( type == MSG_LOG_RECORDS )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  (  (  ( type ==  ( MSG_CURRENT_GPS_DATA )  )  ||  ( type ==  ( MSG_STATE_FULL_INFO_T104 )  )  )  ||  ( type ==  ( MSG_LOG_RECORDS )  )  && (type  !=  MSG_STATE_FULL_INFO_T104 )  {^161^^^^^92^208^[REPLACE] if  ( subtype == MSG_STATE_FULL_INFO_T104 )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[ADD]^^161^162^163^164^165^92^208^[ADD] if  ( subtype == MSG_STATE_FULL_INFO_T104 )  { int speed = buf.readUnsignedByte (  ) ; position.setValid ( speed != 255 ) ; position.setSpeed ( UnitsConverter.knotsFromKph ( speed )  ) ; position.set ( Position.KEY_HDOP, buf.readByte (  )  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  ( subtype  !=  MSG_STATE_FULL_INFO_T104 )  {^175^^^^^92^208^[REPLACE] if  ( subtype == MSG_STATE_FULL_INFO_T104 )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  ( subtype  || subtype )  {^198^^^^^92^208^[REPLACE] if  ( type == MSG_LOG_RECORDS )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[ADD]^^113^^^^^92^208^[ADD] length = buf.readUnsignedShort (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[ADD]^^120^121^^^^92^208^[ADD] newIndex = index; requestArchive ( channel ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[ADD]^^111^^^^^92^208^[ADD] int length = buf.readUnsignedShort (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^int recordCount = 0;^133^^^^^92^208^[REPLACE] int recordCount = 1;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[ADD]^position.setProtocol ( getProtocolName (  )  ) ;^139^140^^^^92^208^[ADD] Position position = new Position (  ) ; position.setProtocol ( getProtocolName (  )  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
[REPLACE]^return true;^207^^^^^92^208^[REPLACE] return null;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] ApelProtocolDecoder   [TYPE]  boolean alarm  false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  short MSG_ACK_ALARM  MSG_CURRENT_GPS_DATA  MSG_DISCONNECT  MSG_EVENT  MSG_GPRS_COMMAND  MSG_LAST_LOG_INDEX  MSG_LOG_RECORDS  MSG_NULL  MSG_PASSWORD  MSG_REQUEST_CURRENT_GPS_DATA  MSG_REQUEST_LAST_LOG_INDEX  MSG_REQUEST_LOG_RECORDS  MSG_REQUEST_PASSWORD  MSG_REQUEST_SENSORS_STATE  MSG_REQUEST_STATE_FULL_INFO  MSG_REQUEST_TRACKER_ID  MSG_SENSORS_STATE  MSG_SENSORS_STATE_T100  MSG_SENSORS_STATE_T100_4  MSG_SET_TRACKER_MODE  MSG_STATE_FULL_INFO_T104  MSG_TEXT  MSG_TRACKER_ID  MSG_TRACKER_ID_EXT  type  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  SocketAddress remoteAddress  [TYPE]  long index  lastIndex  newIndex  [TYPE]  int i  j  length  recordCount  speed  subtype  type  [TYPE]  ChannelBuffer buf 
