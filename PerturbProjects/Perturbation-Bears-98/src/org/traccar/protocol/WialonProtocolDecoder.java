[REPLACE]^private static final Object PATTERN = new PatternBuilder (  ) .number ( " ( dd )  ( dd )  ( dd ) ;" ) .number ( " ( dd )  ( dd )  ( dd ) ;" ) .number ( " ( dd )  ( dd.d+ ) ;" )^40^41^42^43^^40^59^[REPLACE] private static final Pattern PATTERN = new PatternBuilder (  ) .number ( " ( dd )  ( dd )  ( dd ) ;" ) .number ( " ( dd )  ( dd )  ( dd ) ;" ) .number ( " ( dd )  ( dd.d+ ) ;" )^ [CLASS] WialonProtocolDecoder  
[REPLACE]^DeviceSession deviceSession = getDeviceSession ( channel, remoteAddress, imei )  ;^74^^^^^72^129^[REPLACE] DeviceSession deviceSession = getDeviceSession ( channel, remoteAddress ) ;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^if  ( deviceSession != this )  {^75^^^^^72^129^[REPLACE] if  ( deviceSession == null )  {^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^return false;^76^^^^^72^129^[REPLACE] return null;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^return true;^76^^^^^72^129^[REPLACE] return null;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^Parser parser = new Parser ( PATTERN, param ) ;^79^^^^^72^129^[REPLACE] Parser parser = new Parser ( PATTERN, substring ) ;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^if  ( parser.hasNext (  )  || ( !parser.matches (  )  )  {^80^^^^^72^129^[REPLACE] if  ( !parser.matches (  )  )  {^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^return this;^81^^^^^72^129^[REPLACE] return null;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^return false;^81^^^^^72^129^[REPLACE] return null;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^position.set ( getProtocolName (  )  ) ;^85^^^^^72^129^[REPLACE] position.setProtocol ( getProtocolName (  )  ) ;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^position.set ( deviceSession.getDeviceId (  )  ) ;^86^^^^^72^129^[REPLACE] position.setDeviceId ( deviceSession.getDeviceId (  )  ) ;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[ADD]^^86^^^^^72^129^[ADD] position.setDeviceId ( deviceSession.getDeviceId (  )  ) ;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^DateBuilder dateBuilder = new DateBuilder (  ) .setDateReverse ( parser.next (  ) , parser.nextInt (  ) , parser.nextInt (  )  ) .setTime ( parser.nextInt (  ) , parser.nextInt (  ) , parser.nextInt (  )  ) ;^88^89^90^^^72^129^[REPLACE] DateBuilder dateBuilder = new DateBuilder (  ) .setDateReverse ( parser.nextInt (  ) , parser.nextInt (  ) , parser.nextInt (  )  ) .setTime ( parser.nextInt (  ) , parser.nextInt (  ) , parser.nextInt (  )  ) ;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^position .getProtocolName (  )  ;^91^^^^^72^129^[REPLACE] position.setTime ( dateBuilder.getDate (  )  ) ;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^position.setTime ( dateBuilder.setDateReverse (  )  ) ;^91^^^^^72^129^[REPLACE] position.setTime ( dateBuilder.getDate (  )  ) ;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^position.setLatitude ( parser .nextInt (  )   ) ;^93^^^^^72^129^[REPLACE] position.setLatitude ( parser.nextCoordinate (  )  ) ;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REMOVE]^parser.nextInt (  )  ;^93^^^^^72^129^[REMOVE] ^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^position.setLatitude ( parser.nextCoordinate (  )  )  ;^94^^^^^72^129^[REPLACE] position.setLongitude ( parser.nextCoordinate (  )  ) ;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^parser.nextInt (  )  ;^94^^^^^72^129^[REPLACE] position.setLongitude ( parser.nextCoordinate (  )  ) ;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^knotsFromKph ( parser.nextDouble (  )  )  ;^95^^^^^72^129^[REPLACE] position.setSpeed ( UnitsConverter.knotsFromKph ( parser.nextDouble (  )  )  ) ;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^position.setSpeed ( knotsFromKph ( parser.nextDouble (  )  )  )  ;^95^^^^^72^129^[REPLACE] position.setSpeed ( UnitsConverter.knotsFromKph ( parser.nextDouble (  )  )  ) ;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^parser.nextInt (  )  ;^95^^^^^72^129^[REPLACE] position.setSpeed ( UnitsConverter.knotsFromKph ( parser.nextDouble (  )  )  ) ;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^position.setAltitude ( parser.nextDouble (  )  )  ;^96^^^^^72^129^[REPLACE] position.setCourse ( parser.nextDouble (  )  ) ;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^position.setCourse ( parser.nextInt (  )  ) ;^96^^^^^72^129^[REPLACE] position.setCourse ( parser.nextDouble (  )  ) ;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REMOVE]^parser.nextInt (  )  ;^96^^^^^72^129^[REMOVE] ^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^position.set ( parser.nextDouble (  )  ) ;^97^^^^^72^129^[REPLACE] position.setAltitude ( parser.nextDouble (  )  ) ;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[ADD]^^97^^^^^72^129^[ADD] position.setAltitude ( parser.nextDouble (  )  ) ;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^parser.nextInt (  )  ;^97^^^^^72^129^[REPLACE] position.setAltitude ( parser.nextDouble (  )  ) ;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^if  ( parser.hasNext (   )  || paramParser.matches (  )  )  )  {^99^^^^^72^129^[REPLACE] if  ( parser.hasNext (  )  )  {^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[ADD]^^100^101^^^^72^129^[ADD] int satellites = parser.nextInt (  ) ; position.setValid ( satellites >= 3 ) ;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^int satellites = parser .next (  )  ;^100^^^^^72^129^[REPLACE] int satellites = parser.nextInt (  ) ;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^position.set ( Position.KEY_RFID, parser.next (  )  )  ;^105^^^^^72^129^[REPLACE] position.set ( Position.KEY_HDOP, parser.next (  )  ) ;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^parser.nextInt (  )  ;^105^^^^^72^129^[REPLACE] position.set ( Position.KEY_HDOP, parser.next (  )  ) ;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^position.set ( Position.KEY_INPUT, parser.nextInt (  )  ) ;^106^^^^^72^129^[REPLACE] position.set ( Position.KEY_INPUT, parser.next (  )  ) ;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^parser.nextInt (  )  ;^106^^^^^72^129^[REPLACE] position.set ( Position.KEY_INPUT, parser.next (  )  ) ;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^position.set ( Position.KEY_INPUT, parser.next (  )  )  ;^107^^^^^72^129^[REPLACE] position.set ( Position.KEY_OUTPUT, parser.next (  )  ) ;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^position.set ( Position.KEY_OUTPUT, parser.nextInt (  )  ) ;^107^^^^^72^129^[REPLACE] position.set ( Position.KEY_OUTPUT, parser.next (  )  ) ;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[ADD]^^107^^^^^72^129^[ADD] position.set ( Position.KEY_OUTPUT, parser.next (  )  ) ;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^if  ( paramParser.matches (  )  || ( parser.next (  )  )  {^109^^^^^72^129^[REPLACE] if  ( parser.hasNext (  )  )  {^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^String[] values = parser.next (  )  .setTime (  )  ;^110^^^^^72^129^[REPLACE] String[] values = parser.next (  ) .split ( "," ) ;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^for  ( int i = 0 ; i < values.length; i++ )  {^111^^^^^72^129^[REPLACE] for  ( int i = 0; i < values.length; i++ )  {^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^String[] values = parser.next (  ) .text ( "," ) ;^110^^^^^72^129^[REPLACE] String[] values = parser.next (  ) .split ( "," ) ;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[ADD]^^111^112^113^^^72^129^[ADD] for  ( int i = 0; i < values.length; i++ )  { position.set ( Position.PREFIX_ADC +  ( i + 1 ) , values[i] ) ; }^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^position.set ( Position.KEY_HDOP, parser.next (  )  )  ;^116^^^^^72^129^[REPLACE] position.set ( Position.KEY_RFID, parser.next (  )  ) ;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^parser.nextInt (  )  ;^116^^^^^72^129^[REPLACE] position.set ( Position.KEY_RFID, parser.next (  )  ) ;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^if  ( parser.hasNext (   )  || paramParser.matches (  )  )  )  {^118^^^^^72^129^[REPLACE] if  ( parser.hasNext (  )  )  {^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[ADD]^^118^119^120^121^^72^129^[ADD] if  ( parser.hasNext (  )  )  { String[] values = parser.next (  ) .split ( "," ) ; for  ( String param : values )  { Matcher paramParser = Pattern.compile ( " ( .* ) :[1-3]: ( .* ) " ) .matcher ( param ) ;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^if  ( parser.hasNext (  )  || ( paramParser.matches (  )  )  {^122^^^^^72^129^[REPLACE] if  ( paramParser.matches (  )  )  {^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^position.set ( paramParser.group ( 2 ) .toLowerCase (  ) , paramParser.group ( 2 )  ) ;^123^^^^^72^129^[REPLACE] position.set ( paramParser.group ( 1 ) .toLowerCase (  ) , paramParser.group ( 2 )  ) ;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[ADD]^^123^^^^^72^129^[ADD] position.set ( paramParser.group ( 1 ) .toLowerCase (  ) , paramParser.group ( 2 )  ) ;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^position.set ( paramParser.group ( 1 >> 2 ) .toLowerCase (  ) , paramParser.group ( 2 )  ) ;^123^^^^^72^129^[REPLACE] position.set ( paramParser.group ( 1 ) .toLowerCase (  ) , paramParser.group ( 2 )  ) ;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^paramParser.group ( 2 )  ;^123^^^^^72^129^[REPLACE] position.set ( paramParser.group ( 1 ) .toLowerCase (  ) , paramParser.group ( 2 )  ) ;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^paramParser.group ( 1 )  ;^123^^^^^72^129^[REPLACE] position.set ( paramParser.group ( 1 ) .toLowerCase (  ) , paramParser.group ( 2 )  ) ;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[ADD]^^120^121^122^123^124^118^126^[ADD] for  ( String param : values )  { Matcher paramParser = Pattern.compile ( " ( .* ) :[1-3]: ( .* ) " ) .matcher ( param ) ; if  ( paramParser.matches (  )  )  { position.set ( paramParser.group ( 1 ) .toLowerCase (  ) , paramParser.group ( 2 )  ) ; }^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^String[] values = parser.nextInt (  ) .split ( "," ) ;^119^^^^^118^126^[REPLACE] String[] values = parser.next (  ) .split ( "," ) ;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^String message  ;^120^^^^^118^126^[REPLACE] for  ( String param : values )  {^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[ADD]^^121^^^^^118^126^[ADD] Matcher paramParser = Pattern.compile ( " ( .* ) :[1-3]: ( .* ) " ) .matcher ( param ) ;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[ADD]^position.set ( paramParser.group ( 1 ) .toLowerCase (  ) , paramParser.group ( 2 )  ) ;^122^123^124^^^72^129^[ADD] if  ( paramParser.matches (  )  )  { position.set ( paramParser.group ( 1 ) .toLowerCase (  ) , paramParser.group ( 2 )  ) ; }^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^position.set ( paramParser.group ( 4 ) .toLowerCase (  ) , paramParser.group ( 2 )  ) ;^123^^^^^72^129^[REPLACE] position.set ( paramParser.group ( 1 ) .toLowerCase (  ) , paramParser.group ( 2 )  ) ;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^position.set ( paramParser.group ( 1 >> 3 )  .substring ( satellites , satellites )  , paramParser.group ( 2 )  ) ;^123^^^^^72^129^[REPLACE] position.set ( paramParser.group ( 1 ) .toLowerCase (  ) , paramParser.group ( 2 )  ) ;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REMOVE]^paramParser.group ( 1 )  ;^123^^^^^72^129^[REMOVE] ^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^position.set ( paramParser.group ( 1 ) .toLowerCase (  ) , paramParser.group ( 3 )  ) ;^123^^^^^72^129^[REPLACE] position.set ( paramParser.group ( 1 ) .toLowerCase (  ) , paramParser.group ( 2 )  ) ;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[ADD]^^119^^^^^118^126^[ADD] String[] values = parser.next (  ) .split ( "," ) ;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^Matcher substringParser = Pattern.compile ( " ( .* ) :[1-3]: ( .* ) " ) .matcher ( param ) ;^121^^^^^118^126^[REPLACE] Matcher paramParser = Pattern.compile ( " ( .* ) :[1-3]: ( .* ) " ) .matcher ( param ) ;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^return positions  ;^128^^^^^72^129^[REPLACE] return position;^[METHOD] decodePosition [TYPE] Position [PARAMETER] Channel channel SocketAddress remoteAddress String substring [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Matcher paramParser  [TYPE]  Channel channel  [TYPE]  String param  substring  [TYPE]  String[] values  [TYPE]  SocketAddress remoteAddress  [TYPE]  int i  satellites  [TYPE]  Parser parser 
[REPLACE]^if  ( sentence.startsWith ( "#L#"  )  &&  ( sentence.startsWith ( "#SD#" )  )  ||  ( sentence.startsWith ( "#D#" )  )  )  )  {^137^^^^^133^191^[REPLACE] if  ( sentence.startsWith ( "#L#" )  )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[ADD]^^137^138^139^140^^133^191^[ADD] if  ( sentence.startsWith ( "#L#" )  )  {  String imei = sentence.substring ( 3, sentence.indexOf ( ';' )  ) ; DeviceSession deviceSession = getDeviceSession ( channel, remoteAddress, imei ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^}  else {^145^^^^^133^191^[REPLACE] } else if  ( sentence.startsWith ( "#P#" )  )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^}  if  (  sentence.startsWith ( "#D#" )  )  {^149^^^^^133^191^[REPLACE] } else if  ( sentence.startsWith ( "#SD#" )  || sentence.startsWith ( "#D#" )  )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[ADD]^}   channel, remoteAddress, sentence.substring ( sentence.indexOf ( '#', 1 )  + 1 )  ) ;^149^150^151^152^^133^191^[ADD] else if  ( sentence.startsWith ( "#SD#" )  || sentence.startsWith ( "#D#" )  )  {  Position position = decodePosition ( channel, remoteAddress, sentence.substring ( sentence.indexOf ( '#', 1 )  + 1 )  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^}  else {^159^^^^^133^191^[REPLACE] } else if  ( sentence.startsWith ( "#B#" )  )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[ADD]^}   String[] messages = sentence.substring ( sentence.indexOf ( '#', 1 )  + 1 ) .split ( "\\|" ) ;List<Position> positions = new LinkedList<> (  ) ;^159^160^161^162^^133^191^[ADD] else if  ( sentence.startsWith ( "#B#" )  )  {  String[] messages = sentence.substring ( sentence.indexOf ( '#', 1 )  + 1 ) .split ( "\\|" ) ; List<Position> positions = new LinkedList<> (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^}  if  ( sentence.startsWith ( "#M#"  )  ||  ( sentence.startsWith ( "#SD#" )  )  ||  ( sentence.startsWith ( "#D#" )  )  )  )  {^176^^^^^133^191^[REPLACE] } else if  ( sentence.startsWith ( "#M#" )  )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[ADD]^}   DeviceSession deviceSession = getDeviceSession ( channel, remoteAddress ) ;Position position = new Position (  ) ;position.setProtocol ( getProtocolName (  )  ) ;^176^177^178^179^180^133^191^[ADD] else if  ( sentence.startsWith ( "#M#" )  )  { DeviceSession deviceSession = getDeviceSession ( channel, remoteAddress ) ; if  ( deviceSession != null )  { Position position = new Position (  ) ; position.setProtocol ( getProtocolName (  )  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^if  ( deviceSession == null )  {^178^^^^^133^191^[REPLACE] if  ( deviceSession != null )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[ADD]^Position position = new Position (  ) ;position.setProtocol ( getProtocolName (  )  ) ;position.setDeviceId ( deviceSession.getDeviceId (  )  ) ;getLastLocation ( position, new Date (  )  ) ;^178^179^180^181^182^133^191^[ADD] if  ( deviceSession != null )  { Position position = new Position (  ) ; position.setProtocol ( getProtocolName (  )  ) ; position.setDeviceId ( deviceSession.getDeviceId (  )  ) ; getLastLocation ( position, new Date (  )  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^return positions  ;^186^^^^^133^191^[REPLACE] return position;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^DeviceSession deviceSession = getDeviceSession ( channel, remoteAddress, imei )  ;^177^^^^^133^191^[REPLACE] DeviceSession deviceSession = getDeviceSession ( channel, remoteAddress ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[ADD]^^179^^^^^133^191^[ADD] Position position = new Position (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^if  ( ! ( positions.isEmpty (  )  )  && ( position == null )  {^166^^^^^133^191^[REPLACE] if  ( position != null )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^if  ( !positions.add (  )  )  {^172^^^^^133^191^[REPLACE] if  ( !positions.isEmpty (  )  )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^return true;^173^^^^^133^191^[REPLACE] return positions;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^if  ( position == null  || ! ( positions.isEmpty (  )  )  )  {^166^^^^^159^176^[REPLACE] if  ( position != null )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[ADD]^positions.add ( position ) ;^166^167^168^^^159^176^[ADD] if  ( position != null )  { positions.add ( position ) ; }^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^Position position = decodePosition ( channel, remoteAddress, sentence.substring (  (  ( sentence.indexOf ( '#', 1 )  )  + 1 )  )  )  ;^165^^^^^159^176^[REPLACE] Position position = decodePosition ( channel, remoteAddress, message ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^return null;^173^^^^^159^176^[REPLACE] return positions;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^String[] messages = sentence.substring ( sentence.indexOf ( '#', 1 )   1 ) .split ( "\\|" ) ;^161^^^^^159^176^[REPLACE] String[] messages = sentence.substring ( sentence.indexOf ( '#', 1 )  + 1 ) .split ( "\\|" ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[ADD]^^164^165^166^167^168^159^176^[ADD] for  ( String message : messages )  { Position position = decodePosition ( channel, remoteAddress, message ) ; if  ( position != null )  { positions.add ( position ) ; }^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[ADD]^^165^^^^^159^176^[ADD] Position position = decodePosition ( channel, remoteAddress, message ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^if  ( position == null )  {^166^^^^^133^191^[REPLACE] if  ( position != null )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^return false;^173^^^^^133^191^[REPLACE] return positions;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^}  if  ( sentence.startsWith ( "#M#" )  )  {^176^^^^^133^191^[REPLACE] } else if  ( sentence.startsWith ( "#M#" )  )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^if  ( deviceSession == true )  {^178^^^^^133^191^[REPLACE] if  ( deviceSession != null )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^if  ( position == null )  {^166^^^^^159^176^[REPLACE] if  ( position != null )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[ADD]^^166^167^168^^^159^176^[ADD] if  ( position != null )  { positions.add ( position ) ; }^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[ADD]^^167^^^^^159^176^[ADD] positions.add ( position ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^return position  ;^173^^^^^159^176^[REPLACE] return positions;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^return positions  ;^186^^^^^159^176^[REPLACE] return position;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^String[] messages = sentence.substring ( sentence.indexOf ( '#',this )  this ) .split ( "\\|" ) ;^161^^^^^159^176^[REPLACE] String[] messages = sentence.substring ( sentence.indexOf ( '#', 1 )  + 1 ) .split ( "\\|" ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[ADD]^^162^^^^^159^176^[ADD] List<Position> positions = new LinkedList<> (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^String param  ;^164^^^^^159^176^[REPLACE] for  ( String message : messages )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^DeviceSession deviceSession = getDeviceSession ( channel, remoteAddress, imei )  ;^177^^^^^159^176^[REPLACE] DeviceSession deviceSession = getDeviceSession ( channel, remoteAddress ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[ADD]^^179^180^^^^159^176^[ADD] Position position = new Position (  ) ; position.setProtocol ( getProtocolName (  )  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^if  ( ! ( positions.isEmpty (  )  )  && ( position == false )  {^154^^^^^133^191^[REPLACE] if  ( position != null )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^return positions  ;^156^^^^^133^191^[REPLACE] return position;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[ADD]^^151^152^^^^133^191^[ADD] Position position = decodePosition ( channel, remoteAddress, sentence.substring ( sentence.indexOf ( '#', 1 )  + 1 )  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^if  ( position == null )  {^154^^^^^133^191^[REPLACE] if  ( position != null )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^}  if  ( sentence.startsWith ( "#B#" )  )  {^159^^^^^133^191^[REPLACE] } else if  ( sentence.startsWith ( "#B#" )  )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^}  else {^176^^^^^133^191^[REPLACE] } else if  ( sentence.startsWith ( "#M#" )  )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^if  ( position == false )  {^166^^^^^133^191^[REPLACE] if  ( position != null )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[ADD]^^167^^^^^133^191^[ADD] positions.add ( position ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^if  ( positions.isEmpty (  )  )  {^172^^^^^133^191^[REPLACE] if  ( !positions.isEmpty (  )  )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[ADD]^^172^173^174^^^133^191^[ADD] if  ( !positions.isEmpty (  )  )  { return positions; }^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^return this;^173^^^^^159^176^[REPLACE] return positions;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^Position position = decodePosition ( channel, remoteAddress, sentence ) ;^165^^^^^159^176^[REPLACE] Position position = decodePosition ( channel, remoteAddress, message ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^if  ( position == null  || ! ( positions.isEmpty (  )  )  )  {^166^^^^^133^191^[REPLACE] if  ( position != null )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^return 0;^173^^^^^133^191^[REPLACE] return positions;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[ADD]^^179^180^^^^133^191^[ADD] Position position = new Position (  ) ; position.setProtocol ( getProtocolName (  )  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^return positions  ;^156^^^^^159^176^[REPLACE] return position;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^Position position = decodePosition ( channel, remoteAddress, sentence.substring ( sentence.indexOf ( '#', 1 )   1 )  ) ;^151^152^^^^159^176^[REPLACE] Position position = decodePosition ( channel, remoteAddress, sentence.substring ( sentence.indexOf ( '#', 1 )  + 1 )  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[ADD]^^179^^^^^159^176^[ADD] Position position = new Position (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^sendResponse ( channel, "#AP#", false ) ;^147^^^^^133^191^[REPLACE] sendResponse ( channel, "#AP#", null ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[ADD]^^147^^^^^133^191^[ADD] sendResponse ( channel, "#AP#", null ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^} else if  ( sentence.startsWith ( "#SD#" )  ) {^149^^^^^133^191^[REPLACE] } else if  ( sentence.startsWith ( "#SD#" )  || sentence.startsWith ( "#D#" )  )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[ADD]^^178^179^180^181^182^133^191^[ADD] if  ( deviceSession != null )  { Position position = new Position (  ) ; position.setProtocol ( getProtocolName (  )  ) ; position.setDeviceId ( deviceSession.getDeviceId (  )  ) ; getLastLocation ( position, new Date (  )  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[ADD]^^177^^^^^133^191^[ADD] DeviceSession deviceSession = getDeviceSession ( channel, remoteAddress ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^return null;^173^^^^^133^191^[REPLACE] return positions;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^if  ( position == false )  {^166^^^^^159^176^[REPLACE] if  ( position != null )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[ADD]^^161^^^^^159^176^[ADD] String[] messages = sentence.substring ( sentence.indexOf ( '#', 1 )  + 1 ) .split ( "\\|" ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^if  ( deviceSession == false )  {^178^^^^^133^191^[REPLACE] if  ( deviceSession != null )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^if  ( position == true )  {^166^^^^^159^176^[REPLACE] if  ( position != null )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[ADD]^List<Position> positions = new LinkedList<> (  ) ;^161^162^^^^159^176^[ADD] String[] messages = sentence.substring ( sentence.indexOf ( '#', 1 )  + 1 ) .split ( "\\|" ) ; List<Position> positions = new LinkedList<> (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^if  ( position == this  )  {^154^^^^^133^191^[REPLACE] if  ( position != null )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^Position position = decodePosition ( channel, remoteAddress, sentence.substring ( sentence.indexOf ( '#', 1 )   1 )  ) ;^151^152^^^^133^191^[REPLACE] Position position = decodePosition ( channel, remoteAddress, sentence.substring ( sentence.indexOf ( '#', 1 )  + 1 )  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^}  if  ( imei.startsWith ( "#B#"  )  &&  ( sentence.startsWith ( "#SD#" )  )  ||  ( sentence.startsWith ( "#D#" )  )  )  )  {^159^^^^^133^191^[REPLACE] } else if  ( sentence.startsWith ( "#B#" )  )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^} else if  ( sentence.startsWith ( "#M#"  )  ||  ( sentence.startsWith ( "#SD#" )  )  ||  ( sentence.startsWith ( "#D#" )  )  )  )  {^176^^^^^133^191^[REPLACE] } else if  ( sentence.startsWith ( "#M#" )  )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^if  ( deviceSession == this  )  {^178^^^^^133^191^[REPLACE] if  ( deviceSession != null )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[ADD]^return positions;^172^173^174^^^133^191^[ADD] if  ( !positions.isEmpty (  )  )  { return positions; }^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^String[] messages = sentence.substring ( sentence.indexOf ( '#',null )  null ) .split ( "\\|" ) ;^161^^^^^159^176^[REPLACE] String[] messages = sentence.substring ( sentence.indexOf ( '#', 1 )  + 1 ) .split ( "\\|" ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^return this;^173^^^^^133^191^[REPLACE] return positions;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^Position position = decodePosition ( channel, remoteAddress, sentence.toLowerCase ( sentence.indexOf ( '#', 1 )   1 )  ) ;^151^152^^^^159^176^[REPLACE] Position position = decodePosition ( channel, remoteAddress, sentence.substring ( sentence.indexOf ( '#', 1 )  + 1 )  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^String imei = sentence.substring ( 3, sentence.indexOf ( ';' )  )  ;^161^^^^^159^176^[REPLACE] String[] messages = sentence.substring ( sentence.indexOf ( '#', 1 )  + 1 ) .split ( "\\|" ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^if  ( deviceSession == false )  {^141^^^^^133^191^[REPLACE] if  ( deviceSession != null )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^sendResponse ( channel, "#AD#", 1 )  ;^142^^^^^133^191^[REPLACE] sendResponse ( channel, "#AL#", 1 ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[ADD]^^142^^^^^133^191^[ADD] sendResponse ( channel, "#AL#", 1 ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[ADD]^^139^140^^^^133^191^[ADD] String imei = sentence.substring ( 3, sentence.indexOf ( ';' )  ) ; DeviceSession deviceSession = getDeviceSession ( channel, remoteAddress, imei ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^DeviceSession deviceSession = getDeviceSession ( channel, remoteAddress )  ;^140^^^^^133^191^[REPLACE] DeviceSession deviceSession = getDeviceSession ( channel, remoteAddress, imei ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^if  ( deviceSession == null )  {^141^^^^^133^191^[REPLACE] if  ( deviceSession != null )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[ADD]^sendResponse ( channel, "#AL#", 1 ) ;^141^142^143^^^133^191^[ADD] if  ( deviceSession != null )  { sendResponse ( channel, "#AL#", 1 ) ; }^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^}  if  ( sentence.startsWith ( "#SD#" )  && sentence.startsWith ( "#D#" )  )  {^149^^^^^133^191^[REPLACE] } else if  ( sentence.startsWith ( "#SD#" )  || sentence.startsWith ( "#D#" )  )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^} else if  ( sentence.startsWith ( "#M#"  )  &&  ( sentence.startsWith ( "#SD#" )  )  ||  ( sentence.startsWith ( "#D#" )  )  )  )  {^176^^^^^133^191^[REPLACE] } else if  ( sentence.startsWith ( "#M#" )  )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[ADD]^}   Position position = new Position (  ) ;position.setProtocol ( getProtocolName (  )  ) ;^176^177^178^179^180^133^191^[ADD] else if  ( sentence.startsWith ( "#M#" )  )  { DeviceSession deviceSession = getDeviceSession ( channel, remoteAddress ) ; if  ( deviceSession != null )  { Position position = new Position (  ) ; position.setProtocol ( getProtocolName (  )  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^if  ( position == null  && ! ( positions.isEmpty (  )  )  )  {^166^^^^^159^176^[REPLACE] if  ( position != null )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[ADD]^positions.add ( position ) ;^166^167^168^^^133^191^[ADD] if  ( position != null )  { positions.add ( position ) ; }^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^return 0;^173^^^^^159^176^[REPLACE] return positions;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^if  ( position == null  && ! ( positions.isEmpty (  )  )  )  {^154^^^^^133^191^[REPLACE] if  ( position != null )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[ADD]^sendResponse ( channel, "#AD#", 1 ) ;return position;^154^155^156^157^^133^191^[ADD] if  ( position != null )  { sendResponse ( channel, "#AD#", 1 ) ; return position; }^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^if  ( ! ( positions.isEmpty (  )  )  && ( position == null )  {^154^^^^^133^191^[REPLACE] if  ( position != null )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^return position  ;^173^^^^^133^191^[REPLACE] return positions;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^if  ( position == this )  {^166^^^^^159^176^[REPLACE] if  ( position != null )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^return false;^173^^^^^159^176^[REPLACE] return positions;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^String[] messages = message.substring ( sentence.indexOf ( '#', 1 )   1 ) .split ( "\\|" ) ;^161^^^^^159^176^[REPLACE] String[] messages = sentence.substring ( sentence.indexOf ( '#', 1 )  + 1 ) .split ( "\\|" ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^}  if  ( sentence.startsWith ( "#M#"  )  &&  ( sentence.startsWith ( "#SD#" )  )  ||  ( sentence.startsWith ( "#D#" )  )  )  )  {^176^^^^^133^191^[REPLACE] } else if  ( sentence.startsWith ( "#M#" )  )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[ADD]^position.setProtocol ( getProtocolName (  )  ) ;^179^180^^^^159^176^[ADD] Position position = new Position (  ) ; position.setProtocol ( getProtocolName (  )  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^sendResponse ( channel, "#AP#", true ) ;^147^^^^^133^191^[REPLACE] sendResponse ( channel, "#AP#", null ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^}  if  ( sentence.startsWith ( "#SD#" )  ) {^149^^^^^133^191^[REPLACE] } else if  ( sentence.startsWith ( "#SD#" )  || sentence.startsWith ( "#D#" )  )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^if  ( position == false  && ! ( positions.isEmpty (  )  )  )  {^166^^^^^133^191^[REPLACE] if  ( position != null )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^if  ( deviceSession == this )  {^178^^^^^133^191^[REPLACE] if  ( deviceSession != null )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[ADD]^^154^155^156^157^^133^191^[ADD] if  ( position != null )  { sendResponse ( channel, "#AD#", 1 ) ; return position; }^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^if  ( position == true  && ! ( positions.isEmpty (  )  )  )  {^166^^^^^133^191^[REPLACE] if  ( position != null )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^for  ( String sentence : messages )  {^164^^^^^159^176^[REPLACE] for  ( String message : messages )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^if  ( position == null  && ! ( positions.isEmpty (  )  )  )  {^166^^^^^133^191^[REPLACE] if  ( position != null )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^String imei = message.substring ( 4, sentence.indexOf ( ';' )  ) ;^139^^^^^159^176^[REPLACE] String imei = sentence.substring ( 3, sentence.indexOf ( ';' )  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^DeviceSession deviceSession = getDeviceSession ( channel, remoteAddress, sentence ) ;^140^^^^^159^176^[REPLACE] DeviceSession deviceSession = getDeviceSession ( channel, remoteAddress, imei ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
[REPLACE]^return this;^190^^^^^133^191^[REPLACE] return null;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] WialonProtocolDecoder   [TYPE]  Pattern PATTERN  [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  message  sentence  [TYPE]  String[] messages  [TYPE]  SocketAddress remoteAddress 
