[REPLACE]^public static final  long  MSG_DATA = 0x10;^41^^^^^^^[REPLACE] public static final int MSG_DATA = 0x10;^ [CLASS] AstraProtocolDecoder  
[REPLACE]^if  ( channel == null )  {^49^^^^^45^126^[REPLACE] if  ( channel != null )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] AstraProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_DATA  MSG_HEARTBEAT  quality  reason  status  [TYPE]  ChannelBuffer buf 
[REPLACE]^channel.write ( ChannelBuffers.wrappedBuffer ( new byte[] {0x01} ) , remoteAddress ) ;^50^^^^^45^126^[REPLACE] channel.write ( ChannelBuffers.wrappedBuffer ( new byte[] {0x06} ) , remoteAddress ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] AstraProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_DATA  MSG_HEARTBEAT  quality  reason  status  [TYPE]  ChannelBuffer buf 
[REPLACE]^buf.readUnsignedInt (  ) ;^53^^^^^45^126^[REPLACE] buf.readUnsignedByte (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] AstraProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_DATA  MSG_HEARTBEAT  quality  reason  status  [TYPE]  ChannelBuffer buf 
[REPLACE]^buf .readUnsignedInt (  )  ;^54^^^^^45^126^[REPLACE] buf.readUnsignedShort (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] AstraProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_DATA  MSG_HEARTBEAT  quality  reason  status  [TYPE]  ChannelBuffer buf 
[REPLACE]^String imei = String.format ( "%08d", buf.readUnsignedInt (  )  )   String.format ( "%07d", buf.readUnsignedMedium (  )  ) ;^56^^^^^45^126^[REPLACE] String imei = String.format ( "%08d", buf.readUnsignedInt (  )  )  + String.format ( "%07d", buf.readUnsignedMedium (  )  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] AstraProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_DATA  MSG_HEARTBEAT  quality  reason  status  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  ( deviceSession != this  )  {^58^^^^^45^126^[REPLACE] if  ( deviceSession == null )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] AstraProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_DATA  MSG_HEARTBEAT  quality  reason  status  [TYPE]  ChannelBuffer buf 
[REPLACE]^return true;^59^^^^^45^126^[REPLACE] return null;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] AstraProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_DATA  MSG_HEARTBEAT  quality  reason  status  [TYPE]  ChannelBuffer buf 
[ADD]^^62^^^^^45^126^[ADD] List<Position> positions = new LinkedList<> (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] AstraProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_DATA  MSG_HEARTBEAT  quality  reason  status  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  ( BitUtil.check ( status, 8 * 1 )  )  {^107^^^^^45^126^[REPLACE] if  ( BitUtil.check ( status, 8 )  )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] AstraProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_DATA  MSG_HEARTBEAT  quality  reason  status  [TYPE]  ChannelBuffer buf 
[ADD]^^107^108^109^110^^45^126^[ADD] if  ( BitUtil.check ( status, 8 )  )  {  position.set ( Position.KEY_RFID, buf.readBytes ( 7 ) .toString ( StandardCharsets.US_ASCII )  ) ; position.set ( Position.KEY_ODOMETER, buf.readUnsignedMedium (  )  * 1000 ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] AstraProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_DATA  MSG_HEARTBEAT  quality  reason  status  [TYPE]  ChannelBuffer buf 
[REPLACE]^buf.readBytes ( 7 ) .toString ( US_ASCII )  ;^109^^^^^45^126^[REPLACE] position.set ( Position.KEY_RFID, buf.readBytes ( 7 ) .toString ( StandardCharsets.US_ASCII )  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] AstraProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_DATA  MSG_HEARTBEAT  quality  reason  status  [TYPE]  ChannelBuffer buf 
[REPLACE]^position.set ( Position.KEY_RFID, buf.readBytes ( 7 ) .toString ( US_ASCII )  )  ;^109^^^^^45^126^[REPLACE] position.set ( Position.KEY_RFID, buf.readBytes ( 7 ) .toString ( StandardCharsets.US_ASCII )  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] AstraProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_DATA  MSG_HEARTBEAT  quality  reason  status  [TYPE]  ChannelBuffer buf 
[REPLACE]^position.set ( Position.KEY_RFID, buf .readableBytes (  )  .toString ( StandardCharsets.US_ASCII )  ) ;^109^^^^^45^126^[REPLACE] position.set ( Position.KEY_RFID, buf.readBytes ( 7 ) .toString ( StandardCharsets.US_ASCII )  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] AstraProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_DATA  MSG_HEARTBEAT  quality  reason  status  [TYPE]  ChannelBuffer buf 
[REPLACE]^position.set ( Position.KEY_POWER, buf.readUnsignedByte (  )  )  ;^110^^^^^45^126^[REPLACE] position.set ( Position.KEY_ODOMETER, buf.readUnsignedMedium (  )  * 1000 ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] AstraProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_DATA  MSG_HEARTBEAT  quality  reason  status  [TYPE]  ChannelBuffer buf 
[REMOVE]^position.set ( Position.KEY_POWER, buf.readUnsignedByte (  )  )  ;^110^^^^^45^126^[REMOVE] ^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] AstraProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_DATA  MSG_HEARTBEAT  quality  reason  status  [TYPE]  ChannelBuffer buf 
[REPLACE]^position.set ( Position.KEY_ODOMETER, buf.readBytes (  )  * 1000 ) ;^110^^^^^45^126^[REPLACE] position.set ( Position.KEY_ODOMETER, buf.readUnsignedMedium (  )  * 1000 ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] AstraProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_DATA  MSG_HEARTBEAT  quality  reason  status  [TYPE]  ChannelBuffer buf 
[REPLACE]^buf.readUnsignedInt (  )  ;^112^^^^^45^126^[REPLACE] buf.readUnsignedShort (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] AstraProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_DATA  MSG_HEARTBEAT  quality  reason  status  [TYPE]  ChannelBuffer buf 
[REMOVE]^buf.readUnsignedInt (  )  ;^112^^^^^45^126^[REMOVE] ^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] AstraProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_DATA  MSG_HEARTBEAT  quality  reason  status  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  ( BitUtil.check ( status, 6 + 1 )  )  {^116^^^^^45^126^[REPLACE] if  ( BitUtil.check ( status, 6 )  )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] AstraProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_DATA  MSG_HEARTBEAT  quality  reason  status  [TYPE]  ChannelBuffer buf 
[ADD]^Log.warning ( "Extension data is not supported" ) ;return position;^116^117^118^119^^45^126^[ADD] if  ( BitUtil.check ( status, 6 )  )  { Log.warning ( "Extension data is not supported" ) ; return position; }^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] AstraProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_DATA  MSG_HEARTBEAT  quality  reason  status  [TYPE]  ChannelBuffer buf 
[REPLACE]^return positions  ;^118^^^^^45^126^[REPLACE] return position;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] AstraProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_DATA  MSG_HEARTBEAT  quality  reason  status  [TYPE]  ChannelBuffer buf 
[ADD]^^76^77^^^^45^126^[ADD] DateBuilder dateBuilder = new DateBuilder (  ) .setDate ( 1980, 1, 6 ) .addMillis ( buf.readUnsignedInt (  )  * 1000L ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] AstraProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_DATA  MSG_HEARTBEAT  quality  reason  status  [TYPE]  ChannelBuffer buf 
[REPLACE]^int reason = buf.readUnsignedInt (  ) ;^83^^^^^45^126^[REPLACE] int reason = buf.readUnsignedMedium (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] AstraProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_DATA  MSG_HEARTBEAT  quality  reason  status  [TYPE]  ChannelBuffer buf 
[REPLACE]^int reason = buf.readUnsignedMedium (  )  ;^86^^^^^45^126^[REPLACE] int status = buf.readUnsignedShort (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] AstraProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_DATA  MSG_HEARTBEAT  quality  reason  status  [TYPE]  ChannelBuffer buf 
[REPLACE]^int quality = buf .readUnsignedInt (  )  ;^101^^^^^45^126^[REPLACE] int quality = buf.readUnsignedByte (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] AstraProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_DATA  MSG_HEARTBEAT  quality  reason  status  [TYPE]  ChannelBuffer buf 
[REPLACE]^return this;^125^^^^^45^126^[REPLACE] return positions;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] AstraProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  List positions  [TYPE]  String imei  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_DATA  MSG_HEARTBEAT  quality  reason  status  [TYPE]  ChannelBuffer buf 
