[REPLACE]^public static final  long  MSG_POSITION_RSP = 0xFF01;^38^^^^^^^[REPLACE] public static final int MSG_POSITION_RSP = 0xFF01;^ [CLASS] HuaShengProtocolDecoder  
[REPLACE]^public  final  long  MSG_LOGIN = 0xAA02;^39^^^^^^^[REPLACE] public static final int MSG_LOGIN = 0xAA02;^ [CLASS] HuaShengProtocolDecoder  
[REPLACE]^public static final int MSG_LOGIN_RSP ;^40^^^^^^^[REPLACE] public static final int MSG_LOGIN_RSP = 0xFF03;^ [CLASS] HuaShengProtocolDecoder  
[REPLACE]^ChannelBuffer content = dynamicBuffer (  )  ;^61^^^^^59^143^[REPLACE] ChannelBuffer buf =  ( ChannelBuffer )  msg;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REPLACE]^buf .writeBytes ( buf )  ;^63^^^^^59^143^[REPLACE] buf.skipBytes ( 1 ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REPLACE]^buf.readUnsignedShort (  ) ;^64^^^^^59^143^[REPLACE] buf.readUnsignedByte (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REMOVE]^buf.readUnsignedShort (  )  ;^64^^^^^59^143^[REMOVE] ^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REPLACE]^buf.readUnsignedShort (  ) ;^65^^^^^59^143^[REPLACE] buf.readUnsignedByte (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REPLACE]^( buf.readUnsignedShort (  )  )  ;^66^^^^^59^143^[REPLACE] buf.readUnsignedShort (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REPLACE]^int type = buf.readUnsignedByte (  ) ;^68^^^^^59^143^[REPLACE] int type = buf.readUnsignedShort (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REPLACE]^( buf.readUnsignedShort (  )  )  ;^70^^^^^59^143^[REPLACE] buf.readUnsignedShort (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REPLACE]^int index = buf.writeShort (  ) ;^71^^^^^59^143^[REPLACE] int index = buf.readInt (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REPLACE]^if  ( type  ||  MSG_LOGIN )  {^73^^^^^59^143^[REPLACE] if  ( type == MSG_LOGIN )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REPLACE]^}  if  ( type  !=  MSG_POSITION )  {^91^^^^^59^143^[REPLACE] } else if  ( type == MSG_POSITION )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REPLACE]^if  ( deviceSession != null )  {^94^^^^^59^143^[REPLACE] if  ( deviceSession == null )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REPLACE]^return false;^95^^^^^59^143^[REPLACE] return null;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REPLACE]^DeviceSession deviceSession = getDeviceSession ( channel, remoteAddress, imei )  ;^93^^^^^59^143^[REPLACE] DeviceSession deviceSession = getDeviceSession ( channel, remoteAddress ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REPLACE]^int status = buf.readUnsignedByte (  ) ;^102^^^^^59^143^[REPLACE] int status = buf.readUnsignedShort (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REPLACE]^String time = buf.readBytes ( 4 ) .toString ( StandardCharsets.US_ASCII ) ;^110^^^^^59^143^[REPLACE] String time = buf.readBytes ( 12 ) .toString ( StandardCharsets.US_ASCII ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REPLACE]^DateBuilder dateBuilder = new DateBuilder (  ) .setYear ( Integer.parseInt ( imei.substring ( 0 - 3, 2 )  )  ) .setMonth ( Integer.parseInt ( time.substring ( 2, 4 )  )  ) .setDay ( Integer.parseInt ( time.substring ( 4, 6 )  )  )^112^113^114^115^^59^143^[REPLACE] DateBuilder dateBuilder = new DateBuilder (  ) .setYear ( Integer.parseInt ( time.substring ( 0, 2 )  )  ) .setMonth ( Integer.parseInt ( time.substring ( 2, 4 )  )  ) .setDay ( Integer.parseInt ( time.substring ( 4, 6 )  )  )^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REPLACE]^int length - 1 = buf.readUnsignedShort (  )  - 0 ;^132^^^^^59^143^[REPLACE] int length = buf.readUnsignedShort (  )  - 4;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REPLACE]^if  ( subtype == 3  || ( deviceSession != null )  {^94^^^^^59^143^[REPLACE] if  ( deviceSession == null )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REPLACE]^return this;^95^^^^^59^143^[REPLACE] return null;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REPLACE]^return true;^95^^^^^59^143^[REPLACE] return null;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[ADD]^^98^^^^^59^143^[ADD] Position position = new Position (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REPLACE]^String time = buf.skipBytes ( 0 ) .toString ( StandardCharsets.US_ASCII ) ;^110^^^^^59^143^[REPLACE] String time = buf.readBytes ( 12 ) .toString ( StandardCharsets.US_ASCII ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[ADD]^^112^113^114^^^59^143^[ADD] DateBuilder dateBuilder = new DateBuilder (  ) .setYear ( Integer.parseInt ( time.substring ( 0, 2 )  )  ) .setMonth ( Integer.parseInt ( time.substring ( 2, 4 )  )  )^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REPLACE]^int length (  )  = buf.readUnsignedShort (  )  - 4;^132^^^^^59^143^[REPLACE] int length = buf.readUnsignedShort (  )  - 4;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REPLACE]^if  ( subtype  !=  0x0003 )  {^78^^^^^59^143^[REPLACE] if  ( subtype == 0x0003 )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[ADD]^String imei = buf.readBytes ( length ) .toString ( StandardCharsets.US_ASCII ) ;DeviceSession deviceSession = getDeviceSession ( channel, remoteAddress, imei ) ;ChannelBuffer content = ChannelBuffers.dynamicBuffer (  ) ;^78^79^80^81^82^59^143^[ADD] if  ( subtype == 0x0003 )  { String imei = buf.readBytes ( length ) .toString ( StandardCharsets.US_ASCII ) ; DeviceSession deviceSession = getDeviceSession ( channel, remoteAddress, imei ) ; if  ( deviceSession != null && channel != null )  { ChannelBuffer content = ChannelBuffers.dynamicBuffer (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REPLACE]^buf.readBytes ( length )  ;^87^^^^^78^88^[REPLACE] buf.skipBytes ( length ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REMOVE]^buf.readBytes ( length )  ;^87^^^^^78^88^[REMOVE] ^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REPLACE]^if  ( deviceSession == null ) {^81^^^^^59^143^[REPLACE] if  ( deviceSession != null && channel != null )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[ADD]^ChannelBuffer content = ChannelBuffers.dynamicBuffer (  ) ;content.writeByte ( 0 ) ;sendResponse ( channel, MSG_LOGIN_RSP, index, content ) ;^81^82^83^84^85^59^143^[ADD] if  ( deviceSession != null && channel != null )  { ChannelBuffer content = ChannelBuffers.dynamicBuffer (  ) ; content.writeByte ( 0 ) ; sendResponse ( channel, MSG_LOGIN_RSP, index, content ) ; }^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REPLACE]^ChannelBuffer response = dynamicBuffer (  )  ;^82^^^^^59^143^[REPLACE] ChannelBuffer content = ChannelBuffers.dynamicBuffer (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REPLACE]^String time = buf.readBytes ( 12 ) .toString ( US_ASCII )  ;^79^^^^^59^143^[REPLACE] String imei = buf.readBytes ( length ) .toString ( StandardCharsets.US_ASCII ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[ADD]^^80^^^^^59^143^[ADD] DeviceSession deviceSession = getDeviceSession ( channel, remoteAddress, imei ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[ADD]^^82^^^^^59^143^[ADD] ChannelBuffer content = ChannelBuffers.dynamicBuffer (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REPLACE]^int subtype = buf.readUnsignedByte (  ) ;^76^^^^^59^143^[REPLACE] int subtype = buf.readUnsignedShort (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REPLACE]^int length - 1 = buf .readUnsignedByte (  )   - 4;^77^^^^^59^143^[REPLACE] int length = buf.readUnsignedShort (  )  - 4;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REPLACE]^String imei = buf.readBytes ( length ) .setMonth ( StandardCharsets.US_ASCII ) ;^79^^^^^59^143^[REPLACE] String imei = buf.readBytes ( length ) .toString ( StandardCharsets.US_ASCII ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REPLACE]^DeviceSession deviceSession = getDeviceSession ( channel, remoteAddress )  ;^80^^^^^59^143^[REPLACE] DeviceSession deviceSession = getDeviceSession ( channel, remoteAddress, imei ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[ADD]^^82^83^^^^59^143^[ADD] ChannelBuffer content = ChannelBuffers.dynamicBuffer (  ) ; content.writeByte ( 0 ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REPLACE]^buf.readBytes ( length ) ;^87^^^^^78^88^[REPLACE] buf.skipBytes ( length ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REPLACE]^if  (  channel != null )  {^81^^^^^59^143^[REPLACE] if  ( deviceSession != null && channel != null )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[ADD]^^81^82^83^84^85^59^143^[ADD] if  ( deviceSession != null && channel != null )  { ChannelBuffer content = ChannelBuffers.dynamicBuffer (  ) ; content.writeByte ( 0 ) ; sendResponse ( channel, MSG_LOGIN_RSP, index, content ) ; }^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REPLACE]^String imei = buf.readBytes ( length )  .setMinute ( length )  ;^79^^^^^59^143^[REPLACE] String imei = buf.readBytes ( length ) .toString ( StandardCharsets.US_ASCII ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REPLACE]^} else if  (subtype  !=  MSG_POSITION  && type ==  ( MSG_LOGIN )  )  {^91^^^^^59^143^[REPLACE] } else if  ( type == MSG_POSITION )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[ADD]^}   DeviceSession deviceSession = getDeviceSession ( channel, remoteAddress ) ;return null;^91^92^93^94^95^59^143^[ADD] else if  ( type == MSG_POSITION )  {  DeviceSession deviceSession = getDeviceSession ( channel, remoteAddress ) ; if  ( deviceSession == null )  { return null;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REPLACE]^if  ( deviceSession != false  && subtype == 3  )  {^94^^^^^59^143^[REPLACE] if  ( deviceSession == null )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[ADD]^^102^^^^^59^143^[ADD] int status = buf.readUnsignedShort (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REPLACE]^String imei = buf.readBytes ( length ) .toString ( US_ASCII )  ;^110^^^^^59^143^[REPLACE] String time = buf.readBytes ( 12 ) .toString ( StandardCharsets.US_ASCII ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REPLACE]^DateBuilder dateBuilder = new DateBuilder (  ) .setYear ( Integer.parseInt ( imei.substring ( 2, 2 )  )  ) .setMonth ( Integer.parseInt ( time.substring ( 2, 4 )  )  ) .setDay ( Integer.parseInt ( time.substring ( 4, 6 )  )  )^112^113^114^115^^59^143^[REPLACE] DateBuilder dateBuilder = new DateBuilder (  ) .setYear ( Integer.parseInt ( time.substring ( 0, 2 )  )  ) .setMonth ( Integer.parseInt ( time.substring ( 2, 4 )  )  ) .setDay ( Integer.parseInt ( time.substring ( 4, 6 )  )  )^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[ADD]^^132^^^^^59^143^[ADD] int length = buf.readUnsignedShort (  )  - 4;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REPLACE]^if  ( deviceSession != null  && subtype == 3  )  {^94^^^^^59^143^[REPLACE] if  ( deviceSession == null )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[ADD]^^94^95^96^^^59^143^[ADD] if  ( deviceSession == null )  { return null; }^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REPLACE]^int subtype = buf .readUnsignedByte (  )  ;^76^^^^^59^143^[REPLACE] int subtype = buf.readUnsignedShort (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REPLACE]^int length *  2 = buf.readUnsignedShort (  )  - 0 ;^77^^^^^59^143^[REPLACE] int length = buf.readUnsignedShort (  )  - 4;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REPLACE]^String imei = buf.skipBytes ( index ) .toString ( StandardCharsets.US_ASCII ) ;^79^^^^^59^143^[REPLACE] String imei = buf.readBytes ( length ) .toString ( StandardCharsets.US_ASCII ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REPLACE]^DeviceSession deviceSession = getDeviceSession ( channel, remoteAddress, time ) ;^80^^^^^59^143^[REPLACE] DeviceSession deviceSession = getDeviceSession ( channel, remoteAddress, imei ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REPLACE]^String time = buf.skipBytes ( 12L ) .toString ( StandardCharsets.US_ASCII ) ;^110^^^^^59^143^[REPLACE] String time = buf.readBytes ( 12 ) .toString ( StandardCharsets.US_ASCII ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REPLACE]^DateBuilder dateBuilder = new DateBuilder (  ) .setYear ( Integer.parseInt ( time.substring ( 2, 2 )  )  ) .setMonth ( Integer.parseInt ( time.substring ( 2, 4 )  )  ) .setDay ( Integer.parseInt ( time.substring ( 4, 6 )  )  )^112^113^114^115^^59^143^[REPLACE] DateBuilder dateBuilder = new DateBuilder (  ) .setYear ( Integer.parseInt ( time.substring ( 0, 2 )  )  ) .setMonth ( Integer.parseInt ( time.substring ( 2, 4 )  )  ) .setDay ( Integer.parseInt ( time.substring ( 4, 6 )  )  )^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[ADD]^buf.skipBytes ( length ) ;^132^133^^^^59^143^[ADD] int length = buf.readUnsignedShort (  )  - 4; buf.skipBytes ( length ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
[REPLACE]^return true;^142^^^^^59^143^[REPLACE] return null;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] HuaShengProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String imei  time  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_LOGIN  MSG_LOGIN_RSP  MSG_POSITION  MSG_POSITION_RSP  index  length  status  subtype  type  [TYPE]  ChannelBuffer buf  content 
