[REPLACE]^private static final int MESSAGE_HEADER  = null ;^25^^^^^^^[REPLACE] private static final int MESSAGE_HEADER = 20;^ [CLASS] NavigilFrameDecoder  
[REPLACE]^private static final  short  PREAMBLE = 0x2477F5F6;^26^^^^^^^[REPLACE] private static final long PREAMBLE = 0x2477F5F6;^ [CLASS] NavigilFrameDecoder  
[REPLACE]^if  ( buf.readableBytes (  )   >=  MESSAGE_HEADER )  {^35^^^^^32^56^[REPLACE] if  ( buf.readableBytes (  )  < MESSAGE_HEADER )  {^[METHOD] decode [TYPE] Object [PARAMETER] ChannelHandlerContext ctx Channel channel ChannelBuffer buf [CLASS] NavigilFrameDecoder   [TYPE]  ChannelHandlerContext ctx  [TYPE]  boolean false  hasPreamble  true  [TYPE]  int MESSAGE_HEADER  length  [TYPE]  long PREAMBLE  [TYPE]  Channel channel  [TYPE]  ChannelBuffer buf 
[ADD]^^35^36^37^^^32^56^[ADD] if  ( buf.readableBytes (  )  < MESSAGE_HEADER )  { return null; }^[METHOD] decode [TYPE] Object [PARAMETER] ChannelHandlerContext ctx Channel channel ChannelBuffer buf [CLASS] NavigilFrameDecoder   [TYPE]  ChannelHandlerContext ctx  [TYPE]  boolean false  hasPreamble  true  [TYPE]  int MESSAGE_HEADER  length  [TYPE]  long PREAMBLE  [TYPE]  Channel channel  [TYPE]  ChannelBuffer buf 
[REPLACE]^return this;^36^^^^^32^56^[REPLACE] return null;^[METHOD] decode [TYPE] Object [PARAMETER] ChannelHandlerContext ctx Channel channel ChannelBuffer buf [CLASS] NavigilFrameDecoder   [TYPE]  ChannelHandlerContext ctx  [TYPE]  boolean false  hasPreamble  true  [TYPE]  int MESSAGE_HEADER  length  [TYPE]  long PREAMBLE  [TYPE]  Channel channel  [TYPE]  ChannelBuffer buf 
[REPLACE]^return true;^36^^^^^32^56^[REPLACE] return null;^[METHOD] decode [TYPE] Object [PARAMETER] ChannelHandlerContext ctx Channel channel ChannelBuffer buf [CLASS] NavigilFrameDecoder   [TYPE]  ChannelHandlerContext ctx  [TYPE]  boolean false  hasPreamble  true  [TYPE]  int MESSAGE_HEADER  length  [TYPE]  long PREAMBLE  [TYPE]  Channel channel  [TYPE]  ChannelBuffer buf 
[ADD]^^40^^^^^32^56^[ADD] boolean hasPreamble = false;^[METHOD] decode [TYPE] Object [PARAMETER] ChannelHandlerContext ctx Channel channel ChannelBuffer buf [CLASS] NavigilFrameDecoder   [TYPE]  ChannelHandlerContext ctx  [TYPE]  boolean false  hasPreamble  true  [TYPE]  int MESSAGE_HEADER  length  [TYPE]  long PREAMBLE  [TYPE]  Channel channel  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  ( buf.getUnsignedInt ( buf.readerIndex (  )  )   !=  PREAMBLE )  {^41^^^^^32^56^[REPLACE] if  ( buf.getUnsignedInt ( buf.readerIndex (  )  )  == PREAMBLE )  {^[METHOD] decode [TYPE] Object [PARAMETER] ChannelHandlerContext ctx Channel channel ChannelBuffer buf [CLASS] NavigilFrameDecoder   [TYPE]  ChannelHandlerContext ctx  [TYPE]  boolean false  hasPreamble  true  [TYPE]  int MESSAGE_HEADER  length  [TYPE]  long PREAMBLE  [TYPE]  Channel channel  [TYPE]  ChannelBuffer buf 
[REPLACE]^hasPreamble = false;^42^^^^^32^56^[REPLACE] hasPreamble = true;^[METHOD] decode [TYPE] Object [PARAMETER] ChannelHandlerContext ctx Channel channel ChannelBuffer buf [CLASS] NavigilFrameDecoder   [TYPE]  ChannelHandlerContext ctx  [TYPE]  boolean false  hasPreamble  true  [TYPE]  int MESSAGE_HEADER  length  [TYPE]  long PREAMBLE  [TYPE]  Channel channel  [TYPE]  ChannelBuffer buf 
[ADD]^^46^^^^^32^56^[ADD] int length = buf.getUnsignedShort ( buf.readerIndex (  )  + 6 ) ;^[METHOD] decode [TYPE] Object [PARAMETER] ChannelHandlerContext ctx Channel channel ChannelBuffer buf [CLASS] NavigilFrameDecoder   [TYPE]  ChannelHandlerContext ctx  [TYPE]  boolean false  hasPreamble  true  [TYPE]  int MESSAGE_HEADER  length  [TYPE]  long PREAMBLE  [TYPE]  Channel channel  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  ( buf.readableBytes (  )  >= length %  0.5  )  {^47^^^^^32^56^[REPLACE] if  ( buf.readableBytes (  )  >= length )  {^[METHOD] decode [TYPE] Object [PARAMETER] ChannelHandlerContext ctx Channel channel ChannelBuffer buf [CLASS] NavigilFrameDecoder   [TYPE]  ChannelHandlerContext ctx  [TYPE]  boolean false  hasPreamble  true  [TYPE]  int MESSAGE_HEADER  length  [TYPE]  long PREAMBLE  [TYPE]  Channel channel  [TYPE]  ChannelBuffer buf 
[ADD]^^47^48^49^50^51^32^56^[ADD] if  ( buf.readableBytes (  )  >= length )  { if  ( hasPreamble )  { buf.readUnsignedInt (  ) ; length -= 4; }^[METHOD] decode [TYPE] Object [PARAMETER] ChannelHandlerContext ctx Channel channel ChannelBuffer buf [CLASS] NavigilFrameDecoder   [TYPE]  ChannelHandlerContext ctx  [TYPE]  boolean false  hasPreamble  true  [TYPE]  int MESSAGE_HEADER  length  [TYPE]  long PREAMBLE  [TYPE]  Channel channel  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  ( true )  {^48^^^^^32^56^[REPLACE] if  ( hasPreamble )  {^[METHOD] decode [TYPE] Object [PARAMETER] ChannelHandlerContext ctx Channel channel ChannelBuffer buf [CLASS] NavigilFrameDecoder   [TYPE]  ChannelHandlerContext ctx  [TYPE]  boolean false  hasPreamble  true  [TYPE]  int MESSAGE_HEADER  length  [TYPE]  long PREAMBLE  [TYPE]  Channel channel  [TYPE]  ChannelBuffer buf 
[REPLACE]^length -= 0 ;^50^^^^^32^56^[REPLACE] length -= 4;^[METHOD] decode [TYPE] Object [PARAMETER] ChannelHandlerContext ctx Channel channel ChannelBuffer buf [CLASS] NavigilFrameDecoder   [TYPE]  ChannelHandlerContext ctx  [TYPE]  boolean false  hasPreamble  true  [TYPE]  int MESSAGE_HEADER  length  [TYPE]  long PREAMBLE  [TYPE]  Channel channel  [TYPE]  ChannelBuffer buf 
[REPLACE]^return buf .readableBytes (  )  ;^52^^^^^32^56^[REPLACE] return buf.readBytes ( length ) ;^[METHOD] decode [TYPE] Object [PARAMETER] ChannelHandlerContext ctx Channel channel ChannelBuffer buf [CLASS] NavigilFrameDecoder   [TYPE]  ChannelHandlerContext ctx  [TYPE]  boolean false  hasPreamble  true  [TYPE]  int MESSAGE_HEADER  length  [TYPE]  long PREAMBLE  [TYPE]  Channel channel  [TYPE]  ChannelBuffer buf 
[ADD]^^48^49^50^51^^32^56^[ADD] if  ( hasPreamble )  { buf.readUnsignedInt (  ) ; length -= 4; }^[METHOD] decode [TYPE] Object [PARAMETER] ChannelHandlerContext ctx Channel channel ChannelBuffer buf [CLASS] NavigilFrameDecoder   [TYPE]  ChannelHandlerContext ctx  [TYPE]  boolean false  hasPreamble  true  [TYPE]  int MESSAGE_HEADER  length  [TYPE]  long PREAMBLE  [TYPE]  Channel channel  [TYPE]  ChannelBuffer buf 
[ADD]^^50^^^^^32^56^[ADD] length -= 4;^[METHOD] decode [TYPE] Object [PARAMETER] ChannelHandlerContext ctx Channel channel ChannelBuffer buf [CLASS] NavigilFrameDecoder   [TYPE]  ChannelHandlerContext ctx  [TYPE]  boolean false  hasPreamble  true  [TYPE]  int MESSAGE_HEADER  length  [TYPE]  long PREAMBLE  [TYPE]  Channel channel  [TYPE]  ChannelBuffer buf 
[REPLACE]^return buf.readBytes ( MESSAGE_HEADER ) ;^52^^^^^32^56^[REPLACE] return buf.readBytes ( length ) ;^[METHOD] decode [TYPE] Object [PARAMETER] ChannelHandlerContext ctx Channel channel ChannelBuffer buf [CLASS] NavigilFrameDecoder   [TYPE]  ChannelHandlerContext ctx  [TYPE]  boolean false  hasPreamble  true  [TYPE]  int MESSAGE_HEADER  length  [TYPE]  long PREAMBLE  [TYPE]  Channel channel  [TYPE]  ChannelBuffer buf 
[REPLACE]^return false;^55^^^^^32^56^[REPLACE] return null;^[METHOD] decode [TYPE] Object [PARAMETER] ChannelHandlerContext ctx Channel channel ChannelBuffer buf [CLASS] NavigilFrameDecoder   [TYPE]  ChannelHandlerContext ctx  [TYPE]  boolean false  hasPreamble  true  [TYPE]  int MESSAGE_HEADER  length  [TYPE]  long PREAMBLE  [TYPE]  Channel channel  [TYPE]  ChannelBuffer buf 
