[REPLACE]^public static final  long  MSG_HEARTBEAT = 0x21;^36^^^^^^^[REPLACE] public static final int MSG_HEARTBEAT = 0x21;^ [CLASS] GatorProtocolDecoder  
[REPLACE]^public static final int MSG_POSITION_DATA ;^37^^^^^^^[REPLACE] public static final int MSG_POSITION_DATA = 0x80;^ [CLASS] GatorProtocolDecoder  
[REPLACE]^public static final  long  MSG_ROLLCALL_RESPONSE = 0x81;^38^^^^^^^[REPLACE] public static final int MSG_ROLLCALL_RESPONSE = 0x81;^ [CLASS] GatorProtocolDecoder  
[REPLACE]^public static final int MSG_ALARM_DATA ;^39^^^^^^^[REPLACE] public static final int MSG_ALARM_DATA = 0x82;^ [CLASS] GatorProtocolDecoder  
[REPLACE]^public static final  long  MSG_TERMINAL_STATUS = 0x83;^40^^^^^^^[REPLACE] public static final int MSG_TERMINAL_STATUS = 0x83;^ [CLASS] GatorProtocolDecoder  
[REPLACE]^public static final int MSG_MESSAGE ;^41^^^^^^^[REPLACE] public static final int MSG_MESSAGE = 0x84;^ [CLASS] GatorProtocolDecoder  
[REPLACE]^public  final int MSG_TERMINAL_ANSWER = 0x85;^42^^^^^^^[REPLACE] public static final int MSG_TERMINAL_ANSWER = 0x85;^ [CLASS] GatorProtocolDecoder  
[REPLACE]^public  final int MSG_BLIND_AREA = 0x8E;^43^^^^^^^[REPLACE] public static final int MSG_BLIND_AREA = 0x8E;^ [CLASS] GatorProtocolDecoder  
[REPLACE]^public static final int MSG_PICTURE_FRAME ;^44^^^^^^^[REPLACE] public static final int MSG_PICTURE_FRAME = 0x54;^ [CLASS] GatorProtocolDecoder  
[REPLACE]^public static final int MSG_CAMERA_RESPONSE ;^45^^^^^^^[REPLACE] public static final int MSG_CAMERA_RESPONSE = 0x56;^ [CLASS] GatorProtocolDecoder  
[REPLACE]^public static final  long  MSG_PICTURE_DATA = 0x57;^46^^^^^^^[REPLACE] public static final int MSG_PICTURE_DATA = 0x57;^ [CLASS] GatorProtocolDecoder  
[REPLACE]^ChannelBuffer response = dynamicBuffer (  )  ;^63^^^^^61^128^[REPLACE] ChannelBuffer buf =  ( ChannelBuffer )  msg;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] GatorProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String id  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_ALARM_DATA  MSG_BLIND_AREA  MSG_CAMERA_RESPONSE  MSG_HEARTBEAT  MSG_MESSAGE  MSG_PICTURE_DATA  MSG_PICTURE_FRAME  MSG_POSITION_DATA  MSG_ROLLCALL_RESPONSE  MSG_TERMINAL_ANSWER  MSG_TERMINAL_STATUS  b1  b2  b3  b4  d1  d2  d3  d4  d5  flags  type  [TYPE]  ChannelBuffer buf  response 
[REPLACE]^buf.writeByte ( 4 ) ;^65^^^^^61^128^[REPLACE] buf.skipBytes ( 2 ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] GatorProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String id  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_ALARM_DATA  MSG_BLIND_AREA  MSG_CAMERA_RESPONSE  MSG_HEARTBEAT  MSG_MESSAGE  MSG_PICTURE_DATA  MSG_PICTURE_FRAME  MSG_POSITION_DATA  MSG_ROLLCALL_RESPONSE  MSG_TERMINAL_ANSWER  MSG_TERMINAL_STATUS  b1  b2  b3  b4  d1  d2  d3  d4  d5  flags  type  [TYPE]  ChannelBuffer buf  response 
[ADD]^^65^66^^^^61^128^[ADD] buf.skipBytes ( 2 ) ; int type = buf.readUnsignedByte (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] GatorProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String id  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_ALARM_DATA  MSG_BLIND_AREA  MSG_CAMERA_RESPONSE  MSG_HEARTBEAT  MSG_MESSAGE  MSG_PICTURE_DATA  MSG_PICTURE_FRAME  MSG_POSITION_DATA  MSG_ROLLCALL_RESPONSE  MSG_TERMINAL_ANSWER  MSG_TERMINAL_STATUS  b1  b2  b3  b4  d1  d2  d3  d4  d5  flags  type  [TYPE]  ChannelBuffer buf  response 
[REPLACE]^int type = buf.readUnsignedInt (  ) ;^66^^^^^61^128^[REPLACE] int type = buf.readUnsignedByte (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] GatorProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String id  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_ALARM_DATA  MSG_BLIND_AREA  MSG_CAMERA_RESPONSE  MSG_HEARTBEAT  MSG_MESSAGE  MSG_PICTURE_DATA  MSG_PICTURE_FRAME  MSG_POSITION_DATA  MSG_ROLLCALL_RESPONSE  MSG_TERMINAL_ANSWER  MSG_TERMINAL_STATUS  b1  b2  b3  b4  d1  d2  d3  d4  d5  flags  type  [TYPE]  ChannelBuffer buf  response 
[REPLACE]^buf.readUnsignedInt (  ) ;^67^^^^^61^128^[REPLACE] buf.readUnsignedShort (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] GatorProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String id  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_ALARM_DATA  MSG_BLIND_AREA  MSG_CAMERA_RESPONSE  MSG_HEARTBEAT  MSG_MESSAGE  MSG_PICTURE_DATA  MSG_PICTURE_FRAME  MSG_POSITION_DATA  MSG_ROLLCALL_RESPONSE  MSG_TERMINAL_ANSWER  MSG_TERMINAL_STATUS  b1  b2  b3  b4  d1  d2  d3  d4  d5  flags  type  [TYPE]  ChannelBuffer buf  response 
[ADD]^^69^70^71^^^61^128^[ADD] String id = decodeId ( buf.readUnsignedByte (  ) , buf.readUnsignedByte (  ) , buf.readUnsignedByte (  ) , buf.readUnsignedByte (  )  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] GatorProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String id  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_ALARM_DATA  MSG_BLIND_AREA  MSG_CAMERA_RESPONSE  MSG_HEARTBEAT  MSG_MESSAGE  MSG_PICTURE_DATA  MSG_PICTURE_FRAME  MSG_POSITION_DATA  MSG_ROLLCALL_RESPONSE  MSG_TERMINAL_ANSWER  MSG_TERMINAL_STATUS  b1  b2  b3  b4  d1  d2  d3  d4  d5  flags  type  [TYPE]  ChannelBuffer buf  response 
[REPLACE]^if  (  MSG_TERMINAL_STATUS )  {^73^^^^^61^128^[REPLACE] if  ( type == MSG_HEARTBEAT )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] GatorProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String id  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_ALARM_DATA  MSG_BLIND_AREA  MSG_CAMERA_RESPONSE  MSG_HEARTBEAT  MSG_MESSAGE  MSG_PICTURE_DATA  MSG_PICTURE_FRAME  MSG_POSITION_DATA  MSG_ROLLCALL_RESPONSE  MSG_TERMINAL_ANSWER  MSG_TERMINAL_STATUS  b1  b2  b3  b4  d1  d2  d3  d4  d5  flags  type  [TYPE]  ChannelBuffer buf  response 
[ADD]^^73^74^75^76^77^61^128^[ADD] if  ( type == MSG_HEARTBEAT )  {  if  ( channel != null )  { ChannelBuffer response = ChannelBuffers.dynamicBuffer (  ) ; response.writeByte ( 0x24 ) ; response.writeByte ( 0x24 ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] GatorProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String id  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_ALARM_DATA  MSG_BLIND_AREA  MSG_CAMERA_RESPONSE  MSG_HEARTBEAT  MSG_MESSAGE  MSG_PICTURE_DATA  MSG_PICTURE_FRAME  MSG_POSITION_DATA  MSG_ROLLCALL_RESPONSE  MSG_TERMINAL_ANSWER  MSG_TERMINAL_STATUS  b1  b2  b3  b4  d1  d2  d3  d4  d5  flags  type  [TYPE]  ChannelBuffer buf  response 
[REPLACE]^} else if  (  type == MSG_ROLLCALL_RESPONSE && type == MSG_ALARM_DATA && type ==true )  {^88^89^^^^61^128^[REPLACE] } else if  ( type == MSG_POSITION_DATA || type == MSG_ROLLCALL_RESPONSE || type == MSG_ALARM_DATA || type == MSG_BLIND_AREA )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] GatorProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String id  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_ALARM_DATA  MSG_BLIND_AREA  MSG_CAMERA_RESPONSE  MSG_HEARTBEAT  MSG_MESSAGE  MSG_PICTURE_DATA  MSG_PICTURE_FRAME  MSG_POSITION_DATA  MSG_ROLLCALL_RESPONSE  MSG_TERMINAL_ANSWER  MSG_TERMINAL_STATUS  b1  b2  b3  b4  d1  d2  d3  d4  d5  flags  type  [TYPE]  ChannelBuffer buf  response 
[ADD]^}   Position position = new Position (  ) ;position.setProtocol ( getProtocolName (  )  ) ;^88^89^^91^92^61^128^[ADD] else if  ( type == MSG_POSITION_DATA || type == MSG_ROLLCALL_RESPONSE || type == MSG_ALARM_DATA || type == MSG_BLIND_AREA )  { Position position = new Position (  ) ; position.setProtocol ( getProtocolName (  )  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] GatorProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String id  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_ALARM_DATA  MSG_BLIND_AREA  MSG_CAMERA_RESPONSE  MSG_HEARTBEAT  MSG_MESSAGE  MSG_PICTURE_DATA  MSG_PICTURE_FRAME  MSG_POSITION_DATA  MSG_ROLLCALL_RESPONSE  MSG_TERMINAL_ANSWER  MSG_TERMINAL_STATUS  b1  b2  b3  b4  d1  d2  d3  d4  d5  flags  type  [TYPE]  ChannelBuffer buf  response 
[REPLACE]^if  ( deviceSession != this )  {^95^^^^^88^125^[REPLACE] if  ( deviceSession == null )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] GatorProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String id  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_ALARM_DATA  MSG_BLIND_AREA  MSG_CAMERA_RESPONSE  MSG_HEARTBEAT  MSG_MESSAGE  MSG_PICTURE_DATA  MSG_PICTURE_FRAME  MSG_POSITION_DATA  MSG_ROLLCALL_RESPONSE  MSG_TERMINAL_ANSWER  MSG_TERMINAL_STATUS  b1  b2  b3  b4  d1  d2  d3  d4  d5  flags  type  [TYPE]  ChannelBuffer buf  response 
[ADD]^return null;^95^96^97^^^88^125^[ADD] if  ( deviceSession == null )  { return null; }^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] GatorProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String id  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_ALARM_DATA  MSG_BLIND_AREA  MSG_CAMERA_RESPONSE  MSG_HEARTBEAT  MSG_MESSAGE  MSG_PICTURE_DATA  MSG_PICTURE_FRAME  MSG_POSITION_DATA  MSG_ROLLCALL_RESPONSE  MSG_TERMINAL_ANSWER  MSG_TERMINAL_STATUS  b1  b2  b3  b4  d1  d2  d3  d4  d5  flags  type  [TYPE]  ChannelBuffer buf  response 
[REPLACE]^return true;^96^^^^^88^125^[REPLACE] return null;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] GatorProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String id  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_ALARM_DATA  MSG_BLIND_AREA  MSG_CAMERA_RESPONSE  MSG_HEARTBEAT  MSG_MESSAGE  MSG_PICTURE_DATA  MSG_PICTURE_FRAME  MSG_POSITION_DATA  MSG_ROLLCALL_RESPONSE  MSG_TERMINAL_ANSWER  MSG_TERMINAL_STATUS  b1  b2  b3  b4  d1  d2  d3  d4  d5  flags  type  [TYPE]  ChannelBuffer buf  response 
[REPLACE]^return false;^96^^^^^88^125^[REPLACE] return null;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] GatorProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String id  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_ALARM_DATA  MSG_BLIND_AREA  MSG_CAMERA_RESPONSE  MSG_HEARTBEAT  MSG_MESSAGE  MSG_PICTURE_DATA  MSG_PICTURE_FRAME  MSG_POSITION_DATA  MSG_ROLLCALL_RESPONSE  MSG_TERMINAL_ANSWER  MSG_TERMINAL_STATUS  b1  b2  b3  b4  d1  d2  d3  d4  d5  flags  type  [TYPE]  ChannelBuffer buf  response 
[ADD]^position.setProtocol ( getProtocolName (  )  ) ;^91^92^^^^88^125^[ADD] Position position = new Position (  ) ; position.setProtocol ( getProtocolName (  )  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] GatorProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String id  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_ALARM_DATA  MSG_BLIND_AREA  MSG_CAMERA_RESPONSE  MSG_HEARTBEAT  MSG_MESSAGE  MSG_PICTURE_DATA  MSG_PICTURE_FRAME  MSG_POSITION_DATA  MSG_ROLLCALL_RESPONSE  MSG_TERMINAL_ANSWER  MSG_TERMINAL_STATUS  b1  b2  b3  b4  d1  d2  d3  d4  d5  flags  type  [TYPE]  ChannelBuffer buf  response 
[ADD]^^94^^^^^88^125^[ADD] DeviceSession deviceSession = getDeviceSession ( channel, remoteAddress, "1" + id, id ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] GatorProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String id  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_ALARM_DATA  MSG_BLIND_AREA  MSG_CAMERA_RESPONSE  MSG_HEARTBEAT  MSG_MESSAGE  MSG_PICTURE_DATA  MSG_PICTURE_FRAME  MSG_POSITION_DATA  MSG_ROLLCALL_RESPONSE  MSG_TERMINAL_ANSWER  MSG_TERMINAL_STATUS  b1  b2  b3  b4  d1  d2  d3  d4  d5  flags  type  [TYPE]  ChannelBuffer buf  response 
[REPLACE]^DateBuilder dateBuilder = new DateBuilder (  ) .setYear ( BcdUtil.readInteger ( buf, 2L )  ) .setMonth ( BcdUtil.readInteger ( buf, 2L )  ) .setDay ( BcdUtil.readInteger ( buf, 2L )  )^100^101^102^103^^88^125^[REPLACE] DateBuilder dateBuilder = new DateBuilder (  ) .setYear ( BcdUtil.readInteger ( buf, 2 )  ) .setMonth ( BcdUtil.readInteger ( buf, 2 )  ) .setDay ( BcdUtil.readInteger ( buf, 2 )  )^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] GatorProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String id  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_ALARM_DATA  MSG_BLIND_AREA  MSG_CAMERA_RESPONSE  MSG_HEARTBEAT  MSG_MESSAGE  MSG_PICTURE_DATA  MSG_PICTURE_FRAME  MSG_POSITION_DATA  MSG_ROLLCALL_RESPONSE  MSG_TERMINAL_ANSWER  MSG_TERMINAL_STATUS  b1  b2  b3  b4  d1  d2  d3  d4  d5  flags  type  [TYPE]  ChannelBuffer buf  response 
[REPLACE]^int flags = buf .readUnsignedInt (  )  ;^114^^^^^88^125^[REPLACE] int flags = buf.readUnsignedByte (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] GatorProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String id  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_ALARM_DATA  MSG_BLIND_AREA  MSG_CAMERA_RESPONSE  MSG_HEARTBEAT  MSG_MESSAGE  MSG_PICTURE_DATA  MSG_PICTURE_FRAME  MSG_POSITION_DATA  MSG_ROLLCALL_RESPONSE  MSG_TERMINAL_ANSWER  MSG_TERMINAL_STATUS  b1  b2  b3  b4  d1  d2  d3  d4  d5  flags  type  [TYPE]  ChannelBuffer buf  response 
[REPLACE]^if  ( deviceSession != this )  {^95^^^^^61^128^[REPLACE] if  ( deviceSession == null )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] GatorProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String id  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_ALARM_DATA  MSG_BLIND_AREA  MSG_CAMERA_RESPONSE  MSG_HEARTBEAT  MSG_MESSAGE  MSG_PICTURE_DATA  MSG_PICTURE_FRAME  MSG_POSITION_DATA  MSG_ROLLCALL_RESPONSE  MSG_TERMINAL_ANSWER  MSG_TERMINAL_STATUS  b1  b2  b3  b4  d1  d2  d3  d4  d5  flags  type  [TYPE]  ChannelBuffer buf  response 
[ADD]^^95^96^97^^^61^128^[ADD] if  ( deviceSession == null )  { return null; }^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] GatorProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String id  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_ALARM_DATA  MSG_BLIND_AREA  MSG_CAMERA_RESPONSE  MSG_HEARTBEAT  MSG_MESSAGE  MSG_PICTURE_DATA  MSG_PICTURE_FRAME  MSG_POSITION_DATA  MSG_ROLLCALL_RESPONSE  MSG_TERMINAL_ANSWER  MSG_TERMINAL_STATUS  b1  b2  b3  b4  d1  d2  d3  d4  d5  flags  type  [TYPE]  ChannelBuffer buf  response 
[REPLACE]^return true;^96^^^^^61^128^[REPLACE] return null;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] GatorProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String id  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_ALARM_DATA  MSG_BLIND_AREA  MSG_CAMERA_RESPONSE  MSG_HEARTBEAT  MSG_MESSAGE  MSG_PICTURE_DATA  MSG_PICTURE_FRAME  MSG_POSITION_DATA  MSG_ROLLCALL_RESPONSE  MSG_TERMINAL_ANSWER  MSG_TERMINAL_STATUS  b1  b2  b3  b4  d1  d2  d3  d4  d5  flags  type  [TYPE]  ChannelBuffer buf  response 
[REPLACE]^return this;^96^^^^^61^128^[REPLACE] return null;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] GatorProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String id  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_ALARM_DATA  MSG_BLIND_AREA  MSG_CAMERA_RESPONSE  MSG_HEARTBEAT  MSG_MESSAGE  MSG_PICTURE_DATA  MSG_PICTURE_FRAME  MSG_POSITION_DATA  MSG_ROLLCALL_RESPONSE  MSG_TERMINAL_ANSWER  MSG_TERMINAL_STATUS  b1  b2  b3  b4  d1  d2  d3  d4  d5  flags  type  [TYPE]  ChannelBuffer buf  response 
[REPLACE]^DeviceSession deviceSession = getDeviceSession ( channel, remoteAddress, "1"  id, id ) ;^94^^^^^61^128^[REPLACE] DeviceSession deviceSession = getDeviceSession ( channel, remoteAddress, "1" + id, id ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] GatorProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String id  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_ALARM_DATA  MSG_BLIND_AREA  MSG_CAMERA_RESPONSE  MSG_HEARTBEAT  MSG_MESSAGE  MSG_PICTURE_DATA  MSG_PICTURE_FRAME  MSG_POSITION_DATA  MSG_ROLLCALL_RESPONSE  MSG_TERMINAL_ANSWER  MSG_TERMINAL_STATUS  b1  b2  b3  b4  d1  d2  d3  d4  d5  flags  type  [TYPE]  ChannelBuffer buf  response 
[ADD]^^100^101^102^^^61^128^[ADD] DateBuilder dateBuilder = new DateBuilder (  ) .setYear ( BcdUtil.readInteger ( buf, 2 )  ) .setMonth ( BcdUtil.readInteger ( buf, 2 )  )^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] GatorProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String id  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_ALARM_DATA  MSG_BLIND_AREA  MSG_CAMERA_RESPONSE  MSG_HEARTBEAT  MSG_MESSAGE  MSG_PICTURE_DATA  MSG_PICTURE_FRAME  MSG_POSITION_DATA  MSG_ROLLCALL_RESPONSE  MSG_TERMINAL_ANSWER  MSG_TERMINAL_STATUS  b1  b2  b3  b4  d1  d2  d3  d4  d5  flags  type  [TYPE]  ChannelBuffer buf  response 
[REPLACE]^int type = buf.readUnsignedByte (  )  ;^114^^^^^61^128^[REPLACE] int flags = buf.readUnsignedByte (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] GatorProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String id  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_ALARM_DATA  MSG_BLIND_AREA  MSG_CAMERA_RESPONSE  MSG_HEARTBEAT  MSG_MESSAGE  MSG_PICTURE_DATA  MSG_PICTURE_FRAME  MSG_POSITION_DATA  MSG_ROLLCALL_RESPONSE  MSG_TERMINAL_ANSWER  MSG_TERMINAL_STATUS  b1  b2  b3  b4  d1  d2  d3  d4  d5  flags  type  [TYPE]  ChannelBuffer buf  response 
[REPLACE]^if  ( channel == null )  {^75^^^^^61^128^[REPLACE] if  ( channel != null )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] GatorProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String id  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_ALARM_DATA  MSG_BLIND_AREA  MSG_CAMERA_RESPONSE  MSG_HEARTBEAT  MSG_MESSAGE  MSG_PICTURE_DATA  MSG_PICTURE_FRAME  MSG_POSITION_DATA  MSG_ROLLCALL_RESPONSE  MSG_TERMINAL_ANSWER  MSG_TERMINAL_STATUS  b1  b2  b3  b4  d1  d2  d3  d4  d5  flags  type  [TYPE]  ChannelBuffer buf  response 
[ADD]^ChannelBuffer response = ChannelBuffers.dynamicBuffer (  ) ;response.writeByte ( 0x24 ) ; response.writeByte ( 0x24 ) ;response.writeByte ( MSG_HEARTBEAT ) ;response.writeShort ( 5 ) ;^75^76^77^78^79^61^128^[ADD] if  ( channel != null )  { ChannelBuffer response = ChannelBuffers.dynamicBuffer (  ) ; response.writeByte ( 0x24 ) ; response.writeByte ( 0x24 ) ; response.writeByte ( MSG_HEARTBEAT ) ; response.writeShort ( 5 ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] GatorProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String id  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_ALARM_DATA  MSG_BLIND_AREA  MSG_CAMERA_RESPONSE  MSG_HEARTBEAT  MSG_MESSAGE  MSG_PICTURE_DATA  MSG_PICTURE_FRAME  MSG_POSITION_DATA  MSG_ROLLCALL_RESPONSE  MSG_TERMINAL_ANSWER  MSG_TERMINAL_STATUS  b1  b2  b3  b4  d1  d2  d3  d4  d5  flags  type  [TYPE]  ChannelBuffer buf  response 
[ADD]^^76^77^^^^61^128^[ADD] ChannelBuffer response = ChannelBuffers.dynamicBuffer (  ) ; response.writeByte ( 0x24 ) ; response.writeByte ( 0x24 ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] GatorProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String id  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_ALARM_DATA  MSG_BLIND_AREA  MSG_CAMERA_RESPONSE  MSG_HEARTBEAT  MSG_MESSAGE  MSG_PICTURE_DATA  MSG_PICTURE_FRAME  MSG_POSITION_DATA  MSG_ROLLCALL_RESPONSE  MSG_TERMINAL_ANSWER  MSG_TERMINAL_STATUS  b1  b2  b3  b4  d1  d2  d3  d4  d5  flags  type  [TYPE]  ChannelBuffer buf  response 
[REPLACE]^ChannelBuffer buf =  (  ( ChannelBuffer )   ( msg )  )  ;^76^^^^^61^128^[REPLACE] ChannelBuffer response = ChannelBuffers.dynamicBuffer (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] GatorProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String id  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_ALARM_DATA  MSG_BLIND_AREA  MSG_CAMERA_RESPONSE  MSG_HEARTBEAT  MSG_MESSAGE  MSG_PICTURE_DATA  MSG_PICTURE_FRAME  MSG_POSITION_DATA  MSG_ROLLCALL_RESPONSE  MSG_TERMINAL_ANSWER  MSG_TERMINAL_STATUS  b1  b2  b3  b4  d1  d2  d3  d4  d5  flags  type  [TYPE]  ChannelBuffer buf  response 
[REPLACE]^}  else {^88^89^^^^61^128^[REPLACE] } else if  ( type == MSG_POSITION_DATA || type == MSG_ROLLCALL_RESPONSE || type == MSG_ALARM_DATA || type == MSG_BLIND_AREA )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] GatorProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String id  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_ALARM_DATA  MSG_BLIND_AREA  MSG_CAMERA_RESPONSE  MSG_HEARTBEAT  MSG_MESSAGE  MSG_PICTURE_DATA  MSG_PICTURE_FRAME  MSG_POSITION_DATA  MSG_ROLLCALL_RESPONSE  MSG_TERMINAL_ANSWER  MSG_TERMINAL_STATUS  b1  b2  b3  b4  d1  d2  d3  d4  d5  flags  type  [TYPE]  ChannelBuffer buf  response 
[REPLACE]^if  ( deviceSession != null )  {^95^^^^^88^125^[REPLACE] if  ( deviceSession == null )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] GatorProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String id  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_ALARM_DATA  MSG_BLIND_AREA  MSG_CAMERA_RESPONSE  MSG_HEARTBEAT  MSG_MESSAGE  MSG_PICTURE_DATA  MSG_PICTURE_FRAME  MSG_POSITION_DATA  MSG_ROLLCALL_RESPONSE  MSG_TERMINAL_ANSWER  MSG_TERMINAL_STATUS  b1  b2  b3  b4  d1  d2  d3  d4  d5  flags  type  [TYPE]  ChannelBuffer buf  response 
[REPLACE]^DateBuilder dateBuilder = new DateBuilder (  ) .setYear ( BcdUtil.readInteger ( buf, 5 )  ) .setMonth ( BcdUtil.readInteger ( buf, 5 )  ) .setDay ( BcdUtil.readInteger ( buf, 5 )  )^100^101^102^103^^88^125^[REPLACE] DateBuilder dateBuilder = new DateBuilder (  ) .setYear ( BcdUtil.readInteger ( buf, 2 )  ) .setMonth ( BcdUtil.readInteger ( buf, 2 )  ) .setDay ( BcdUtil.readInteger ( buf, 2 )  )^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] GatorProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String id  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_ALARM_DATA  MSG_BLIND_AREA  MSG_CAMERA_RESPONSE  MSG_HEARTBEAT  MSG_MESSAGE  MSG_PICTURE_DATA  MSG_PICTURE_FRAME  MSG_POSITION_DATA  MSG_ROLLCALL_RESPONSE  MSG_TERMINAL_ANSWER  MSG_TERMINAL_STATUS  b1  b2  b3  b4  d1  d2  d3  d4  d5  flags  type  [TYPE]  ChannelBuffer buf  response 
[REPLACE]^int flags = buf.readUnsignedInt (  ) ;^114^^^^^88^125^[REPLACE] int flags = buf.readUnsignedByte (  ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] GatorProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String id  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_ALARM_DATA  MSG_BLIND_AREA  MSG_CAMERA_RESPONSE  MSG_HEARTBEAT  MSG_MESSAGE  MSG_PICTURE_DATA  MSG_PICTURE_FRAME  MSG_POSITION_DATA  MSG_ROLLCALL_RESPONSE  MSG_TERMINAL_ANSWER  MSG_TERMINAL_STATUS  b1  b2  b3  b4  d1  d2  d3  d4  d5  flags  type  [TYPE]  ChannelBuffer buf  response 
[REPLACE]^if  ( deviceSession != null )  {^95^^^^^61^128^[REPLACE] if  ( deviceSession == null )  {^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] GatorProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String id  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_ALARM_DATA  MSG_BLIND_AREA  MSG_CAMERA_RESPONSE  MSG_HEARTBEAT  MSG_MESSAGE  MSG_PICTURE_DATA  MSG_PICTURE_FRAME  MSG_POSITION_DATA  MSG_ROLLCALL_RESPONSE  MSG_TERMINAL_ANSWER  MSG_TERMINAL_STATUS  b1  b2  b3  b4  d1  d2  d3  d4  d5  flags  type  [TYPE]  ChannelBuffer buf  response 
[REPLACE]^return false;^96^^^^^61^128^[REPLACE] return null;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] GatorProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String id  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_ALARM_DATA  MSG_BLIND_AREA  MSG_CAMERA_RESPONSE  MSG_HEARTBEAT  MSG_MESSAGE  MSG_PICTURE_DATA  MSG_PICTURE_FRAME  MSG_POSITION_DATA  MSG_ROLLCALL_RESPONSE  MSG_TERMINAL_ANSWER  MSG_TERMINAL_STATUS  b1  b2  b3  b4  d1  d2  d3  d4  d5  flags  type  [TYPE]  ChannelBuffer buf  response 
[ADD]^^114^115^^^^61^128^[ADD] int flags = buf.readUnsignedByte (  ) ; position.setValid (  ( flags & 0x80 )  != 0 ) ;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] GatorProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String id  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_ALARM_DATA  MSG_BLIND_AREA  MSG_CAMERA_RESPONSE  MSG_HEARTBEAT  MSG_MESSAGE  MSG_PICTURE_DATA  MSG_PICTURE_FRAME  MSG_POSITION_DATA  MSG_ROLLCALL_RESPONSE  MSG_TERMINAL_ANSWER  MSG_TERMINAL_STATUS  b1  b2  b3  b4  d1  d2  d3  d4  d5  flags  type  [TYPE]  ChannelBuffer buf  response 
[REPLACE]^return false;^127^^^^^61^128^[REPLACE] return null;^[METHOD] decode [TYPE] Object [PARAMETER] Channel channel SocketAddress remoteAddress Object msg [CLASS] GatorProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession deviceSession  [TYPE]  Position position  [TYPE]  DateBuilder dateBuilder  [TYPE]  Channel channel  [TYPE]  Object msg  [TYPE]  String id  [TYPE]  SocketAddress remoteAddress  [TYPE]  int MSG_ALARM_DATA  MSG_BLIND_AREA  MSG_CAMERA_RESPONSE  MSG_HEARTBEAT  MSG_MESSAGE  MSG_PICTURE_DATA  MSG_PICTURE_FRAME  MSG_POSITION_DATA  MSG_ROLLCALL_RESPONSE  MSG_TERMINAL_ANSWER  MSG_TERMINAL_STATUS  b1  b2  b3  b4  d1  d2  d3  d4  d5  flags  type  [TYPE]  ChannelBuffer buf  response 
