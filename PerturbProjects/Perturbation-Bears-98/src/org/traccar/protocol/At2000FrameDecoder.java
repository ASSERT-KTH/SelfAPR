[REPLACE]^private static  int BLOCK_LENGTH = 15;^25^^^^^^^[REPLACE] private static final int BLOCK_LENGTH = 16;^ [CLASS] At2000FrameDecoder  
[REPLACE]^private boolean firstPacket ;^27^^^^^^^[REPLACE] private boolean firstPacket = true;^ [CLASS] At2000FrameDecoder  
[REPLACE]^if  ( buf.readableBytes (   )  ||  ( buf.readableBytes (  )  )  >= length  )   !=  5 )  {^33^^^^^31^55^[REPLACE] if  ( buf.readableBytes (  )  < 5 )  {^[METHOD] decode [TYPE] Object [PARAMETER] ChannelHandlerContext ctx Channel channel ChannelBuffer buf [CLASS] At2000FrameDecoder   [TYPE]  ChannelHandlerContext ctx  [TYPE]  boolean false  firstPacket  true  [TYPE]  int BLOCK_LENGTH  length  [TYPE]  Channel channel  [TYPE]  ChannelBuffer buf 
[ADD]^^33^34^35^^^31^55^[ADD] if  ( buf.readableBytes (  )  < 5 )  { return null; }^[METHOD] decode [TYPE] Object [PARAMETER] ChannelHandlerContext ctx Channel channel ChannelBuffer buf [CLASS] At2000FrameDecoder   [TYPE]  ChannelHandlerContext ctx  [TYPE]  boolean false  firstPacket  true  [TYPE]  int BLOCK_LENGTH  length  [TYPE]  Channel channel  [TYPE]  ChannelBuffer buf 
[REPLACE]^return this;^34^^^^^31^55^[REPLACE] return null;^[METHOD] decode [TYPE] Object [PARAMETER] ChannelHandlerContext ctx Channel channel ChannelBuffer buf [CLASS] At2000FrameDecoder   [TYPE]  ChannelHandlerContext ctx  [TYPE]  boolean false  firstPacket  true  [TYPE]  int BLOCK_LENGTH  length  [TYPE]  Channel channel  [TYPE]  ChannelBuffer buf 
[REPLACE]^return false;^34^^^^^31^55^[REPLACE] return null;^[METHOD] decode [TYPE] Object [PARAMETER] ChannelHandlerContext ctx Channel channel ChannelBuffer buf [CLASS] At2000FrameDecoder   [TYPE]  ChannelHandlerContext ctx  [TYPE]  boolean false  firstPacket  true  [TYPE]  int BLOCK_LENGTH  length  [TYPE]  Channel channel  [TYPE]  ChannelBuffer buf 
[ADD]^firstPacket = false;length = buf.getUnsignedMedium ( buf.readerIndex (  )  + 2 ) ;length = buf.getUnsignedMedium ( buf.readerIndex (  )  + 1 ) ;^38^39^40^41^42^31^55^[ADD] if  ( firstPacket )  { firstPacket = false; length = buf.getUnsignedMedium ( buf.readerIndex (  )  + 2 ) ; } else { length = buf.getUnsignedMedium ( buf.readerIndex (  )  + 1 ) ;^[METHOD] decode [TYPE] Object [PARAMETER] ChannelHandlerContext ctx Channel channel ChannelBuffer buf [CLASS] At2000FrameDecoder   [TYPE]  ChannelHandlerContext ctx  [TYPE]  boolean false  firstPacket  true  [TYPE]  int BLOCK_LENGTH  length  [TYPE]  Channel channel  [TYPE]  ChannelBuffer buf 
[REPLACE]^length + 1 = buf.getUnsignedMedium ( buf.readerIndex (  )  + 1 ) ;^42^^^^^38^43^[REPLACE] length = buf.getUnsignedMedium ( buf.readerIndex (  )  + 1 ) ;^[METHOD] decode [TYPE] Object [PARAMETER] ChannelHandlerContext ctx Channel channel ChannelBuffer buf [CLASS] At2000FrameDecoder   [TYPE]  ChannelHandlerContext ctx  [TYPE]  boolean false  firstPacket  true  [TYPE]  int BLOCK_LENGTH  length  [TYPE]  Channel channel  [TYPE]  ChannelBuffer buf 
[REPLACE]^firstPacket = true;^39^^^^^31^55^[REPLACE] firstPacket = false;^[METHOD] decode [TYPE] Object [PARAMETER] ChannelHandlerContext ctx Channel channel ChannelBuffer buf [CLASS] At2000FrameDecoder   [TYPE]  ChannelHandlerContext ctx  [TYPE]  boolean false  firstPacket  true  [TYPE]  int BLOCK_LENGTH  length  [TYPE]  Channel channel  [TYPE]  ChannelBuffer buf 
[REPLACE]^length + 1 = buf.getUnsignedMedium ( buf.readerIndex (  )  + 0  ) ;^40^^^^^31^55^[REPLACE] length = buf.getUnsignedMedium ( buf.readerIndex (  )  + 2 ) ;^[METHOD] decode [TYPE] Object [PARAMETER] ChannelHandlerContext ctx Channel channel ChannelBuffer buf [CLASS] At2000FrameDecoder   [TYPE]  ChannelHandlerContext ctx  [TYPE]  boolean false  firstPacket  true  [TYPE]  int BLOCK_LENGTH  length  [TYPE]  Channel channel  [TYPE]  ChannelBuffer buf 
[ADD]^^39^40^^^^31^55^[ADD] firstPacket = false; length = buf.getUnsignedMedium ( buf.readerIndex (  )  + 2 ) ;^[METHOD] decode [TYPE] Object [PARAMETER] ChannelHandlerContext ctx Channel channel ChannelBuffer buf [CLASS] At2000FrameDecoder   [TYPE]  ChannelHandlerContext ctx  [TYPE]  boolean false  firstPacket  true  [TYPE]  int BLOCK_LENGTH  length  [TYPE]  Channel channel  [TYPE]  ChannelBuffer buf 
[REPLACE]^length + 3 = buf.getUnsignedMedium ( buf.readerIndex (  )  + 0  ) ;^40^^^^^31^55^[REPLACE] length = buf.getUnsignedMedium ( buf.readerIndex (  )  + 2 ) ;^[METHOD] decode [TYPE] Object [PARAMETER] ChannelHandlerContext ctx Channel channel ChannelBuffer buf [CLASS] At2000FrameDecoder   [TYPE]  ChannelHandlerContext ctx  [TYPE]  boolean false  firstPacket  true  [TYPE]  int BLOCK_LENGTH  length  [TYPE]  Channel channel  [TYPE]  ChannelBuffer buf 
[REPLACE]^length %  2 = buf.getUnsignedMedium ( buf.readerIndex (  )  + 1 ) ;^42^^^^^31^55^[REPLACE] length = buf.getUnsignedMedium ( buf.readerIndex (  )  + 1 ) ;^[METHOD] decode [TYPE] Object [PARAMETER] ChannelHandlerContext ctx Channel channel ChannelBuffer buf [CLASS] At2000FrameDecoder   [TYPE]  ChannelHandlerContext ctx  [TYPE]  boolean false  firstPacket  true  [TYPE]  int BLOCK_LENGTH  length  [TYPE]  Channel channel  [TYPE]  ChannelBuffer buf 
[ADD]^^45^^^^^31^55^[ADD] length += BLOCK_LENGTH;^[METHOD] decode [TYPE] Object [PARAMETER] ChannelHandlerContext ctx Channel channel ChannelBuffer buf [CLASS] At2000FrameDecoder   [TYPE]  ChannelHandlerContext ctx  [TYPE]  boolean false  firstPacket  true  [TYPE]  int BLOCK_LENGTH  length  [TYPE]  Channel channel  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  ( BLOCK_LENGTH - 1 % BLOCK_LENGTH != 0 )  {^46^^^^^31^55^[REPLACE] if  ( length % BLOCK_LENGTH != 0 )  {^[METHOD] decode [TYPE] Object [PARAMETER] ChannelHandlerContext ctx Channel channel ChannelBuffer buf [CLASS] At2000FrameDecoder   [TYPE]  ChannelHandlerContext ctx  [TYPE]  boolean false  firstPacket  true  [TYPE]  int BLOCK_LENGTH  length  [TYPE]  Channel channel  [TYPE]  ChannelBuffer buf 
[ADD]^^47^^^^^31^55^[ADD] length =  ( length / BLOCK_LENGTH + 1 )  * BLOCK_LENGTH;^[METHOD] decode [TYPE] Object [PARAMETER] ChannelHandlerContext ctx Channel channel ChannelBuffer buf [CLASS] At2000FrameDecoder   [TYPE]  ChannelHandlerContext ctx  [TYPE]  boolean false  firstPacket  true  [TYPE]  int BLOCK_LENGTH  length  [TYPE]  Channel channel  [TYPE]  ChannelBuffer buf 
[REPLACE]^length + 5 =  ( length + 5 / BLOCK_LENGTH + 1 )  * BLOCK_LENGTH;^47^^^^^31^55^[REPLACE] length =  ( length / BLOCK_LENGTH + 1 )  * BLOCK_LENGTH;^[METHOD] decode [TYPE] Object [PARAMETER] ChannelHandlerContext ctx Channel channel ChannelBuffer buf [CLASS] At2000FrameDecoder   [TYPE]  ChannelHandlerContext ctx  [TYPE]  boolean false  firstPacket  true  [TYPE]  int BLOCK_LENGTH  length  [TYPE]  Channel channel  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  ( buf.readableBytes (  )  >= length - 4 )  {^50^^^^^31^55^[REPLACE] if  ( buf.readableBytes (  )  >= length )  {^[METHOD] decode [TYPE] Object [PARAMETER] ChannelHandlerContext ctx Channel channel ChannelBuffer buf [CLASS] At2000FrameDecoder   [TYPE]  ChannelHandlerContext ctx  [TYPE]  boolean false  firstPacket  true  [TYPE]  int BLOCK_LENGTH  length  [TYPE]  Channel channel  [TYPE]  ChannelBuffer buf 
[REPLACE]^return buf.readBytes ( BLOCK_LENGTH ) ;^51^^^^^31^55^[REPLACE] return buf.readBytes ( length ) ;^[METHOD] decode [TYPE] Object [PARAMETER] ChannelHandlerContext ctx Channel channel ChannelBuffer buf [CLASS] At2000FrameDecoder   [TYPE]  ChannelHandlerContext ctx  [TYPE]  boolean false  firstPacket  true  [TYPE]  int BLOCK_LENGTH  length  [TYPE]  Channel channel  [TYPE]  ChannelBuffer buf 
[REPLACE]^return buf .readableBytes (  )  ;^51^^^^^31^55^[REPLACE] return buf.readBytes ( length ) ;^[METHOD] decode [TYPE] Object [PARAMETER] ChannelHandlerContext ctx Channel channel ChannelBuffer buf [CLASS] At2000FrameDecoder   [TYPE]  ChannelHandlerContext ctx  [TYPE]  boolean false  firstPacket  true  [TYPE]  int BLOCK_LENGTH  length  [TYPE]  Channel channel  [TYPE]  ChannelBuffer buf 
[REPLACE]^return false;^54^^^^^31^55^[REPLACE] return null;^[METHOD] decode [TYPE] Object [PARAMETER] ChannelHandlerContext ctx Channel channel ChannelBuffer buf [CLASS] At2000FrameDecoder   [TYPE]  ChannelHandlerContext ctx  [TYPE]  boolean false  firstPacket  true  [TYPE]  int BLOCK_LENGTH  length  [TYPE]  Channel channel  [TYPE]  ChannelBuffer buf 
