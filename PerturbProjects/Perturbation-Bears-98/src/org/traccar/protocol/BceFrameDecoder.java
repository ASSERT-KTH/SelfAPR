[REPLACE]^private static final int HANDSHAKE_LENGTH ;^25^^^^^^^[REPLACE] private static final int HANDSHAKE_LENGTH = 7;^ [CLASS] BceFrameDecoder  
[REPLACE]^private boolean header  = null ;^27^^^^^^^[REPLACE] private boolean header = true;^ [CLASS] BceFrameDecoder  
[REPLACE]^if  ( header || buf.readableBytes (  )  >= HANDSHAKE_LENGTH )  {^43^^^^^41^59^[REPLACE] if  ( header && buf.readableBytes (  )  >= HANDSHAKE_LENGTH )  {^[METHOD] decode [TYPE] Object [PARAMETER] ChannelHandlerContext ctx Channel channel ChannelBuffer buf [CLASS] BceFrameDecoder   [TYPE]  ChannelHandlerContext ctx  [TYPE]  boolean false  header  true  [TYPE]  int HANDSHAKE_LENGTH  end  i  [TYPE]  Channel channel  [TYPE]  ChannelBuffer buf 
[REMOVE]^if  (  (  ( buf.readableBytes (  )  )  > end )  &&  (  ( checksum ( buf, end )  )  ==  ( buf.getByte (  (  ( buf.readerIndex (  )  )  + end )  )  )  )  )  {     return buf.readBytes (  ( end + 1 )  ) ; }^43^^^^^41^59^[REMOVE] ^[METHOD] decode [TYPE] Object [PARAMETER] ChannelHandlerContext ctx Channel channel ChannelBuffer buf [CLASS] BceFrameDecoder   [TYPE]  ChannelHandlerContext ctx  [TYPE]  boolean false  header  true  [TYPE]  int HANDSHAKE_LENGTH  end  i  [TYPE]  Channel channel  [TYPE]  ChannelBuffer buf 
[REPLACE]^header = true;^45^^^^^41^59^[REPLACE] header = false;^[METHOD] decode [TYPE] Object [PARAMETER] ChannelHandlerContext ctx Channel channel ChannelBuffer buf [CLASS] BceFrameDecoder   [TYPE]  ChannelHandlerContext ctx  [TYPE]  boolean false  header  true  [TYPE]  int HANDSHAKE_LENGTH  end  i  [TYPE]  Channel channel  [TYPE]  ChannelBuffer buf 
[REPLACE]^int end = 8 * 0;^48^^^^^41^59^[REPLACE] int end = 8;^[METHOD] decode [TYPE] Object [PARAMETER] ChannelHandlerContext ctx Channel channel ChannelBuffer buf [CLASS] BceFrameDecoder   [TYPE]  ChannelHandlerContext ctx  [TYPE]  boolean false  header  true  [TYPE]  int HANDSHAKE_LENGTH  end  i  [TYPE]  Channel channel  [TYPE]  ChannelBuffer buf 
[REPLACE]^if  (  checksum ( buf, end )  == buf.getByte ( buf.readerIndex (  )  + end )  )  {^53^^^^^41^59^[REPLACE] if  ( buf.readableBytes (  )  > end && checksum ( buf, end )  == buf.getByte ( buf.readerIndex (  )  + end )  )  {^[METHOD] decode [TYPE] Object [PARAMETER] ChannelHandlerContext ctx Channel channel ChannelBuffer buf [CLASS] BceFrameDecoder   [TYPE]  ChannelHandlerContext ctx  [TYPE]  boolean false  header  true  [TYPE]  int HANDSHAKE_LENGTH  end  i  [TYPE]  Channel channel  [TYPE]  ChannelBuffer buf 
[REPLACE]^return buf.readBytes ( end  1 ) ;^54^^^^^41^59^[REPLACE] return buf.readBytes ( end + 1 ) ;^[METHOD] decode [TYPE] Object [PARAMETER] ChannelHandlerContext ctx Channel channel ChannelBuffer buf [CLASS] BceFrameDecoder   [TYPE]  ChannelHandlerContext ctx  [TYPE]  boolean false  header  true  [TYPE]  int HANDSHAKE_LENGTH  end  i  [TYPE]  Channel channel  [TYPE]  ChannelBuffer buf 
[REPLACE]^end = buf.getUnsignedShort ( buf.readerIndex (  )   end )   2;^51^^^^^41^59^[REPLACE] end += buf.getUnsignedShort ( buf.readerIndex (  )  + end )  + 2;^[METHOD] decode [TYPE] Object [PARAMETER] ChannelHandlerContext ctx Channel channel ChannelBuffer buf [CLASS] BceFrameDecoder   [TYPE]  ChannelHandlerContext ctx  [TYPE]  boolean false  header  true  [TYPE]  int HANDSHAKE_LENGTH  end  i  [TYPE]  Channel channel  [TYPE]  ChannelBuffer buf 
[REPLACE]^return this;^58^^^^^41^59^[REPLACE] return null;^[METHOD] decode [TYPE] Object [PARAMETER] ChannelHandlerContext ctx Channel channel ChannelBuffer buf [CLASS] BceFrameDecoder   [TYPE]  ChannelHandlerContext ctx  [TYPE]  boolean false  header  true  [TYPE]  int HANDSHAKE_LENGTH  end  i  [TYPE]  Channel channel  [TYPE]  ChannelBuffer buf 
