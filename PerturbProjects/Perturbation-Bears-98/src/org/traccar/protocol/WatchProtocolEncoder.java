[REPLACE]^private static Map<Byte, Object mapping = new HashMap<> (  ) ;^58^^^^^^^[REPLACE] private static Map<Byte, Byte> mapping = new HashMap<> (  ) ;^ [CLASS] WatchProtocolEncoder  
[ADD]^^69^^^^^68^94^[ADD] byte[] data = DatatypeConverter.parseHexBinary ( command.getString ( Command.KEY_DATA )  ) ;^[METHOD] getBinaryData [TYPE] String [PARAMETER] Command command [CLASS] WatchProtocolEncoder   [TYPE]  byte[] data  encodedData  [TYPE]  boolean false  true  [TYPE]  Command command  [TYPE]  byte b  [TYPE]  Byte replacement  [TYPE]  Map mapping  [TYPE]  int encodedLength  index 
[REPLACE]^int encodedLength = encodedData.length;^71^^^^^68^94^[REPLACE] int encodedLength = data.length;^[METHOD] getBinaryData [TYPE] String [PARAMETER] Command command [CLASS] WatchProtocolEncoder   [TYPE]  byte[] data  encodedData  [TYPE]  boolean false  true  [TYPE]  Command command  [TYPE]  byte b  [TYPE]  Byte replacement  [TYPE]  Map mapping  [TYPE]  int encodedLength  index 
[REPLACE]^encodedLength += 0;^74^^^^^68^94^[REPLACE] encodedLength += 1;^[METHOD] getBinaryData [TYPE] String [PARAMETER] Command command [CLASS] WatchProtocolEncoder   [TYPE]  byte[] data  encodedData  [TYPE]  boolean false  true  [TYPE]  Command command  [TYPE]  byte b  [TYPE]  Byte replacement  [TYPE]  Map mapping  [TYPE]  int encodedLength  index 
[REPLACE]^if  ( mapping .put ( null , 1 )   )  {^73^^^^^68^94^[REPLACE] if  ( mapping.containsKey ( b )  )  {^[METHOD] getBinaryData [TYPE] String [PARAMETER] Command command [CLASS] WatchProtocolEncoder   [TYPE]  byte[] data  encodedData  [TYPE]  boolean false  true  [TYPE]  Command command  [TYPE]  byte b  [TYPE]  Byte replacement  [TYPE]  Map mapping  [TYPE]  int encodedLength  index 
[REPLACE]^encodedLength += 4;^74^^^^^68^94^[REPLACE] encodedLength += 1;^[METHOD] getBinaryData [TYPE] String [PARAMETER] Command command [CLASS] WatchProtocolEncoder   [TYPE]  byte[] data  encodedData  [TYPE]  boolean false  true  [TYPE]  Command command  [TYPE]  byte b  [TYPE]  Byte replacement  [TYPE]  Map mapping  [TYPE]  int encodedLength  index 
[ADD]^^74^^^^^68^94^[ADD] encodedLength += 1;^[METHOD] getBinaryData [TYPE] String [PARAMETER] Command command [CLASS] WatchProtocolEncoder   [TYPE]  byte[] data  encodedData  [TYPE]  boolean false  true  [TYPE]  Command command  [TYPE]  byte b  [TYPE]  Byte replacement  [TYPE]  Map mapping  [TYPE]  int encodedLength  index 
[REPLACE]^int index = 3;^78^^^^^68^94^[REPLACE] int index = 0;^[METHOD] getBinaryData [TYPE] String [PARAMETER] Command command [CLASS] WatchProtocolEncoder   [TYPE]  byte[] data  encodedData  [TYPE]  boolean false  true  [TYPE]  Command command  [TYPE]  byte b  [TYPE]  Byte replacement  [TYPE]  Map mapping  [TYPE]  int encodedLength  index 
[REPLACE]^if  ( replacement == this )  {^83^^^^^68^94^[REPLACE] if  ( replacement != null )  {^[METHOD] getBinaryData [TYPE] String [PARAMETER] Command command [CLASS] WatchProtocolEncoder   [TYPE]  byte[] data  encodedData  [TYPE]  boolean false  true  [TYPE]  Command command  [TYPE]  byte b  [TYPE]  Byte replacement  [TYPE]  Map mapping  [TYPE]  int encodedLength  index 
[REPLACE]^encodedData[index] = 125  ;^88^^^^^83^89^[REPLACE] encodedData[index] = b;^[METHOD] getBinaryData [TYPE] String [PARAMETER] Command command [CLASS] WatchProtocolEncoder   [TYPE]  byte[] data  encodedData  [TYPE]  boolean false  true  [TYPE]  Command command  [TYPE]  byte b  [TYPE]  Byte replacement  [TYPE]  Map mapping  [TYPE]  int encodedLength  index 
[ADD]^^84^85^^^^68^94^[ADD] encodedData[index] = 0x7D; index += 1;^[METHOD] getBinaryData [TYPE] String [PARAMETER] Command command [CLASS] WatchProtocolEncoder   [TYPE]  byte[] data  encodedData  [TYPE]  boolean false  true  [TYPE]  Command command  [TYPE]  byte b  [TYPE]  Byte replacement  [TYPE]  Map mapping  [TYPE]  int encodedLength  index 
[REPLACE]^index += 4;^85^^^^^68^94^[REPLACE] index += 1;^[METHOD] getBinaryData [TYPE] String [PARAMETER] Command command [CLASS] WatchProtocolEncoder   [TYPE]  byte[] data  encodedData  [TYPE]  boolean false  true  [TYPE]  Command command  [TYPE]  byte b  [TYPE]  Byte replacement  [TYPE]  Map mapping  [TYPE]  int encodedLength  index 
[REPLACE]^encodedData[index]  =  encodedData[index] ;^86^^^^^68^94^[REPLACE] encodedData[index] = replacement;^[METHOD] getBinaryData [TYPE] String [PARAMETER] Command command [CLASS] WatchProtocolEncoder   [TYPE]  byte[] data  encodedData  [TYPE]  boolean false  true  [TYPE]  Command command  [TYPE]  byte b  [TYPE]  Byte replacement  [TYPE]  Map mapping  [TYPE]  int encodedLength  index 
[REPLACE]^if  ( replacement == false )  {^83^^^^^68^94^[REPLACE] if  ( replacement != null )  {^[METHOD] getBinaryData [TYPE] String [PARAMETER] Command command [CLASS] WatchProtocolEncoder   [TYPE]  byte[] data  encodedData  [TYPE]  boolean false  true  [TYPE]  Command command  [TYPE]  byte b  [TYPE]  Byte replacement  [TYPE]  Map mapping  [TYPE]  int encodedLength  index 
[ADD]^^88^^^^^83^89^[ADD] encodedData[index] = b;^[METHOD] getBinaryData [TYPE] String [PARAMETER] Command command [CLASS] WatchProtocolEncoder   [TYPE]  byte[] data  encodedData  [TYPE]  boolean false  true  [TYPE]  Command command  [TYPE]  byte b  [TYPE]  Byte replacement  [TYPE]  Map mapping  [TYPE]  int encodedLength  index 
[REPLACE]^encodedData[index] = b  ;^84^^^^^68^94^[REPLACE] encodedData[index] = 0x7D;^[METHOD] getBinaryData [TYPE] String [PARAMETER] Command command [CLASS] WatchProtocolEncoder   [TYPE]  byte[] data  encodedData  [TYPE]  boolean false  true  [TYPE]  Command command  [TYPE]  byte b  [TYPE]  Byte replacement  [TYPE]  Map mapping  [TYPE]  int encodedLength  index 
[REPLACE]^index += 2;^85^^^^^68^94^[REPLACE] index += 1;^[METHOD] getBinaryData [TYPE] String [PARAMETER] Command command [CLASS] WatchProtocolEncoder   [TYPE]  byte[] data  encodedData  [TYPE]  boolean false  true  [TYPE]  Command command  [TYPE]  byte b  [TYPE]  Byte replacement  [TYPE]  Map mapping  [TYPE]  int encodedLength  index 
[REPLACE]^encodedData[index] = b  ;^86^^^^^68^94^[REPLACE] encodedData[index] = replacement;^[METHOD] getBinaryData [TYPE] String [PARAMETER] Command command [CLASS] WatchProtocolEncoder   [TYPE]  byte[] data  encodedData  [TYPE]  boolean false  true  [TYPE]  Command command  [TYPE]  byte b  [TYPE]  Byte replacement  [TYPE]  Map mapping  [TYPE]  int encodedLength  index 
[ADD]^index += 1;^84^85^^^^68^94^[ADD] encodedData[index] = 0x7D; index += 1;^[METHOD] getBinaryData [TYPE] String [PARAMETER] Command command [CLASS] WatchProtocolEncoder   [TYPE]  byte[] data  encodedData  [TYPE]  boolean false  true  [TYPE]  Command command  [TYPE]  byte b  [TYPE]  Byte replacement  [TYPE]  Map mapping  [TYPE]  int encodedLength  index 
[REPLACE]^index += 1 >> 1;^85^^^^^68^94^[REPLACE] index += 1;^[METHOD] getBinaryData [TYPE] String [PARAMETER] Command command [CLASS] WatchProtocolEncoder   [TYPE]  byte[] data  encodedData  [TYPE]  boolean false  true  [TYPE]  Command command  [TYPE]  byte b  [TYPE]  Byte replacement  [TYPE]  Map mapping  [TYPE]  int encodedLength  index 
[REPLACE]^encodedData[index] = 125  ;^88^^^^^68^94^[REPLACE] encodedData[index] = b;^[METHOD] getBinaryData [TYPE] String [PARAMETER] Command command [CLASS] WatchProtocolEncoder   [TYPE]  byte[] data  encodedData  [TYPE]  boolean false  true  [TYPE]  Command command  [TYPE]  byte b  [TYPE]  Byte replacement  [TYPE]  Map mapping  [TYPE]  int encodedLength  index 
[REPLACE]^index += 0;^90^^^^^68^94^[REPLACE] index += 1;^[METHOD] getBinaryData [TYPE] String [PARAMETER] Command command [CLASS] WatchProtocolEncoder   [TYPE]  byte[] data  encodedData  [TYPE]  boolean false  true  [TYPE]  Command command  [TYPE]  byte b  [TYPE]  Byte replacement  [TYPE]  Map mapping  [TYPE]  int encodedLength  index 
[REPLACE]^Byte replacement = mapping.containsKey ( b ) ;^82^^^^^68^94^[REPLACE] Byte replacement = mapping.get ( b ) ;^[METHOD] getBinaryData [TYPE] String [PARAMETER] Command command [CLASS] WatchProtocolEncoder   [TYPE]  byte[] data  encodedData  [TYPE]  boolean false  true  [TYPE]  Command command  [TYPE]  byte b  [TYPE]  Byte replacement  [TYPE]  Map mapping  [TYPE]  int encodedLength  index 
[ADD]^^85^^^^^68^94^[ADD] index += 1;^[METHOD] getBinaryData [TYPE] String [PARAMETER] Command command [CLASS] WatchProtocolEncoder   [TYPE]  byte[] data  encodedData  [TYPE]  boolean false  true  [TYPE]  Command command  [TYPE]  byte b  [TYPE]  Byte replacement  [TYPE]  Map mapping  [TYPE]  int encodedLength  index 
[ADD]^^86^^^^^68^94^[ADD] encodedData[index] = replacement;^[METHOD] getBinaryData [TYPE] String [PARAMETER] Command command [CLASS] WatchProtocolEncoder   [TYPE]  byte[] data  encodedData  [TYPE]  boolean false  true  [TYPE]  Command command  [TYPE]  byte b  [TYPE]  Byte replacement  [TYPE]  Map mapping  [TYPE]  int encodedLength  index 
[ADD]^^88^^^^^68^94^[ADD] encodedData[index] = b;^[METHOD] getBinaryData [TYPE] String [PARAMETER] Command command [CLASS] WatchProtocolEncoder   [TYPE]  byte[] data  encodedData  [TYPE]  boolean false  true  [TYPE]  Command command  [TYPE]  byte b  [TYPE]  Byte replacement  [TYPE]  Map mapping  [TYPE]  int encodedLength  index 
[REPLACE]^index += 1 + 2;^90^^^^^68^94^[REPLACE] index += 1;^[METHOD] getBinaryData [TYPE] String [PARAMETER] Command command [CLASS] WatchProtocolEncoder   [TYPE]  byte[] data  encodedData  [TYPE]  boolean false  true  [TYPE]  Command command  [TYPE]  byte b  [TYPE]  Byte replacement  [TYPE]  Map mapping  [TYPE]  int encodedLength  index 
[ADD]^^81^82^83^84^85^68^94^[ADD] for  ( byte b : data )  { Byte replacement = mapping.get ( b ) ; if  ( replacement != null )  { encodedData[index] = 0x7D; index += 1;^[METHOD] getBinaryData [TYPE] String [PARAMETER] Command command [CLASS] WatchProtocolEncoder   [TYPE]  byte[] data  encodedData  [TYPE]  boolean false  true  [TYPE]  Command command  [TYPE]  byte b  [TYPE]  Byte replacement  [TYPE]  Map mapping  [TYPE]  int encodedLength  index 
[REPLACE]^return new String ( data, StandardCharsets.US_ASCII ) ;^93^^^^^68^94^[REPLACE] return new String ( encodedData, StandardCharsets.US_ASCII ) ;^[METHOD] getBinaryData [TYPE] String [PARAMETER] Command command [CLASS] WatchProtocolEncoder   [TYPE]  byte[] data  encodedData  [TYPE]  boolean false  true  [TYPE]  Command command  [TYPE]  byte b  [TYPE]  Byte replacement  [TYPE]  Map mapping  [TYPE]  int encodedLength  index 
[REPLACE]^return formatCommand ( command, "RESET" )  ;^101^^^^^97^132^[REPLACE] return formatCommand ( command, "RG" ) ;^[METHOD] encodeCommand [TYPE] Object [PARAMETER] Command command [CLASS] WatchProtocolEncoder   [TYPE]  Map mapping  [TYPE]  Command command  [TYPE]  boolean false  true 
[REPLACE]^return formatCommand ( command, "SOSSMS,"  getEnableFlag ( command )  ) ;^105^^^^^97^132^[REPLACE] return formatCommand ( command, "SOSSMS," + getEnableFlag ( command )  ) ;^[METHOD] encodeCommand [TYPE] Object [PARAMETER] Command command [CLASS] WatchProtocolEncoder   [TYPE]  Map mapping  [TYPE]  Command command  [TYPE]  boolean false  true 
[REPLACE]^return formatCommand ( command, "LOWBAT,"  getEnableFlag ( command )  ) ;^107^^^^^97^132^[REPLACE] return formatCommand ( command, "LOWBAT," + getEnableFlag ( command )  ) ;^[METHOD] encodeCommand [TYPE] Object [PARAMETER] Command command [CLASS] WatchProtocolEncoder   [TYPE]  Map mapping  [TYPE]  Command command  [TYPE]  boolean false  true 
[REPLACE]^return formatCommand ( command, "RG" )  ;^109^^^^^97^132^[REPLACE] return formatCommand ( command, "RESET" ) ;^[METHOD] encodeCommand [TYPE] Object [PARAMETER] Command command [CLASS] WatchProtocolEncoder   [TYPE]  Map mapping  [TYPE]  Command command  [TYPE]  boolean false  true 
[REPLACE]^return formatCommand ( command, "REMOVE,"  getEnableFlag ( command )  ) ;^111^^^^^97^132^[REPLACE] return formatCommand ( command, "REMOVE," + getEnableFlag ( command )  ) ;^[METHOD] encodeCommand [TYPE] Object [PARAMETER] Command command [CLASS] WatchProtocolEncoder   [TYPE]  Map mapping  [TYPE]  Command command  [TYPE]  boolean false  true 
[REPLACE]^return formatCommand ( command, "REMIND,{%s}", Command.KEY_DATA )  ;^113^^^^^97^132^[REPLACE] return formatCommand ( command, "SILENCETIME,{%s}", Command.KEY_DATA ) ;^[METHOD] encodeCommand [TYPE] Object [PARAMETER] Command command [CLASS] WatchProtocolEncoder   [TYPE]  Map mapping  [TYPE]  Command command  [TYPE]  boolean false  true 
[REPLACE]^return formatCommand ( command, "PHB,{%s}", Command.KEY_DATA )  ;^115^^^^^97^132^[REPLACE] return formatCommand ( command, "REMIND,{%s}", Command.KEY_DATA ) ;^[METHOD] encodeCommand [TYPE] Object [PARAMETER] Command command [CLASS] WatchProtocolEncoder   [TYPE]  Map mapping  [TYPE]  Command command  [TYPE]  boolean false  true 
[REPLACE]^return formatCommand ( command, "REMIND,{%s}", Command.KEY_DATA )  ;^117^^^^^97^132^[REPLACE] return formatCommand ( command, "PHB,{%s}", Command.KEY_DATA ) ;^[METHOD] encodeCommand [TYPE] Object [PARAMETER] Command command [CLASS] WatchProtocolEncoder   [TYPE]  Map mapping  [TYPE]  Command command  [TYPE]  boolean false  true 
[REPLACE]^return formatCommand ( command, "TK,"  getBinaryData ( command )  ) ;^119^^^^^97^132^[REPLACE] return formatCommand ( command, "TK," + getBinaryData ( command )  ) ;^[METHOD] encodeCommand [TYPE] Object [PARAMETER] Command command [CLASS] WatchProtocolEncoder   [TYPE]  Map mapping  [TYPE]  Command command  [TYPE]  boolean false  true 
[REPLACE]^return formatCommand ( command, "LZ,,{%s}", Command.KEY_TIMEZONE )  ;^121^^^^^97^132^[REPLACE] return formatCommand ( command, "UPLOAD,{%s}", Command.KEY_FREQUENCY ) ;^[METHOD] encodeCommand [TYPE] Object [PARAMETER] Command command [CLASS] WatchProtocolEncoder   [TYPE]  Map mapping  [TYPE]  Command command  [TYPE]  boolean false  true 
[REPLACE]^return formatCommand ( command, "PHB,{%s}", Command.KEY_DATA )  ;^123^^^^^97^132^[REPLACE] return formatCommand ( command, "LZ,,{%s}", Command.KEY_TIMEZONE ) ;^[METHOD] encodeCommand [TYPE] Object [PARAMETER] Command command [CLASS] WatchProtocolEncoder   [TYPE]  Map mapping  [TYPE]  Command command  [TYPE]  boolean false  true 
[REPLACE]^return formatCommand ( command, "REMIND,{%s}", Command.KEY_DATA )  ;^125^^^^^97^132^[REPLACE] return formatCommand ( command, "FLOWER,{%s}", Command.KEY_DATA ) ;^[METHOD] encodeCommand [TYPE] Object [PARAMETER] Command command [CLASS] WatchProtocolEncoder   [TYPE]  Map mapping  [TYPE]  Command command  [TYPE]  boolean false  true 
[REPLACE]^return true;^131^^^^^97^132^[REPLACE] return null;^[METHOD] encodeCommand [TYPE] Object [PARAMETER] Command command [CLASS] WatchProtocolEncoder   [TYPE]  Map mapping  [TYPE]  Command command  [TYPE]  boolean false  true 
