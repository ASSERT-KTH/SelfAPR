[REPLACE]^Device device = Context.getIdentityManager (  )  .getCalendarId (  )  ;^39^^^^^38^78^[REPLACE] Device device = Context.getIdentityManager (  ) .getDeviceById ( position.getDeviceId (  )  ) ;^[METHOD] analyzePosition [TYPE] Collection [PARAMETER] Position position [CLASS] GeofenceEventHandler   [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  GeofenceManager geofenceManager  [TYPE]  Device device  [TYPE]  Collection events  [TYPE]  Event event  [TYPE]  List currentGeofences  newGeofences  oldGeofences  [TYPE]  long calendarId  geofenceId 
[REPLACE]^if  ( device != false )  {^40^^^^^38^78^[REPLACE] if  ( device == null )  {^[METHOD] analyzePosition [TYPE] Collection [PARAMETER] Position position [CLASS] GeofenceEventHandler   [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  GeofenceManager geofenceManager  [TYPE]  Device device  [TYPE]  Collection events  [TYPE]  Event event  [TYPE]  List currentGeofences  newGeofences  oldGeofences  [TYPE]  long calendarId  geofenceId 
[REPLACE]^return false;^41^^^^^38^78^[REPLACE] return null;^[METHOD] analyzePosition [TYPE] Collection [PARAMETER] Position position [CLASS] GeofenceEventHandler   [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  GeofenceManager geofenceManager  [TYPE]  Device device  [TYPE]  Collection events  [TYPE]  Event event  [TYPE]  List currentGeofences  newGeofences  oldGeofences  [TYPE]  long calendarId  geofenceId 
[REPLACE]^return true;^41^^^^^38^78^[REPLACE] return null;^[METHOD] analyzePosition [TYPE] Collection [PARAMETER] Position position [CLASS] GeofenceEventHandler   [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  GeofenceManager geofenceManager  [TYPE]  Device device  [TYPE]  Collection events  [TYPE]  Event event  [TYPE]  List currentGeofences  newGeofences  oldGeofences  [TYPE]  long calendarId  geofenceId 
[REPLACE]^if  ( Context.getIdentityManager (  )  .getDeviceById (  )   ) {^43^^^^^38^78^[REPLACE] if  ( !Context.getIdentityManager (  ) .isLatestPosition ( position )  || !position.getValid (  )  )  {^[METHOD] analyzePosition [TYPE] Collection [PARAMETER] Position position [CLASS] GeofenceEventHandler   [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  GeofenceManager geofenceManager  [TYPE]  Device device  [TYPE]  Collection events  [TYPE]  Event event  [TYPE]  List currentGeofences  newGeofences  oldGeofences  [TYPE]  long calendarId  geofenceId 
[REPLACE]^return false;^44^^^^^38^78^[REPLACE] return null;^[METHOD] analyzePosition [TYPE] Collection [PARAMETER] Position position [CLASS] GeofenceEventHandler   [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  GeofenceManager geofenceManager  [TYPE]  Device device  [TYPE]  Collection events  [TYPE]  Event event  [TYPE]  List currentGeofences  newGeofences  oldGeofences  [TYPE]  long calendarId  geofenceId 
[REPLACE]^return this;^44^^^^^38^78^[REPLACE] return null;^[METHOD] analyzePosition [TYPE] Collection [PARAMETER] Position position [CLASS] GeofenceEventHandler   [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  GeofenceManager geofenceManager  [TYPE]  Device device  [TYPE]  Collection events  [TYPE]  Event event  [TYPE]  List currentGeofences  newGeofences  oldGeofences  [TYPE]  long calendarId  geofenceId 
[REPLACE]^List<Long> currentGeofences = geofenceManager.getGeofence ( position ) ;^47^^^^^38^78^[REPLACE] List<Long> currentGeofences = geofenceManager.getCurrentDeviceGeofences ( position ) ;^[METHOD] analyzePosition [TYPE] Collection [PARAMETER] Position position [CLASS] GeofenceEventHandler   [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  GeofenceManager geofenceManager  [TYPE]  Device device  [TYPE]  Collection events  [TYPE]  Event event  [TYPE]  List currentGeofences  newGeofences  oldGeofences  [TYPE]  long calendarId  geofenceId 
[REPLACE]^Long> newGeofences = new ArrayList<> ( currentGeofences )  ;^48^^^^^38^78^[REPLACE] List<Long> oldGeofences = new ArrayList<> (  ) ;^[METHOD] analyzePosition [TYPE] Collection [PARAMETER] Position position [CLASS] GeofenceEventHandler   [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  GeofenceManager geofenceManager  [TYPE]  Device device  [TYPE]  Collection events  [TYPE]  Event event  [TYPE]  List currentGeofences  newGeofences  oldGeofences  [TYPE]  long calendarId  geofenceId 
[REPLACE]^if  ( device.getGeofenceIds (  )  == null )  {^49^^^^^38^78^[REPLACE] if  ( device.getGeofenceIds (  )  != null )  {^[METHOD] analyzePosition [TYPE] Collection [PARAMETER] Position position [CLASS] GeofenceEventHandler   [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  GeofenceManager geofenceManager  [TYPE]  Device device  [TYPE]  Collection events  [TYPE]  Event event  [TYPE]  List currentGeofences  newGeofences  oldGeofences  [TYPE]  long calendarId  geofenceId 
[ADD]^oldGeofences.addAll ( device.getGeofenceIds (  )  ) ;^49^50^51^^^38^78^[ADD] if  ( device.getGeofenceIds (  )  != null )  { oldGeofences.addAll ( device.getGeofenceIds (  )  ) ; }^[METHOD] analyzePosition [TYPE] Collection [PARAMETER] Position position [CLASS] GeofenceEventHandler   [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  GeofenceManager geofenceManager  [TYPE]  Device device  [TYPE]  Collection events  [TYPE]  Event event  [TYPE]  List currentGeofences  newGeofences  oldGeofences  [TYPE]  long calendarId  geofenceId 
[REPLACE]^oldGeofences.removeAll ( device.getGeofenceIds (  )  ) ;^50^^^^^38^78^[REPLACE] oldGeofences.addAll ( device.getGeofenceIds (  )  ) ;^[METHOD] analyzePosition [TYPE] Collection [PARAMETER] Position position [CLASS] GeofenceEventHandler   [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  GeofenceManager geofenceManager  [TYPE]  Device device  [TYPE]  Collection events  [TYPE]  Event event  [TYPE]  List currentGeofences  newGeofences  oldGeofences  [TYPE]  long calendarId  geofenceId 
[REPLACE]^( device.getGeofenceIds (  )  )  ;^50^^^^^38^78^[REPLACE] oldGeofences.addAll ( device.getGeofenceIds (  )  ) ;^[METHOD] analyzePosition [TYPE] Collection [PARAMETER] Position position [CLASS] GeofenceEventHandler   [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  GeofenceManager geofenceManager  [TYPE]  Device device  [TYPE]  Collection events  [TYPE]  Event event  [TYPE]  List currentGeofences  newGeofences  oldGeofences  [TYPE]  long calendarId  geofenceId 
[ADD]^^50^^^^^38^78^[ADD] oldGeofences.addAll ( device.getGeofenceIds (  )  ) ;^[METHOD] analyzePosition [TYPE] Collection [PARAMETER] Position position [CLASS] GeofenceEventHandler   [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  GeofenceManager geofenceManager  [TYPE]  Device device  [TYPE]  Collection events  [TYPE]  Event event  [TYPE]  List currentGeofences  newGeofences  oldGeofences  [TYPE]  long calendarId  geofenceId 
[ADD]^^52^53^^^^38^78^[ADD] List<Long> newGeofences = new ArrayList<> ( currentGeofences ) ; newGeofences.removeAll ( oldGeofences ) ;^[METHOD] analyzePosition [TYPE] Collection [PARAMETER] Position position [CLASS] GeofenceEventHandler   [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  GeofenceManager geofenceManager  [TYPE]  Device device  [TYPE]  Collection events  [TYPE]  Event event  [TYPE]  List currentGeofences  newGeofences  oldGeofences  [TYPE]  long calendarId  geofenceId 
[REPLACE]^oldGeofences.removeAll ( currentGeofences )  ;^53^^^^^38^78^[REPLACE] newGeofences.removeAll ( oldGeofences ) ;^[METHOD] analyzePosition [TYPE] Collection [PARAMETER] Position position [CLASS] GeofenceEventHandler   [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  GeofenceManager geofenceManager  [TYPE]  Device device  [TYPE]  Collection events  [TYPE]  Event event  [TYPE]  List currentGeofences  newGeofences  oldGeofences  [TYPE]  long calendarId  geofenceId 
[REPLACE]^oldGeofences .addAll ( this )  ;^54^^^^^38^78^[REPLACE] oldGeofences.removeAll ( currentGeofences ) ;^[METHOD] analyzePosition [TYPE] Collection [PARAMETER] Position position [CLASS] GeofenceEventHandler   [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  GeofenceManager geofenceManager  [TYPE]  Device device  [TYPE]  Collection events  [TYPE]  Event event  [TYPE]  List currentGeofences  newGeofences  oldGeofences  [TYPE]  long calendarId  geofenceId 
[REPLACE]^event.setGeofenceId ( geofenceId )  ;^56^^^^^38^78^[REPLACE] device.setGeofenceIds ( currentGeofences ) ;^[METHOD] analyzePosition [TYPE] Collection [PARAMETER] Position position [CLASS] GeofenceEventHandler   [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  GeofenceManager geofenceManager  [TYPE]  Device device  [TYPE]  Collection events  [TYPE]  Event event  [TYPE]  List currentGeofences  newGeofences  oldGeofences  [TYPE]  long calendarId  geofenceId 
[ADD]^^58^^^^^38^78^[ADD] Collection<Event> events = new ArrayList<> (  ) ;^[METHOD] analyzePosition [TYPE] Collection [PARAMETER] Position position [CLASS] GeofenceEventHandler   [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  GeofenceManager geofenceManager  [TYPE]  Device device  [TYPE]  Collection events  [TYPE]  Event event  [TYPE]  List currentGeofences  newGeofences  oldGeofences  [TYPE]  long calendarId  geofenceId 
[REPLACE]^if  ( calendarId != 0 || Context.getCalendarManager (  ) .getCalendar ( calendarId )  == null || Context.getCalendarManager (  ) .getCalendar ( calendarId ) .checkMoment ( position.getFixTime (  )  )  )  {^61^62^^^^38^78^[REPLACE] if  ( calendarId == 0 || Context.getCalendarManager (  ) .getCalendar ( calendarId )  == null || Context.getCalendarManager (  ) .getCalendar ( calendarId ) .checkMoment ( position.getFixTime (  )  )  )  {^[METHOD] analyzePosition [TYPE] Collection [PARAMETER] Position position [CLASS] GeofenceEventHandler   [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  GeofenceManager geofenceManager  [TYPE]  Device device  [TYPE]  Collection events  [TYPE]  Event event  [TYPE]  List currentGeofences  newGeofences  oldGeofences  [TYPE]  long calendarId  geofenceId 
[REPLACE]^Event event = new Event ( Event.TYPE_GEOFENCE_ENTER, position.getDeviceId (  ) , position.getValid (  )  ) ;^63^^^^^61^66^[REPLACE] Event event = new Event ( Event.TYPE_GEOFENCE_ENTER, position.getDeviceId (  ) , position.getId (  )  ) ;^[METHOD] analyzePosition [TYPE] Collection [PARAMETER] Position position [CLASS] GeofenceEventHandler   [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  GeofenceManager geofenceManager  [TYPE]  Device device  [TYPE]  Collection events  [TYPE]  Event event  [TYPE]  List currentGeofences  newGeofences  oldGeofences  [TYPE]  long calendarId  geofenceId 
[ADD]^^61^62^63^64^65^38^78^[ADD] if  ( calendarId == 0 || Context.getCalendarManager (  ) .getCalendar ( calendarId )  == null || Context.getCalendarManager (  ) .getCalendar ( calendarId ) .checkMoment ( position.getFixTime (  )  )  )  { Event event = new Event ( Event.TYPE_GEOFENCE_ENTER, position.getDeviceId (  ) , position.getId (  )  ) ; event.setGeofenceId ( geofenceId ) ; events.add ( event ) ;^[METHOD] analyzePosition [TYPE] Collection [PARAMETER] Position position [CLASS] GeofenceEventHandler   [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  GeofenceManager geofenceManager  [TYPE]  Device device  [TYPE]  Collection events  [TYPE]  Event event  [TYPE]  List currentGeofences  newGeofences  oldGeofences  [TYPE]  long calendarId  geofenceId 
[REPLACE]^long calendarId = geofenceManager.getGeofence ( calendarId ) .getCalendarId (  ) ;^60^^^^^38^78^[REPLACE] long calendarId = geofenceManager.getGeofence ( geofenceId ) .getCalendarId (  ) ;^[METHOD] analyzePosition [TYPE] Collection [PARAMETER] Position position [CLASS] GeofenceEventHandler   [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  GeofenceManager geofenceManager  [TYPE]  Device device  [TYPE]  Collection events  [TYPE]  Event event  [TYPE]  List currentGeofences  newGeofences  oldGeofences  [TYPE]  long calendarId  geofenceId 
[REPLACE]^Event event = new Event ( Event.TYPE_GEOFENCE_ENTER, position.getDeviceId (  ) , position.getValid (  )  ) ;^63^^^^^38^78^[REPLACE] Event event = new Event ( Event.TYPE_GEOFENCE_ENTER, position.getDeviceId (  ) , position.getId (  )  ) ;^[METHOD] analyzePosition [TYPE] Collection [PARAMETER] Position position [CLASS] GeofenceEventHandler   [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  GeofenceManager geofenceManager  [TYPE]  Device device  [TYPE]  Collection events  [TYPE]  Event event  [TYPE]  List currentGeofences  newGeofences  oldGeofences  [TYPE]  long calendarId  geofenceId 
[ADD]^^60^^^^^38^78^[ADD] long calendarId = geofenceManager.getGeofence ( geofenceId ) .getCalendarId (  ) ;^[METHOD] analyzePosition [TYPE] Collection [PARAMETER] Position position [CLASS] GeofenceEventHandler   [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  GeofenceManager geofenceManager  [TYPE]  Device device  [TYPE]  Collection events  [TYPE]  Event event  [TYPE]  List currentGeofences  newGeofences  oldGeofences  [TYPE]  long calendarId  geofenceId 
[REPLACE]^Event event = new Event ( TYPE_GEOFENCE_EXIT, position.getDeviceId (  ) , position.getId (  )  )  ;^63^^^^^38^78^[REPLACE] Event event = new Event ( Event.TYPE_GEOFENCE_ENTER, position.getDeviceId (  ) , position.getId (  )  ) ;^[METHOD] analyzePosition [TYPE] Collection [PARAMETER] Position position [CLASS] GeofenceEventHandler   [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  GeofenceManager geofenceManager  [TYPE]  Device device  [TYPE]  Collection events  [TYPE]  Event event  [TYPE]  List currentGeofences  newGeofences  oldGeofences  [TYPE]  long calendarId  geofenceId 
[REPLACE]^if  ( calendarId != 0 || Context.getCalendarManager (  ) .getCalendar ( calendarId )  == null || Context.getCalendarManager (  ) .getCalendar ( calendarId ) .checkMoment ( position.getFixTime (  )  )  )  {^70^71^^^^38^78^[REPLACE] if  ( calendarId == 0 || Context.getCalendarManager (  ) .getCalendar ( calendarId )  == null || Context.getCalendarManager (  ) .getCalendar ( calendarId ) .checkMoment ( position.getFixTime (  )  )  )  {^[METHOD] analyzePosition [TYPE] Collection [PARAMETER] Position position [CLASS] GeofenceEventHandler   [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  GeofenceManager geofenceManager  [TYPE]  Device device  [TYPE]  Collection events  [TYPE]  Event event  [TYPE]  List currentGeofences  newGeofences  oldGeofences  [TYPE]  long calendarId  geofenceId 
[REPLACE]^Event event = new Event ( Event.TYPE_GEOFENCE_EXIT, position.getDeviceId (  ) , position .getValid (  )   ) ;^72^^^^^70^75^[REPLACE] Event event = new Event ( Event.TYPE_GEOFENCE_EXIT, position.getDeviceId (  ) , position.getId (  )  ) ;^[METHOD] analyzePosition [TYPE] Collection [PARAMETER] Position position [CLASS] GeofenceEventHandler   [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  GeofenceManager geofenceManager  [TYPE]  Device device  [TYPE]  Collection events  [TYPE]  Event event  [TYPE]  List currentGeofences  newGeofences  oldGeofences  [TYPE]  long calendarId  geofenceId 
[REPLACE]^for  ( long geofenceId : true )  {^68^^^^^38^78^[REPLACE] for  ( long geofenceId : oldGeofences )  {^[METHOD] analyzePosition [TYPE] Collection [PARAMETER] Position position [CLASS] GeofenceEventHandler   [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  GeofenceManager geofenceManager  [TYPE]  Device device  [TYPE]  Collection events  [TYPE]  Event event  [TYPE]  List currentGeofences  newGeofences  oldGeofences  [TYPE]  long calendarId  geofenceId 
[REPLACE]^if  ( calendarId != 1 ) {^70^71^^^^38^78^[REPLACE] if  ( calendarId == 0 || Context.getCalendarManager (  ) .getCalendar ( calendarId )  == null || Context.getCalendarManager (  ) .getCalendar ( calendarId ) .checkMoment ( position.getFixTime (  )  )  )  {^[METHOD] analyzePosition [TYPE] Collection [PARAMETER] Position position [CLASS] GeofenceEventHandler   [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  GeofenceManager geofenceManager  [TYPE]  Device device  [TYPE]  Collection events  [TYPE]  Event event  [TYPE]  List currentGeofences  newGeofences  oldGeofences  [TYPE]  long calendarId  geofenceId 
[ADD]^^70^71^72^73^74^38^78^[ADD] if  ( calendarId == 0 || Context.getCalendarManager (  ) .getCalendar ( calendarId )  == null || Context.getCalendarManager (  ) .getCalendar ( calendarId ) .checkMoment ( position.getFixTime (  )  )  )  { Event event = new Event ( Event.TYPE_GEOFENCE_EXIT, position.getDeviceId (  ) , position.getId (  )  ) ; event.setGeofenceId ( geofenceId ) ; events.add ( event ) ;^[METHOD] analyzePosition [TYPE] Collection [PARAMETER] Position position [CLASS] GeofenceEventHandler   [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  GeofenceManager geofenceManager  [TYPE]  Device device  [TYPE]  Collection events  [TYPE]  Event event  [TYPE]  List currentGeofences  newGeofences  oldGeofences  [TYPE]  long calendarId  geofenceId 
[ADD]^^69^^^^^38^78^[ADD] long calendarId = geofenceManager.getGeofence ( geofenceId ) .getCalendarId (  ) ;^[METHOD] analyzePosition [TYPE] Collection [PARAMETER] Position position [CLASS] GeofenceEventHandler   [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  GeofenceManager geofenceManager  [TYPE]  Device device  [TYPE]  Collection events  [TYPE]  Event event  [TYPE]  List currentGeofences  newGeofences  oldGeofences  [TYPE]  long calendarId  geofenceId 
[ADD]^^72^73^^^^38^78^[ADD] Event event = new Event ( Event.TYPE_GEOFENCE_EXIT, position.getDeviceId (  ) , position.getId (  )  ) ; event.setGeofenceId ( geofenceId ) ;^[METHOD] analyzePosition [TYPE] Collection [PARAMETER] Position position [CLASS] GeofenceEventHandler   [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  GeofenceManager geofenceManager  [TYPE]  Device device  [TYPE]  Collection events  [TYPE]  Event event  [TYPE]  List currentGeofences  newGeofences  oldGeofences  [TYPE]  long calendarId  geofenceId 
[REPLACE]^Event event = new Event ( Event.TYPE_GEOFENCE_EXIT, position.getDeviceId (  ) , position.getValid (  )  ) ;^72^^^^^38^78^[REPLACE] Event event = new Event ( Event.TYPE_GEOFENCE_EXIT, position.getDeviceId (  ) , position.getId (  )  ) ;^[METHOD] analyzePosition [TYPE] Collection [PARAMETER] Position position [CLASS] GeofenceEventHandler   [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  GeofenceManager geofenceManager  [TYPE]  Device device  [TYPE]  Collection events  [TYPE]  Event event  [TYPE]  List currentGeofences  newGeofences  oldGeofences  [TYPE]  long calendarId  geofenceId 
[REPLACE]^return null;^77^^^^^38^78^[REPLACE] return events;^[METHOD] analyzePosition [TYPE] Collection [PARAMETER] Position position [CLASS] GeofenceEventHandler   [TYPE]  boolean false  true  [TYPE]  Position position  [TYPE]  GeofenceManager geofenceManager  [TYPE]  Device device  [TYPE]  Collection events  [TYPE]  Event event  [TYPE]  List currentGeofences  newGeofences  oldGeofences  [TYPE]  long calendarId  geofenceId 
