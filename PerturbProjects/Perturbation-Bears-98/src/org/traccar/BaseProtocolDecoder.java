[REPLACE]^private final Object protocol;^34^^^^^^^[REPLACE] private final Protocol protocol;^ [CLASS] BaseProtocolDecoder  
[REPLACE]^private Map<SocketAddress, DeviceSession> addressDeviceSessions ;^62^^^^^^^[REPLACE] private Map<SocketAddress, DeviceSession> addressDeviceSessions = new HashMap<> (  ) ;^ [CLASS] BaseProtocolDecoder  
[ADD]^^37^38^^^^36^55^[ADD] Device device = new Device (  ) ; device.setName ( uniqueId ) ;^[METHOD] addUnknownDevice [TYPE] long [PARAMETER] String uniqueId [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  SQLException e  [TYPE]  Device device  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  long defaultGroupId 
[REPLACE]^device.setUniqueId ( uniqueId ) ;^38^^^^^36^55^[REPLACE] device.setName ( uniqueId ) ;^[METHOD] addUnknownDevice [TYPE] long [PARAMETER] String uniqueId [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  SQLException e  [TYPE]  Device device  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  long defaultGroupId 
[ADD]^^38^^^^^36^55^[ADD] device.setName ( uniqueId ) ;^[METHOD] addUnknownDevice [TYPE] long [PARAMETER] String uniqueId [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  SQLException e  [TYPE]  Device device  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  long defaultGroupId 
[REPLACE]^device.setName ( uniqueId )  ;^39^^^^^36^55^[REPLACE] device.setUniqueId ( uniqueId ) ;^[METHOD] addUnknownDevice [TYPE] long [PARAMETER] String uniqueId [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  SQLException e  [TYPE]  Device device  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  long defaultGroupId 
[REPLACE]^device.setGroupId ( Context.getConfig (  ) .getString ( "database.registerUnknown.defaultCategory" )  ) ;^40^^^^^36^55^[REPLACE] device.setCategory ( Context.getConfig (  ) .getString ( "database.registerUnknown.defaultCategory" )  ) ;^[METHOD] addUnknownDevice [TYPE] long [PARAMETER] String uniqueId [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  SQLException e  [TYPE]  Device device  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  long defaultGroupId 
[REPLACE]^getConfig (  ) .getLong ( defaultGroupId" )  ;^40^^^^^36^55^[REPLACE] device.setCategory ( Context.getConfig (  ) .getString ( "database.registerUnknown.defaultCategory" )  ) ;^[METHOD] addUnknownDevice [TYPE] long [PARAMETER] String uniqueId [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  SQLException e  [TYPE]  Device device  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  long defaultGroupId 
[REPLACE]^getConnectionManager (  )  ;^40^^^^^36^55^[REPLACE] device.setCategory ( Context.getConfig (  ) .getString ( "database.registerUnknown.defaultCategory" )  ) ;^[METHOD] addUnknownDevice [TYPE] long [PARAMETER] String uniqueId [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  SQLException e  [TYPE]  Device device  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  long defaultGroupId 
[REPLACE]^long defaultGroupId = Context.getConnectionManager (  ) .getLong ( "database.registerUnknown.defaultGroupId" ) ;^42^^^^^36^55^[REPLACE] long defaultGroupId = Context.getConfig (  ) .getLong ( "database.registerUnknown.defaultGroupId" ) ;^[METHOD] addUnknownDevice [TYPE] long [PARAMETER] String uniqueId [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  SQLException e  [TYPE]  Device device  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  long defaultGroupId 
[REPLACE]^if  ( defaultGroupId  ==  0 )  {^43^^^^^36^55^[REPLACE] if  ( defaultGroupId != 0 )  {^[METHOD] addUnknownDevice [TYPE] long [PARAMETER] String uniqueId [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  SQLException e  [TYPE]  Device device  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  long defaultGroupId 
[REPLACE]^device.setUniqueId ( defaultGroupId ) ;^44^^^^^36^55^[REPLACE] device.setGroupId ( defaultGroupId ) ;^[METHOD] addUnknownDevice [TYPE] long [PARAMETER] String uniqueId [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  SQLException e  [TYPE]  Device device  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  long defaultGroupId 
[ADD]^^44^^^^^36^55^[ADD] device.setGroupId ( defaultGroupId ) ;^[METHOD] addUnknownDevice [TYPE] long [PARAMETER] String uniqueId [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  SQLException e  [TYPE]  Device device  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  long defaultGroupId 
[ADD]^Context.getDeviceManager (  ) .addDevice ( device ) ;Log.info ( "Automatically registered device " + uniqueId ) ;return device.getId (  ) ;^47^48^49^50^51^36^55^[ADD] try { Context.getDeviceManager (  ) .addDevice ( device ) ; Log.info ( "Automatically registered device " + uniqueId ) ; return device.getId (  ) ; } catch  ( SQLException e )  {^[METHOD] addUnknownDevice [TYPE] long [PARAMETER] String uniqueId [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  SQLException e  [TYPE]  Device device  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  long defaultGroupId 
[REPLACE]^return device.setCategory (  ) ;^50^^^^^36^55^[REPLACE] return device.getId (  ) ;^[METHOD] addUnknownDevice [TYPE] long [PARAMETER] String uniqueId [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  SQLException e  [TYPE]  Device device  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  long defaultGroupId 
[REPLACE]^return device .setGroupId ( defaultGroupId )  ;^50^^^^^36^55^[REPLACE] return device.getId (  ) ;^[METHOD] addUnknownDevice [TYPE] long [PARAMETER] String uniqueId [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  SQLException e  [TYPE]  Device device  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  long defaultGroupId 
[REPLACE]^return 0 - 2;^53^^^^^36^55^[REPLACE] return 0;^[METHOD] addUnknownDevice [TYPE] long [PARAMETER] String uniqueId [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  SQLException e  [TYPE]  Device device  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  long defaultGroupId 
[ADD]^^51^52^^^^36^55^[ADD] catch  ( SQLException e )  { Log.warning ( e ) ;^[METHOD] addUnknownDevice [TYPE] long [PARAMETER] String uniqueId [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  SQLException e  [TYPE]  Device device  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  long defaultGroupId 
[ADD]^^65^^^^^64^96^[ADD] long deviceId = 0;^[METHOD] findDeviceId [TYPE] long [PARAMETER] SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  StringBuilder message  [TYPE]  Device device  [TYPE]  String[] uniqueIds  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId  [TYPE]  Exception e 
[REPLACE]^if  ( deviceId == 0  && ( uniqueIds.length %  2 > 0 )  {^66^^^^^64^96^[REPLACE] if  ( uniqueIds.length > 0 )  {^[METHOD] findDeviceId [TYPE] long [PARAMETER] SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  StringBuilder message  [TYPE]  Device device  [TYPE]  String[] uniqueIds  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId  [TYPE]  Exception e 
[REPLACE]^if  ( uniqueId == this  && deviceId == 0  )  {^69^^^^^64^96^[REPLACE] if  ( uniqueId != null )  {^[METHOD] findDeviceId [TYPE] long [PARAMETER] SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  StringBuilder message  [TYPE]  Device device  [TYPE]  String[] uniqueIds  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId  [TYPE]  Exception e 
[REPLACE]^if  ( deviceId == 0  || ( device == null )  {^71^^^^^64^96^[REPLACE] if  ( device != null )  {^[METHOD] findDeviceId [TYPE] long [PARAMETER] SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  StringBuilder message  [TYPE]  Device device  [TYPE]  String[] uniqueIds  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId  [TYPE]  Exception e 
[REPLACE]^deviceId =  null.getId (  ) ;^72^^^^^64^96^[REPLACE] deviceId = device.getId (  ) ;^[METHOD] findDeviceId [TYPE] long [PARAMETER] SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  StringBuilder message  [TYPE]  Device device  [TYPE]  String[] uniqueIds  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId  [TYPE]  Exception e 
[ADD]^^72^73^^^^64^96^[ADD] deviceId = device.getId (  ) ; break;^[METHOD] findDeviceId [TYPE] long [PARAMETER] SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  StringBuilder message  [TYPE]  Device device  [TYPE]  String[] uniqueIds  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId  [TYPE]  Exception e 
[REPLACE]^Device device = Context.getIdentityManager (  ) .getString ( uniqueId ) ;^70^^^^^64^96^[REPLACE] Device device = Context.getIdentityManager (  ) .getDeviceByUniqueId ( uniqueId ) ;^[METHOD] findDeviceId [TYPE] long [PARAMETER] SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  StringBuilder message  [TYPE]  Device device  [TYPE]  String[] uniqueIds  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId  [TYPE]  Exception e 
[REPLACE]^if  ( device == false )  {^71^^^^^64^96^[REPLACE] if  ( device != null )  {^[METHOD] findDeviceId [TYPE] long [PARAMETER] SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  StringBuilder message  [TYPE]  Device device  [TYPE]  String[] uniqueIds  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId  [TYPE]  Exception e 
[REPLACE]^if  ( deviceId  ||  0 )  {^80^^^^^64^96^[REPLACE] if  ( deviceId == 0 )  {^[METHOD] findDeviceId [TYPE] long [PARAMETER] SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  StringBuilder message  [TYPE]  Device device  [TYPE]  String[] uniqueIds  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId  [TYPE]  Exception e 
[REPLACE]^if  ( Context.getConfig (  ) .getLong ( "database.registerUnknown" )  )  {^81^^^^^64^96^[REPLACE] if  ( Context.getConfig (  ) .getBoolean ( "database.registerUnknown" )  )  {^[METHOD] findDeviceId [TYPE] long [PARAMETER] SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  StringBuilder message  [TYPE]  Device device  [TYPE]  String[] uniqueIds  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId  [TYPE]  Exception e 
[ADD]^return addUnknownDevice ( uniqueIds[0] ) ;^81^82^83^^^64^96^[ADD] if  ( Context.getConfig (  ) .getBoolean ( "database.registerUnknown" )  )  { return addUnknownDevice ( uniqueIds[0] ) ; }^[METHOD] findDeviceId [TYPE] long [PARAMETER] SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  StringBuilder message  [TYPE]  Device device  [TYPE]  String[] uniqueIds  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId  [TYPE]  Exception e 
[REPLACE]^return addUnknownDevice ( uniqueIds[4] ) ;^82^^^^^64^96^[REPLACE] return addUnknownDevice ( uniqueIds[0] ) ;^[METHOD] findDeviceId [TYPE] long [PARAMETER] SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  StringBuilder message  [TYPE]  Device device  [TYPE]  String[] uniqueIds  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId  [TYPE]  Exception e 
[REPLACE]^if  ( remoteAddress == null )  {^89^^^^^64^96^[REPLACE] if  ( remoteAddress != null )  {^[METHOD] findDeviceId [TYPE] long [PARAMETER] SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  StringBuilder message  [TYPE]  Device device  [TYPE]  String[] uniqueIds  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId  [TYPE]  Exception e 
[ADD]^^89^90^91^^^64^96^[ADD] if  ( remoteAddress != null )  { message.append ( "  ( " ) .append (  (  ( InetSocketAddress )  remoteAddress ) .getHostString (  )  ) .append ( " ) " ) ; }^[METHOD] findDeviceId [TYPE] long [PARAMETER] SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  StringBuilder message  [TYPE]  Device device  [TYPE]  String[] uniqueIds  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId  [TYPE]  Exception e 
[REPLACE]^message.StringBuilder ( "  ( " ) .append (  (  ( InetSocketAddress )  remoteAddress ) .getHostString (  )  ) .append ( " ) " ) ;^90^^^^^64^96^[REPLACE] message.append ( "  ( " ) .append (  (  ( InetSocketAddress )  remoteAddress ) .getHostString (  )  ) .append ( " ) " ) ;^[METHOD] findDeviceId [TYPE] long [PARAMETER] SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  StringBuilder message  [TYPE]  Device device  [TYPE]  String[] uniqueIds  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId  [TYPE]  Exception e 
[REPLACE]^message.append ( "  ( " ) .append (  (  ( InetSocketAddress )   ( remoteAddress )  ) .getHostString (  )  ) .append ( " ) " )  ;^90^^^^^64^96^[REPLACE] message.append ( "  ( " ) .append (  (  ( InetSocketAddress )  remoteAddress ) .getHostString (  )  ) .append ( " ) " ) ;^[METHOD] findDeviceId [TYPE] long [PARAMETER] SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  StringBuilder message  [TYPE]  Device device  [TYPE]  String[] uniqueIds  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId  [TYPE]  Exception e 
[REPLACE]^message.append ( "  ( " ) .append (  (  ( InetSocketAddress )   ( remoteAddress )  ) .getHostString (  )  )  ;^90^^^^^64^96^[REPLACE] message.append ( "  ( " ) .append (  (  ( InetSocketAddress )  remoteAddress ) .getHostString (  )  ) .append ( " ) " ) ;^[METHOD] findDeviceId [TYPE] long [PARAMETER] SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  StringBuilder message  [TYPE]  Device device  [TYPE]  String[] uniqueIds  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId  [TYPE]  Exception e 
[REPLACE]^return addUnknownDevice ( uniqueIds[4] ) ;^82^^^^^80^93^[REPLACE] return addUnknownDevice ( uniqueIds[0] ) ;^[METHOD] findDeviceId [TYPE] long [PARAMETER] SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  StringBuilder message  [TYPE]  Device device  [TYPE]  String[] uniqueIds  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId  [TYPE]  Exception e 
[REPLACE]^return addUnknownDevice ( uniqueIds[3] ) ;^82^^^^^64^96^[REPLACE] return addUnknownDevice ( uniqueIds[0] ) ;^[METHOD] findDeviceId [TYPE] long [PARAMETER] SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  StringBuilder message  [TYPE]  Device device  [TYPE]  String[] uniqueIds  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId  [TYPE]  Exception e 
[REPLACE]^message .StringBuilder ( uniqueId )^90^^^^^64^96^[REPLACE] message.append ( "  ( " ) .append (  (  ( InetSocketAddress )  remoteAddress ) .getHostString (  )  ) .append ( " ) " ) ;^[METHOD] findDeviceId [TYPE] long [PARAMETER] SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  StringBuilder message  [TYPE]  Device device  [TYPE]  String[] uniqueIds  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId  [TYPE]  Exception e 
[ADD]^^90^^^^^64^96^[ADD] message.append ( "  ( " ) .append (  (  ( InetSocketAddress )  remoteAddress ) .getHostString (  )  ) .append ( " ) " ) ;^[METHOD] findDeviceId [TYPE] long [PARAMETER] SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  StringBuilder message  [TYPE]  Device device  [TYPE]  String[] uniqueIds  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId  [TYPE]  Exception e 
[REPLACE]^message.append ( " " )  ;^90^^^^^64^96^[REPLACE] message.append ( "  ( " ) .append (  (  ( InetSocketAddress )  remoteAddress ) .getHostString (  )  ) .append ( " ) " ) ;^[METHOD] findDeviceId [TYPE] long [PARAMETER] SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  StringBuilder message  [TYPE]  Device device  [TYPE]  String[] uniqueIds  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId  [TYPE]  Exception e 
[ADD]^^86^87^88^^^67^77^[ADD] for  ( String uniqueId : uniqueIds )  { message.append ( " " ) .append ( uniqueId ) ; }^[METHOD] findDeviceId [TYPE] long [PARAMETER] SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  StringBuilder message  [TYPE]  Device device  [TYPE]  String[] uniqueIds  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId  [TYPE]  Exception e 
[ADD]^Device device = Context.getIdentityManager (  ) .getDeviceByUniqueId ( uniqueId ) ;^67^68^69^70^71^67^77^[ADD] try { for  ( String uniqueId : uniqueIds )  { if  ( uniqueId != null )  { Device device = Context.getIdentityManager (  ) .getDeviceByUniqueId ( uniqueId ) ; if  ( device != null )  {^[METHOD] findDeviceId [TYPE] long [PARAMETER] SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  StringBuilder message  [TYPE]  Device device  [TYPE]  String[] uniqueIds  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId  [TYPE]  Exception e 
[REPLACE]^deviceId =  null.getId (  ) ;^72^^^^^67^77^[REPLACE] deviceId = device.getId (  ) ;^[METHOD] findDeviceId [TYPE] long [PARAMETER] SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  StringBuilder message  [TYPE]  Device device  [TYPE]  String[] uniqueIds  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId  [TYPE]  Exception e 
[REPLACE]^return addUnknownDevice ( uniqueIds[1] ) ;^82^^^^^67^77^[REPLACE] return addUnknownDevice ( uniqueIds[0] ) ;^[METHOD] findDeviceId [TYPE] long [PARAMETER] SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  StringBuilder message  [TYPE]  Device device  [TYPE]  String[] uniqueIds  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId  [TYPE]  Exception e 
[REPLACE]^Device device = Context.getIdentityManager (  ) .getString ( uniqueId ) ;^70^^^^^67^77^[REPLACE] Device device = Context.getIdentityManager (  ) .getDeviceByUniqueId ( uniqueId ) ;^[METHOD] findDeviceId [TYPE] long [PARAMETER] SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  StringBuilder message  [TYPE]  Device device  [TYPE]  String[] uniqueIds  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId  [TYPE]  Exception e 
[ADD]^^85^^^^^67^77^[ADD] StringBuilder message = new StringBuilder ( "Unknown device -" ) ;^[METHOD] findDeviceId [TYPE] long [PARAMETER] SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  StringBuilder message  [TYPE]  Device device  [TYPE]  String[] uniqueIds  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId  [TYPE]  Exception e 
[REPLACE]^if  ( uniqueId == null  || deviceId == 0  )  {^69^^^^^64^96^[REPLACE] if  ( uniqueId != null )  {^[METHOD] findDeviceId [TYPE] long [PARAMETER] SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  StringBuilder message  [TYPE]  Device device  [TYPE]  String[] uniqueIds  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId  [TYPE]  Exception e 
[REPLACE]^if  ( device == null )  {^71^^^^^64^96^[REPLACE] if  ( device != null )  {^[METHOD] findDeviceId [TYPE] long [PARAMETER] SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  StringBuilder message  [TYPE]  Device device  [TYPE]  String[] uniqueIds  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId  [TYPE]  Exception e 
[ADD]^^71^72^73^74^^64^96^[ADD] if  ( device != null )  { deviceId = device.getId (  ) ; break; }^[METHOD] findDeviceId [TYPE] long [PARAMETER] SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  StringBuilder message  [TYPE]  Device device  [TYPE]  String[] uniqueIds  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId  [TYPE]  Exception e 
[REPLACE]^if  ( device == this   || deviceId == 0  )  {^71^^^^^64^96^[REPLACE] if  ( device != null )  {^[METHOD] findDeviceId [TYPE] long [PARAMETER] SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  StringBuilder message  [TYPE]  Device device  [TYPE]  String[] uniqueIds  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId  [TYPE]  Exception e 
[ADD]^^72^^^^^64^96^[ADD] deviceId = device.getId (  ) ;^[METHOD] findDeviceId [TYPE] long [PARAMETER] SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  StringBuilder message  [TYPE]  Device device  [TYPE]  String[] uniqueIds  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId  [TYPE]  Exception e 
[REPLACE]^if  ( deviceId  !=  4 )  {^80^^^^^64^96^[REPLACE] if  ( deviceId == 0 )  {^[METHOD] findDeviceId [TYPE] long [PARAMETER] SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  StringBuilder message  [TYPE]  Device device  [TYPE]  String[] uniqueIds  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId  [TYPE]  Exception e 
[REPLACE]^if  ( Context.getConfig (  )  .getLong ( uniqueId )   )  {^81^^^^^64^96^[REPLACE] if  ( Context.getConfig (  ) .getBoolean ( "database.registerUnknown" )  )  {^[METHOD] findDeviceId [TYPE] long [PARAMETER] SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  StringBuilder message  [TYPE]  Device device  [TYPE]  String[] uniqueIds  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId  [TYPE]  Exception e 
[REPLACE]^return addUnknownDevice ( uniqueIds[0L] ) ;^82^^^^^64^96^[REPLACE] return addUnknownDevice ( uniqueIds[0] ) ;^[METHOD] findDeviceId [TYPE] long [PARAMETER] SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  StringBuilder message  [TYPE]  Device device  [TYPE]  String[] uniqueIds  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId  [TYPE]  Exception e 
[REPLACE]^if  ( remoteAddress == this  )  {^89^^^^^64^96^[REPLACE] if  ( remoteAddress != null )  {^[METHOD] findDeviceId [TYPE] long [PARAMETER] SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  StringBuilder message  [TYPE]  Device device  [TYPE]  String[] uniqueIds  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId  [TYPE]  Exception e 
[ADD]^^86^87^88^^^80^93^[ADD] for  ( String uniqueId : uniqueIds )  { message.append ( " " ) .append ( uniqueId ) ; }^[METHOD] findDeviceId [TYPE] long [PARAMETER] SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  StringBuilder message  [TYPE]  Device device  [TYPE]  String[] uniqueIds  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId  [TYPE]  Exception e 
[REPLACE]^return addUnknownDevice ( uniqueIds[3] ) ;^82^^^^^80^93^[REPLACE] return addUnknownDevice ( uniqueIds[0] ) ;^[METHOD] findDeviceId [TYPE] long [PARAMETER] SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  StringBuilder message  [TYPE]  Device device  [TYPE]  String[] uniqueIds  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId  [TYPE]  Exception e 
[ADD]^^85^^^^^80^93^[ADD] StringBuilder message = new StringBuilder ( "Unknown device -" ) ;^[METHOD] findDeviceId [TYPE] long [PARAMETER] SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  StringBuilder message  [TYPE]  Device device  [TYPE]  String[] uniqueIds  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId  [TYPE]  Exception e 
[REPLACE]^return addUnknownDevice ( uniqueIds[0L] ) ;^82^^^^^67^77^[REPLACE] return addUnknownDevice ( uniqueIds[0] ) ;^[METHOD] findDeviceId [TYPE] long [PARAMETER] SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  StringBuilder message  [TYPE]  Device device  [TYPE]  String[] uniqueIds  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId  [TYPE]  Exception e 
[ADD]^^68^69^70^71^72^67^77^[ADD] for  ( String uniqueId : uniqueIds )  { if  ( uniqueId != null )  { Device device = Context.getIdentityManager (  ) .getDeviceByUniqueId ( uniqueId ) ; if  ( device != null )  { deviceId = device.getId (  ) ;^[METHOD] findDeviceId [TYPE] long [PARAMETER] SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  StringBuilder message  [TYPE]  Device device  [TYPE]  String[] uniqueIds  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId  [TYPE]  Exception e 
[REPLACE]^Device device = Context.getDeviceManager (  ) .getDeviceByUniqueId ( uniqueId ) ;^70^^^^^67^77^[REPLACE] Device device = Context.getIdentityManager (  ) .getDeviceByUniqueId ( uniqueId ) ;^[METHOD] findDeviceId [TYPE] long [PARAMETER] SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  StringBuilder message  [TYPE]  Device device  [TYPE]  String[] uniqueIds  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId  [TYPE]  Exception e 
[ADD]^^77^78^^^^67^77^[ADD] catch  ( Exception e )  { Log.warning ( e ) ;^[METHOD] findDeviceId [TYPE] long [PARAMETER] SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  StringBuilder message  [TYPE]  Device device  [TYPE]  String[] uniqueIds  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId  [TYPE]  Exception e 
[REPLACE]^return device.getId (  )  ;^95^^^^^64^96^[REPLACE] return deviceId;^[METHOD] findDeviceId [TYPE] long [PARAMETER] SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  [TYPE]  StringBuilder message  [TYPE]  Device device  [TYPE]  String[] uniqueIds  [TYPE]  String uniqueId  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId  [TYPE]  Exception e 
[REPLACE]^if  ( deviceId  ==  0 )  {^101^^^^^98^137^[REPLACE] if  ( deviceId != 0 )  {^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^return true;^107^^^^^101^108^[REPLACE] return null;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^if  ( Context.getConnectionManager (  )  == true )  {^102^^^^^98^137^[REPLACE] if  ( Context.getConnectionManager (  )  != null )  {^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^Context.getConnectionManager (  ) .addDevice ( deviceId, protocol, channel, remoteAddress ) ;^103^^^^^98^137^[REPLACE] Context.getConnectionManager (  ) .addActiveDevice ( deviceId, protocol, channel, remoteAddress ) ;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^Context .getIdentityManager (  )  .addActiveDevice ( deviceId, protocol, channel, remoteAddress ) ;^103^^^^^98^137^[REPLACE] Context.getConnectionManager (  ) .addActiveDevice ( deviceId, protocol, channel, remoteAddress ) ;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[ADD]^^103^^^^^98^137^[ADD] Context.getConnectionManager (  ) .addActiveDevice ( deviceId, protocol, channel, remoteAddress ) ;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^if  ( Context.getConnectionManager (  )  == null )  {^102^^^^^98^137^[REPLACE] if  ( Context.getConnectionManager (  )  != null )  {^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^Context.getIdentityManager (  ) .addActiveDevice ( deviceId, protocol, channel, remoteAddress ) ;^103^^^^^98^137^[REPLACE] Context.getConnectionManager (  ) .addActiveDevice ( deviceId, protocol, channel, remoteAddress ) ;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REMOVE]^( getConnectionManager (  )  )  ;^103^^^^^98^137^[REMOVE] ^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^return false;^107^^^^^98^137^[REPLACE] return null;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^return false;^107^^^^^101^108^[REPLACE] return null;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[ADD]^Context.getConnectionManager (  ) .addActiveDevice ( deviceId, protocol, channel, remoteAddress ) ;^102^103^104^^^98^137^[ADD] if  ( Context.getConnectionManager (  )  != null )  { Context.getConnectionManager (  ) .addActiveDevice ( deviceId, protocol, channel, remoteAddress ) ; }^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^( getConnectionManager (  )  )  ;^103^^^^^98^137^[REPLACE] Context.getConnectionManager (  ) .addActiveDevice ( deviceId, protocol, channel, remoteAddress ) ;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^return true;^107^^^^^98^137^[REPLACE] return null;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^if  ( !String instanceof DatagramChannel )  {^110^^^^^98^137^[REPLACE] if  ( channel instanceof DatagramChannel )  {^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^if  ( channelDeviceSession != true  && getConfig (  ) .getBoolean ( "decoder.ignoreSessionCache" )  )  {^126^^^^^110^136^[REPLACE] if  ( channelDeviceSession == null )  {^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^if  ( deviceId  ==  0 )  {^128^^^^^110^136^[REPLACE] if  ( deviceId != 0 )  {^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^if  ( Context.getConnectionManager (   )  || channel instanceof DatagramChannel  )  == null )  {^130^^^^^110^136^[REPLACE] if  ( Context.getConnectionManager (  )  != null )  {^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^Context.getIdentityManager (  ) .addActiveDevice ( deviceId, protocol, channel, remoteAddress ) ;^131^^^^^110^136^[REPLACE] Context.getConnectionManager (  ) .addActiveDevice ( deviceId, protocol, channel, remoteAddress ) ;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^( getConnectionManager (  )  )  ;^131^^^^^110^136^[REPLACE] Context.getConnectionManager (  ) .addActiveDevice ( deviceId, protocol, channel, remoteAddress ) ;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^deviceSession = new DeviceSession ( deviceId )  ;^129^^^^^110^136^[REPLACE] channelDeviceSession = new DeviceSession ( deviceId ) ;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^if  ( Context.getConnectionManager (  )  == null )  {^130^^^^^110^136^[REPLACE] if  ( Context.getConnectionManager (  )  != null )  {^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[ADD]^^131^^^^^110^136^[ADD] Context.getConnectionManager (  ) .addActiveDevice ( deviceId, protocol, channel, remoteAddress ) ;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^Context.getConnectionManager (  ) .addDevice ( deviceId, protocol, channel, remoteAddress ) ;^131^^^^^110^136^[REPLACE] Context.getConnectionManager (  ) .addActiveDevice ( deviceId, protocol, channel, remoteAddress ) ;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^if  ( Context .getIdentityManager (  )   == false )  {^130^^^^^110^136^[REPLACE] if  ( Context.getConnectionManager (  )  != null )  {^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^Context .getIdentityManager (  )  .addActiveDevice ( deviceId, protocol, channel, remoteAddress ) ;^131^^^^^110^136^[REPLACE] Context.getConnectionManager (  ) .addActiveDevice ( deviceId, protocol, channel, remoteAddress ) ;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[ADD]^^129^^^^^110^136^[ADD] channelDeviceSession = new DeviceSession ( deviceId ) ;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^return deviceSession  ;^135^^^^^110^136^[REPLACE] return channelDeviceSession;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[ADD]^^127^^^^^110^136^[ADD] long deviceId = findDeviceId ( remoteAddress, uniqueIds ) ;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^if  ( deviceSession != null &&  ( deviceSession.getDeviceId (  )  == deviceId || uniqueIds.length (  )  == 0 )  )  {^113^^^^^98^137^[REPLACE] if  ( deviceSession != null &&  ( deviceSession.getDeviceId (  )  == deviceId || uniqueIds.length == 0 )  )  {^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[ADD]^^113^114^115^116^117^98^137^[ADD] if  ( deviceSession != null &&  ( deviceSession.getDeviceId (  )  == deviceId || uniqueIds.length == 0 )  )  { return deviceSession; } else if  ( deviceId != 0 )  { deviceSession = new DeviceSession ( deviceId ) ; addressDeviceSessions.put ( remoteAddress, deviceSession ) ;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^}  if  ( deviceId  ==  0 )  {^115^^^^^98^137^[REPLACE] } else if  ( deviceId != 0 )  {^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^return true;^123^^^^^115^124^[REPLACE] return null;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^if  ( Context.getConnectionManager (  )  == null )  {^118^^^^^98^137^[REPLACE] if  ( Context.getConnectionManager (  )  != null )  {^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^Context.getConnectionManager (  ) .addDevice ( deviceId, protocol, channel, remoteAddress ) ;^119^^^^^98^137^[REPLACE] Context.getConnectionManager (  ) .addActiveDevice ( deviceId, protocol, channel, remoteAddress ) ;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^( getConnectionManager (  )  )  ;^119^^^^^98^137^[REPLACE] Context.getConnectionManager (  ) .addActiveDevice ( deviceId, protocol, channel, remoteAddress ) ;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^channelDeviceSession = new DeviceSession ( deviceId )  ;^116^^^^^98^137^[REPLACE] deviceSession = new DeviceSession ( deviceId ) ;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^return channelDeviceSession  ;^121^^^^^98^137^[REPLACE] return deviceSession;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^if  ( Context.getConnectionManager (  )  == true )  {^118^^^^^98^137^[REPLACE] if  ( Context.getConnectionManager (  )  != null )  {^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[ADD]^^118^119^120^^^98^137^[ADD] if  ( Context.getConnectionManager (  )  != null )  { Context.getConnectionManager (  ) .addActiveDevice ( deviceId, protocol, channel, remoteAddress ) ; }^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^Context .getIdentityManager (  )  .addActiveDevice ( deviceId, protocol, channel, remoteAddress ) ;^119^^^^^98^137^[REPLACE] Context.getConnectionManager (  ) .addActiveDevice ( deviceId, protocol, channel, remoteAddress ) ;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[ADD]^^119^^^^^98^137^[ADD] Context.getConnectionManager (  ) .addActiveDevice ( deviceId, protocol, channel, remoteAddress ) ;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^return channelDeviceSession;^121^^^^^98^137^[REPLACE] return deviceSession;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^return true;^123^^^^^98^137^[REPLACE] return null;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^return channelDeviceSession;^114^^^^^98^137^[REPLACE] return deviceSession;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^}  else {^115^^^^^98^137^[REPLACE] } else if  ( deviceId != 0 )  {^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[ADD]^}   deviceSession = new DeviceSession ( deviceId ) ;addressDeviceSessions.put ( remoteAddress, deviceSession ) ;Context.getConnectionManager (  ) .addActiveDevice ( deviceId, protocol, channel, remoteAddress ) ;^115^116^117^118^119^98^137^[ADD] else if  ( deviceId != 0 )  { deviceSession = new DeviceSession ( deviceId ) ; addressDeviceSessions.put ( remoteAddress, deviceSession ) ; if  ( Context.getConnectionManager (  )  != null )  { Context.getConnectionManager (  ) .addActiveDevice ( deviceId, protocol, channel, remoteAddress ) ;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^Context.getIdentityManager (  ) .addActiveDevice ( deviceId, protocol, channel, remoteAddress ) ;^119^^^^^98^137^[REPLACE] Context.getConnectionManager (  ) .addActiveDevice ( deviceId, protocol, channel, remoteAddress ) ;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[ADD]^^112^^^^^98^137^[ADD] DeviceSession deviceSession = addressDeviceSessions.get ( remoteAddress ) ;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^if  (  uniqueIds.length - 5 == 0 )  )  {^113^^^^^98^137^[REPLACE] if  ( deviceSession != null &&  ( deviceSession.getDeviceId (  )  == deviceId || uniqueIds.length == 0 )  )  {^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[ADD]^Context.getConnectionManager (  ) .addActiveDevice ( deviceId, protocol, channel, remoteAddress ) ;^118^119^120^^^98^137^[ADD] if  ( Context.getConnectionManager (  )  != null )  { Context.getConnectionManager (  ) .addActiveDevice ( deviceId, protocol, channel, remoteAddress ) ; }^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^if  ( Context.getConnectionManager (  )  == this  )  {^118^^^^^98^137^[REPLACE] if  ( Context.getConnectionManager (  )  != null )  {^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^return false;^123^^^^^98^137^[REPLACE] return null;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^return channelDeviceSession  ;^114^^^^^98^137^[REPLACE] return deviceSession;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[ADD]^}   addressDeviceSessions.put ( remoteAddress, deviceSession ) ;Context.getConnectionManager (  ) .addActiveDevice ( deviceId, protocol, channel, remoteAddress ) ;^115^116^117^118^119^98^137^[ADD] else if  ( deviceId != 0 )  { deviceSession = new DeviceSession ( deviceId ) ; addressDeviceSessions.put ( remoteAddress, deviceSession ) ; if  ( Context.getConnectionManager (  )  != null )  { Context.getConnectionManager (  ) .addActiveDevice ( deviceId, protocol, channel, remoteAddress ) ;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^return false;^123^^^^^115^124^[REPLACE] return null;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^if  ( Context.getIdentityManager (  )  == null )  {^118^^^^^98^137^[REPLACE] if  ( Context.getConnectionManager (  )  != null )  {^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REMOVE]^( getConnectionManager (  )  )  ;^119^^^^^98^137^[REMOVE] ^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[ADD]^^116^^^^^98^137^[ADD] deviceSession = new DeviceSession ( deviceId ) ;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^if  (deviceSession != null  && getConfig (  ) .getBoolean ( "decoder.ignoreSessionCache" )  )  {^126^^^^^98^137^[REPLACE] if  ( channelDeviceSession == null )  {^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^if  ( deviceId  ==  0 )  {^128^^^^^98^137^[REPLACE] if  ( deviceId != 0 )  {^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^if  ( Context.getConnectionManager (  )  == null )  {^130^^^^^98^137^[REPLACE] if  ( Context.getConnectionManager (  )  != null )  {^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^Context .getIdentityManager (  )  .addActiveDevice ( deviceId, protocol, channel, remoteAddress ) ;^131^^^^^98^137^[REPLACE] Context.getConnectionManager (  ) .addActiveDevice ( deviceId, protocol, channel, remoteAddress ) ;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[ADD]^^131^^^^^98^137^[ADD] Context.getConnectionManager (  ) .addActiveDevice ( deviceId, protocol, channel, remoteAddress ) ;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^( getConnectionManager (  )  )  ;^131^^^^^98^137^[REPLACE] Context.getConnectionManager (  ) .addActiveDevice ( deviceId, protocol, channel, remoteAddress ) ;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^deviceSession = new DeviceSession ( deviceId )  ;^129^^^^^98^137^[REPLACE] channelDeviceSession = new DeviceSession ( deviceId ) ;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^if  ( Context.getConnectionManager (   )  && channel instanceof DatagramChannel  )  == this )  {^130^^^^^98^137^[REPLACE] if  ( Context.getConnectionManager (  )  != null )  {^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^Context.getIdentityManager (  ) .addActiveDevice ( deviceId, protocol, channel, remoteAddress ) ;^131^^^^^98^137^[REPLACE] Context.getConnectionManager (  ) .addActiveDevice ( deviceId, protocol, channel, remoteAddress ) ;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[ADD]^^127^^^^^98^137^[ADD] long deviceId = findDeviceId ( remoteAddress, uniqueIds ) ;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^if  ( deviceId  ==  0 + 1 )  {^128^^^^^98^137^[REPLACE] if  ( deviceId != 0 )  {^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^Context.getConnectionManager (  ) .addDevice ( deviceId, protocol, channel, remoteAddress ) ;^131^^^^^98^137^[REPLACE] Context.getConnectionManager (  ) .addActiveDevice ( deviceId, protocol, channel, remoteAddress ) ;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[ADD]^^129^^^^^98^137^[ADD] channelDeviceSession = new DeviceSession ( deviceId ) ;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^return deviceSession  ;^135^^^^^98^137^[REPLACE] return channelDeviceSession;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^DeviceSession deviceSession = getDeviceSession ( channel, remoteAddress )  ;^112^^^^^98^137^[REPLACE] DeviceSession deviceSession = addressDeviceSessions.get ( remoteAddress ) ;^[METHOD] getDeviceSession [TYPE] DeviceSession [PARAMETER] Channel channel SocketAddress remoteAddress  uniqueIds [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Channel channel  [TYPE]  String[] uniqueIds  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions  [TYPE]  long deviceId 
[REPLACE]^if  ( position.getDeviceId (  )   ==  0 / 0 )  {^144^^^^^143^166^[REPLACE] if  ( position.getDeviceId (  )  != 0 )  {^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[ADD]^position.setOutdated ( true ) ;Position last = Context.getIdentityManager (  ) .getLastPosition ( position.getDeviceId (  )  ) ;^144^145^^147^^143^166^[ADD] if  ( position.getDeviceId (  )  != 0 )  { position.setOutdated ( true ) ; Position last = Context.getIdentityManager (  ) .getLastPosition ( position.getDeviceId (  )  ) ;^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[REPLACE]^if  ( last == true )  {^148^^^^^143^166^[REPLACE] if  ( last != null )  {^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[ADD]^position.setFixTime ( last.getFixTime (  )  ) ;position.setValid ( last.getValid (  )  ) ;position.setLatitude ( last.getLatitude (  )  ) ;position.setLongitude ( last.getLongitude (  )  ) ;^148^149^150^151^152^143^166^[ADD] if  ( last != null )  { position.setFixTime ( last.getFixTime (  )  ) ; position.setValid ( last.getValid (  )  ) ; position.setLatitude ( last.getLatitude (  )  ) ; position.setLongitude ( last.getLongitude (  )  ) ;^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[REPLACE]^position.setFixTime ( new Date ( 4 )  ) ;^157^^^^^148^158^[REPLACE] position.setFixTime ( new Date ( 0 )  ) ;^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[REPLACE]^position .getFixTime (  )  ;^149^^^^^143^166^[REPLACE] position.setFixTime ( last.getFixTime (  )  ) ;^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[ADD]^^149^150^^^^143^166^[ADD] position.setFixTime ( last.getFixTime (  )  ) ; position.setValid ( last.getValid (  )  ) ;^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[REPLACE]^position.setFixTime ( position.getFixTime (  )  ) ;^149^^^^^143^166^[REPLACE] position.setFixTime ( last.getFixTime (  )  ) ;^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[REPLACE]^position .getValid (  )  ;^150^^^^^143^166^[REPLACE] position.setValid ( last.getValid (  )  ) ;^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[REPLACE]^last.getSpeed (  )  ;^150^^^^^143^166^[REPLACE] position.setValid ( last.getValid (  )  ) ;^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[REMOVE]^last.getSpeed (  )  ;^150^^^^^143^166^[REMOVE] ^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[REPLACE]^position.setLatitude ( last .setLatitude (  )   ) ;^151^^^^^143^166^[REPLACE] position.setLatitude ( last.getLatitude (  )  ) ;^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[REPLACE]^position.setLatitude ( position.getLatitude (  )  ) ;^151^^^^^143^166^[REPLACE] position.setLatitude ( last.getLatitude (  )  ) ;^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[ADD]^^151^152^^^^143^166^[ADD] position.setLatitude ( last.getLatitude (  )  ) ; position.setLongitude ( last.getLongitude (  )  ) ;^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[REPLACE]^position.setOutdated ( last.getLongitude (  )  ) ;^152^^^^^143^166^[REPLACE] position.setLongitude ( last.getLongitude (  )  ) ;^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[REMOVE]^position.setLatitude ( last.getLatitude (  )  )  ;^152^^^^^143^166^[REMOVE] ^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[REPLACE]^last.getLatitude (  )  ;^152^^^^^143^166^[REPLACE] position.setLongitude ( last.getLongitude (  )  ) ;^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[REPLACE]^position.setAltitude ( last .setAltitude (  )   ) ;^153^^^^^143^166^[REPLACE] position.setAltitude ( last.getAltitude (  )  ) ;^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[REPLACE]^position.setAltitude ( position.setAltitude (  )  ) ;^153^^^^^143^166^[REPLACE] position.setAltitude ( last.getAltitude (  )  ) ;^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[REPLACE]^position.setOutdated ( last.getSpeed (  )  ) ;^154^^^^^143^166^[REPLACE] position.setSpeed ( last.getSpeed (  )  ) ;^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[REMOVE]^position.setValid ( last.getValid (  )  )  ;^154^^^^^143^166^[REMOVE] ^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[REPLACE]^last.getValid (  )  ;^154^^^^^143^166^[REPLACE] position.setSpeed ( last.getSpeed (  )  ) ;^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[ADD]^^154^^^^^143^166^[ADD] position.setSpeed ( last.getSpeed (  )  ) ;^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[REPLACE]^position.setCourse ( last .setCourse (  )   ) ;^155^^^^^143^166^[REPLACE] position.setCourse ( last.getCourse (  )  ) ;^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[REPLACE]^position.setCourse ( position.getCourse (  )  ) ;^155^^^^^143^166^[REPLACE] position.setCourse ( last.getCourse (  )  ) ;^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[ADD]^^155^^^^^143^166^[ADD] position.setCourse ( last.getCourse (  )  ) ;^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[REPLACE]^if  (  ( position.getDeviceId (  )  )  != 0  || ( deviceTime == null )  {^160^^^^^143^166^[REPLACE] if  ( deviceTime != null )  {^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[ADD]^position.setDeviceTime ( deviceTime ) ;position.setDeviceTime ( new Date (  )  ) ;^160^161^162^163^164^143^166^[ADD] if  ( deviceTime != null )  { position.setDeviceTime ( deviceTime ) ; } else { position.setDeviceTime ( new Date (  )  ) ; }^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[REPLACE]^position.setFixTime ( new Date (  )  ) ;^163^^^^^160^164^[REPLACE] position.setDeviceTime ( new Date (  )  ) ;^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[REPLACE]^position.setFixTime ( deviceTime ) ;^161^^^^^143^166^[REPLACE] position.setDeviceTime ( deviceTime ) ;^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[REPLACE]^Position last = Context.getIdentityManager (  ) .getLastPosition ( position.setDeviceId (  )  ) ;^147^^^^^143^166^[REPLACE] Position last = Context.getIdentityManager (  ) .getLastPosition ( position.getDeviceId (  )  ) ;^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[REPLACE]^position.setFixTime ( new Date ( 0L )  ) ;^157^^^^^148^158^[REPLACE] position.setFixTime ( new Date ( 0 )  ) ;^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[ADD]^^157^^^^^148^158^[ADD] position.setFixTime ( new Date ( 0 )  ) ;^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[REPLACE]^position.setLatitude ( last.getLatitude (  )  )  ;^149^^^^^143^166^[REPLACE] position.setFixTime ( last.getFixTime (  )  ) ;^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[REPLACE]^last.getLatitude (  )  ;^149^^^^^143^166^[REPLACE] position.setFixTime ( last.getFixTime (  )  ) ;^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[ADD]^position.setValid ( last.getValid (  )  ) ;^149^150^^^^143^166^[ADD] position.setFixTime ( last.getFixTime (  )  ) ; position.setValid ( last.getValid (  )  ) ;^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[ADD]^position.setLatitude ( last.getLatitude (  )  ) ;^150^151^^^^143^166^[ADD] position.setValid ( last.getValid (  )  ) ; position.setLatitude ( last.getLatitude (  )  ) ;^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[REPLACE]^position .getLatitude (  )  ;^151^^^^^143^166^[REPLACE] position.setLatitude ( last.getLatitude (  )  ) ;^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[REPLACE]^position.setLatitude ( last.getLatitude (  )  )  ;^152^^^^^143^166^[REPLACE] position.setLongitude ( last.getLongitude (  )  ) ;^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[REPLACE]^position.setLongitude ( position.setLongitude (  )  ) ;^152^^^^^143^166^[REPLACE] position.setLongitude ( last.getLongitude (  )  ) ;^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[REMOVE]^last.getLatitude (  )  ;^152^^^^^143^166^[REMOVE] ^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[REPLACE]^position.setAltitude ( last.setAltitude (  )  ) ;^153^^^^^143^166^[REPLACE] position.setAltitude ( last.getAltitude (  )  ) ;^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[REPLACE]^position.setAltitude ( position.getAltitude (  )  ) ;^153^^^^^143^166^[REPLACE] position.setAltitude ( last.getAltitude (  )  ) ;^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[ADD]^^153^154^^^^143^166^[ADD] position.setAltitude ( last.getAltitude (  )  ) ; position.setSpeed ( last.getSpeed (  )  ) ;^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[REPLACE]^position.setSpeed ( position.setSpeed (  )  ) ;^154^^^^^143^166^[REPLACE] position.setSpeed ( last.getSpeed (  )  ) ;^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[REPLACE]^position .getCourse (  )  ;^155^^^^^143^166^[REPLACE] position.setCourse ( last.getCourse (  )  ) ;^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[REPLACE]^position.setCourse ( position.setCourse (  )  ) ;^155^^^^^143^166^[REPLACE] position.setCourse ( last.getCourse (  )  ) ;^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[REPLACE]^if  ( deviceTime == this  )  {^160^^^^^143^166^[REPLACE] if  ( deviceTime != null )  {^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[REPLACE]^Position last = Context.getDeviceManager (  ) .getLastPosition ( last.getDeviceId (  )  ) ;^147^^^^^143^166^[REPLACE] Position last = Context.getIdentityManager (  ) .getLastPosition ( position.getDeviceId (  )  ) ;^[METHOD] getLastLocation [TYPE] void [PARAMETER] Position position Date deviceTime [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Protocol protocol  [TYPE]  Map addressDeviceSessions  [TYPE]  Position last  position  [TYPE]  Date deviceTime 
[REPLACE]^if  ( Context.getStatisticsManager (  )  == false )  {^171^^^^^170^195^[REPLACE] if  ( Context.getStatisticsManager (  )  != null )  {^[METHOD] onMessageEvent [TYPE] void [PARAMETER] Channel channel SocketAddress remoteAddress Object originalMessage Object decodedMessage [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Collection positions  [TYPE]  Object decodedMessage  originalMessage  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions 
[REPLACE]^Context.getDeviceManager (  ) .registerMessageReceived (  ) ;^172^^^^^170^195^[REPLACE] Context.getStatisticsManager (  ) .registerMessageReceived (  ) ;^[METHOD] onMessageEvent [TYPE] void [PARAMETER] Channel channel SocketAddress remoteAddress Object originalMessage Object decodedMessage [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Collection positions  [TYPE]  Object decodedMessage  originalMessage  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions 
[REPLACE]^( getStatisticsManager (  )  )  ;^172^^^^^170^195^[REPLACE] Context.getStatisticsManager (  ) .registerMessageReceived (  ) ;^[METHOD] onMessageEvent [TYPE] void [PARAMETER] Channel channel SocketAddress remoteAddress Object originalMessage Object decodedMessage [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Collection positions  [TYPE]  Object decodedMessage  originalMessage  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions 
[REPLACE]^Position position = false;^174^^^^^170^195^[REPLACE] Position position = null;^[METHOD] onMessageEvent [TYPE] void [PARAMETER] Channel channel SocketAddress remoteAddress Object originalMessage Object decodedMessage [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Collection positions  [TYPE]  Object decodedMessage  originalMessage  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions 
[REPLACE]^if  ( decodedMessage ==originalMessage  || decodedMessage instanceof Position  )  {^175^^^^^170^195^[REPLACE] if  ( decodedMessage != null )  {^[METHOD] onMessageEvent [TYPE] void [PARAMETER] Channel channel SocketAddress remoteAddress Object originalMessage Object decodedMessage [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Collection positions  [TYPE]  Object decodedMessage  originalMessage  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions 
[REPLACE]^if  ( ! decodedMessage instanceof Position )  {^176^^^^^170^195^[REPLACE] if  ( decodedMessage instanceof Position )  {^[METHOD] onMessageEvent [TYPE] void [PARAMETER] Channel channel SocketAddress remoteAddress Object originalMessage Object decodedMessage [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Collection positions  [TYPE]  Object decodedMessage  originalMessage  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions 
[ADD]^position =  ( Position )  decodedMessage;Collection positions =  ( Collection )  decodedMessage;^176^177^178^179^^170^195^[ADD] if  ( decodedMessage instanceof Position )  { position =  ( Position )  decodedMessage; } else if  ( decodedMessage instanceof Collection )  { Collection positions =  ( Collection )  decodedMessage;^[METHOD] onMessageEvent [TYPE] void [PARAMETER] Channel channel SocketAddress remoteAddress Object originalMessage Object decodedMessage [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Collection positions  [TYPE]  Object decodedMessage  originalMessage  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions 
[REPLACE]^}  if  ( !DeviceSession instanceof Collection  || decodedMessage instanceof Position  )  {^178^^^^^170^195^[REPLACE] } else if  ( decodedMessage instanceof Collection )  {^[METHOD] onMessageEvent [TYPE] void [PARAMETER] Channel channel SocketAddress remoteAddress Object originalMessage Object decodedMessage [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Collection positions  [TYPE]  Object decodedMessage  originalMessage  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions 
[REPLACE]^if  ( positions.isEmpty (  )  )  {^180^^^^^170^195^[REPLACE] if  ( !positions.isEmpty (  )  )  {^[METHOD] onMessageEvent [TYPE] void [PARAMETER] Channel channel SocketAddress remoteAddress Object originalMessage Object decodedMessage [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Collection positions  [TYPE]  Object decodedMessage  originalMessage  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions 
[ADD]^position =  ( Position )  positions.iterator (  ) .next (  ) ;^180^181^182^^^170^195^[ADD] if  ( !positions.isEmpty (  )  )  { position =  ( Position )  positions.iterator (  ) .next (  ) ; }^[METHOD] onMessageEvent [TYPE] void [PARAMETER] Channel channel SocketAddress remoteAddress Object originalMessage Object decodedMessage [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Collection positions  [TYPE]  Object decodedMessage  originalMessage  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions 
[ADD]^^181^^^^^170^195^[ADD] position =  ( Position )  positions.iterator (  ) .next (  ) ;^[METHOD] onMessageEvent [TYPE] void [PARAMETER] Channel channel SocketAddress remoteAddress Object originalMessage Object decodedMessage [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Collection positions  [TYPE]  Object decodedMessage  originalMessage  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions 
[REPLACE]^position =   ( Position )  null.iterator (  ) .next (  ) ;^181^^^^^170^195^[REPLACE] position =  ( Position )  positions.iterator (  ) .next (  ) ;^[METHOD] onMessageEvent [TYPE] void [PARAMETER] Channel channel SocketAddress remoteAddress Object originalMessage Object decodedMessage [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Collection positions  [TYPE]  Object decodedMessage  originalMessage  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions 
[ADD]^^177^^^^^170^195^[ADD] position =  ( Position )  decodedMessage;^[METHOD] onMessageEvent [TYPE] void [PARAMETER] Channel channel SocketAddress remoteAddress Object originalMessage Object decodedMessage [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Collection positions  [TYPE]  Object decodedMessage  originalMessage  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions 
[REPLACE]^}  if  ( ! originalMessage instanceof Collection )  {^178^^^^^170^195^[REPLACE] } else if  ( decodedMessage instanceof Collection )  {^[METHOD] onMessageEvent [TYPE] void [PARAMETER] Channel channel SocketAddress remoteAddress Object originalMessage Object decodedMessage [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Collection positions  [TYPE]  Object decodedMessage  originalMessage  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions 
[ADD]^^180^181^182^^^170^195^[ADD] if  ( !positions.isEmpty (  )  )  { position =  ( Position )  positions.iterator (  ) .next (  ) ; }^[METHOD] onMessageEvent [TYPE] void [PARAMETER] Channel channel SocketAddress remoteAddress Object originalMessage Object decodedMessage [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Collection positions  [TYPE]  Object decodedMessage  originalMessage  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions 
[REPLACE]^position =   ( Position )  decodedMessage;^177^^^^^170^195^[REPLACE] position =  ( Position )  decodedMessage;^[METHOD] onMessageEvent [TYPE] void [PARAMETER] Channel channel SocketAddress remoteAddress Object originalMessage Object decodedMessage [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Collection positions  [TYPE]  Object decodedMessage  originalMessage  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions 
[REPLACE]^if  ( !String instanceof Position )  {^176^^^^^170^195^[REPLACE] if  ( decodedMessage instanceof Position )  {^[METHOD] onMessageEvent [TYPE] void [PARAMETER] Channel channel SocketAddress remoteAddress Object originalMessage Object decodedMessage [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Collection positions  [TYPE]  Object decodedMessage  originalMessage  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions 
[REPLACE]^}  else {^178^^^^^170^195^[REPLACE] } else if  ( decodedMessage instanceof Collection )  {^[METHOD] onMessageEvent [TYPE] void [PARAMETER] Channel channel SocketAddress remoteAddress Object originalMessage Object decodedMessage [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Collection positions  [TYPE]  Object decodedMessage  originalMessage  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions 
[REPLACE]^if  ( !positions .iterator (  )   )  {^180^^^^^170^195^[REPLACE] if  ( !positions.isEmpty (  )  )  {^[METHOD] onMessageEvent [TYPE] void [PARAMETER] Channel channel SocketAddress remoteAddress Object originalMessage Object decodedMessage [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Collection positions  [TYPE]  Object decodedMessage  originalMessage  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions 
[REPLACE]^position =  (  ( Position )   ( decodedMessage )  )  ;^181^^^^^170^195^[REPLACE] position =  ( Position )  positions.iterator (  ) .next (  ) ;^[METHOD] onMessageEvent [TYPE] void [PARAMETER] Channel channel SocketAddress remoteAddress Object originalMessage Object decodedMessage [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Collection positions  [TYPE]  Object decodedMessage  originalMessage  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions 
[REPLACE]^}  if  ( ! decodedMessage instanceof Collection )  {^178^^^^^170^195^[REPLACE] } else if  ( decodedMessage instanceof Collection )  {^[METHOD] onMessageEvent [TYPE] void [PARAMETER] Channel channel SocketAddress remoteAddress Object originalMessage Object decodedMessage [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Collection positions  [TYPE]  Object decodedMessage  originalMessage  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions 
[ADD]^^179^^^^^170^195^[ADD] Collection positions =  ( Collection )  decodedMessage;^[METHOD] onMessageEvent [TYPE] void [PARAMETER] Channel channel SocketAddress remoteAddress Object originalMessage Object decodedMessage [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Collection positions  [TYPE]  Object decodedMessage  originalMessage  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions 
[REPLACE]^if  ( position == null )  {^185^^^^^170^195^[REPLACE] if  ( position != null )  {^[METHOD] onMessageEvent [TYPE] void [PARAMETER] Channel channel SocketAddress remoteAddress Object originalMessage Object decodedMessage [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Collection positions  [TYPE]  Object decodedMessage  originalMessage  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions 
[REPLACE]^if  (channelDeviceSession == true  || decodedMessage instanceof Collection  )  {^190^^^^^185^194^[REPLACE] if  ( deviceSession != null )  {^[METHOD] onMessageEvent [TYPE] void [PARAMETER] Channel channel SocketAddress remoteAddress Object originalMessage Object decodedMessage [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Collection positions  [TYPE]  Object decodedMessage  originalMessage  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions 
[REPLACE]^DeviceSession deviceSession = addressDeviceSessions.get ( remoteAddress )  ;^189^^^^^185^194^[REPLACE] DeviceSession deviceSession = getDeviceSession ( channel, remoteAddress ) ;^[METHOD] onMessageEvent [TYPE] void [PARAMETER] Channel channel SocketAddress remoteAddress Object originalMessage Object decodedMessage [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Collection positions  [TYPE]  Object decodedMessage  originalMessage  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions 
[REPLACE]^Context.getConnectionManager (  ) .addDevice ( position.getDeviceId (  ) , Device.STATUS_ONLINE, new Date (  )  ) ;^186^187^^^^170^195^[REPLACE] Context.getConnectionManager (  ) .updateDevice ( position.getDeviceId (  ) , Device.STATUS_ONLINE, new Date (  )  ) ;^[METHOD] onMessageEvent [TYPE] void [PARAMETER] Channel channel SocketAddress remoteAddress Object originalMessage Object decodedMessage [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Collection positions  [TYPE]  Object decodedMessage  originalMessage  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions 
[ADD]^^186^187^^^^170^195^[ADD] Context.getConnectionManager (  ) .updateDevice ( position.getDeviceId (  ) , Device.STATUS_ONLINE, new Date (  )  ) ;^[METHOD] onMessageEvent [TYPE] void [PARAMETER] Channel channel SocketAddress remoteAddress Object originalMessage Object decodedMessage [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Collection positions  [TYPE]  Object decodedMessage  originalMessage  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions 
[REPLACE]^Context.getIdentityManager (  ) .updateDevice ( position.getDeviceId (  ) , Device.STATUS_ONLINE, new Date (  )  ) ;^186^187^^^^170^195^[REPLACE] Context.getConnectionManager (  ) .updateDevice ( position.getDeviceId (  ) , Device.STATUS_ONLINE, new Date (  )  ) ;^[METHOD] onMessageEvent [TYPE] void [PARAMETER] Channel channel SocketAddress remoteAddress Object originalMessage Object decodedMessage [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Collection positions  [TYPE]  Object decodedMessage  originalMessage  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions 
[REPLACE]^( position.getDeviceId (  )  )  ;^187^^^^^170^195^[REPLACE] position.getDeviceId (  ) , Device.STATUS_ONLINE, new Date (  )  ) ;^[METHOD] onMessageEvent [TYPE] void [PARAMETER] Channel channel SocketAddress remoteAddress Object originalMessage Object decodedMessage [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Collection positions  [TYPE]  Object decodedMessage  originalMessage  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions 
[REMOVE]^( position.getDeviceId (  )  )  ;^187^^^^^170^195^[REMOVE] ^[METHOD] onMessageEvent [TYPE] void [PARAMETER] Channel channel SocketAddress remoteAddress Object originalMessage Object decodedMessage [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Collection positions  [TYPE]  Object decodedMessage  originalMessage  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions 
[REPLACE]^if  ( deviceSession == this  )  {^190^^^^^170^195^[REPLACE] if  ( deviceSession != null )  {^[METHOD] onMessageEvent [TYPE] void [PARAMETER] Channel channel SocketAddress remoteAddress Object originalMessage Object decodedMessage [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Collection positions  [TYPE]  Object decodedMessage  originalMessage  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions 
[REPLACE]^Context.getConnectionManager (  ) .updateDevice ( channelDeviceSession.getDeviceId (  ) , Device.STATUS_ONLINE, new Date (  )  ) ;^191^192^^^^170^195^[REPLACE] Context.getConnectionManager (  ) .updateDevice ( deviceSession.getDeviceId (  ) , Device.STATUS_ONLINE, new Date (  )  ) ;^[METHOD] onMessageEvent [TYPE] void [PARAMETER] Channel channel SocketAddress remoteAddress Object originalMessage Object decodedMessage [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Collection positions  [TYPE]  Object decodedMessage  originalMessage  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions 
[REPLACE]^Context.getIdentityManager (  ) .updateDevice ( deviceSession.getDeviceId (  ) , Device.STATUS_ONLINE, new Date (  )  ) ;^191^192^^^^170^195^[REPLACE] Context.getConnectionManager (  ) .updateDevice ( deviceSession.getDeviceId (  ) , Device.STATUS_ONLINE, new Date (  )  ) ;^[METHOD] onMessageEvent [TYPE] void [PARAMETER] Channel channel SocketAddress remoteAddress Object originalMessage Object decodedMessage [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Collection positions  [TYPE]  Object decodedMessage  originalMessage  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions 
[REPLACE]^( deviceSession.getDeviceId (  )  )  ;^192^^^^^170^195^[REPLACE] deviceSession.getDeviceId (  ) , Device.STATUS_ONLINE, new Date (  )  ) ;^[METHOD] onMessageEvent [TYPE] void [PARAMETER] Channel channel SocketAddress remoteAddress Object originalMessage Object decodedMessage [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Collection positions  [TYPE]  Object decodedMessage  originalMessage  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions 
[ADD]^^189^^^^^170^195^[ADD] DeviceSession deviceSession = getDeviceSession ( channel, remoteAddress ) ;^[METHOD] onMessageEvent [TYPE] void [PARAMETER] Channel channel SocketAddress remoteAddress Object originalMessage Object decodedMessage [CLASS] BaseProtocolDecoder   [TYPE]  boolean false  true  [TYPE]  DeviceSession channelDeviceSession  deviceSession  [TYPE]  Position position  [TYPE]  Channel channel  [TYPE]  Collection positions  [TYPE]  Object decodedMessage  originalMessage  [TYPE]  Protocol protocol  [TYPE]  SocketAddress remoteAddress  [TYPE]  Map addressDeviceSessions 
