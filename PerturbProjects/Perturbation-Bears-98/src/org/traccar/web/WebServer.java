[REPLACE]^private  Config config;^50^^^^^^^[REPLACE] private final Config config;^ [CLASS] WebServer 1  
[REPLACE]^private  DataSource dataSource;^51^^^^^^^[REPLACE] private final DataSource dataSource;^ [CLASS] WebServer 1  
[REPLACE]^private final HandlerList handlers ;^52^^^^^^^[REPLACE] private final HandlerList handlers = new HandlerList (  ) ;^ [CLASS] WebServer 1  
[REPLACE]^private  SessionManager sessionManager;^53^^^^^^^[REPLACE] private final SessionManager sessionManager;^ [CLASS] WebServer 1  
[REPLACE]^this.config =  null;^67^^^^^66^99^[REPLACE] this.config = config;^[METHOD] <init> [TYPE] DataSource) [PARAMETER] Config config DataSource dataSource [CLASS] WebServer 1   [TYPE]  HandlerList handlers  [TYPE]  HttpServletRequest request  [TYPE]  boolean false  true  [TYPE]  Server server  [TYPE]  Config config  [TYPE]  SessionManager sessionManager  [TYPE]  String message  [TYPE]  int code  sessionTimeout  [TYPE]  Writer writer  [TYPE]  DataSource dataSource 
[REPLACE]^this.dataSource =  null;^68^^^^^66^99^[REPLACE] this.dataSource = dataSource;^[METHOD] <init> [TYPE] DataSource) [PARAMETER] Config config DataSource dataSource [CLASS] WebServer 1   [TYPE]  HandlerList handlers  [TYPE]  HttpServletRequest request  [TYPE]  boolean false  true  [TYPE]  Server server  [TYPE]  Config config  [TYPE]  SessionManager sessionManager  [TYPE]  String message  [TYPE]  int code  sessionTimeout  [TYPE]  Writer writer  [TYPE]  DataSource dataSource 
[ADD]^^70^^^^^66^99^[ADD] sessionManager = new HashSessionManager (  ) ;^[METHOD] <init> [TYPE] DataSource) [PARAMETER] Config config DataSource dataSource [CLASS] WebServer 1   [TYPE]  HandlerList handlers  [TYPE]  HttpServletRequest request  [TYPE]  boolean false  true  [TYPE]  Server server  [TYPE]  Config config  [TYPE]  SessionManager sessionManager  [TYPE]  String message  [TYPE]  int code  sessionTimeout  [TYPE]  Writer writer  [TYPE]  DataSource dataSource 
[REPLACE]^int sessionTimeout = config.getString ( "web.sessionTimeout" ) ;^71^^^^^66^99^[REPLACE] int sessionTimeout = config.getInteger ( "web.sessionTimeout" ) ;^[METHOD] <init> [TYPE] DataSource) [PARAMETER] Config config DataSource dataSource [CLASS] WebServer 1   [TYPE]  HandlerList handlers  [TYPE]  HttpServletRequest request  [TYPE]  boolean false  true  [TYPE]  Server server  [TYPE]  Config config  [TYPE]  SessionManager sessionManager  [TYPE]  String message  [TYPE]  int code  sessionTimeout  [TYPE]  Writer writer  [TYPE]  DataSource dataSource 
[REPLACE]^if  ( sessionTimeout  ==  0 )  {^72^^^^^66^99^[REPLACE] if  ( sessionTimeout != 0 )  {^[METHOD] <init> [TYPE] DataSource) [PARAMETER] Config config DataSource dataSource [CLASS] WebServer 1   [TYPE]  HandlerList handlers  [TYPE]  HttpServletRequest request  [TYPE]  boolean false  true  [TYPE]  Server server  [TYPE]  Config config  [TYPE]  SessionManager sessionManager  [TYPE]  String message  [TYPE]  int code  sessionTimeout  [TYPE]  Writer writer  [TYPE]  DataSource dataSource 
[REPLACE]^sessionManager.setMaxInactiveInterval ( code ) ;^73^^^^^66^99^[REPLACE] sessionManager.setMaxInactiveInterval ( sessionTimeout ) ;^[METHOD] <init> [TYPE] DataSource) [PARAMETER] Config config DataSource dataSource [CLASS] WebServer 1   [TYPE]  HandlerList handlers  [TYPE]  HttpServletRequest request  [TYPE]  boolean false  true  [TYPE]  Server server  [TYPE]  Config config  [TYPE]  SessionManager sessionManager  [TYPE]  String message  [TYPE]  int code  sessionTimeout  [TYPE]  Writer writer  [TYPE]  DataSource dataSource 
[REPLACE]^initWebApp (  )  ;^77^^^^^66^99^[REPLACE] initApi (  ) ;^[METHOD] <init> [TYPE] DataSource) [PARAMETER] Config config DataSource dataSource [CLASS] WebServer 1   [TYPE]  HandlerList handlers  [TYPE]  HttpServletRequest request  [TYPE]  boolean false  true  [TYPE]  Server server  [TYPE]  Config config  [TYPE]  SessionManager sessionManager  [TYPE]  String message  [TYPE]  int code  sessionTimeout  [TYPE]  Writer writer  [TYPE]  DataSource dataSource 
[REPLACE]^if  ( config .getString ( message )   )  {^78^^^^^66^99^[REPLACE] if  ( config.getBoolean ( "web.console" )  )  {^[METHOD] <init> [TYPE] DataSource) [PARAMETER] Config config DataSource dataSource [CLASS] WebServer 1   [TYPE]  HandlerList handlers  [TYPE]  HttpServletRequest request  [TYPE]  boolean false  true  [TYPE]  Server server  [TYPE]  Config config  [TYPE]  SessionManager sessionManager  [TYPE]  String message  [TYPE]  int code  sessionTimeout  [TYPE]  Writer writer  [TYPE]  DataSource dataSource 
[ADD]^initConsole (  ) ;^78^79^80^^^66^99^[ADD] if  ( config.getBoolean ( "web.console" )  )  { initConsole (  ) ; }^[METHOD] <init> [TYPE] DataSource) [PARAMETER] Config config DataSource dataSource [CLASS] WebServer 1   [TYPE]  HandlerList handlers  [TYPE]  HttpServletRequest request  [TYPE]  boolean false  true  [TYPE]  Server server  [TYPE]  Config config  [TYPE]  SessionManager sessionManager  [TYPE]  String message  [TYPE]  int code  sessionTimeout  [TYPE]  Writer writer  [TYPE]  DataSource dataSource 
[REPLACE]^switch  ( config .getString ( message )   )  {^81^^^^^66^99^[REPLACE] switch  ( config.getString ( "web.type", "new" )  )  {^[METHOD] <init> [TYPE] DataSource) [PARAMETER] Config config DataSource dataSource [CLASS] WebServer 1   [TYPE]  HandlerList handlers  [TYPE]  HttpServletRequest request  [TYPE]  boolean false  true  [TYPE]  Server server  [TYPE]  Config config  [TYPE]  SessionManager sessionManager  [TYPE]  String message  [TYPE]  int code  sessionTimeout  [TYPE]  Writer writer  [TYPE]  DataSource dataSource 
[REPLACE]^initWebApp (  )  ;^83^^^^^66^99^[REPLACE] initOldWebApp (  ) ;^[METHOD] <init> [TYPE] DataSource) [PARAMETER] Config config DataSource dataSource [CLASS] WebServer 1   [TYPE]  HandlerList handlers  [TYPE]  HttpServletRequest request  [TYPE]  boolean false  true  [TYPE]  Server server  [TYPE]  Config config  [TYPE]  SessionManager sessionManager  [TYPE]  String message  [TYPE]  int code  sessionTimeout  [TYPE]  Writer writer  [TYPE]  DataSource dataSource 
[ADD]^break;^83^84^^^^66^99^[ADD] initOldWebApp (  ) ; break;^[METHOD] <init> [TYPE] DataSource) [PARAMETER] Config config DataSource dataSource [CLASS] WebServer 1   [TYPE]  HandlerList handlers  [TYPE]  HttpServletRequest request  [TYPE]  boolean false  true  [TYPE]  Server server  [TYPE]  Config config  [TYPE]  SessionManager sessionManager  [TYPE]  String message  [TYPE]  int code  sessionTimeout  [TYPE]  Writer writer  [TYPE]  DataSource dataSource 
[REPLACE]^initOldWebApp (  )  ;^86^^^^^66^99^[REPLACE] initWebApp (  ) ;^[METHOD] <init> [TYPE] DataSource) [PARAMETER] Config config DataSource dataSource [CLASS] WebServer 1   [TYPE]  HandlerList handlers  [TYPE]  HttpServletRequest request  [TYPE]  boolean false  true  [TYPE]  Server server  [TYPE]  Config config  [TYPE]  SessionManager sessionManager  [TYPE]  String message  [TYPE]  int code  sessionTimeout  [TYPE]  Writer writer  [TYPE]  DataSource dataSource 
[REPLACE]^server .Server ( sessionTimeout )  ;^89^^^^^66^99^[REPLACE] server.setHandler ( handlers ) ;^[METHOD] <init> [TYPE] DataSource) [PARAMETER] Config config DataSource dataSource [CLASS] WebServer 1   [TYPE]  HandlerList handlers  [TYPE]  HttpServletRequest request  [TYPE]  boolean false  true  [TYPE]  Server server  [TYPE]  Config config  [TYPE]  SessionManager sessionManager  [TYPE]  String message  [TYPE]  int code  sessionTimeout  [TYPE]  Writer writer  [TYPE]  DataSource dataSource 
[ADD]^^89^^^^^66^99^[ADD] server.setHandler ( handlers ) ;^[METHOD] <init> [TYPE] DataSource) [PARAMETER] Config config DataSource dataSource [CLASS] WebServer 1   [TYPE]  HandlerList handlers  [TYPE]  HttpServletRequest request  [TYPE]  boolean false  true  [TYPE]  Server server  [TYPE]  Config config  [TYPE]  SessionManager sessionManager  [TYPE]  String message  [TYPE]  int code  sessionTimeout  [TYPE]  Writer writer  [TYPE]  DataSource dataSource 
[ADD]^^91^92^93^^^66^99^[ADD] server.addBean ( new ErrorHandler (  )  { @Override protected void handleErrorPage (^[METHOD] <init> [TYPE] DataSource) [PARAMETER] Config config DataSource dataSource [CLASS] WebServer 1   [TYPE]  HandlerList handlers  [TYPE]  HttpServletRequest request  [TYPE]  boolean false  true  [TYPE]  Server server  [TYPE]  Config config  [TYPE]  SessionManager sessionManager  [TYPE]  String message  [TYPE]  int code  sessionTimeout  [TYPE]  Writer writer  [TYPE]  DataSource dataSource 
[REPLACE]^writer.write ( "<DOCTYPE<html><head><title>Error</title></head><html><body>" + code + " - " + HttpStatus.getMessage ( code )  + "</body></html>" ) ;^95^96^^^^66^99^[REPLACE] writer.write ( "<!DOCTYPE<html><head><title>Error</title></head><html><body>" + code + " - " + HttpStatus.getMessage ( code )  + "</body></html>" ) ;^[METHOD] <init> [TYPE] DataSource) [PARAMETER] Config config DataSource dataSource [CLASS] WebServer 1   [TYPE]  HandlerList handlers  [TYPE]  HttpServletRequest request  [TYPE]  boolean false  true  [TYPE]  Server server  [TYPE]  Config config  [TYPE]  SessionManager sessionManager  [TYPE]  String message  [TYPE]  int code  sessionTimeout  [TYPE]  Writer writer  [TYPE]  DataSource dataSource 
[REPLACE]^+ sessionTimeout + " - " + HttpStatus.getMessage ( code )  + "</body></html>" ) ;^96^^^^^66^99^[REPLACE] + code + " - " + HttpStatus.getMessage ( code )  + "</body></html>" ) ;^[METHOD] <init> [TYPE] DataSource) [PARAMETER] Config config DataSource dataSource [CLASS] WebServer 1   [TYPE]  HandlerList handlers  [TYPE]  HttpServletRequest request  [TYPE]  boolean false  true  [TYPE]  Server server  [TYPE]  Config config  [TYPE]  SessionManager sessionManager  [TYPE]  String message  [TYPE]  int code  sessionTimeout  [TYPE]  Writer writer  [TYPE]  DataSource dataSource 
