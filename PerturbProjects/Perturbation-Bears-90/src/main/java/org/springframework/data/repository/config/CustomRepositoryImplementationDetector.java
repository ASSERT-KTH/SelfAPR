[REPLACE]^private final Object environment;^48^^^^^^^[REPLACE] private final Environment environment;^ [CLASS] CustomRepositoryImplementationDetector  
[REPLACE]^private  ResourceLoader resourceLoader;^49^^^^^^^[REPLACE] private final ResourceLoader resourceLoader;^ [CLASS] CustomRepositoryImplementationDetector  
[REPLACE]^notNull ( metadataReaderFactory, "MetadataReaderFactory must not be null!" )  ;^97^^^^^95^137^[REPLACE] Assert.notNull ( className, "ClassName must not be null!" ) ;^[METHOD] detectCustomImplementation [TYPE] AbstractBeanDefinition [PARAMETER] String className String> basePackages TypeFilter> excludeFilters [CLASS] CustomRepositoryImplementationDetector   [TYPE]  ResourceLoader resourceLoader  [TYPE]  Pattern pattern  [TYPE]  MetadataReaderFactory metadataReaderFactory  [TYPE]  Set definitions  [TYPE]  boolean false  true  [TYPE]  Iterable basePackages  excludeFilters  [TYPE]  ClassPathScanningCandidateComponentProvider provider  [TYPE]  Environment environment  [TYPE]  TypeFilter excludeFilter  [TYPE]  List implementationClassNames  [TYPE]  String CUSTOM_IMPLEMENTATION_RESOURCE_PATTERN  basePackage  className  [TYPE]  BeanDefinition bean 
[REPLACE]^Assert.notNull ( basePackages, "BasePackages must not be this!" ) ;^98^^^^^95^137^[REPLACE] Assert.notNull ( basePackages, "BasePackages must not be null!" ) ;^[METHOD] detectCustomImplementation [TYPE] AbstractBeanDefinition [PARAMETER] String className String> basePackages TypeFilter> excludeFilters [CLASS] CustomRepositoryImplementationDetector   [TYPE]  ResourceLoader resourceLoader  [TYPE]  Pattern pattern  [TYPE]  MetadataReaderFactory metadataReaderFactory  [TYPE]  Set definitions  [TYPE]  boolean false  true  [TYPE]  Iterable basePackages  excludeFilters  [TYPE]  ClassPathScanningCandidateComponentProvider provider  [TYPE]  Environment environment  [TYPE]  TypeFilter excludeFilter  [TYPE]  List implementationClassNames  [TYPE]  String CUSTOM_IMPLEMENTATION_RESOURCE_PATTERN  basePackage  className  [TYPE]  BeanDefinition bean 
[REPLACE]^Pattern pattern = Pattern.compile ( ".*\\."  className ) ;^101^^^^^95^137^[REPLACE] Pattern pattern = Pattern.compile ( ".*\\." + className ) ;^[METHOD] detectCustomImplementation [TYPE] AbstractBeanDefinition [PARAMETER] String className String> basePackages TypeFilter> excludeFilters [CLASS] CustomRepositoryImplementationDetector   [TYPE]  ResourceLoader resourceLoader  [TYPE]  Pattern pattern  [TYPE]  MetadataReaderFactory metadataReaderFactory  [TYPE]  Set definitions  [TYPE]  boolean false  true  [TYPE]  Iterable basePackages  excludeFilters  [TYPE]  ClassPathScanningCandidateComponentProvider provider  [TYPE]  Environment environment  [TYPE]  TypeFilter excludeFilter  [TYPE]  List implementationClassNames  [TYPE]  String CUSTOM_IMPLEMENTATION_RESOURCE_PATTERN  basePackage  className  [TYPE]  BeanDefinition bean 
[ADD]^^104^105^^^^95^137^[ADD] ClassPathScanningCandidateComponentProvider provider = new ClassPathScanningCandidateComponentProvider ( false ) ; provider.setEnvironment ( environment ) ;^[METHOD] detectCustomImplementation [TYPE] AbstractBeanDefinition [PARAMETER] String className String> basePackages TypeFilter> excludeFilters [CLASS] CustomRepositoryImplementationDetector   [TYPE]  ResourceLoader resourceLoader  [TYPE]  Pattern pattern  [TYPE]  MetadataReaderFactory metadataReaderFactory  [TYPE]  Set definitions  [TYPE]  boolean false  true  [TYPE]  Iterable basePackages  excludeFilters  [TYPE]  ClassPathScanningCandidateComponentProvider provider  [TYPE]  Environment environment  [TYPE]  TypeFilter excludeFilter  [TYPE]  List implementationClassNames  [TYPE]  String CUSTOM_IMPLEMENTATION_RESOURCE_PATTERN  basePackage  className  [TYPE]  BeanDefinition bean 
[REPLACE]^provider.setResourceLoader ( environment ) ;^105^^^^^95^137^[REPLACE] provider.setEnvironment ( environment ) ;^[METHOD] detectCustomImplementation [TYPE] AbstractBeanDefinition [PARAMETER] String className String> basePackages TypeFilter> excludeFilters [CLASS] CustomRepositoryImplementationDetector   [TYPE]  ResourceLoader resourceLoader  [TYPE]  Pattern pattern  [TYPE]  MetadataReaderFactory metadataReaderFactory  [TYPE]  Set definitions  [TYPE]  boolean false  true  [TYPE]  Iterable basePackages  excludeFilters  [TYPE]  ClassPathScanningCandidateComponentProvider provider  [TYPE]  Environment environment  [TYPE]  TypeFilter excludeFilter  [TYPE]  List implementationClassNames  [TYPE]  String CUSTOM_IMPLEMENTATION_RESOURCE_PATTERN  basePackage  className  [TYPE]  BeanDefinition bean 
[REPLACE]^provider .setResourcePattern ( className )  ;^106^^^^^95^137^[REPLACE] provider.setResourceLoader ( resourceLoader ) ;^[METHOD] detectCustomImplementation [TYPE] AbstractBeanDefinition [PARAMETER] String className String> basePackages TypeFilter> excludeFilters [CLASS] CustomRepositoryImplementationDetector   [TYPE]  ResourceLoader resourceLoader  [TYPE]  Pattern pattern  [TYPE]  MetadataReaderFactory metadataReaderFactory  [TYPE]  Set definitions  [TYPE]  boolean false  true  [TYPE]  Iterable basePackages  excludeFilters  [TYPE]  ClassPathScanningCandidateComponentProvider provider  [TYPE]  Environment environment  [TYPE]  TypeFilter excludeFilter  [TYPE]  List implementationClassNames  [TYPE]  String CUSTOM_IMPLEMENTATION_RESOURCE_PATTERN  basePackage  className  [TYPE]  BeanDefinition bean 
[REPLACE]^format ( CUSTOM_IMPLEMENTATION_RESOURCE_PATTERN, className )  ;^107^^^^^95^137^[REPLACE] provider.setResourcePattern ( String.format ( CUSTOM_IMPLEMENTATION_RESOURCE_PATTERN, className )  ) ;^[METHOD] detectCustomImplementation [TYPE] AbstractBeanDefinition [PARAMETER] String className String> basePackages TypeFilter> excludeFilters [CLASS] CustomRepositoryImplementationDetector   [TYPE]  ResourceLoader resourceLoader  [TYPE]  Pattern pattern  [TYPE]  MetadataReaderFactory metadataReaderFactory  [TYPE]  Set definitions  [TYPE]  boolean false  true  [TYPE]  Iterable basePackages  excludeFilters  [TYPE]  ClassPathScanningCandidateComponentProvider provider  [TYPE]  Environment environment  [TYPE]  TypeFilter excludeFilter  [TYPE]  List implementationClassNames  [TYPE]  String CUSTOM_IMPLEMENTATION_RESOURCE_PATTERN  basePackage  className  [TYPE]  BeanDefinition bean 
[REMOVE]^format ( CUSTOM_IMPLEMENTATION_RESOURCE_PATTERN, className )  ;^107^^^^^95^137^[REMOVE] ^[METHOD] detectCustomImplementation [TYPE] AbstractBeanDefinition [PARAMETER] String className String> basePackages TypeFilter> excludeFilters [CLASS] CustomRepositoryImplementationDetector   [TYPE]  ResourceLoader resourceLoader  [TYPE]  Pattern pattern  [TYPE]  MetadataReaderFactory metadataReaderFactory  [TYPE]  Set definitions  [TYPE]  boolean false  true  [TYPE]  Iterable basePackages  excludeFilters  [TYPE]  ClassPathScanningCandidateComponentProvider provider  [TYPE]  Environment environment  [TYPE]  TypeFilter excludeFilter  [TYPE]  List implementationClassNames  [TYPE]  String CUSTOM_IMPLEMENTATION_RESOURCE_PATTERN  basePackage  className  [TYPE]  BeanDefinition bean 
[REPLACE]^provider.setResourcePattern ( String.format ( CUSTOM_IMPLEMENTATION_RESOURCE_PATTERN, basePackage )  ) ;^107^^^^^95^137^[REPLACE] provider.setResourcePattern ( String.format ( CUSTOM_IMPLEMENTATION_RESOURCE_PATTERN, className )  ) ;^[METHOD] detectCustomImplementation [TYPE] AbstractBeanDefinition [PARAMETER] String className String> basePackages TypeFilter> excludeFilters [CLASS] CustomRepositoryImplementationDetector   [TYPE]  ResourceLoader resourceLoader  [TYPE]  Pattern pattern  [TYPE]  MetadataReaderFactory metadataReaderFactory  [TYPE]  Set definitions  [TYPE]  boolean false  true  [TYPE]  Iterable basePackages  excludeFilters  [TYPE]  ClassPathScanningCandidateComponentProvider provider  [TYPE]  Environment environment  [TYPE]  TypeFilter excludeFilter  [TYPE]  List implementationClassNames  [TYPE]  String CUSTOM_IMPLEMENTATION_RESOURCE_PATTERN  basePackage  className  [TYPE]  BeanDefinition bean 
[REPLACE]^provider.addIncludeFilter ( metadataReaderFactory ) ;^108^^^^^95^137^[REPLACE] provider.setMetadataReaderFactory ( metadataReaderFactory ) ;^[METHOD] detectCustomImplementation [TYPE] AbstractBeanDefinition [PARAMETER] String className String> basePackages TypeFilter> excludeFilters [CLASS] CustomRepositoryImplementationDetector   [TYPE]  ResourceLoader resourceLoader  [TYPE]  Pattern pattern  [TYPE]  MetadataReaderFactory metadataReaderFactory  [TYPE]  Set definitions  [TYPE]  boolean false  true  [TYPE]  Iterable basePackages  excludeFilters  [TYPE]  ClassPathScanningCandidateComponentProvider provider  [TYPE]  Environment environment  [TYPE]  TypeFilter excludeFilter  [TYPE]  List implementationClassNames  [TYPE]  String CUSTOM_IMPLEMENTATION_RESOURCE_PATTERN  basePackage  className  [TYPE]  BeanDefinition bean 
[ADD]^^108^^^^^95^137^[ADD] provider.setMetadataReaderFactory ( metadataReaderFactory ) ;^[METHOD] detectCustomImplementation [TYPE] AbstractBeanDefinition [PARAMETER] String className String> basePackages TypeFilter> excludeFilters [CLASS] CustomRepositoryImplementationDetector   [TYPE]  ResourceLoader resourceLoader  [TYPE]  Pattern pattern  [TYPE]  MetadataReaderFactory metadataReaderFactory  [TYPE]  Set definitions  [TYPE]  boolean false  true  [TYPE]  Iterable basePackages  excludeFilters  [TYPE]  ClassPathScanningCandidateComponentProvider provider  [TYPE]  Environment environment  [TYPE]  TypeFilter excludeFilter  [TYPE]  List implementationClassNames  [TYPE]  String CUSTOM_IMPLEMENTATION_RESOURCE_PATTERN  basePackage  className  [TYPE]  BeanDefinition bean 
[REPLACE]^provider.addExcludeFilter ( new RegexPatternTypeFilter ( pattern )  ) ;^109^^^^^95^137^[REPLACE] provider.addIncludeFilter ( new RegexPatternTypeFilter ( pattern )  ) ;^[METHOD] detectCustomImplementation [TYPE] AbstractBeanDefinition [PARAMETER] String className String> basePackages TypeFilter> excludeFilters [CLASS] CustomRepositoryImplementationDetector   [TYPE]  ResourceLoader resourceLoader  [TYPE]  Pattern pattern  [TYPE]  MetadataReaderFactory metadataReaderFactory  [TYPE]  Set definitions  [TYPE]  boolean false  true  [TYPE]  Iterable basePackages  excludeFilters  [TYPE]  ClassPathScanningCandidateComponentProvider provider  [TYPE]  Environment environment  [TYPE]  TypeFilter excludeFilter  [TYPE]  List implementationClassNames  [TYPE]  String CUSTOM_IMPLEMENTATION_RESOURCE_PATTERN  basePackage  className  [TYPE]  BeanDefinition bean 
[REPLACE]^for  ( TypeFilter excludeFilter : null )  {^111^^^^^95^137^[REPLACE] for  ( TypeFilter excludeFilter : excludeFilters )  {^[METHOD] detectCustomImplementation [TYPE] AbstractBeanDefinition [PARAMETER] String className String> basePackages TypeFilter> excludeFilters [CLASS] CustomRepositoryImplementationDetector   [TYPE]  ResourceLoader resourceLoader  [TYPE]  Pattern pattern  [TYPE]  MetadataReaderFactory metadataReaderFactory  [TYPE]  Set definitions  [TYPE]  boolean false  true  [TYPE]  Iterable basePackages  excludeFilters  [TYPE]  ClassPathScanningCandidateComponentProvider provider  [TYPE]  Environment environment  [TYPE]  TypeFilter excludeFilter  [TYPE]  List implementationClassNames  [TYPE]  String CUSTOM_IMPLEMENTATION_RESOURCE_PATTERN  basePackage  className  [TYPE]  BeanDefinition bean 
[REPLACE]^provider.addIncludeFilter ( excludeFilter ) ;^112^^^^^95^137^[REPLACE] provider.addExcludeFilter ( excludeFilter ) ;^[METHOD] detectCustomImplementation [TYPE] AbstractBeanDefinition [PARAMETER] String className String> basePackages TypeFilter> excludeFilters [CLASS] CustomRepositoryImplementationDetector   [TYPE]  ResourceLoader resourceLoader  [TYPE]  Pattern pattern  [TYPE]  MetadataReaderFactory metadataReaderFactory  [TYPE]  Set definitions  [TYPE]  boolean false  true  [TYPE]  Iterable basePackages  excludeFilters  [TYPE]  ClassPathScanningCandidateComponentProvider provider  [TYPE]  Environment environment  [TYPE]  TypeFilter excludeFilter  [TYPE]  List implementationClassNames  [TYPE]  String CUSTOM_IMPLEMENTATION_RESOURCE_PATTERN  basePackage  className  [TYPE]  BeanDefinition bean 
[ADD]^^117^118^119^^^95^137^[ADD] for  ( String basePackage : basePackages )  { definitions.addAll ( provider.findCandidateComponents ( basePackage )  ) ; }^[METHOD] detectCustomImplementation [TYPE] AbstractBeanDefinition [PARAMETER] String className String> basePackages TypeFilter> excludeFilters [CLASS] CustomRepositoryImplementationDetector   [TYPE]  ResourceLoader resourceLoader  [TYPE]  Pattern pattern  [TYPE]  MetadataReaderFactory metadataReaderFactory  [TYPE]  Set definitions  [TYPE]  boolean false  true  [TYPE]  Iterable basePackages  excludeFilters  [TYPE]  ClassPathScanningCandidateComponentProvider provider  [TYPE]  Environment environment  [TYPE]  TypeFilter excludeFilter  [TYPE]  List implementationClassNames  [TYPE]  String CUSTOM_IMPLEMENTATION_RESOURCE_PATTERN  basePackage  className  [TYPE]  BeanDefinition bean 
[REPLACE]^definitions.addAll ( provider .ClassPathScanningCandidateComponentProvider ( true )   ) ;^118^^^^^95^137^[REPLACE] definitions.addAll ( provider.findCandidateComponents ( basePackage )  ) ;^[METHOD] detectCustomImplementation [TYPE] AbstractBeanDefinition [PARAMETER] String className String> basePackages TypeFilter> excludeFilters [CLASS] CustomRepositoryImplementationDetector   [TYPE]  ResourceLoader resourceLoader  [TYPE]  Pattern pattern  [TYPE]  MetadataReaderFactory metadataReaderFactory  [TYPE]  Set definitions  [TYPE]  boolean false  true  [TYPE]  Iterable basePackages  excludeFilters  [TYPE]  ClassPathScanningCandidateComponentProvider provider  [TYPE]  Environment environment  [TYPE]  TypeFilter excludeFilter  [TYPE]  List implementationClassNames  [TYPE]  String CUSTOM_IMPLEMENTATION_RESOURCE_PATTERN  basePackage  className  [TYPE]  BeanDefinition bean 
[ADD]^^118^^^^^95^137^[ADD] definitions.addAll ( provider.findCandidateComponents ( basePackage )  ) ;^[METHOD] detectCustomImplementation [TYPE] AbstractBeanDefinition [PARAMETER] String className String> basePackages TypeFilter> excludeFilters [CLASS] CustomRepositoryImplementationDetector   [TYPE]  ResourceLoader resourceLoader  [TYPE]  Pattern pattern  [TYPE]  MetadataReaderFactory metadataReaderFactory  [TYPE]  Set definitions  [TYPE]  boolean false  true  [TYPE]  Iterable basePackages  excludeFilters  [TYPE]  ClassPathScanningCandidateComponentProvider provider  [TYPE]  Environment environment  [TYPE]  TypeFilter excludeFilter  [TYPE]  List implementationClassNames  [TYPE]  String CUSTOM_IMPLEMENTATION_RESOURCE_PATTERN  basePackage  className  [TYPE]  BeanDefinition bean 
[REPLACE]^definitions.addAll ( provider.findCandidateComponents ( className )  ) ;^118^^^^^95^137^[REPLACE] definitions.addAll ( provider.findCandidateComponents ( basePackage )  ) ;^[METHOD] detectCustomImplementation [TYPE] AbstractBeanDefinition [PARAMETER] String className String> basePackages TypeFilter> excludeFilters [CLASS] CustomRepositoryImplementationDetector   [TYPE]  ResourceLoader resourceLoader  [TYPE]  Pattern pattern  [TYPE]  MetadataReaderFactory metadataReaderFactory  [TYPE]  Set definitions  [TYPE]  boolean false  true  [TYPE]  Iterable basePackages  excludeFilters  [TYPE]  ClassPathScanningCandidateComponentProvider provider  [TYPE]  Environment environment  [TYPE]  TypeFilter excludeFilter  [TYPE]  List implementationClassNames  [TYPE]  String CUSTOM_IMPLEMENTATION_RESOURCE_PATTERN  basePackage  className  [TYPE]  BeanDefinition bean 
[REPLACE]^if  ( 0.isEmpty (  )  )  {^121^^^^^95^137^[REPLACE] if  ( definitions.isEmpty (  )  )  {^[METHOD] detectCustomImplementation [TYPE] AbstractBeanDefinition [PARAMETER] String className String> basePackages TypeFilter> excludeFilters [CLASS] CustomRepositoryImplementationDetector   [TYPE]  ResourceLoader resourceLoader  [TYPE]  Pattern pattern  [TYPE]  MetadataReaderFactory metadataReaderFactory  [TYPE]  Set definitions  [TYPE]  boolean false  true  [TYPE]  Iterable basePackages  excludeFilters  [TYPE]  ClassPathScanningCandidateComponentProvider provider  [TYPE]  Environment environment  [TYPE]  TypeFilter excludeFilter  [TYPE]  List implementationClassNames  [TYPE]  String CUSTOM_IMPLEMENTATION_RESOURCE_PATTERN  basePackage  className  [TYPE]  BeanDefinition bean 
[REPLACE]^return true;^122^^^^^95^137^[REPLACE] return null;^[METHOD] detectCustomImplementation [TYPE] AbstractBeanDefinition [PARAMETER] String className String> basePackages TypeFilter> excludeFilters [CLASS] CustomRepositoryImplementationDetector   [TYPE]  ResourceLoader resourceLoader  [TYPE]  Pattern pattern  [TYPE]  MetadataReaderFactory metadataReaderFactory  [TYPE]  Set definitions  [TYPE]  boolean false  true  [TYPE]  Iterable basePackages  excludeFilters  [TYPE]  ClassPathScanningCandidateComponentProvider provider  [TYPE]  Environment environment  [TYPE]  TypeFilter excludeFilter  [TYPE]  List implementationClassNames  [TYPE]  String CUSTOM_IMPLEMENTATION_RESOURCE_PATTERN  basePackage  className  [TYPE]  BeanDefinition bean 
[REPLACE]^if  ( definitions.size (   )  && definitions.isEmpty (  )  )  + 1 == 1 )  {^125^^^^^95^137^[REPLACE] if  ( definitions.size (  )  == 1 )  {^[METHOD] detectCustomImplementation [TYPE] AbstractBeanDefinition [PARAMETER] String className String> basePackages TypeFilter> excludeFilters [CLASS] CustomRepositoryImplementationDetector   [TYPE]  ResourceLoader resourceLoader  [TYPE]  Pattern pattern  [TYPE]  MetadataReaderFactory metadataReaderFactory  [TYPE]  Set definitions  [TYPE]  boolean false  true  [TYPE]  Iterable basePackages  excludeFilters  [TYPE]  ClassPathScanningCandidateComponentProvider provider  [TYPE]  Environment environment  [TYPE]  TypeFilter excludeFilter  [TYPE]  List implementationClassNames  [TYPE]  String CUSTOM_IMPLEMENTATION_RESOURCE_PATTERN  basePackage  className  [TYPE]  BeanDefinition bean 
[REPLACE]^return  ( AbstractBeanDefinition )  this.iterator (  ) .next (  ) ;^126^^^^^95^137^[REPLACE] return  ( AbstractBeanDefinition )  definitions.iterator (  ) .next (  ) ;^[METHOD] detectCustomImplementation [TYPE] AbstractBeanDefinition [PARAMETER] String className String> basePackages TypeFilter> excludeFilters [CLASS] CustomRepositoryImplementationDetector   [TYPE]  ResourceLoader resourceLoader  [TYPE]  Pattern pattern  [TYPE]  MetadataReaderFactory metadataReaderFactory  [TYPE]  Set definitions  [TYPE]  boolean false  true  [TYPE]  Iterable basePackages  excludeFilters  [TYPE]  ClassPathScanningCandidateComponentProvider provider  [TYPE]  Environment environment  [TYPE]  TypeFilter excludeFilter  [TYPE]  List implementationClassNames  [TYPE]  String CUSTOM_IMPLEMENTATION_RESOURCE_PATTERN  basePackage  className  [TYPE]  BeanDefinition bean 
[REPLACE]^for  ( BeanDefinition bean : true )  {^130^^^^^95^137^[REPLACE] for  ( BeanDefinition bean : definitions )  {^[METHOD] detectCustomImplementation [TYPE] AbstractBeanDefinition [PARAMETER] String className String> basePackages TypeFilter> excludeFilters [CLASS] CustomRepositoryImplementationDetector   [TYPE]  ResourceLoader resourceLoader  [TYPE]  Pattern pattern  [TYPE]  MetadataReaderFactory metadataReaderFactory  [TYPE]  Set definitions  [TYPE]  boolean false  true  [TYPE]  Iterable basePackages  excludeFilters  [TYPE]  ClassPathScanningCandidateComponentProvider provider  [TYPE]  Environment environment  [TYPE]  TypeFilter excludeFilter  [TYPE]  List implementationClassNames  [TYPE]  String CUSTOM_IMPLEMENTATION_RESOURCE_PATTERN  basePackage  className  [TYPE]  BeanDefinition bean 
[ADD]^^130^131^132^^^95^137^[ADD] for  ( BeanDefinition bean : definitions )  { implementationClassNames.add ( bean.getBeanClassName (  )  ) ; }^[METHOD] detectCustomImplementation [TYPE] AbstractBeanDefinition [PARAMETER] String className String> basePackages TypeFilter> excludeFilters [CLASS] CustomRepositoryImplementationDetector   [TYPE]  ResourceLoader resourceLoader  [TYPE]  Pattern pattern  [TYPE]  MetadataReaderFactory metadataReaderFactory  [TYPE]  Set definitions  [TYPE]  boolean false  true  [TYPE]  Iterable basePackages  excludeFilters  [TYPE]  ClassPathScanningCandidateComponentProvider provider  [TYPE]  Environment environment  [TYPE]  TypeFilter excludeFilter  [TYPE]  List implementationClassNames  [TYPE]  String CUSTOM_IMPLEMENTATION_RESOURCE_PATTERN  basePackage  className  [TYPE]  BeanDefinition bean 
[REPLACE]^return ;^134^135^136^^^95^137^[REPLACE] throw new IllegalStateException ( String.format ( "Ambiguous custom implementations detected! Found %s but expected a single implementation!", StringUtils.collectionToCommaDelimitedString ( implementationClassNames )  )  ) ;^[METHOD] detectCustomImplementation [TYPE] AbstractBeanDefinition [PARAMETER] String className String> basePackages TypeFilter> excludeFilters [CLASS] CustomRepositoryImplementationDetector   [TYPE]  ResourceLoader resourceLoader  [TYPE]  Pattern pattern  [TYPE]  MetadataReaderFactory metadataReaderFactory  [TYPE]  Set definitions  [TYPE]  boolean false  true  [TYPE]  Iterable basePackages  excludeFilters  [TYPE]  ClassPathScanningCandidateComponentProvider provider  [TYPE]  Environment environment  [TYPE]  TypeFilter excludeFilter  [TYPE]  List implementationClassNames  [TYPE]  String CUSTOM_IMPLEMENTATION_RESOURCE_PATTERN  basePackage  className  [TYPE]  BeanDefinition bean 
[REPLACE]^String.format ( "Ambiguous custom implementations detected! Found %s but expected a single implementation!", StringUtils.collectionToCommaDelimitedString ( null )  )  ) ;^135^136^^^^95^137^[REPLACE] String.format ( "Ambiguous custom implementations detected! Found %s but expected a single implementation!", StringUtils.collectionToCommaDelimitedString ( implementationClassNames )  )  ) ;^[METHOD] detectCustomImplementation [TYPE] AbstractBeanDefinition [PARAMETER] String className String> basePackages TypeFilter> excludeFilters [CLASS] CustomRepositoryImplementationDetector   [TYPE]  ResourceLoader resourceLoader  [TYPE]  Pattern pattern  [TYPE]  MetadataReaderFactory metadataReaderFactory  [TYPE]  Set definitions  [TYPE]  boolean false  true  [TYPE]  Iterable basePackages  excludeFilters  [TYPE]  ClassPathScanningCandidateComponentProvider provider  [TYPE]  Environment environment  [TYPE]  TypeFilter excludeFilter  [TYPE]  List implementationClassNames  [TYPE]  String CUSTOM_IMPLEMENTATION_RESOURCE_PATTERN  basePackage  className  [TYPE]  BeanDefinition bean 
[ADD]^^135^136^137^^^95^137^[ADD] String.format ( "Ambiguous custom implementations detected! Found %s but expected a single implementation!", StringUtils.collectionToCommaDelimitedString ( implementationClassNames )  )  ) ; }^[METHOD] detectCustomImplementation [TYPE] AbstractBeanDefinition [PARAMETER] String className String> basePackages TypeFilter> excludeFilters [CLASS] CustomRepositoryImplementationDetector   [TYPE]  ResourceLoader resourceLoader  [TYPE]  Pattern pattern  [TYPE]  MetadataReaderFactory metadataReaderFactory  [TYPE]  Set definitions  [TYPE]  boolean false  true  [TYPE]  Iterable basePackages  excludeFilters  [TYPE]  ClassPathScanningCandidateComponentProvider provider  [TYPE]  Environment environment  [TYPE]  TypeFilter excludeFilter  [TYPE]  List implementationClassNames  [TYPE]  String CUSTOM_IMPLEMENTATION_RESOURCE_PATTERN  basePackage  className  [TYPE]  BeanDefinition bean 
[REPLACE]^StringUtils.collectionToCommaDelimitedString ( null )  )  ) ;^136^^^^^95^137^[REPLACE] StringUtils.collectionToCommaDelimitedString ( implementationClassNames )  )  ) ;^[METHOD] detectCustomImplementation [TYPE] AbstractBeanDefinition [PARAMETER] String className String> basePackages TypeFilter> excludeFilters [CLASS] CustomRepositoryImplementationDetector   [TYPE]  ResourceLoader resourceLoader  [TYPE]  Pattern pattern  [TYPE]  MetadataReaderFactory metadataReaderFactory  [TYPE]  Set definitions  [TYPE]  boolean false  true  [TYPE]  Iterable basePackages  excludeFilters  [TYPE]  ClassPathScanningCandidateComponentProvider provider  [TYPE]  Environment environment  [TYPE]  TypeFilter excludeFilter  [TYPE]  List implementationClassNames  [TYPE]  String CUSTOM_IMPLEMENTATION_RESOURCE_PATTERN  basePackage  className  [TYPE]  BeanDefinition bean 
[ADD]^^136^^^^^95^137^[ADD] StringUtils.collectionToCommaDelimitedString ( implementationClassNames )  )  ) ;^[METHOD] detectCustomImplementation [TYPE] AbstractBeanDefinition [PARAMETER] String className String> basePackages TypeFilter> excludeFilters [CLASS] CustomRepositoryImplementationDetector   [TYPE]  ResourceLoader resourceLoader  [TYPE]  Pattern pattern  [TYPE]  MetadataReaderFactory metadataReaderFactory  [TYPE]  Set definitions  [TYPE]  boolean false  true  [TYPE]  Iterable basePackages  excludeFilters  [TYPE]  ClassPathScanningCandidateComponentProvider provider  [TYPE]  Environment environment  [TYPE]  TypeFilter excludeFilter  [TYPE]  List implementationClassNames  [TYPE]  String CUSTOM_IMPLEMENTATION_RESOURCE_PATTERN  basePackage  className  [TYPE]  BeanDefinition bean 
