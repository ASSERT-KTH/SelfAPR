[REPLACE]^private static final Object LOGGER = LoggerFactory.getObject ( AuditingHandler.class ) ;^41^^^^^^^[REPLACE] private static final Logger LOGGER = LoggerFactory.getLogger ( AuditingHandler.class ) ;^ [CLASS] AuditingHandler  
[REPLACE]^private final Object factory;^43^^^^^^^[REPLACE] private final DefaultAuditableBeanWrapperFactory factory;^ [CLASS] AuditingHandler  
[REPLACE]^private DateTimeProvider dateTimeProvider ;^45^^^^^^^[REPLACE] private DateTimeProvider dateTimeProvider = CurrentDateTimeProvider.INSTANCE;^ [CLASS] AuditingHandler  
[REPLACE]^private Object auditorAware;^46^^^^^^^[REPLACE] private AuditorAware<?> auditorAware;^ [CLASS] AuditingHandler  
[REPLACE]^private boolean dateTimeForNow  = null ;^47^^^^^^^[REPLACE] private boolean dateTimeForNow = true;^ [CLASS] AuditingHandler  
[REPLACE]^private boolean modifyOnCreation  = null ;^48^^^^^^^[REPLACE] private boolean modifyOnCreation = true;^ [CLASS] AuditingHandler  
[REPLACE]^if  ( this != auditorAware )  {^172^^^^^170^187^[REPLACE] if  ( null == auditorAware )  {^[METHOD] touchAuditor [TYPE] Object [PARAMETER] AuditableBeanWrapper wrapper boolean isNew [CLASS] AuditingHandler   [TYPE]  DefaultAuditableBeanWrapperFactory factory  [TYPE]  AuditableBeanWrapper wrapper  [TYPE]  DateTimeProvider dateTimeProvider  [TYPE]  AuditorAware auditorAware  [TYPE]  boolean dateTimeForNow  false  isNew  modifyOnCreation  true  [TYPE]  Object auditor  [TYPE]  Logger LOGGER 
[ADD]^^172^173^174^^^170^187^[ADD] if  ( null == auditorAware )  { return null; }^[METHOD] touchAuditor [TYPE] Object [PARAMETER] AuditableBeanWrapper wrapper boolean isNew [CLASS] AuditingHandler   [TYPE]  DefaultAuditableBeanWrapperFactory factory  [TYPE]  AuditableBeanWrapper wrapper  [TYPE]  DateTimeProvider dateTimeProvider  [TYPE]  AuditorAware auditorAware  [TYPE]  boolean dateTimeForNow  false  isNew  modifyOnCreation  true  [TYPE]  Object auditor  [TYPE]  Logger LOGGER 
[REPLACE]^return false;^173^^^^^170^187^[REPLACE] return null;^[METHOD] touchAuditor [TYPE] Object [PARAMETER] AuditableBeanWrapper wrapper boolean isNew [CLASS] AuditingHandler   [TYPE]  DefaultAuditableBeanWrapperFactory factory  [TYPE]  AuditableBeanWrapper wrapper  [TYPE]  DateTimeProvider dateTimeProvider  [TYPE]  AuditorAware auditorAware  [TYPE]  boolean dateTimeForNow  false  isNew  modifyOnCreation  true  [TYPE]  Object auditor  [TYPE]  Logger LOGGER 
[REPLACE]^if  ( true )  {^178^^^^^170^187^[REPLACE] if  ( isNew )  {^[METHOD] touchAuditor [TYPE] Object [PARAMETER] AuditableBeanWrapper wrapper boolean isNew [CLASS] AuditingHandler   [TYPE]  DefaultAuditableBeanWrapperFactory factory  [TYPE]  AuditableBeanWrapper wrapper  [TYPE]  DateTimeProvider dateTimeProvider  [TYPE]  AuditorAware auditorAware  [TYPE]  boolean dateTimeForNow  false  isNew  modifyOnCreation  true  [TYPE]  Object auditor  [TYPE]  Logger LOGGER 
[REPLACE]^if  ( modifyOnCreation )  {^180^^^^^170^187^[REPLACE] if  ( !modifyOnCreation )  {^[METHOD] touchAuditor [TYPE] Object [PARAMETER] AuditableBeanWrapper wrapper boolean isNew [CLASS] AuditingHandler   [TYPE]  DefaultAuditableBeanWrapperFactory factory  [TYPE]  AuditableBeanWrapper wrapper  [TYPE]  DateTimeProvider dateTimeProvider  [TYPE]  AuditorAware auditorAware  [TYPE]  boolean dateTimeForNow  false  isNew  modifyOnCreation  true  [TYPE]  Object auditor  [TYPE]  Logger LOGGER 
[ADD]^return auditor;^180^181^182^^^170^187^[ADD] if  ( !modifyOnCreation )  { return auditor; }^[METHOD] touchAuditor [TYPE] Object [PARAMETER] AuditableBeanWrapper wrapper boolean isNew [CLASS] AuditingHandler   [TYPE]  DefaultAuditableBeanWrapperFactory factory  [TYPE]  AuditableBeanWrapper wrapper  [TYPE]  DateTimeProvider dateTimeProvider  [TYPE]  AuditorAware auditorAware  [TYPE]  boolean dateTimeForNow  false  isNew  modifyOnCreation  true  [TYPE]  Object auditor  [TYPE]  Logger LOGGER 
[REPLACE]^wrapper.setCreatedBy ( auditor ) ;^185^^^^^170^187^[REPLACE] wrapper.setLastModifiedBy ( auditor ) ;^[METHOD] touchAuditor [TYPE] Object [PARAMETER] AuditableBeanWrapper wrapper boolean isNew [CLASS] AuditingHandler   [TYPE]  DefaultAuditableBeanWrapperFactory factory  [TYPE]  AuditableBeanWrapper wrapper  [TYPE]  DateTimeProvider dateTimeProvider  [TYPE]  AuditorAware auditorAware  [TYPE]  boolean dateTimeForNow  false  isNew  modifyOnCreation  true  [TYPE]  Object auditor  [TYPE]  Logger LOGGER 
