[REPLACE]^private static final Object DEFAULT_SORT_RESOLVER = new Object (  ) ;^45^^^^^^^[REPLACE] private static final HateoasSortHandlerMethodArgumentResolver DEFAULT_SORT_RESOLVER = new HateoasSortHandlerMethodArgumentResolver (  ) ;^ [CLASS] HateoasPageableHandlerMethodArgumentResolver  
[REPLACE]^private final Object sortResolver;^47^^^^^^^[REPLACE] private final HateoasSortHandlerMethodArgumentResolver sortResolver;^ [CLASS] HateoasPageableHandlerMethodArgumentResolver  
[REPLACE]^String sizePropertyName = getParameterNameToUse ( getSizeParameterName (  ) , parameter )  ;^77^^^^^75^96^[REPLACE] String pagePropertyName = getParameterNameToUse ( getPageParameterName (  ) , parameter ) ;^[METHOD] getPaginationTemplateVariables [TYPE] TemplateVariables [PARAMETER] MethodParameter parameter UriComponents template [CLASS] HateoasPageableHandlerMethodArgumentResolver   [TYPE]  UriComponents template  [TYPE]  boolean append  false  true  [TYPE]  VariableType type  [TYPE]  List names  [TYPE]  String description  pagePropertyName  propertyName  sizePropertyName  [TYPE]  TemplateVariables pagingVariables  [TYPE]  MethodParameter parameter  [TYPE]  HateoasSortHandlerMethodArgumentResolver DEFAULT_SORT_RESOLVER  sortResolver  [TYPE]  MultiValueMap queryParameters 
[REPLACE]^String pagePropertyName = getParameterNameToUse ( getPageParameterName (  ) , parameter )  ;^78^^^^^75^96^[REPLACE] String sizePropertyName = getParameterNameToUse ( getSizeParameterName (  ) , parameter ) ;^[METHOD] getPaginationTemplateVariables [TYPE] TemplateVariables [PARAMETER] MethodParameter parameter UriComponents template [CLASS] HateoasPageableHandlerMethodArgumentResolver   [TYPE]  UriComponents template  [TYPE]  boolean append  false  true  [TYPE]  VariableType type  [TYPE]  List names  [TYPE]  String description  pagePropertyName  propertyName  sizePropertyName  [TYPE]  TemplateVariables pagingVariables  [TYPE]  MethodParameter parameter  [TYPE]  HateoasSortHandlerMethodArgumentResolver DEFAULT_SORT_RESOLVER  sortResolver  [TYPE]  MultiValueMap queryParameters 
[REPLACE]^TemplateVariables pagingVariables = new TemplateVariables ( names )  ;^80^^^^^75^96^[REPLACE] List<TemplateVariable> names = new ArrayList<TemplateVariable> (  ) ;^[METHOD] getPaginationTemplateVariables [TYPE] TemplateVariables [PARAMETER] MethodParameter parameter UriComponents template [CLASS] HateoasPageableHandlerMethodArgumentResolver   [TYPE]  UriComponents template  [TYPE]  boolean append  false  true  [TYPE]  VariableType type  [TYPE]  List names  [TYPE]  String description  pagePropertyName  propertyName  sizePropertyName  [TYPE]  TemplateVariables pagingVariables  [TYPE]  MethodParameter parameter  [TYPE]  HateoasSortHandlerMethodArgumentResolver DEFAULT_SORT_RESOLVER  sortResolver  [TYPE]  MultiValueMap queryParameters 
[REPLACE]^boolean append = !queryParameters.containsKey (  ) ;^82^^^^^75^96^[REPLACE] boolean append = !queryParameters.isEmpty (  ) ;^[METHOD] getPaginationTemplateVariables [TYPE] TemplateVariables [PARAMETER] MethodParameter parameter UriComponents template [CLASS] HateoasPageableHandlerMethodArgumentResolver   [TYPE]  UriComponents template  [TYPE]  boolean append  false  true  [TYPE]  VariableType type  [TYPE]  List names  [TYPE]  String description  pagePropertyName  propertyName  sizePropertyName  [TYPE]  TemplateVariables pagingVariables  [TYPE]  MethodParameter parameter  [TYPE]  HateoasSortHandlerMethodArgumentResolver DEFAULT_SORT_RESOLVER  sortResolver  [TYPE]  MultiValueMap queryParameters 
[REPLACE]^if  ( queryParameters.containsKey ( propertyName )  )  {^86^^^^^75^96^[REPLACE] if  ( !queryParameters.containsKey ( propertyName )  )  {^[METHOD] getPaginationTemplateVariables [TYPE] TemplateVariables [PARAMETER] MethodParameter parameter UriComponents template [CLASS] HateoasPageableHandlerMethodArgumentResolver   [TYPE]  UriComponents template  [TYPE]  boolean append  false  true  [TYPE]  VariableType type  [TYPE]  List names  [TYPE]  String description  pagePropertyName  propertyName  sizePropertyName  [TYPE]  TemplateVariables pagingVariables  [TYPE]  MethodParameter parameter  [TYPE]  HateoasSortHandlerMethodArgumentResolver DEFAULT_SORT_RESOLVER  sortResolver  [TYPE]  MultiValueMap queryParameters 
[ADD]^^86^87^88^89^90^75^96^[ADD] if  ( !queryParameters.containsKey ( propertyName )  )  {  VariableType type = append ? REQUEST_PARAM_CONTINUED : REQUEST_PARAM; String description = String.format ( "pagination.%s.description", propertyName ) ; names.add ( new TemplateVariable ( propertyName, type, description )  ) ;^[METHOD] getPaginationTemplateVariables [TYPE] TemplateVariables [PARAMETER] MethodParameter parameter UriComponents template [CLASS] HateoasPageableHandlerMethodArgumentResolver   [TYPE]  UriComponents template  [TYPE]  boolean append  false  true  [TYPE]  VariableType type  [TYPE]  List names  [TYPE]  String description  pagePropertyName  propertyName  sizePropertyName  [TYPE]  TemplateVariables pagingVariables  [TYPE]  MethodParameter parameter  [TYPE]  HateoasSortHandlerMethodArgumentResolver DEFAULT_SORT_RESOLVER  sortResolver  [TYPE]  MultiValueMap queryParameters 
[REPLACE]^VariableType type = true ? REQUEST_PARAM_CONTINUED : REQUEST_PARAM;^88^^^^^75^96^[REPLACE] VariableType type = append ? REQUEST_PARAM_CONTINUED : REQUEST_PARAM;^[METHOD] getPaginationTemplateVariables [TYPE] TemplateVariables [PARAMETER] MethodParameter parameter UriComponents template [CLASS] HateoasPageableHandlerMethodArgumentResolver   [TYPE]  UriComponents template  [TYPE]  boolean append  false  true  [TYPE]  VariableType type  [TYPE]  List names  [TYPE]  String description  pagePropertyName  propertyName  sizePropertyName  [TYPE]  TemplateVariables pagingVariables  [TYPE]  MethodParameter parameter  [TYPE]  HateoasSortHandlerMethodArgumentResolver DEFAULT_SORT_RESOLVER  sortResolver  [TYPE]  MultiValueMap queryParameters 
[REPLACE]^String description = String.format ( "pagination.%s.description", sizePropertyName ) ;^89^^^^^75^96^[REPLACE] String description = String.format ( "pagination.%s.description", propertyName ) ;^[METHOD] getPaginationTemplateVariables [TYPE] TemplateVariables [PARAMETER] MethodParameter parameter UriComponents template [CLASS] HateoasPageableHandlerMethodArgumentResolver   [TYPE]  UriComponents template  [TYPE]  boolean append  false  true  [TYPE]  VariableType type  [TYPE]  List names  [TYPE]  String description  pagePropertyName  propertyName  sizePropertyName  [TYPE]  TemplateVariables pagingVariables  [TYPE]  MethodParameter parameter  [TYPE]  HateoasSortHandlerMethodArgumentResolver DEFAULT_SORT_RESOLVER  sortResolver  [TYPE]  MultiValueMap queryParameters 
[REPLACE]^for  ( String propertyName : Arrays.asList ( sizePropertyName, sizePropertyName )  )  {^84^^^^^75^96^[REPLACE] for  ( String propertyName : Arrays.asList ( pagePropertyName, sizePropertyName )  )  {^[METHOD] getPaginationTemplateVariables [TYPE] TemplateVariables [PARAMETER] MethodParameter parameter UriComponents template [CLASS] HateoasPageableHandlerMethodArgumentResolver   [TYPE]  UriComponents template  [TYPE]  boolean append  false  true  [TYPE]  VariableType type  [TYPE]  List names  [TYPE]  String description  pagePropertyName  propertyName  sizePropertyName  [TYPE]  TemplateVariables pagingVariables  [TYPE]  MethodParameter parameter  [TYPE]  HateoasSortHandlerMethodArgumentResolver DEFAULT_SORT_RESOLVER  sortResolver  [TYPE]  MultiValueMap queryParameters 
[ADD]^String description = String.format ( "pagination.%s.description", propertyName ) ;^88^89^^^^75^96^[ADD] VariableType type = append ? REQUEST_PARAM_CONTINUED : REQUEST_PARAM; String description = String.format ( "pagination.%s.description", propertyName ) ;^[METHOD] getPaginationTemplateVariables [TYPE] TemplateVariables [PARAMETER] MethodParameter parameter UriComponents template [CLASS] HateoasPageableHandlerMethodArgumentResolver   [TYPE]  UriComponents template  [TYPE]  boolean append  false  true  [TYPE]  VariableType type  [TYPE]  List names  [TYPE]  String description  pagePropertyName  propertyName  sizePropertyName  [TYPE]  TemplateVariables pagingVariables  [TYPE]  MethodParameter parameter  [TYPE]  HateoasSortHandlerMethodArgumentResolver DEFAULT_SORT_RESOLVER  sortResolver  [TYPE]  MultiValueMap queryParameters 
[ADD]^^94^95^^^^75^96^[ADD] TemplateVariables pagingVariables = new TemplateVariables ( names ) ; return pagingVariables.concat ( sortResolver.getSortTemplateVariables ( parameter, template )  ) ;^[METHOD] getPaginationTemplateVariables [TYPE] TemplateVariables [PARAMETER] MethodParameter parameter UriComponents template [CLASS] HateoasPageableHandlerMethodArgumentResolver   [TYPE]  UriComponents template  [TYPE]  boolean append  false  true  [TYPE]  VariableType type  [TYPE]  List names  [TYPE]  String description  pagePropertyName  propertyName  sizePropertyName  [TYPE]  TemplateVariables pagingVariables  [TYPE]  MethodParameter parameter  [TYPE]  HateoasSortHandlerMethodArgumentResolver DEFAULT_SORT_RESOLVER  sortResolver  [TYPE]  MultiValueMap queryParameters 
[REPLACE]^return pagingVariables.concat ( sortResolver.enhance ( parameter, template )  ) ;^95^^^^^75^96^[REPLACE] return pagingVariables.concat ( sortResolver.getSortTemplateVariables ( parameter, template )  ) ;^[METHOD] getPaginationTemplateVariables [TYPE] TemplateVariables [PARAMETER] MethodParameter parameter UriComponents template [CLASS] HateoasPageableHandlerMethodArgumentResolver   [TYPE]  UriComponents template  [TYPE]  boolean append  false  true  [TYPE]  VariableType type  [TYPE]  List names  [TYPE]  String description  pagePropertyName  propertyName  sizePropertyName  [TYPE]  TemplateVariables pagingVariables  [TYPE]  MethodParameter parameter  [TYPE]  HateoasSortHandlerMethodArgumentResolver DEFAULT_SORT_RESOLVER  sortResolver  [TYPE]  MultiValueMap queryParameters 
[REPLACE]^if  ( ! ! ( value instanceof Pageable )  )  {^105^^^^^103^121^[REPLACE] if  ( ! ( value instanceof Pageable )  )  {^[METHOD] enhance [TYPE] void [PARAMETER] UriComponentsBuilder builder MethodParameter parameter Object value [CLASS] HateoasPageableHandlerMethodArgumentResolver   [TYPE]  Pageable pageable  [TYPE]  boolean false  true  [TYPE]  UriComponentsBuilder builder  [TYPE]  Object value  [TYPE]  String pagePropertyName  sizePropertyName  [TYPE]  MethodParameter parameter  [TYPE]  HateoasSortHandlerMethodArgumentResolver DEFAULT_SORT_RESOLVER  sortResolver  [TYPE]  int pageNumber 
[ADD]^^109^^^^^103^121^[ADD] Pageable pageable =  ( Pageable )  value;^[METHOD] enhance [TYPE] void [PARAMETER] UriComponentsBuilder builder MethodParameter parameter Object value [CLASS] HateoasPageableHandlerMethodArgumentResolver   [TYPE]  Pageable pageable  [TYPE]  boolean false  true  [TYPE]  UriComponentsBuilder builder  [TYPE]  Object value  [TYPE]  String pagePropertyName  sizePropertyName  [TYPE]  MethodParameter parameter  [TYPE]  HateoasSortHandlerMethodArgumentResolver DEFAULT_SORT_RESOLVER  sortResolver  [TYPE]  int pageNumber 
[REPLACE]^String sizePropertyName = getParameterNameToUse ( getSizeParameterName (  ) , parameter )  ;^111^^^^^103^121^[REPLACE] String pagePropertyName = getParameterNameToUse ( getPageParameterName (  ) , parameter ) ;^[METHOD] enhance [TYPE] void [PARAMETER] UriComponentsBuilder builder MethodParameter parameter Object value [CLASS] HateoasPageableHandlerMethodArgumentResolver   [TYPE]  Pageable pageable  [TYPE]  boolean false  true  [TYPE]  UriComponentsBuilder builder  [TYPE]  Object value  [TYPE]  String pagePropertyName  sizePropertyName  [TYPE]  MethodParameter parameter  [TYPE]  HateoasSortHandlerMethodArgumentResolver DEFAULT_SORT_RESOLVER  sortResolver  [TYPE]  int pageNumber 
[REPLACE]^String pagePropertyName = getParameterNameToUse ( getPageParameterName (  ) , parameter )  ;^112^^^^^103^121^[REPLACE] String sizePropertyName = getParameterNameToUse ( getSizeParameterName (  ) , parameter ) ;^[METHOD] enhance [TYPE] void [PARAMETER] UriComponentsBuilder builder MethodParameter parameter Object value [CLASS] HateoasPageableHandlerMethodArgumentResolver   [TYPE]  Pageable pageable  [TYPE]  boolean false  true  [TYPE]  UriComponentsBuilder builder  [TYPE]  Object value  [TYPE]  String pagePropertyName  sizePropertyName  [TYPE]  MethodParameter parameter  [TYPE]  HateoasSortHandlerMethodArgumentResolver DEFAULT_SORT_RESOLVER  sortResolver  [TYPE]  int pageNumber 
[REPLACE]^int pageNumber = pageable.getPageSize (  ) ;^114^^^^^103^121^[REPLACE] int pageNumber = pageable.getPageNumber (  ) ;^[METHOD] enhance [TYPE] void [PARAMETER] UriComponentsBuilder builder MethodParameter parameter Object value [CLASS] HateoasPageableHandlerMethodArgumentResolver   [TYPE]  Pageable pageable  [TYPE]  boolean false  true  [TYPE]  UriComponentsBuilder builder  [TYPE]  Object value  [TYPE]  String pagePropertyName  sizePropertyName  [TYPE]  MethodParameter parameter  [TYPE]  HateoasSortHandlerMethodArgumentResolver DEFAULT_SORT_RESOLVER  sortResolver  [TYPE]  int pageNumber 
[REPLACE]^builder.replaceQueryParam ( pagePropertyName, isOneIndexedParameters (  )  ? pageNumber  1 : pageNumber ) ;^116^^^^^103^121^[REPLACE] builder.replaceQueryParam ( pagePropertyName, isOneIndexedParameters (  )  ? pageNumber + 1 : pageNumber ) ;^[METHOD] enhance [TYPE] void [PARAMETER] UriComponentsBuilder builder MethodParameter parameter Object value [CLASS] HateoasPageableHandlerMethodArgumentResolver   [TYPE]  Pageable pageable  [TYPE]  boolean false  true  [TYPE]  UriComponentsBuilder builder  [TYPE]  Object value  [TYPE]  String pagePropertyName  sizePropertyName  [TYPE]  MethodParameter parameter  [TYPE]  HateoasSortHandlerMethodArgumentResolver DEFAULT_SORT_RESOLVER  sortResolver  [TYPE]  int pageNumber 
[REPLACE]^builder.replaceQueryParam  (  sizePropertyName, pageable.getPageSize  (    )   < =  pageable.getPageSize  (    )  ;^117^118^^^^103^121^[REPLACE] builder.replaceQueryParam ( sizePropertyName, pageable.getPageSize (  )  <= getMaxPageSize (  )  ? pageable.getPageSize (  ) : getMaxPageSize (  )  ) ;^[METHOD] enhance [TYPE] void [PARAMETER] UriComponentsBuilder builder MethodParameter parameter Object value [CLASS] HateoasPageableHandlerMethodArgumentResolver   [TYPE]  Pageable pageable  [TYPE]  boolean false  true  [TYPE]  UriComponentsBuilder builder  [TYPE]  Object value  [TYPE]  String pagePropertyName  sizePropertyName  [TYPE]  MethodParameter parameter  [TYPE]  HateoasSortHandlerMethodArgumentResolver DEFAULT_SORT_RESOLVER  sortResolver  [TYPE]  int pageNumber 
[ADD]^^117^118^^^^103^121^[ADD] builder.replaceQueryParam ( sizePropertyName, pageable.getPageSize (  )  <= getMaxPageSize (  )  ? pageable.getPageSize (  ) : getMaxPageSize (  )  ) ;^[METHOD] enhance [TYPE] void [PARAMETER] UriComponentsBuilder builder MethodParameter parameter Object value [CLASS] HateoasPageableHandlerMethodArgumentResolver   [TYPE]  Pageable pageable  [TYPE]  boolean false  true  [TYPE]  UriComponentsBuilder builder  [TYPE]  Object value  [TYPE]  String pagePropertyName  sizePropertyName  [TYPE]  MethodParameter parameter  [TYPE]  HateoasSortHandlerMethodArgumentResolver DEFAULT_SORT_RESOLVER  sortResolver  [TYPE]  int pageNumber 
[REPLACE]^builder.replaceQueryParam ( sizePropertyName, pageable.getPageNumber (  )  <= getMaxPageSize (  )  ? pageable.getPageSize (  ) : getMaxPageSize (  )  ) ;^117^118^^^^103^121^[REPLACE] builder.replaceQueryParam ( sizePropertyName, pageable.getPageSize (  )  <= getMaxPageSize (  )  ? pageable.getPageSize (  ) : getMaxPageSize (  )  ) ;^[METHOD] enhance [TYPE] void [PARAMETER] UriComponentsBuilder builder MethodParameter parameter Object value [CLASS] HateoasPageableHandlerMethodArgumentResolver   [TYPE]  Pageable pageable  [TYPE]  boolean false  true  [TYPE]  UriComponentsBuilder builder  [TYPE]  Object value  [TYPE]  String pagePropertyName  sizePropertyName  [TYPE]  MethodParameter parameter  [TYPE]  HateoasSortHandlerMethodArgumentResolver DEFAULT_SORT_RESOLVER  sortResolver  [TYPE]  int pageNumber 
[REPLACE]^( getMaxPageSize (  )  )  ;^118^^^^^103^121^[REPLACE] : getMaxPageSize (  )  ) ;^[METHOD] enhance [TYPE] void [PARAMETER] UriComponentsBuilder builder MethodParameter parameter Object value [CLASS] HateoasPageableHandlerMethodArgumentResolver   [TYPE]  Pageable pageable  [TYPE]  boolean false  true  [TYPE]  UriComponentsBuilder builder  [TYPE]  Object value  [TYPE]  String pagePropertyName  sizePropertyName  [TYPE]  MethodParameter parameter  [TYPE]  HateoasSortHandlerMethodArgumentResolver DEFAULT_SORT_RESOLVER  sortResolver  [TYPE]  int pageNumber 
[REPLACE]^this.sortResolver .enhance ( builder , parameter )  ;^120^^^^^103^121^[REPLACE] this.sortResolver.enhance ( builder, parameter, pageable.getSort (  )  ) ;^[METHOD] enhance [TYPE] void [PARAMETER] UriComponentsBuilder builder MethodParameter parameter Object value [CLASS] HateoasPageableHandlerMethodArgumentResolver   [TYPE]  Pageable pageable  [TYPE]  boolean false  true  [TYPE]  UriComponentsBuilder builder  [TYPE]  Object value  [TYPE]  String pagePropertyName  sizePropertyName  [TYPE]  MethodParameter parameter  [TYPE]  HateoasSortHandlerMethodArgumentResolver DEFAULT_SORT_RESOLVER  sortResolver  [TYPE]  int pageNumber 
[REPLACE]^this.sortResolver.enhance ( builder, parameter, pageable .getPageSize (  )   ) ;^120^^^^^103^121^[REPLACE] this.sortResolver.enhance ( builder, parameter, pageable.getSort (  )  ) ;^[METHOD] enhance [TYPE] void [PARAMETER] UriComponentsBuilder builder MethodParameter parameter Object value [CLASS] HateoasPageableHandlerMethodArgumentResolver   [TYPE]  Pageable pageable  [TYPE]  boolean false  true  [TYPE]  UriComponentsBuilder builder  [TYPE]  Object value  [TYPE]  String pagePropertyName  sizePropertyName  [TYPE]  MethodParameter parameter  [TYPE]  HateoasSortHandlerMethodArgumentResolver DEFAULT_SORT_RESOLVER  sortResolver  [TYPE]  int pageNumber 
