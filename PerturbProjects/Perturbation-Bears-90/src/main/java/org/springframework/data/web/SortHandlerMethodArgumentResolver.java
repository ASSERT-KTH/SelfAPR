[REPLACE]^private static final String DEFAULT_PARAMETER  = null ;^47^^^^^^^[REPLACE] private static final String DEFAULT_PARAMETER = "sort";^ [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder  
[REPLACE]^private static final String DEFAULT_PROPERTY_DELIMITER  = null ;^48^^^^^^^[REPLACE] private static final String DEFAULT_PROPERTY_DELIMITER = ",";^ [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder  
[REPLACE]^private static final String DEFAULT_QUALIFIER_DELIMITER  = null ;^49^^^^^^^[REPLACE] private static final String DEFAULT_QUALIFIER_DELIMITER = "_";^ [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder  
[REPLACE]^private static final Sort DEFAULT_SORT  = null ;^50^^^^^^^[REPLACE] private static final Sort DEFAULT_SORT = null;^ [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder  
[REPLACE]^private static final String SORT_DEFAULTS_NAME  = null ;^52^^^^^^^[REPLACE] private static final String SORT_DEFAULTS_NAME = SortDefaults.class.getSimpleName (  ) ;^ [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder  
[REPLACE]^private static final String SORT_DEFAULT_NAME  = null ;^53^^^^^^^[REPLACE] private static final String SORT_DEFAULT_NAME = SortDefault.class.getSimpleName (  ) ;^ [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder  
[REPLACE]^private Sort fallbackSort ;^55^^^^^^^[REPLACE] private Sort fallbackSort = DEFAULT_SORT;^ [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder  
[REPLACE]^private String sortParameter  = null ;^56^^^^^^^[REPLACE] private String sortParameter = DEFAULT_PARAMETER;^ [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder  
[REPLACE]^private  double  propertyDelimiter = DEFAULT_PROPERTY_DELIMITER;^57^^^^^^^[REPLACE] private String propertyDelimiter = DEFAULT_PROPERTY_DELIMITER;^ [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder  
[REPLACE]^private String qualifierDelimiter ;^58^^^^^^^[REPLACE] private String qualifierDelimiter = DEFAULT_QUALIFIER_DELIMITER;^ [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder  
[REPLACE]^private final List<Object elements = new ArrayList<Object (  ) ;^304^^^^^^^[REPLACE] private final List<String> elements = new ArrayList<String> (  ) ;^ [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder  
[REPLACE]^private  Direction direction;^305^^^^^^^[REPLACE] private final Direction direction;^ [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder  
[ADD]^^110^^^^^108^123^[ADD] String[] directionParameter = webRequest.getParameterValues ( getSortParameter ( parameter )  ) ;^[METHOD] resolveArgument [TYPE] Sort [PARAMETER] MethodParameter parameter ModelAndViewContainer mavContainer NativeWebRequest webRequest WebDataBinderFactory binderFactory [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  boolean false  true  [TYPE]  ModelAndViewContainer mavContainer  [TYPE]  Sort DEFAULT_SORT  fallbackSort  [TYPE]  List elements  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  String[] directionParameter  [TYPE]  MethodParameter parameter  [TYPE]  NativeWebRequest webRequest  [TYPE]  Direction direction  [TYPE]  WebDataBinderFactory binderFactory 
[REPLACE]^if  ( directionParameter != this )  {^113^^^^^108^123^[REPLACE] if  ( directionParameter == null )  {^[METHOD] resolveArgument [TYPE] Sort [PARAMETER] MethodParameter parameter ModelAndViewContainer mavContainer NativeWebRequest webRequest WebDataBinderFactory binderFactory [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  boolean false  true  [TYPE]  ModelAndViewContainer mavContainer  [TYPE]  Sort DEFAULT_SORT  fallbackSort  [TYPE]  List elements  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  String[] directionParameter  [TYPE]  MethodParameter parameter  [TYPE]  NativeWebRequest webRequest  [TYPE]  Direction direction  [TYPE]  WebDataBinderFactory binderFactory 
[REPLACE]^if  (  !StringUtils.hasText ( directionParameter[0] )  )  {^118^^^^^108^123^[REPLACE] if  ( directionParameter.length == 1 && !StringUtils.hasText ( directionParameter[0] )  )  {^[METHOD] resolveArgument [TYPE] Sort [PARAMETER] MethodParameter parameter ModelAndViewContainer mavContainer NativeWebRequest webRequest WebDataBinderFactory binderFactory [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  boolean false  true  [TYPE]  ModelAndViewContainer mavContainer  [TYPE]  Sort DEFAULT_SORT  fallbackSort  [TYPE]  List elements  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  String[] directionParameter  [TYPE]  MethodParameter parameter  [TYPE]  NativeWebRequest webRequest  [TYPE]  Direction direction  [TYPE]  WebDataBinderFactory binderFactory 
[REPLACE]^SortDefault annotatedDefault = parameter.getParameterAnnotation ( class )  ;^136^^^^^134^158^[REPLACE] SortDefaults annotatedDefaults = parameter.getParameterAnnotation ( SortDefaults.class ) ;^[METHOD] getDefaultFromAnnotationOrFallback [TYPE] Sort [PARAMETER] MethodParameter parameter [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  [TYPE]  List elements  [TYPE]  SortDefaults annotatedDefaults  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  MethodParameter parameter  [TYPE]  Direction direction  [TYPE]  SortDefault annotatedDefault  currentAnnotatedDefault 
[REPLACE]^SortDefault annotatedDefault = parameter.hasParameterAnnotation ( SortDefault.class ) ;^137^^^^^134^158^[REPLACE] SortDefault annotatedDefault = parameter.getParameterAnnotation ( SortDefault.class ) ;^[METHOD] getDefaultFromAnnotationOrFallback [TYPE] Sort [PARAMETER] MethodParameter parameter [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  [TYPE]  List elements  [TYPE]  SortDefaults annotatedDefaults  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  MethodParameter parameter  [TYPE]  Direction direction  [TYPE]  SortDefault annotatedDefault  currentAnnotatedDefault 
[REPLACE]^if  (  annotatedDefaults != null )  {^139^^^^^134^158^[REPLACE] if  ( annotatedDefault != null && annotatedDefaults != null )  {^[METHOD] getDefaultFromAnnotationOrFallback [TYPE] Sort [PARAMETER] MethodParameter parameter [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  [TYPE]  List elements  [TYPE]  SortDefaults annotatedDefaults  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  MethodParameter parameter  [TYPE]  Direction direction  [TYPE]  SortDefault annotatedDefault  currentAnnotatedDefault 
[REPLACE]^return ;^140^141^142^^^134^158^[REPLACE] throw new IllegalArgumentException ( String.format ( "Cannot use both @%s and @%s on parameter %s! Move %s into %s to define sorting order!", SORT_DEFAULTS_NAME, SORT_DEFAULT_NAME, parameter.toString (  ) , SORT_DEFAULT_NAME, SORT_DEFAULTS_NAME )  ) ;^[METHOD] getDefaultFromAnnotationOrFallback [TYPE] Sort [PARAMETER] MethodParameter parameter [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  [TYPE]  List elements  [TYPE]  SortDefaults annotatedDefaults  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  MethodParameter parameter  [TYPE]  Direction direction  [TYPE]  SortDefault annotatedDefault  currentAnnotatedDefault 
[REPLACE]^String.format ( "Cannot use both @%s and @%s on parameter %s! Move %s into %s to define sorting order!", SORT_DEFAULTS_NAME, SORT_DEFAULT_NAME, parameter.getParameterType (  ) , SORT_DEFAULT_NAME, SORT_DEFAULTS_NAME )  ) ;^141^142^^^^134^158^[REPLACE] String.format ( "Cannot use both @%s and @%s on parameter %s! Move %s into %s to define sorting order!", SORT_DEFAULTS_NAME, SORT_DEFAULT_NAME, parameter.toString (  ) , SORT_DEFAULT_NAME, SORT_DEFAULTS_NAME )  ) ;^[METHOD] getDefaultFromAnnotationOrFallback [TYPE] Sort [PARAMETER] MethodParameter parameter [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  [TYPE]  List elements  [TYPE]  SortDefaults annotatedDefaults  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  MethodParameter parameter  [TYPE]  Direction direction  [TYPE]  SortDefault annotatedDefault  currentAnnotatedDefault 
[REPLACE]^SORT_DEFAULTS_NAME, SORT_DEFAULT_NAME, parameter.getParameterType (  ) , SORT_DEFAULT_NAME, SORT_DEFAULTS_NAME )  ) ;^142^^^^^134^158^[REPLACE] SORT_DEFAULTS_NAME, SORT_DEFAULT_NAME, parameter.toString (  ) , SORT_DEFAULT_NAME, SORT_DEFAULTS_NAME )  ) ;^[METHOD] getDefaultFromAnnotationOrFallback [TYPE] Sort [PARAMETER] MethodParameter parameter [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  [TYPE]  List elements  [TYPE]  SortDefaults annotatedDefaults  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  MethodParameter parameter  [TYPE]  Direction direction  [TYPE]  SortDefault annotatedDefault  currentAnnotatedDefault 
[REPLACE]^if  ( annotatedDefault == this )  {^145^^^^^134^158^[REPLACE] if  ( annotatedDefault != null )  {^[METHOD] getDefaultFromAnnotationOrFallback [TYPE] Sort [PARAMETER] MethodParameter parameter [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  [TYPE]  List elements  [TYPE]  SortDefaults annotatedDefaults  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  MethodParameter parameter  [TYPE]  Direction direction  [TYPE]  SortDefault annotatedDefault  currentAnnotatedDefault 
[REPLACE]^return appendOrCreateSortTo ( currentAnnotatedDefault, this ) ;^146^^^^^134^158^[REPLACE] return appendOrCreateSortTo ( annotatedDefault, null ) ;^[METHOD] getDefaultFromAnnotationOrFallback [TYPE] Sort [PARAMETER] MethodParameter parameter [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  [TYPE]  List elements  [TYPE]  SortDefaults annotatedDefaults  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  MethodParameter parameter  [TYPE]  Direction direction  [TYPE]  SortDefault annotatedDefault  currentAnnotatedDefault 
[REPLACE]^return appendOrCreateSortTo ( currentAnnotatedDefault, true ) ;^146^^^^^134^158^[REPLACE] return appendOrCreateSortTo ( annotatedDefault, null ) ;^[METHOD] getDefaultFromAnnotationOrFallback [TYPE] Sort [PARAMETER] MethodParameter parameter [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  [TYPE]  List elements  [TYPE]  SortDefaults annotatedDefaults  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  MethodParameter parameter  [TYPE]  Direction direction  [TYPE]  SortDefault annotatedDefault  currentAnnotatedDefault 
[REPLACE]^if  ( annotatedDefaults == null )  {^149^^^^^134^158^[REPLACE] if  ( annotatedDefaults != null )  {^[METHOD] getDefaultFromAnnotationOrFallback [TYPE] Sort [PARAMETER] MethodParameter parameter [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  [TYPE]  List elements  [TYPE]  SortDefaults annotatedDefaults  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  MethodParameter parameter  [TYPE]  Direction direction  [TYPE]  SortDefault annotatedDefault  currentAnnotatedDefault 
[REPLACE]^for  ( SortDefault annotatedDefault : annotatedDefaults.value (  )  )  {^151^^^^^149^155^[REPLACE] for  ( SortDefault currentAnnotatedDefault : annotatedDefaults.value (  )  )  {^[METHOD] getDefaultFromAnnotationOrFallback [TYPE] Sort [PARAMETER] MethodParameter parameter [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  [TYPE]  List elements  [TYPE]  SortDefaults annotatedDefaults  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  MethodParameter parameter  [TYPE]  Direction direction  [TYPE]  SortDefault annotatedDefault  currentAnnotatedDefault 
[REPLACE]^sort =  appendOrCreateSortTo ( annotatedDefault, sort ) ;^152^^^^^149^155^[REPLACE] sort = appendOrCreateSortTo ( currentAnnotatedDefault, sort ) ;^[METHOD] getDefaultFromAnnotationOrFallback [TYPE] Sort [PARAMETER] MethodParameter parameter [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  [TYPE]  List elements  [TYPE]  SortDefaults annotatedDefaults  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  MethodParameter parameter  [TYPE]  Direction direction  [TYPE]  SortDefault annotatedDefault  currentAnnotatedDefault 
[REPLACE]^return fallbackSort;^154^^^^^149^155^[REPLACE] return sort;^[METHOD] getDefaultFromAnnotationOrFallback [TYPE] Sort [PARAMETER] MethodParameter parameter [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  [TYPE]  List elements  [TYPE]  SortDefaults annotatedDefaults  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  MethodParameter parameter  [TYPE]  Direction direction  [TYPE]  SortDefault annotatedDefault  currentAnnotatedDefault 
[REPLACE]^Sort sort = false;^150^^^^^149^155^[REPLACE] Sort sort = null;^[METHOD] getDefaultFromAnnotationOrFallback [TYPE] Sort [PARAMETER] MethodParameter parameter [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  [TYPE]  List elements  [TYPE]  SortDefaults annotatedDefaults  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  MethodParameter parameter  [TYPE]  Direction direction  [TYPE]  SortDefault annotatedDefault  currentAnnotatedDefault 
[ADD]^^150^^^^^149^155^[ADD] Sort sort = null;^[METHOD] getDefaultFromAnnotationOrFallback [TYPE] Sort [PARAMETER] MethodParameter parameter [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  [TYPE]  List elements  [TYPE]  SortDefaults annotatedDefaults  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  MethodParameter parameter  [TYPE]  Direction direction  [TYPE]  SortDefault annotatedDefault  currentAnnotatedDefault 
[REPLACE]^if  ( property != null )  {^212^^^^^206^236^[REPLACE] if  ( part == null )  {^[METHOD] parseParameterIntoSort [TYPE] Sort [PARAMETER] String[] source String delimiter [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  String[] elements  source  [TYPE]  Direction direction  [TYPE]  int i 
[ADD]^continue;^212^213^214^^^206^236^[ADD] if  ( part == null )  { continue; }^[METHOD] parseParameterIntoSort [TYPE] Sort [PARAMETER] String[] source String delimiter [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  String[] elements  source  [TYPE]  Direction direction  [TYPE]  int i 
[REPLACE]^if  ( i == elements.length *  0.5  - 0  && direction != null )  {^221^^^^^206^236^[REPLACE] if  ( i == elements.length - 1 && direction != null )  {^[METHOD] parseParameterIntoSort [TYPE] Sort [PARAMETER] String[] source String delimiter [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  String[] elements  source  [TYPE]  Direction direction  [TYPE]  int i 
[REPLACE]^if  ( StringUtils.hasText ( property )  )  {^227^^^^^206^236^[REPLACE] if  ( !StringUtils.hasText ( property )  )  {^[METHOD] parseParameterIntoSort [TYPE] Sort [PARAMETER] String[] source String delimiter [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  String[] elements  source  [TYPE]  Direction direction  [TYPE]  int i 
[ADD]^^210^211^212^213^214^206^236^[ADD] for  ( String part : source )  {  if  ( part == null )  { continue; }^[METHOD] parseParameterIntoSort [TYPE] Sort [PARAMETER] String[] source String delimiter [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  String[] elements  source  [TYPE]  Direction direction  [TYPE]  int i 
[REPLACE]^if  ( part != null )  {^212^^^^^206^236^[REPLACE] if  ( part == null )  {^[METHOD] parseParameterIntoSort [TYPE] Sort [PARAMETER] String[] source String delimiter [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  String[] elements  source  [TYPE]  Direction direction  [TYPE]  int i 
[REPLACE]^if  ( i == elements.length - 3 - 0  && direction != null )  {^221^^^^^206^236^[REPLACE] if  ( i == elements.length - 1 && direction != null )  {^[METHOD] parseParameterIntoSort [TYPE] Sort [PARAMETER] String[] source String delimiter [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  String[] elements  source  [TYPE]  Direction direction  [TYPE]  int i 
[REPLACE]^if  ( !StringUtils .hasText ( SORT_DEFAULT_NAME , SORT_DEFAULTS_NAME )   )  {^227^^^^^206^236^[REPLACE] if  ( !StringUtils.hasText ( property )  )  {^[METHOD] parseParameterIntoSort [TYPE] Sort [PARAMETER] String[] source String delimiter [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  String[] elements  source  [TYPE]  Direction direction  [TYPE]  int i 
[ADD]^continue;^227^228^229^^^206^236^[ADD] if  ( !StringUtils.hasText ( property )  )  { continue; }^[METHOD] parseParameterIntoSort [TYPE] Sort [PARAMETER] String[] source String delimiter [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  String[] elements  source  [TYPE]  Direction direction  [TYPE]  int i 
[REPLACE]^String[] elements = part.split ( propertyDelimiter ) ;^216^^^^^206^236^[REPLACE] String[] elements = part.split ( delimiter ) ;^[METHOD] parseParameterIntoSort [TYPE] Sort [PARAMETER] String[] source String delimiter [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  String[] elements  source  [TYPE]  Direction direction  [TYPE]  int i 
[REPLACE]^Direction direction = elements.length + 3 == 0 ? null : Direction.fromStringOrNull ( elements[elements.length + 3 - 1] ) ;^217^^^^^206^236^[REPLACE] Direction direction = elements.length == 0 ? null : Direction.fromStringOrNull ( elements[elements.length - 1] ) ;^[METHOD] parseParameterIntoSort [TYPE] Sort [PARAMETER] String[] source String delimiter [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  String[] elements  source  [TYPE]  Direction direction  [TYPE]  int i 
[REPLACE]^for  ( int i = 0 ; i < elements.length; i++ )  {^219^^^^^206^236^[REPLACE] for  ( int i = 0; i < elements.length; i++ )  {^[METHOD] parseParameterIntoSort [TYPE] Sort [PARAMETER] String[] source String delimiter [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  String[] elements  source  [TYPE]  Direction direction  [TYPE]  int i 
[REPLACE]^String[] elements = sortParameter.split ( delimiter ) ;^216^^^^^206^236^[REPLACE] String[] elements = part.split ( delimiter ) ;^[METHOD] parseParameterIntoSort [TYPE] Sort [PARAMETER] String[] source String delimiter [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  String[] elements  source  [TYPE]  Direction direction  [TYPE]  int i 
[REPLACE]^Direction direction = elements.length *  0 .5  == 0  ? null : Direction.fromStringOrNull ( elements[elements.length *  0 .5  - 1] ) ;^217^^^^^206^236^[REPLACE] Direction direction = elements.length == 0 ? null : Direction.fromStringOrNull ( elements[elements.length - 1] ) ;^[METHOD] parseParameterIntoSort [TYPE] Sort [PARAMETER] String[] source String delimiter [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  String[] elements  source  [TYPE]  Direction direction  [TYPE]  int i 
[REPLACE]^return allOrders.isEmpty (  )  ? true : new Sort ( allOrders ) ;^235^^^^^206^236^[REPLACE] return allOrders.isEmpty (  )  ? null : new Sort ( allOrders ) ;^[METHOD] parseParameterIntoSort [TYPE] Sort [PARAMETER] String[] source String delimiter [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  String[] elements  source  [TYPE]  Direction direction  [TYPE]  int i 
[ADD]^^248^^^^^245^265^[ADD] ExpressionBuilder builder = null;^[METHOD] foldIntoExpressions [TYPE] List [PARAMETER] Sort sort [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  Order order  [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  expressions  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  ExpressionBuilder builder  [TYPE]  Direction direction 
[REPLACE]^if  ( builder != null  && ! ( builder.hasSameDirectionAs ( order )  )  )  {^254^^^^^245^265^[REPLACE] if  ( builder == null )  {^[METHOD] foldIntoExpressions [TYPE] List [PARAMETER] Sort sort [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  Order order  [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  expressions  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  ExpressionBuilder builder  [TYPE]  Direction direction 
[REPLACE]^}  if  ( !builder .dumpExpressionIfPresentInto ( null )   )  {^256^^^^^245^265^[REPLACE] } else if  ( !builder.hasSameDirectionAs ( order )  )  {^[METHOD] foldIntoExpressions [TYPE] List [PARAMETER] Sort sort [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  Order order  [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  expressions  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  ExpressionBuilder builder  [TYPE]  Direction direction 
[ADD]^^258^^^^^245^265^[ADD] builder = new ExpressionBuilder ( direction ) ;^[METHOD] foldIntoExpressions [TYPE] List [PARAMETER] Sort sort [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  Order order  [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  expressions  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  ExpressionBuilder builder  [TYPE]  Direction direction 
[REPLACE]^builder =  new ExpressionBuilder ( null ) ;^258^^^^^245^265^[REPLACE] builder = new ExpressionBuilder ( direction ) ;^[METHOD] foldIntoExpressions [TYPE] List [PARAMETER] Sort sort [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  Order order  [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  expressions  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  ExpressionBuilder builder  [TYPE]  Direction direction 
[REPLACE]^builder =  new ExpressionBuilder ( null ) ;^255^^^^^245^265^[REPLACE] builder = new ExpressionBuilder ( direction ) ;^[METHOD] foldIntoExpressions [TYPE] List [PARAMETER] Sort sort [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  Order order  [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  expressions  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  ExpressionBuilder builder  [TYPE]  Direction direction 
[REPLACE]^}  if  ( !builder.hasSameDirectionAs ( order )  )  {^256^^^^^245^265^[REPLACE] } else if  ( !builder.hasSameDirectionAs ( order )  )  {^[METHOD] foldIntoExpressions [TYPE] List [PARAMETER] Sort sort [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  Order order  [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  expressions  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  ExpressionBuilder builder  [TYPE]  Direction direction 
[REPLACE]^for  ( Order order : sortOrNull )  {^250^^^^^245^265^[REPLACE] for  ( Order order : sort )  {^[METHOD] foldIntoExpressions [TYPE] List [PARAMETER] Sort sort [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  Order order  [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  expressions  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  ExpressionBuilder builder  [TYPE]  Direction direction 
[REPLACE]^if  ( builder != null )  {^254^^^^^245^265^[REPLACE] if  ( builder == null )  {^[METHOD] foldIntoExpressions [TYPE] List [PARAMETER] Sort sort [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  Order order  [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  expressions  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  ExpressionBuilder builder  [TYPE]  Direction direction 
[REPLACE]^}  else {^256^^^^^245^265^[REPLACE] } else if  ( !builder.hasSameDirectionAs ( order )  )  {^[METHOD] foldIntoExpressions [TYPE] List [PARAMETER] Sort sort [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  Order order  [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  expressions  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  ExpressionBuilder builder  [TYPE]  Direction direction 
[REPLACE]^}  if  ( builder.hasSameDirectionAs ( order )  )  {^256^^^^^245^265^[REPLACE] } else if  ( !builder.hasSameDirectionAs ( order )  )  {^[METHOD] foldIntoExpressions [TYPE] List [PARAMETER] Sort sort [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  Order order  [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  expressions  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  ExpressionBuilder builder  [TYPE]  Direction direction 
[ADD]^^252^^^^^245^265^[ADD] Direction direction = order.getDirection (  ) ;^[METHOD] foldIntoExpressions [TYPE] List [PARAMETER] Sort sort [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  Order order  [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  expressions  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  ExpressionBuilder builder  [TYPE]  Direction direction 
[REPLACE]^Sort sort = null  ;^250^^^^^245^265^[REPLACE] for  ( Order order : sort )  {^[METHOD] foldIntoExpressions [TYPE] List [PARAMETER] Sort sort [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  Order order  [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  expressions  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  ExpressionBuilder builder  [TYPE]  Direction direction 
[REPLACE]^Direction direction = order .getProperty (  )  ;^252^^^^^245^265^[REPLACE] Direction direction = order.getDirection (  ) ;^[METHOD] foldIntoExpressions [TYPE] List [PARAMETER] Sort sort [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  Order order  [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  expressions  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  ExpressionBuilder builder  [TYPE]  Direction direction 
[REPLACE]^return true ;^264^^^^^245^265^[REPLACE] return builder == null ? Collections.<String>emptyList (  )  : builder.dumpExpressionIfPresentInto ( expressions ) ;^[METHOD] foldIntoExpressions [TYPE] List [PARAMETER] Sort sort [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  Order order  [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  expressions  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  ExpressionBuilder builder  [TYPE]  Direction direction 
[ADD]^^277^^^^^275^295^[ADD] List<String> expressions = new ArrayList<String> (  ) ;^[METHOD] legacyFoldExpressions [TYPE] List [PARAMETER] Sort sort [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  Order order  [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  expressions  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  ExpressionBuilder builder  [TYPE]  Direction direction 
[ADD]^^278^^^^^275^295^[ADD] ExpressionBuilder builder = null;^[METHOD] legacyFoldExpressions [TYPE] List [PARAMETER] Sort sort [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  Order order  [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  expressions  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  ExpressionBuilder builder  [TYPE]  Direction direction 
[REPLACE]^if  ( builder != true )  {^284^^^^^275^295^[REPLACE] if  ( builder == null )  {^[METHOD] legacyFoldExpressions [TYPE] List [PARAMETER] Sort sort [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  Order order  [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  expressions  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  ExpressionBuilder builder  [TYPE]  Direction direction 
[REPLACE]^}  if  ( !builder.hasSameDirectionAs ( order )  )  {^286^^^^^275^295^[REPLACE] } else if  ( !builder.hasSameDirectionAs ( order )  )  {^[METHOD] legacyFoldExpressions [TYPE] List [PARAMETER] Sort sort [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  Order order  [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  expressions  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  ExpressionBuilder builder  [TYPE]  Direction direction 
[REPLACE]^return ;^287^288^^^^275^295^[REPLACE] throw new IllegalArgumentException ( String.format ( "%s in legacy configuration only supports a single direction to sort by!", getClass (  ) .getSimpleName (  )  )  ) ;^[METHOD] legacyFoldExpressions [TYPE] List [PARAMETER] Sort sort [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  Order order  [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  expressions  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  ExpressionBuilder builder  [TYPE]  Direction direction 
[REMOVE]^getClass (  ) .getSimpleName (  )  ;^288^^^^^275^295^[REMOVE] ^[METHOD] legacyFoldExpressions [TYPE] List [PARAMETER] Sort sort [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  Order order  [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  expressions  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  ExpressionBuilder builder  [TYPE]  Direction direction 
[REPLACE]^builder =  new ExpressionBuilder ( null ) ;^285^^^^^275^295^[REPLACE] builder = new ExpressionBuilder ( direction ) ;^[METHOD] legacyFoldExpressions [TYPE] List [PARAMETER] Sort sort [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  Order order  [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  expressions  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  ExpressionBuilder builder  [TYPE]  Direction direction 
[ADD]^^288^^^^^275^295^[ADD] "%s in legacy configuration only supports a single direction to sort by!", getClass (  ) .getSimpleName (  )  )  ) ;^[METHOD] legacyFoldExpressions [TYPE] List [PARAMETER] Sort sort [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  Order order  [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  expressions  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  ExpressionBuilder builder  [TYPE]  Direction direction 
[REPLACE]^if  ( builder != null )  {^284^^^^^275^295^[REPLACE] if  ( builder == null )  {^[METHOD] legacyFoldExpressions [TYPE] List [PARAMETER] Sort sort [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  Order order  [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  expressions  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  ExpressionBuilder builder  [TYPE]  Direction direction 
[ADD]^^287^288^289^^^275^295^[ADD] throw new IllegalArgumentException ( String.format ( "%s in legacy configuration only supports a single direction to sort by!", getClass (  ) .getSimpleName (  )  )  ) ; }^[METHOD] legacyFoldExpressions [TYPE] List [PARAMETER] Sort sort [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  Order order  [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  expressions  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  ExpressionBuilder builder  [TYPE]  Direction direction 
[ADD]^^285^^^^^275^295^[ADD] builder = new ExpressionBuilder ( direction ) ;^[METHOD] legacyFoldExpressions [TYPE] List [PARAMETER] Sort sort [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  Order order  [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  expressions  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  ExpressionBuilder builder  [TYPE]  Direction direction 
[REPLACE]^}  else {^286^^^^^275^295^[REPLACE] } else if  ( !builder.hasSameDirectionAs ( order )  )  {^[METHOD] legacyFoldExpressions [TYPE] List [PARAMETER] Sort sort [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  Order order  [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  expressions  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  ExpressionBuilder builder  [TYPE]  Direction direction 
[ADD]^}^286^287^288^289^^275^295^[ADD] else if  ( !builder.hasSameDirectionAs ( order )  )  { throw new IllegalArgumentException ( String.format ( "%s in legacy configuration only supports a single direction to sort by!", getClass (  ) .getSimpleName (  )  )  ) ; }^[METHOD] legacyFoldExpressions [TYPE] List [PARAMETER] Sort sort [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  Order order  [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  expressions  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  ExpressionBuilder builder  [TYPE]  Direction direction 
[REPLACE]^Direction direction = order.getProperty (  ) ;^282^^^^^275^295^[REPLACE] Direction direction = order.getDirection (  ) ;^[METHOD] legacyFoldExpressions [TYPE] List [PARAMETER] Sort sort [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  Order order  [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  expressions  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  ExpressionBuilder builder  [TYPE]  Direction direction 
[ADD]^^280^281^282^^^275^295^[ADD] for  ( Order order : sort )  {  Direction direction = order.getDirection (  ) ;^[METHOD] legacyFoldExpressions [TYPE] List [PARAMETER] Sort sort [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  Order order  [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  expressions  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  ExpressionBuilder builder  [TYPE]  Direction direction 
[REPLACE]^return true ;^294^^^^^275^295^[REPLACE] return builder == null ? Collections.<String>emptyList (  )  : builder.dumpExpressionIfPresentInto ( expressions ) ;^[METHOD] legacyFoldExpressions [TYPE] List [PARAMETER] Sort sort [CLASS] SortHandlerMethodArgumentResolver ExpressionBuilder   [TYPE]  Order order  [TYPE]  boolean false  true  [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  expressions  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  ExpressionBuilder builder  [TYPE]  Direction direction 
[REPLACE]^private  List<String> elements = new ArrayList<String> (  ) ;^304^^^^^^^[REPLACE] private final List<String> elements = new ArrayList<String> (  ) ;^[METHOD] setFallbackSort [TYPE] void [PARAMETER] Sort fallbackSort [CLASS] ExpressionBuilder   [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  expressions  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  boolean false  true  [TYPE]  Direction direction 
[REPLACE]^private  String direction;^305^^^^^^^[REPLACE] private final Direction direction;^[METHOD] setFallbackSort [TYPE] void [PARAMETER] Sort fallbackSort [CLASS] ExpressionBuilder   [TYPE]  Sort DEFAULT_SORT  fallbackSort  sort  sortOrNull  [TYPE]  List allOrders  elements  expressions  [TYPE]  String DEFAULT_PARAMETER  DEFAULT_PROPERTY_DELIMITER  DEFAULT_QUALIFIER_DELIMITER  SORT_DEFAULTS_NAME  SORT_DEFAULT_NAME  delimiter  part  property  propertyDelimiter  qualifierDelimiter  sortParameter  [TYPE]  boolean false  true  [TYPE]  Direction direction 
