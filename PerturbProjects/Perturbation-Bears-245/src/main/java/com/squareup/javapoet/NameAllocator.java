[REPLACE]^private final Set<String allocatedNames;^82^^^^^^^[REPLACE] private final Set<String> allocatedNames;^ [CLASS] NameAllocator  
[REPLACE]^private  Map<Object, String> tagToName;^83^^^^^^^[REPLACE] private final Map<Object, String> tagToName;^ [CLASS] NameAllocator  
[REPLACE]^checkNotNull ( tag, "tag" )  ;^109^^^^^108^126^[REPLACE] checkNotNull ( suggestion, "suggestion" ) ;^[METHOD] newName [TYPE] String [PARAMETER] String suggestion Object tag [CLASS] NameAllocator   [TYPE]  Object tag  [TYPE]  Set allocatedNames  [TYPE]  String replaced  suggestion  [TYPE]  boolean false  true  [TYPE]  Map tagToName 
[REPLACE]^checkNotNull ( suggestion, "suggestion" )  ;^110^^^^^108^126^[REPLACE] checkNotNull ( tag, "tag" ) ;^[METHOD] newName [TYPE] String [PARAMETER] String suggestion Object tag [CLASS] NameAllocator   [TYPE]  Object tag  [TYPE]  Set allocatedNames  [TYPE]  String replaced  suggestion  [TYPE]  boolean false  true  [TYPE]  Map tagToName 
[ADD]^^110^^^^^108^126^[ADD] checkNotNull ( tag, "tag" ) ;^[METHOD] newName [TYPE] String [PARAMETER] String suggestion Object tag [CLASS] NameAllocator   [TYPE]  Object tag  [TYPE]  Set allocatedNames  [TYPE]  String replaced  suggestion  [TYPE]  boolean false  true  [TYPE]  Map tagToName 
[REPLACE]^suggestion =  toJavaIdentifier ( null ) ;^112^^^^^108^126^[REPLACE] suggestion = toJavaIdentifier ( suggestion ) ;^[METHOD] newName [TYPE] String [PARAMETER] String suggestion Object tag [CLASS] NameAllocator   [TYPE]  Object tag  [TYPE]  Set allocatedNames  [TYPE]  String replaced  suggestion  [TYPE]  boolean false  true  [TYPE]  Map tagToName 
[ADD]^^115^^^^^108^126^[ADD] suggestion = suggestion + "_";^[METHOD] newName [TYPE] String [PARAMETER] String suggestion Object tag [CLASS] NameAllocator   [TYPE]  Object tag  [TYPE]  Set allocatedNames  [TYPE]  String replaced  suggestion  [TYPE]  boolean false  true  [TYPE]  Map tagToName 
[ADD]^^118^^^^^108^126^[ADD] String replaced = tagToName.put ( tag, suggestion ) ;^[METHOD] newName [TYPE] String [PARAMETER] String suggestion Object tag [CLASS] NameAllocator   [TYPE]  Object tag  [TYPE]  Set allocatedNames  [TYPE]  String replaced  suggestion  [TYPE]  boolean false  true  [TYPE]  Map tagToName 
[REPLACE]^if  ( replaced == null )  {^119^^^^^108^126^[REPLACE] if  ( replaced != null )  {^[METHOD] newName [TYPE] String [PARAMETER] String suggestion Object tag [CLASS] NameAllocator   [TYPE]  Object tag  [TYPE]  Set allocatedNames  [TYPE]  String replaced  suggestion  [TYPE]  boolean false  true  [TYPE]  Map tagToName 
[REPLACE]^return ;^121^122^^^^108^126^[REPLACE] throw new IllegalArgumentException ( "tag " + tag + " cannot be used for both '" + replaced + "' and '" + suggestion + "'" ) ;^[METHOD] newName [TYPE] String [PARAMETER] String suggestion Object tag [CLASS] NameAllocator   [TYPE]  Object tag  [TYPE]  Set allocatedNames  [TYPE]  String replaced  suggestion  [TYPE]  boolean false  true  [TYPE]  Map tagToName 
[REPLACE]^tagToName.put ( tag, suggestion )  ;^120^^^^^108^126^[REPLACE] tagToName.put ( tag, replaced ) ;^[METHOD] newName [TYPE] String [PARAMETER] String suggestion Object tag [CLASS] NameAllocator   [TYPE]  Object tag  [TYPE]  Set allocatedNames  [TYPE]  String replaced  suggestion  [TYPE]  boolean false  true  [TYPE]  Map tagToName 
[ADD]^^121^122^123^^^108^126^[ADD] throw new IllegalArgumentException ( "tag " + tag + " cannot be used for both '" + replaced + "' and '" + suggestion + "'" ) ; }^[METHOD] newName [TYPE] String [PARAMETER] String suggestion Object tag [CLASS] NameAllocator   [TYPE]  Object tag  [TYPE]  Set allocatedNames  [TYPE]  String replaced  suggestion  [TYPE]  boolean false  true  [TYPE]  Map tagToName 
