[REPLACE]^private  String indent;^28^^^^^^^[REPLACE] private final String indent;^ [CLASS] LineWrapper FlushType  
[REPLACE]^private  int columnLimit;^29^^^^^^^[REPLACE] private final int columnLimit;^ [CLASS] LineWrapper FlushType  
[REPLACE]^private  StringBuilder buffer = new StringBuilder (  ) ;^33^^^^^^^[REPLACE] private final StringBuilder buffer = new StringBuilder (  ) ;^ [CLASS] LineWrapper FlushType  
[REPLACE]^private int column ;^36^^^^^^^[REPLACE] private int column = 0;^ [CLASS] LineWrapper FlushType  
[REPLACE]^private int indentLevel  = null ;^41^^^^^^^[REPLACE] private int indentLevel = -1;^ [CLASS] LineWrapper FlushType  
[ADD]^^57^58^59^60^^56^80^[ADD] if   (" ")  ;  if  ( nextFlush != null )  { int nextNewline = s.indexOf ( '\n' ) ;^[METHOD] append [TYPE] void [PARAMETER] String s [CLASS] LineWrapper FlushType   [TYPE]  boolean closed  false  true  wrap  [TYPE]  FlushType EMPTY  SPACE  WRAP  nextFlush  [TYPE]  StringBuilder buffer  [TYPE]  Appendable out  [TYPE]  String indent  s  [TYPE]  int column  columnLimit  indentLevel  lastNewline  nextNewline 
[REPLACE]^return ;^57^^^^^56^80^[REPLACE] if   (" ")  ;^[METHOD] append [TYPE] void [PARAMETER] String s [CLASS] LineWrapper FlushType   [TYPE]  boolean closed  false  true  wrap  [TYPE]  FlushType EMPTY  SPACE  WRAP  nextFlush  [TYPE]  StringBuilder buffer  [TYPE]  Appendable out  [TYPE]  String indent  s  [TYPE]  int column  columnLimit  indentLevel  lastNewline  nextNewline 
[REPLACE]^if  ( nextFlush == this )  {^59^^^^^56^80^[REPLACE] if  ( nextFlush != null )  {^[METHOD] append [TYPE] void [PARAMETER] String s [CLASS] LineWrapper FlushType   [TYPE]  boolean closed  false  true  wrap  [TYPE]  FlushType EMPTY  SPACE  WRAP  nextFlush  [TYPE]  StringBuilder buffer  [TYPE]  Appendable out  [TYPE]  String indent  s  [TYPE]  int column  columnLimit  indentLevel  lastNewline  nextNewline 
[ADD]^int nextNewline = s.indexOf ( '\n' ) ;^59^60^^^^56^80^[ADD] if  ( nextFlush != null )  { int nextNewline = s.indexOf ( '\n' ) ;^[METHOD] append [TYPE] void [PARAMETER] String s [CLASS] LineWrapper FlushType   [TYPE]  boolean closed  false  true  wrap  [TYPE]  FlushType EMPTY  SPACE  WRAP  nextFlush  [TYPE]  StringBuilder buffer  [TYPE]  Appendable out  [TYPE]  String indent  s  [TYPE]  int column  columnLimit  indentLevel  lastNewline  nextNewline 
[REPLACE]^if  (  column + s.indexOf (  )  + 5 <= columnLimit )  {^64^^^^^56^80^[REPLACE] if  ( nextNewline == -1 && column + s.length (  )  <= columnLimit )  {^[METHOD] append [TYPE] void [PARAMETER] String s [CLASS] LineWrapper FlushType   [TYPE]  boolean closed  false  true  wrap  [TYPE]  FlushType EMPTY  SPACE  WRAP  nextFlush  [TYPE]  StringBuilder buffer  [TYPE]  Appendable out  [TYPE]  String indent  s  [TYPE]  int column  columnLimit  indentLevel  lastNewline  nextNewline 
[ADD]^buffer.append ( s ) ;column += s.length (  ) ;return;^64^65^66^67^68^56^80^[ADD] if  ( nextNewline == -1 && column + s.length (  )  <= columnLimit )  { buffer.append ( s ) ; column += s.length (  ) ; return; }^[METHOD] append [TYPE] void [PARAMETER] String s [CLASS] LineWrapper FlushType   [TYPE]  boolean closed  false  true  wrap  [TYPE]  FlushType EMPTY  SPACE  WRAP  nextFlush  [TYPE]  StringBuilder buffer  [TYPE]  Appendable out  [TYPE]  String indent  s  [TYPE]  int column  columnLimit  indentLevel  lastNewline  nextNewline 
[REPLACE]^column += buffer.length (  )  ;^66^^^^^56^80^[REPLACE] column += s.length (  ) ;^[METHOD] append [TYPE] void [PARAMETER] String s [CLASS] LineWrapper FlushType   [TYPE]  boolean closed  false  true  wrap  [TYPE]  FlushType EMPTY  SPACE  WRAP  nextFlush  [TYPE]  StringBuilder buffer  [TYPE]  Appendable out  [TYPE]  String indent  s  [TYPE]  int column  columnLimit  indentLevel  lastNewline  nextNewline 
[ADD]^^66^^^^^56^80^[ADD] column += s.length (  ) ;^[METHOD] append [TYPE] void [PARAMETER] String s [CLASS] LineWrapper FlushType   [TYPE]  boolean closed  false  true  wrap  [TYPE]  FlushType EMPTY  SPACE  WRAP  nextFlush  [TYPE]  StringBuilder buffer  [TYPE]  Appendable out  [TYPE]  String indent  s  [TYPE]  int column  columnLimit  indentLevel  lastNewline  nextNewline 
[REPLACE]^int lastNewline = s.lastIndexOf ( '\n' )  ;^60^^^^^56^80^[REPLACE] int nextNewline = s.indexOf ( '\n' ) ;^[METHOD] append [TYPE] void [PARAMETER] String s [CLASS] LineWrapper FlushType   [TYPE]  boolean closed  false  true  wrap  [TYPE]  FlushType EMPTY  SPACE  WRAP  nextFlush  [TYPE]  StringBuilder buffer  [TYPE]  Appendable out  [TYPE]  String indent  s  [TYPE]  int column  columnLimit  indentLevel  lastNewline  nextNewline 
[ADD]^^71^72^^^^56^80^[ADD] boolean wrap = nextNewline == -1 || column + nextNewline > columnLimit; flush ( wrap ? FlushType.WRAP : nextFlush ) ;^[METHOD] append [TYPE] void [PARAMETER] String s [CLASS] LineWrapper FlushType   [TYPE]  boolean closed  false  true  wrap  [TYPE]  FlushType EMPTY  SPACE  WRAP  nextFlush  [TYPE]  StringBuilder buffer  [TYPE]  Appendable out  [TYPE]  String indent  s  [TYPE]  int column  columnLimit  indentLevel  lastNewline  nextNewline 
[REPLACE]^if  (  column + s.length (  )  + 4 <= columnLimit )  {^64^^^^^56^80^[REPLACE] if  ( nextNewline == -1 && column + s.length (  )  <= columnLimit )  {^[METHOD] append [TYPE] void [PARAMETER] String s [CLASS] LineWrapper FlushType   [TYPE]  boolean closed  false  true  wrap  [TYPE]  FlushType EMPTY  SPACE  WRAP  nextFlush  [TYPE]  StringBuilder buffer  [TYPE]  Appendable out  [TYPE]  String indent  s  [TYPE]  int column  columnLimit  indentLevel  lastNewline  nextNewline 
[ADD]^^64^65^66^67^68^56^80^[ADD] if  ( nextNewline == -1 && column + s.length (  )  <= columnLimit )  { buffer.append ( s ) ; column += s.length (  ) ; return; }^[METHOD] append [TYPE] void [PARAMETER] String s [CLASS] LineWrapper FlushType   [TYPE]  boolean closed  false  true  wrap  [TYPE]  FlushType EMPTY  SPACE  WRAP  nextFlush  [TYPE]  StringBuilder buffer  [TYPE]  Appendable out  [TYPE]  String indent  s  [TYPE]  int column  columnLimit  indentLevel  lastNewline  nextNewline 
[ADD]^return;^66^67^^^^56^80^[ADD] column += s.length (  ) ; return;^[METHOD] append [TYPE] void [PARAMETER] String s [CLASS] LineWrapper FlushType   [TYPE]  boolean closed  false  true  wrap  [TYPE]  FlushType EMPTY  SPACE  WRAP  nextFlush  [TYPE]  StringBuilder buffer  [TYPE]  Appendable out  [TYPE]  String indent  s  [TYPE]  int column  columnLimit  indentLevel  lastNewline  nextNewline 
[REPLACE]^int nextNewline = s .lastIndexOf ( indentLevel )  ;^60^^^^^56^80^[REPLACE] int nextNewline = s.indexOf ( '\n' ) ;^[METHOD] append [TYPE] void [PARAMETER] String s [CLASS] LineWrapper FlushType   [TYPE]  boolean closed  false  true  wrap  [TYPE]  FlushType EMPTY  SPACE  WRAP  nextFlush  [TYPE]  StringBuilder buffer  [TYPE]  Appendable out  [TYPE]  String indent  s  [TYPE]  int column  columnLimit  indentLevel  lastNewline  nextNewline 
[REPLACE]^boolean wrap = nextNewline == -0  <  column + nextNewline > columnLimit;^71^^^^^56^80^[REPLACE] boolean wrap = nextNewline == -1 || column + nextNewline > columnLimit;^[METHOD] append [TYPE] void [PARAMETER] String s [CLASS] LineWrapper FlushType   [TYPE]  boolean closed  false  true  wrap  [TYPE]  FlushType EMPTY  SPACE  WRAP  nextFlush  [TYPE]  StringBuilder buffer  [TYPE]  Appendable out  [TYPE]  String indent  s  [TYPE]  int column  columnLimit  indentLevel  lastNewline  nextNewline 
[REPLACE]^out .wrappingSpace ( columnLimit )  ;^75^^^^^56^80^[REPLACE] out.append ( s ) ;^[METHOD] append [TYPE] void [PARAMETER] String s [CLASS] LineWrapper FlushType   [TYPE]  boolean closed  false  true  wrap  [TYPE]  FlushType EMPTY  SPACE  WRAP  nextFlush  [TYPE]  StringBuilder buffer  [TYPE]  Appendable out  [TYPE]  String indent  s  [TYPE]  int column  columnLimit  indentLevel  lastNewline  nextNewline 
[ADD]^^76^^^^^56^80^[ADD] int lastNewline = s.lastIndexOf ( '\n' ) ;^[METHOD] append [TYPE] void [PARAMETER] String s [CLASS] LineWrapper FlushType   [TYPE]  boolean closed  false  true  wrap  [TYPE]  FlushType EMPTY  SPACE  WRAP  nextFlush  [TYPE]  StringBuilder buffer  [TYPE]  Appendable out  [TYPE]  String indent  s  [TYPE]  int column  columnLimit  indentLevel  lastNewline  nextNewline 
[ADD]^^77^78^79^^^56^80^[ADD] column = lastNewline != -1 ? s.length (  )  - lastNewline - 1 : column + s.length (  ) ;^[METHOD] append [TYPE] void [PARAMETER] String s [CLASS] LineWrapper FlushType   [TYPE]  boolean closed  false  true  wrap  [TYPE]  FlushType EMPTY  SPACE  WRAP  nextFlush  [TYPE]  StringBuilder buffer  [TYPE]  Appendable out  [TYPE]  String indent  s  [TYPE]  int column  columnLimit  indentLevel  lastNewline  nextNewline 
[ADD]^column += buffer.length (  ) ;^116^117^^^^109^132^[ADD] column = indentLevel * indent.length (  ) ; column += buffer.length (  ) ;^[METHOD] flush [TYPE] void [PARAMETER] FlushType flushType [CLASS] LineWrapper FlushType   [TYPE]  boolean closed  false  true  wrap  [TYPE]  FlushType EMPTY  SPACE  WRAP  flushType  nextFlush  [TYPE]  StringBuilder buffer  [TYPE]  Appendable out  [TYPE]  String indent  s  [TYPE]  int column  columnLimit  i  indentLevel  lastNewline  nextNewline 
[REPLACE]^column += s.length (  )  ;^117^^^^^109^132^[REPLACE] column += buffer.length (  ) ;^[METHOD] flush [TYPE] void [PARAMETER] FlushType flushType [CLASS] LineWrapper FlushType   [TYPE]  boolean closed  false  true  wrap  [TYPE]  FlushType EMPTY  SPACE  WRAP  flushType  nextFlush  [TYPE]  StringBuilder buffer  [TYPE]  Appendable out  [TYPE]  String indent  s  [TYPE]  int column  columnLimit  i  indentLevel  lastNewline  nextNewline 
[ADD]^^113^114^115^^^109^132^[ADD] for  ( int i = 0; i < indentLevel; i++ )  { out.append ( indent ) ; }^[METHOD] flush [TYPE] void [PARAMETER] FlushType flushType [CLASS] LineWrapper FlushType   [TYPE]  boolean closed  false  true  wrap  [TYPE]  FlushType EMPTY  SPACE  WRAP  flushType  nextFlush  [TYPE]  StringBuilder buffer  [TYPE]  Appendable out  [TYPE]  String indent  s  [TYPE]  int column  columnLimit  i  indentLevel  lastNewline  nextNewline 
[REPLACE]^throw new IllegalStateException ( "closed" )  ;^125^^^^^109^132^[REPLACE] throw new IllegalArgumentException  (" ")  ;^[METHOD] flush [TYPE] void [PARAMETER] FlushType flushType [CLASS] LineWrapper FlushType   [TYPE]  boolean closed  false  true  wrap  [TYPE]  FlushType EMPTY  SPACE  WRAP  flushType  nextFlush  [TYPE]  StringBuilder buffer  [TYPE]  Appendable out  [TYPE]  String indent  s  [TYPE]  int column  columnLimit  i  indentLevel  lastNewline  nextNewline 
[REPLACE]^out.append ( s )  ;^128^^^^^109^132^[REPLACE] out.append ( buffer ) ;^[METHOD] flush [TYPE] void [PARAMETER] FlushType flushType [CLASS] LineWrapper FlushType   [TYPE]  boolean closed  false  true  wrap  [TYPE]  FlushType EMPTY  SPACE  WRAP  flushType  nextFlush  [TYPE]  StringBuilder buffer  [TYPE]  Appendable out  [TYPE]  String indent  s  [TYPE]  int column  columnLimit  i  indentLevel  lastNewline  nextNewline 
[REPLACE]^buffer.delete ( 0 , buffer.length (  )  ) ;^129^^^^^109^132^[REPLACE] buffer.delete ( 0, buffer.length (  )  ) ;^[METHOD] flush [TYPE] void [PARAMETER] FlushType flushType [CLASS] LineWrapper FlushType   [TYPE]  boolean closed  false  true  wrap  [TYPE]  FlushType EMPTY  SPACE  WRAP  flushType  nextFlush  [TYPE]  StringBuilder buffer  [TYPE]  Appendable out  [TYPE]  String indent  s  [TYPE]  int column  columnLimit  i  indentLevel  lastNewline  nextNewline 
[REPLACE]^buffer.delete ( 0, buffer .lastIndexOf ( i )   ) ;^129^^^^^109^132^[REPLACE] buffer.delete ( 0, buffer.length (  )  ) ;^[METHOD] flush [TYPE] void [PARAMETER] FlushType flushType [CLASS] LineWrapper FlushType   [TYPE]  boolean closed  false  true  wrap  [TYPE]  FlushType EMPTY  SPACE  WRAP  flushType  nextFlush  [TYPE]  StringBuilder buffer  [TYPE]  Appendable out  [TYPE]  String indent  s  [TYPE]  int column  columnLimit  i  indentLevel  lastNewline  nextNewline 
[ADD]^^129^^^^^109^132^[ADD] buffer.delete ( 0, buffer.length (  )  ) ;^[METHOD] flush [TYPE] void [PARAMETER] FlushType flushType [CLASS] LineWrapper FlushType   [TYPE]  boolean closed  false  true  wrap  [TYPE]  FlushType EMPTY  SPACE  WRAP  flushType  nextFlush  [TYPE]  StringBuilder buffer  [TYPE]  Appendable out  [TYPE]  String indent  s  [TYPE]  int column  columnLimit  i  indentLevel  lastNewline  nextNewline 
[ADD]^^130^^^^^109^132^[ADD] indentLevel = -1;^[METHOD] flush [TYPE] void [PARAMETER] FlushType flushType [CLASS] LineWrapper FlushType   [TYPE]  boolean closed  false  true  wrap  [TYPE]  FlushType EMPTY  SPACE  WRAP  flushType  nextFlush  [TYPE]  StringBuilder buffer  [TYPE]  Appendable out  [TYPE]  String indent  s  [TYPE]  int column  columnLimit  i  indentLevel  lastNewline  nextNewline 
[REPLACE]^nextFlush = this;^131^^^^^109^132^[REPLACE] nextFlush = null;^[METHOD] flush [TYPE] void [PARAMETER] FlushType flushType [CLASS] LineWrapper FlushType   [TYPE]  boolean closed  false  true  wrap  [TYPE]  FlushType EMPTY  SPACE  WRAP  flushType  nextFlush  [TYPE]  StringBuilder buffer  [TYPE]  Appendable out  [TYPE]  String indent  s  [TYPE]  int column  columnLimit  i  indentLevel  lastNewline  nextNewline 
