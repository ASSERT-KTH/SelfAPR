[REPLACE]^private static final Map<String, Tag> tags  = null ;^13^^^^^^^[REPLACE] private static final Map<String, Tag> tags = new HashMap<String, Tag> (  ) ;^ [CLASS] Tag  
[REPLACE]^private static  Tag defaultAncestor;^14^^^^^^^[REPLACE] private static final Tag defaultAncestor;^ [CLASS] Tag  
[REPLACE]^private  byte  tagName;^20^^^^^^^[REPLACE] private String tagName;^ [CLASS] Tag  
[REPLACE]^private boolean isBlock  = null ;^21^^^^^^^[REPLACE] private boolean isBlock = true;^ [CLASS] Tag  
[REPLACE]^private boolean canContainBlock  = null ;^22^^^^^^^[REPLACE] private boolean canContainBlock = true;^ [CLASS] Tag  
[REPLACE]^private boolean canContainInline  = null ;^23^^^^^^^[REPLACE] private boolean canContainInline = true;^ [CLASS] Tag  
[REPLACE]^private boolean optionalClosing ;^24^^^^^^^[REPLACE] private boolean optionalClosing = false;^ [CLASS] Tag  
[REPLACE]^private boolean empty  = null ;^25^^^^^^^[REPLACE] private boolean empty = false;^ [CLASS] Tag  
[REPLACE]^private boolean preserveWhitespace ;^26^^^^^^^[REPLACE] private boolean preserveWhitespace = false;^ [CLASS] Tag  
[REPLACE]^this.tagName =  null.toLowerCase (  ) ;^30^^^^^29^31^[REPLACE] this.tagName = tagName.toLowerCase (  ) ;^[METHOD] <init> [TYPE] String) [PARAMETER] String tagName [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag defaultAncestor  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^return tag;^34^^^^^33^35^[REPLACE] return tagName;^[METHOD] getName [TYPE] String [PARAMETER] [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag defaultAncestor  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^Validate .notEmpty ( tagName )  ;^45^^^^^44^60^[REPLACE] Validate.notNull ( tagName ) ;^[METHOD] valueOf [TYPE] Tag [PARAMETER] String tagName [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^tagName =  null.trim (  ) .toLowerCase (  ) ;^46^^^^^44^60^[REPLACE] tagName = tagName.trim (  ) .toLowerCase (  ) ;^[METHOD] valueOf [TYPE] Tag [PARAMETER] String tagName [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^Validate .notNull ( tagName )  ;^47^^^^^44^60^[REPLACE] Validate.notEmpty ( tagName ) ;^[METHOD] valueOf [TYPE] Tag [PARAMETER] String tagName [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[ADD]^^47^^^^^44^60^[ADD] Validate.notEmpty ( tagName ) ;^[METHOD] valueOf [TYPE] Tag [PARAMETER] String tagName [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^if  ( tag != null )  {^51^^^^^44^60^[REPLACE] if  ( tag == null )  {^[METHOD] valueOf [TYPE] Tag [PARAMETER] String tagName [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^tag =  new Tag ( null ) ;^53^^^^^44^60^[REPLACE] tag = new Tag ( tagName ) ;^[METHOD] valueOf [TYPE] Tag [PARAMETER] String tagName [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^tag.isBlock = true;^55^^^^^44^60^[REPLACE] tag.isBlock = false;^[METHOD] valueOf [TYPE] Tag [PARAMETER] String tagName [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^tag.canContainBlock = false;^56^^^^^44^60^[REPLACE] tag.canContainBlock = true;^[METHOD] valueOf [TYPE] Tag [PARAMETER] String tagName [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[ADD]^^53^^^^^44^60^[ADD] tag = new Tag ( tagName ) ;^[METHOD] valueOf [TYPE] Tag [PARAMETER] String tagName [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[ADD]^^55^^^^^44^60^[ADD] tag.isBlock = false;^[METHOD] valueOf [TYPE] Tag [PARAMETER] String tagName [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^return defaultAncestor;^58^^^^^44^60^[REPLACE] return tag;^[METHOD] valueOf [TYPE] Tag [PARAMETER] String tagName [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^int result = tagName != null ? tagName.hashCode (  )  : 0;^50^^^^^44^60^[REPLACE] Tag tag = tags.get ( tagName ) ;^[METHOD] valueOf [TYPE] Tag [PARAMETER] String tagName [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^Validate.notNull ( defaultAncestor ) ;^68^^^^^67^99^[REPLACE] Validate.notNull ( child ) ;^[METHOD] canContain [TYPE] boolean [PARAMETER] Tag child [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[ADD]^^68^^^^^67^99^[ADD] Validate.notNull ( child ) ;^[METHOD] canContain [TYPE] boolean [PARAMETER] Tag child [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^if  ( defaultAncestor.isBlock && this.canContainBlock ) return true;^70^71^^^^67^99^[REPLACE] if  ( child.isBlock && !this.canContainBlock ) return false;^[METHOD] canContain [TYPE] boolean [PARAMETER] Tag child [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REMOVE]^if  (  ( equals ( "dt" )  )  &&  ( equals ( "dd" )  )  )      return false;^70^^^^^67^99^[REMOVE] ^[METHOD] canContain [TYPE] boolean [PARAMETER] Tag child [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^return true;^71^^^^^67^99^[REPLACE] return false;^[METHOD] canContain [TYPE] boolean [PARAMETER] Tag child [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^if  ( child.isBlock && !this.canContainInline ) return false;^73^74^^^^67^99^[REPLACE] if  ( !child.isBlock && !this.canContainInline ) return false;^[METHOD] canContain [TYPE] boolean [PARAMETER] Tag child [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^return true;^74^^^^^67^99^[REPLACE] return false;^[METHOD] canContain [TYPE] boolean [PARAMETER] Tag child [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^if  ( this.optionalClosing || this.equals ( defaultAncestor )  ) return false;^76^77^^^^67^99^[REPLACE] if  ( this.optionalClosing && this.equals ( child )  ) return false;^[METHOD] canContain [TYPE] boolean [PARAMETER] Tag child [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^return true;^77^^^^^67^99^[REPLACE] return false;^[METHOD] canContain [TYPE] boolean [PARAMETER] Tag child [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^if  ( this.empty &&isBlock (  )  ) return true;^79^80^^^^67^99^[REPLACE] if  ( this.empty || this.isData (  )  ) return false;^[METHOD] canContain [TYPE] boolean [PARAMETER] Tag child [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REMOVE]^if  (  ( equals ( "dt" )  )  &&  ( equals ( "dd" )  )  )      return false;^79^^^^^67^99^[REMOVE] ^[METHOD] canContain [TYPE] boolean [PARAMETER] Tag child [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^return true;^80^^^^^67^99^[REPLACE] return false;^[METHOD] canContain [TYPE] boolean [PARAMETER] Tag child [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^if  ( this.tagName .setOptionalClosing (  )   )  {^84^^^^^67^99^[REPLACE] if  ( this.tagName.equals ( "head" )  )  {^[METHOD] canContain [TYPE] boolean [PARAMETER] Tag child [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[ADD]^^84^85^86^87^88^67^99^[ADD] if  ( this.tagName.equals ( "head" )  )  { if  ( child.tagName.equals ( "base" )  || child.tagName.equals ( "script" )  || child.tagName.equals ( "noscript" )  || child.tagName.equals ( "link" )  || child.tagName.equals ( "meta" )  || child.tagName.equals ( "title" )  || child.tagName.equals ( "style" )  || child.tagName.equals ( "object" )  )  { return true; }^[METHOD] canContain [TYPE] boolean [PARAMETER] Tag child [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^if  (  child.tagName.equals ( "script" )  && child.tagName.equals ( "noscript" )  && child.tagName.equals ( "link" )  && child.tagName.equals ( "meta" )  && child.tagName.equals ( "title" )  && child.tagName.equals ( "style" )  && child.tagName.equals ( "object" )  )  {^85^86^^^^67^99^[REPLACE] if  ( child.tagName.equals ( "base" )  || child.tagName.equals ( "script" )  || child.tagName.equals ( "noscript" )  || child.tagName.equals ( "link" )  || child.tagName.equals ( "meta" )  || child.tagName.equals ( "title" )  || child.tagName.equals ( "style" )  || child.tagName.equals ( "object" )  )  {^[METHOD] canContain [TYPE] boolean [PARAMETER] Tag child [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^return false;^87^^^^^85^88^[REPLACE] return true;^[METHOD] canContain [TYPE] boolean [PARAMETER] Tag child [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^return false;^87^^^^^67^99^[REPLACE] return true;^[METHOD] canContain [TYPE] boolean [PARAMETER] Tag child [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^return true;^89^^^^^67^99^[REPLACE] return false;^[METHOD] canContain [TYPE] boolean [PARAMETER] Tag child [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^if  ( child.tagName.equals ( "base" )  && child.tagName.equals ( "script" )  && child.tagName.equals ( "noscript" )  && child.tagName.equals ( "link" )  && child.tagName.equals ( "meta" )  && child.tagName.equals ( "title" )  && child.tagName.equals ( "style" )  && child.tagName.equals ( "object" )  )  {^85^86^^^^67^99^[REPLACE] if  ( child.tagName.equals ( "base" )  || child.tagName.equals ( "script" )  || child.tagName.equals ( "noscript" )  || child.tagName.equals ( "link" )  || child.tagName.equals ( "meta" )  || child.tagName.equals ( "title" )  || child.tagName.equals ( "style" )  || child.tagName.equals ( "object" )  )  {^[METHOD] canContain [TYPE] boolean [PARAMETER] Tag child [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^if  ( this.tagName.equals ( "dt" )  || defaultAncestor.tagName.equals ( "dd" )  ) return false;^93^94^^^^67^99^[REPLACE] if  ( this.tagName.equals ( "dt" )  && child.tagName.equals ( "dd" )  ) return false;^[METHOD] canContain [TYPE] boolean [PARAMETER] Tag child [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^return true;^94^^^^^67^99^[REPLACE] return false;^[METHOD] canContain [TYPE] boolean [PARAMETER] Tag child [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^if  ( this.tagName .setOptionalClosing (  )   || child.tagName^95^96^^^^67^99^[REPLACE] if  ( this.tagName.equals ( "dd" )  && child.tagName.equals ( "dt" )  ) return false;^[METHOD] canContain [TYPE] boolean [PARAMETER] Tag child [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^return true;^96^^^^^67^99^[REPLACE] return false;^[METHOD] canContain [TYPE] boolean [PARAMETER] Tag child [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^return false;^98^^^^^67^99^[REPLACE] return true;^[METHOD] canContain [TYPE] boolean [PARAMETER] Tag child [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^return !isBlock;^106^^^^^105^107^[REPLACE] return isBlock;^[METHOD] isBlock [TYPE] boolean [PARAMETER] [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^return tag;^114^^^^^113^115^[REPLACE] return canContainBlock;^[METHOD] canContainBlock [TYPE] boolean [PARAMETER] [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^return isBlock;^122^^^^^121^123^[REPLACE] return !isBlock;^[METHOD] isInline [TYPE] boolean [PARAMETER] [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^return canContainInline || !isEmpty (  ) ;^130^^^^^129^131^[REPLACE] return !canContainInline && !isEmpty (  ) ;^[METHOD] isData [TYPE] boolean [PARAMETER] [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^return tag;^138^^^^^137^139^[REPLACE] return empty;^[METHOD] isEmpty [TYPE] boolean [PARAMETER] [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^return tag;^146^^^^^145^147^[REPLACE] return preserveWhitespace;^[METHOD] preserveWhitespace [TYPE] boolean [PARAMETER] [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^return  ( !ancestors.isEmpty (  )  )  ? ancestors.add ( 0 )  : null;^150^^^^^149^151^[REPLACE] return  ( !ancestors.isEmpty (  )  )  ? ancestors.get ( 0 )  : null;^[METHOD] getImplicitParent [TYPE] Tag [PARAMETER] [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^if  ( child.ancestors.isEmpty (  )  ) return false;^154^155^^^^153^162^[REPLACE] if  ( child.ancestors.isEmpty (  )  ) return true;^[METHOD] isValidParent [TYPE] boolean [PARAMETER] Tag child [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^return false;^155^^^^^153^162^[REPLACE] return true;^[METHOD] isValidParent [TYPE] boolean [PARAMETER] Tag child [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^if  ( this.equals ( tag )  ) return false;^158^159^^^^153^162^[REPLACE] if  ( this.equals ( tag )  ) return true;^[METHOD] isValidParent [TYPE] boolean [PARAMETER] Tag child [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^return false;^159^^^^^153^162^[REPLACE] return true;^[METHOD] isValidParent [TYPE] boolean [PARAMETER] Tag child [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^for  ( String name : tagNames )  { ancestors.add ( Tag.valueOf ( name )  ) ;^157^^^^^153^162^[REPLACE] for  ( Tag tag : child.ancestors )  {^[METHOD] isValidParent [TYPE] boolean [PARAMETER] Tag child [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^return true;^161^^^^^153^162^[REPLACE] return false;^[METHOD] isValidParent [TYPE] boolean [PARAMETER] Tag child [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^if  ( tag  &&  o )  return true;^166^^^^^165^179^[REPLACE] if  ( this == o )  return true;^[METHOD] equals [TYPE] boolean [PARAMETER] Object o [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  Object o  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^if  ( this == o )  return false;^166^^^^^165^179^[REPLACE] if  ( this == o )  return true;^[METHOD] equals [TYPE] boolean [PARAMETER] Object o [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  Object o  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^if  ( o != true || getClass (  )  != o.getClass (  )  )  return false;^167^^^^^165^179^[REPLACE] if  ( o == null || getClass (  )  != o.getClass (  )  )  return false;^[METHOD] equals [TYPE] boolean [PARAMETER] Object o [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  Object o  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^if  ( o == null || getClass (  )  != o.getClass (  )  )  return true;^167^^^^^165^179^[REPLACE] if  ( o == null || getClass (  )  != o.getClass (  )  )  return false;^[METHOD] equals [TYPE] boolean [PARAMETER] Object o [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  Object o  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^Tag tag = tags.get ( tagName ) ;^169^^^^^165^179^[REPLACE] Tag tag =  ( Tag )  o;^[METHOD] equals [TYPE] boolean [PARAMETER] Object o [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  Object o  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^if  ( canContainBlock  == true )  return false;^171^^^^^165^179^[REPLACE] if  ( canContainBlock != tag.canContainBlock )  return false;^[METHOD] equals [TYPE] boolean [PARAMETER] Object o [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  Object o  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REMOVE]^if  (  ( equals ( "dt" )  )  &&  ( equals ( "dd" )  )  )      return false;^171^^^^^165^179^[REMOVE] ^[METHOD] equals [TYPE] boolean [PARAMETER] Object o [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  Object o  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^if  ( canContainInline != tag.canContainInline )  return false;^171^^^^^165^179^[REPLACE] if  ( canContainBlock != tag.canContainBlock )  return false;^[METHOD] equals [TYPE] boolean [PARAMETER] Object o [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  Object o  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^if  ( canContainBlock != tag.canContainBlock )  return true;^171^^^^^165^179^[REPLACE] if  ( canContainBlock != tag.canContainBlock )  return false;^[METHOD] equals [TYPE] boolean [PARAMETER] Object o [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  Object o  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^if  ( canContainInline  == true )  return false;^172^^^^^165^179^[REPLACE] if  ( canContainInline != tag.canContainInline )  return false;^[METHOD] equals [TYPE] boolean [PARAMETER] Object o [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  Object o  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[ADD]^if  ( empty != tag.empty )  return false;if  ( isBlock != tag.isBlock )  return false;if  ( optionalClosing != tag.optionalClosing )  return false;if  ( tagName != null ? !tagName.equals ( tag.tagName )  : tag.tagName != null )  return false;^172^173^174^175^176^165^179^[ADD] if  ( canContainInline != tag.canContainInline )  return false; if  ( empty != tag.empty )  return false; if  ( isBlock != tag.isBlock )  return false; if  ( optionalClosing != tag.optionalClosing )  return false; if  ( tagName != null ? !tagName.equals ( tag.tagName )  : tag.tagName != null )  return false;^[METHOD] equals [TYPE] boolean [PARAMETER] Object o [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  Object o  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^if  ( canContainInline != tag.canContainInline )  return true;^172^^^^^165^179^[REPLACE] if  ( canContainInline != tag.canContainInline )  return false;^[METHOD] equals [TYPE] boolean [PARAMETER] Object o [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  Object o  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^if  ( empty  ==  defaultAncestor.empty )  return false;^173^^^^^165^179^[REPLACE] if  ( empty != tag.empty )  return false;^[METHOD] equals [TYPE] boolean [PARAMETER] Object o [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  Object o  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^if  ( empty != tag.empty )  return true;^173^^^^^165^179^[REPLACE] if  ( empty != tag.empty )  return false;^[METHOD] equals [TYPE] boolean [PARAMETER] Object o [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  Object o  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^if  ( isBlock  == preserveWhitespace )  return false;^174^^^^^165^179^[REPLACE] if  ( isBlock != tag.isBlock )  return false;^[METHOD] equals [TYPE] boolean [PARAMETER] Object o [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  Object o  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[ADD]^^174^175^176^^178^165^179^[ADD] if  ( isBlock != tag.isBlock )  return false; if  ( optionalClosing != tag.optionalClosing )  return false; if  ( tagName != null ? !tagName.equals ( tag.tagName )  : tag.tagName != null )  return false; return true;^[METHOD] equals [TYPE] boolean [PARAMETER] Object o [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  Object o  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^if  ( isBlock != tag.isBlock )  return true;^174^^^^^165^179^[REPLACE] if  ( isBlock != tag.isBlock )  return false;^[METHOD] equals [TYPE] boolean [PARAMETER] Object o [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  Object o  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^if  ( optionalClosing  ==  defaultAncestor.optionalClosing )  return false;^175^^^^^165^179^[REPLACE] if  ( optionalClosing != tag.optionalClosing )  return false;^[METHOD] equals [TYPE] boolean [PARAMETER] Object o [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  Object o  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[ADD]^if  ( tagName != null ? !tagName.equals ( tag.tagName )  : tag.tagName != null )  return false;return true;^175^176^^178^179^165^179^[ADD] if  ( optionalClosing != tag.optionalClosing )  return false; if  ( tagName != null ? !tagName.equals ( tag.tagName )  : tag.tagName != null )  return false; return true; }^[METHOD] equals [TYPE] boolean [PARAMETER] Object o [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  Object o  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^if  ( optionalClosing != tag.optionalClosing )  return true;^175^^^^^165^179^[REPLACE] if  ( optionalClosing != tag.optionalClosing )  return false;^[METHOD] equals [TYPE] boolean [PARAMETER] Object o [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  Object o  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^if  ( tagName ! =  tag.tagName != null )  return false;^176^^^^^165^179^[REPLACE] if  ( tagName != null ? !tagName.equals ( tag.tagName )  : tag.tagName != null )  return false;^[METHOD] equals [TYPE] boolean [PARAMETER] Object o [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  Object o  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[ADD]^^176^177^178^179^^165^179^[ADD] if  ( tagName != null ? !tagName.equals ( tag.tagName )  : tag.tagName != null )  return false;  return true; }^[METHOD] equals [TYPE] boolean [PARAMETER] Object o [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  Object o  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^if  ( tagName != null ? !tagName.equals ( tag.tagName )  : tag.tagName != null )  return true;^176^^^^^165^179^[REPLACE] if  ( tagName != null ? !tagName.equals ( tag.tagName )  : tag.tagName != null )  return false;^[METHOD] equals [TYPE] boolean [PARAMETER] Object o [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  Object o  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^return false;^178^^^^^165^179^[REPLACE] return true;^[METHOD] equals [TYPE] boolean [PARAMETER] Object o [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  Object o  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^int result  =  tagName.hashCode (  )  ;^183^^^^^182^190^[REPLACE] int result = tagName != null ? tagName.hashCode (  )  : 0;^[METHOD] hashCode [TYPE] int [PARAMETER] [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags  [TYPE]  int result 
[REPLACE]^result  =  0 ) ;^184^^^^^182^190^[REPLACE] result = 31 * result +  ( isBlock ? 1 : 0 ) ;^[METHOD] hashCode [TYPE] int [PARAMETER] [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags  [TYPE]  int result 
[REPLACE]^result = 31 * result  ^   ( canContainBlock ? 1 : 0 ) ;^185^^^^^182^190^[REPLACE] result = 31 * result +  ( canContainBlock ? 1 : 0 ) ;^[METHOD] hashCode [TYPE] int [PARAMETER] [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags  [TYPE]  int result 
[REPLACE]^result  =  0 ) ;^186^^^^^182^190^[REPLACE] result = 31 * result +  ( canContainInline ? 1 : 0 ) ;^[METHOD] hashCode [TYPE] int [PARAMETER] [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags  [TYPE]  int result 
[REPLACE]^result  =  1 ;^187^^^^^182^190^[REPLACE] result = 31 * result +  ( optionalClosing ? 1 : 0 ) ;^[METHOD] hashCode [TYPE] int [PARAMETER] [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags  [TYPE]  int result 
[REPLACE]^result  =  0 ) ;^188^^^^^182^190^[REPLACE] result = 31 * result +  ( empty ? 1 : 0 ) ;^[METHOD] hashCode [TYPE] int [PARAMETER] [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags  [TYPE]  int result 
[REPLACE]^return tag;^189^^^^^182^190^[REPLACE] return result;^[METHOD] hashCode [TYPE] int [PARAMETER] [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags  [TYPE]  int result 
[REPLACE]^return tag;^193^^^^^192^194^[REPLACE] return tagName;^[METHOD] toString [TYPE] String [PARAMETER] [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^return  ( !ancestors.isEmpty (  )  )  ? ancestors.get ( 0 )  : null;^315^^^^^314^316^[REPLACE] return register ( new Tag ( tagName )  ) ;^[METHOD] createBlock [TYPE] Tag [PARAMETER] String tagName [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^Tag tag = tags.get ( tagName ) ;^319^^^^^318^323^[REPLACE] Tag inline = new Tag ( tagName ) ;^[METHOD] createInline [TYPE] Tag [PARAMETER] String tagName [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  inline  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^inline.isBlock = true;^320^^^^^318^323^[REPLACE] inline.isBlock = false;^[METHOD] createInline [TYPE] Tag [PARAMETER] String tagName [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  inline  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^inline.canContainBlock = true;^321^^^^^318^323^[REPLACE] inline.canContainBlock = false;^[METHOD] createInline [TYPE] Tag [PARAMETER] String tagName [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  inline  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[ADD]^^321^^^^^318^323^[ADD] inline.canContainBlock = false;^[METHOD] createInline [TYPE] Tag [PARAMETER] String tagName [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  inline  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^return register ( defaultAncestor ) ;^322^^^^^318^323^[REPLACE] return register ( inline ) ;^[METHOD] createInline [TYPE] Tag [PARAMETER] String tagName [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  inline  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^tag.valueOf ( defaultAncestor.tagName ) ;^326^^^^^325^331^[REPLACE] tag.setAncestor ( defaultAncestor.tagName ) ;^[METHOD] register [TYPE] Tag [PARAMETER] Tag tag [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  inline  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REMOVE]^ancestors.add ( Tag.valueOf ( name )  ) ;^326^^^^^325^331^[REMOVE] ^[METHOD] register [TYPE] Tag [PARAMETER] Tag tag [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  inline  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^tags.put ( defaultAncestor.tagName, tag ) ;^328^^^^^325^331^[REPLACE] tags.put ( tag.tagName, tag ) ;^[METHOD] register [TYPE] Tag [PARAMETER] Tag tag [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  inline  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[ADD]^^328^^^^^325^331^[ADD] tags.put ( tag.tagName, tag ) ;^[METHOD] register [TYPE] Tag [PARAMETER] Tag tag [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  inline  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^return defaultAncestor;^330^^^^^325^331^[REPLACE] return tag;^[METHOD] register [TYPE] Tag [PARAMETER] Tag tag [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  inline  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^canContainBlock = true;^334^^^^^333^337^[REPLACE] canContainBlock = false;^[METHOD] setContainInlineOnly [TYPE] Tag [PARAMETER] [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  inline  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^canContainInline = false;^335^^^^^333^337^[REPLACE] canContainInline = true;^[METHOD] setContainInlineOnly [TYPE] Tag [PARAMETER] [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  inline  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^return null;^336^^^^^333^337^[REPLACE] return this;^[METHOD] setContainInlineOnly [TYPE] Tag [PARAMETER] [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  inline  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^canContainBlock = true;^340^^^^^339^344^[REPLACE] canContainBlock = false;^[METHOD] setContainDataOnly [TYPE] Tag [PARAMETER] [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  inline  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^canContainInline = true;^341^^^^^339^344^[REPLACE] canContainInline = false;^[METHOD] setContainDataOnly [TYPE] Tag [PARAMETER] [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  inline  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^preserveWhitespace = false;^342^^^^^339^344^[REPLACE] preserveWhitespace = true;^[METHOD] setContainDataOnly [TYPE] Tag [PARAMETER] [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  inline  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^return null;^343^^^^^339^344^[REPLACE] return this;^[METHOD] setContainDataOnly [TYPE] Tag [PARAMETER] [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  inline  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^canContainBlock = true;^347^^^^^346^351^[REPLACE] canContainBlock = false;^[METHOD] setEmpty [TYPE] Tag [PARAMETER] [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  inline  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^canContainInline = true;^348^^^^^346^351^[REPLACE] canContainInline = false;^[METHOD] setEmpty [TYPE] Tag [PARAMETER] [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  inline  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^empty = false;^349^^^^^346^351^[REPLACE] empty = true;^[METHOD] setEmpty [TYPE] Tag [PARAMETER] [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  inline  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^return null;^350^^^^^346^351^[REPLACE] return this;^[METHOD] setEmpty [TYPE] Tag [PARAMETER] [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  inline  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^optionalClosing = false;^354^^^^^353^356^[REPLACE] optionalClosing = true;^[METHOD] setOptionalClosing [TYPE] Tag [PARAMETER] [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  inline  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[ADD]^^354^^^^^353^356^[ADD] optionalClosing = true;^[METHOD] setOptionalClosing [TYPE] Tag [PARAMETER] [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  inline  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^return null;^355^^^^^353^356^[REPLACE] return this;^[METHOD] setOptionalClosing [TYPE] Tag [PARAMETER] [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  inline  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^preserveWhitespace = false;^359^^^^^358^361^[REPLACE] preserveWhitespace = true;^[METHOD] setPreserveWhitespace [TYPE] Tag [PARAMETER] [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  inline  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^return null;^360^^^^^358^361^[REPLACE] return this;^[METHOD] setPreserveWhitespace [TYPE] Tag [PARAMETER] [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  inline  tag  [TYPE]  String tagName  [TYPE]  Map tags 
[REPLACE]^if  ( tagNames != null )  {^364^^^^^363^373^[REPLACE] if  ( tagNames == null )  {^[METHOD] setAncestor [TYPE] Tag [PARAMETER]  tagNames [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  inline  tag  [TYPE]  String name  tagName  [TYPE]  String[] tagNames  [TYPE]  Map tags 
[REPLACE]^ancestors =  new ArrayList<Tag> ( null.length ) ;^367^^^^^363^373^[REPLACE] ancestors = new ArrayList<Tag> ( tagNames.length ) ;^[METHOD] setAncestor [TYPE] Tag [PARAMETER]  tagNames [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  inline  tag  [TYPE]  String name  tagName  [TYPE]  String[] tagNames  [TYPE]  Map tags 
[ADD]^^367^^^^^363^373^[ADD] ancestors = new ArrayList<Tag> ( tagNames.length ) ;^[METHOD] setAncestor [TYPE] Tag [PARAMETER]  tagNames [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  inline  tag  [TYPE]  String name  tagName  [TYPE]  String[] tagNames  [TYPE]  Map tags 
[REPLACE]^Tag tag = tags.get ( tagName ) ;^368^^^^^363^373^[REPLACE] for  ( String name : tagNames )  {^[METHOD] setAncestor [TYPE] Tag [PARAMETER]  tagNames [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  inline  tag  [TYPE]  String name  tagName  [TYPE]  String[] tagNames  [TYPE]  Map tags 
[REPLACE]^ancestors  =  ancestors ;^365^^^^^363^373^[REPLACE] ancestors = Collections.emptyList (  ) ;^[METHOD] setAncestor [TYPE] Tag [PARAMETER]  tagNames [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  inline  tag  [TYPE]  String name  tagName  [TYPE]  String[] tagNames  [TYPE]  Map tags 
[ADD]^^368^369^370^^^363^373^[ADD] for  ( String name : tagNames )  { ancestors.add ( Tag.valueOf ( name )  ) ; }^[METHOD] setAncestor [TYPE] Tag [PARAMETER]  tagNames [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  inline  tag  [TYPE]  String name  tagName  [TYPE]  String[] tagNames  [TYPE]  Map tags 
[REPLACE]^return null;^372^^^^^363^373^[REPLACE] return this;^[METHOD] setAncestor [TYPE] Tag [PARAMETER]  tagNames [CLASS] Tag   [TYPE]  List ancestors  [TYPE]  boolean canContainBlock  canContainInline  empty  false  isBlock  optionalClosing  preserveWhitespace  true  [TYPE]  Tag child  defaultAncestor  inline  tag  [TYPE]  String name  tagName  [TYPE]  String[] tagNames  [TYPE]  Map tags 
