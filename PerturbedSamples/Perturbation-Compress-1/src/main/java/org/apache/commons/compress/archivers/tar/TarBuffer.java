[REPLACE]^public static final int DEFAULT_RCDSIZE  = null ;^42^^^^^^^[REPLACE] public static final int DEFAULT_RCDSIZE =  ( 512 ) ;^ [CLASS] TarBuffer  
[REPLACE]^public static final int DEFAULT_BLKSIZE  = null ;^45^^^^^^^[REPLACE] public static final int DEFAULT_BLKSIZE =  ( DEFAULT_RCDSIZE * 20 ) ;^ [CLASS] TarBuffer  
[REPLACE]^private  long              currRecIdx;^51^^^^^^^[REPLACE] private int             currRecIdx;^ [CLASS] TarBuffer  
[REPLACE]^private  short              blockSize;^52^^^^^^^[REPLACE] private int             blockSize;^ [CLASS] TarBuffer  
[REPLACE]^this ( outStream, TarBuffer.DEFAULT_BLKSIZE ) ;^62^^^^^61^63^[REPLACE] this ( inStream, TarBuffer.DEFAULT_BLKSIZE ) ;^[METHOD] <init> [TYPE] InputStream) [PARAMETER] InputStream inStream [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  recordSize  recsPerBlock  [TYPE]  OutputStream outStream 
[REPLACE]^this ( outStream, blockSize, TarBuffer.DEFAULT_RCDSIZE ) ;^71^^^^^70^72^[REPLACE] this ( inStream, blockSize, TarBuffer.DEFAULT_RCDSIZE ) ;^[METHOD] <init> [TYPE] InputStream,int) [PARAMETER] InputStream inStream int blockSize [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  recordSize  recsPerBlock  [TYPE]  OutputStream outStream 
[ADD]^^71^^^^^70^72^[ADD] this ( inStream, blockSize, TarBuffer.DEFAULT_RCDSIZE ) ;^[METHOD] <init> [TYPE] InputStream,int) [PARAMETER] InputStream inStream int blockSize [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  recordSize  recsPerBlock  [TYPE]  OutputStream outStream 
[REPLACE]^this.outStream = outStream; ;^81^^^^^80^85^[REPLACE] this.inStream = inStream;^[METHOD] <init> [TYPE] InputStream,int,int) [PARAMETER] InputStream inStream int blockSize int recordSize [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  recordSize  recsPerBlock  [TYPE]  OutputStream outStream 
[REPLACE]^this.outStream = true;^82^^^^^80^85^[REPLACE] this.outStream = null;^[METHOD] <init> [TYPE] InputStream,int,int) [PARAMETER] InputStream inStream int blockSize int recordSize [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  recordSize  recsPerBlock  [TYPE]  OutputStream outStream 
[REPLACE]^this.writeRecord ( blockSize, recordSize ) ;^84^^^^^80^85^[REPLACE] this.initialize ( blockSize, recordSize ) ;^[METHOD] <init> [TYPE] InputStream,int,int) [PARAMETER] InputStream inStream int blockSize int recordSize [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  recordSize  recsPerBlock  [TYPE]  OutputStream outStream 
[ADD]^^84^^^^^80^85^[ADD] this.initialize ( blockSize, recordSize ) ;^[METHOD] <init> [TYPE] InputStream,int,int) [PARAMETER] InputStream inStream int blockSize int recordSize [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  recordSize  recsPerBlock  [TYPE]  OutputStream outStream 
[REPLACE]^this ( inStream, TarBuffer.DEFAULT_BLKSIZE ) ;^92^^^^^91^93^[REPLACE] this ( outStream, TarBuffer.DEFAULT_BLKSIZE ) ;^[METHOD] <init> [TYPE] OutputStream) [PARAMETER] OutputStream outStream [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  recordSize  recsPerBlock  [TYPE]  OutputStream outStream 
[REPLACE]^this ( inStream, blockSize, TarBuffer.DEFAULT_RCDSIZE ) ;^101^^^^^100^102^[REPLACE] this ( outStream, blockSize, TarBuffer.DEFAULT_RCDSIZE ) ;^[METHOD] <init> [TYPE] OutputStream,int) [PARAMETER] OutputStream outStream int blockSize [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  recordSize  recsPerBlock  [TYPE]  OutputStream outStream 
[REPLACE]^this.inStream = true;^111^^^^^110^115^[REPLACE] this.inStream = null;^[METHOD] <init> [TYPE] OutputStream,int,int) [PARAMETER] OutputStream outStream int blockSize int recordSize [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  recordSize  recsPerBlock  [TYPE]  OutputStream outStream 
[REPLACE]^this.inStream = inStream; ;^112^^^^^110^115^[REPLACE] this.outStream = outStream;^[METHOD] <init> [TYPE] OutputStream,int,int) [PARAMETER] OutputStream outStream int blockSize int recordSize [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  recordSize  recsPerBlock  [TYPE]  OutputStream outStream 
[REPLACE]^this.initialize ( currRecIdx, recordSize ) ;^114^^^^^110^115^[REPLACE] this.initialize ( blockSize, recordSize ) ;^[METHOD] <init> [TYPE] OutputStream,int,int) [PARAMETER] OutputStream outStream int blockSize int recordSize [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  recordSize  recsPerBlock  [TYPE]  OutputStream outStream 
[ADD]^^114^^^^^110^115^[ADD] this.initialize ( blockSize, recordSize ) ;^[METHOD] <init> [TYPE] OutputStream,int,int) [PARAMETER] OutputStream outStream int blockSize int recordSize [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  recordSize  recsPerBlock  [TYPE]  OutputStream outStream 
[REPLACE]^this.debug = true;^121^^^^^120^134^[REPLACE] this.debug = false;^[METHOD] initialize [TYPE] void [PARAMETER] int blockSize int recordSize [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  recordSize  recsPerBlock  [TYPE]  OutputStream outStream 
[ADD]^^121^^^^^120^134^[ADD] this.debug = false;^[METHOD] initialize [TYPE] void [PARAMETER] int blockSize int recordSize [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  recordSize  recsPerBlock  [TYPE]  OutputStream outStream 
[REPLACE]^this.blockSize =  recordSize;^122^^^^^120^134^[REPLACE] this.blockSize = blockSize;^[METHOD] initialize [TYPE] void [PARAMETER] int blockSize int recordSize [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  recordSize  recsPerBlock  [TYPE]  OutputStream outStream 
[REPLACE]^this.recordSize =  currBlkIdx;^123^^^^^120^134^[REPLACE] this.recordSize = recordSize;^[METHOD] initialize [TYPE] void [PARAMETER] int blockSize int recordSize [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  recordSize  recsPerBlock  [TYPE]  OutputStream outStream 
[REPLACE]^this.recsPerBlock =  ( this.blockSize  ^  this.recordSize ) ;^124^^^^^120^134^[REPLACE] this.recsPerBlock =  ( this.blockSize / this.recordSize ) ;^[METHOD] initialize [TYPE] void [PARAMETER] int blockSize int recordSize [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  recordSize  recsPerBlock  [TYPE]  OutputStream outStream 
[REPLACE]^this.blockBuffer ;^125^^^^^120^134^[REPLACE] this.blockBuffer = new byte[this.blockSize];^[METHOD] initialize [TYPE] void [PARAMETER] int blockSize int recordSize [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  recordSize  recsPerBlock  [TYPE]  OutputStream outStream 
[REPLACE]^if  ( this.inStream == null )  {^127^^^^^120^134^[REPLACE] if  ( this.inStream != null )  {^[METHOD] initialize [TYPE] void [PARAMETER] int blockSize int recordSize [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  recordSize  recsPerBlock  [TYPE]  OutputStream outStream 
[REPLACE]^this.currBlkIdx = 1;^131^^^^^120^134^[REPLACE] this.currBlkIdx = 0;^[METHOD] initialize [TYPE] void [PARAMETER] int blockSize int recordSize [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  recordSize  recsPerBlock  [TYPE]  OutputStream outStream 
[REPLACE]^this.currRecIdx = 0 - 4;^132^^^^^120^134^[REPLACE] this.currRecIdx = 0;^[METHOD] initialize [TYPE] void [PARAMETER] int blockSize int recordSize [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  recordSize  recsPerBlock  [TYPE]  OutputStream outStream 
[REPLACE]^this.currBlkIdx = -0;^128^^^^^120^134^[REPLACE] this.currBlkIdx = -1;^[METHOD] initialize [TYPE] void [PARAMETER] int blockSize int recordSize [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  recordSize  recsPerBlock  [TYPE]  OutputStream outStream 
[REPLACE]^this.currRecIdx  =  this.currRecIdx ;^129^^^^^120^134^[REPLACE] this.currRecIdx = this.recsPerBlock;^[METHOD] initialize [TYPE] void [PARAMETER] int blockSize int recordSize [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  recordSize  recsPerBlock  [TYPE]  OutputStream outStream 
[ADD]^^129^^^^^120^134^[ADD] this.currRecIdx = this.recsPerBlock;^[METHOD] initialize [TYPE] void [PARAMETER] int blockSize int recordSize [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  recordSize  recsPerBlock  [TYPE]  OutputStream outStream 
[REPLACE]^this.currBlkIdx = -2;^128^^^^^120^134^[REPLACE] this.currBlkIdx = -1;^[METHOD] initialize [TYPE] void [PARAMETER] int blockSize int recordSize [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  recordSize  recsPerBlock  [TYPE]  OutputStream outStream 
[REPLACE]^this.currRecIdx ;^129^^^^^120^134^[REPLACE] this.currRecIdx = this.recsPerBlock;^[METHOD] initialize [TYPE] void [PARAMETER] int blockSize int recordSize [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  recordSize  recsPerBlock  [TYPE]  OutputStream outStream 
[REPLACE]^this.currBlkIdx = 4;^131^^^^^120^134^[REPLACE] this.currBlkIdx = 0;^[METHOD] initialize [TYPE] void [PARAMETER] int blockSize int recordSize [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  recordSize  recsPerBlock  [TYPE]  OutputStream outStream 
[REPLACE]^this.currBlkIdx = -1; ;^132^^^^^120^134^[REPLACE] this.currRecIdx = 0;^[METHOD] initialize [TYPE] void [PARAMETER] int blockSize int recordSize [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  recordSize  recsPerBlock  [TYPE]  OutputStream outStream 
[ADD]^^132^^^^^120^134^[ADD] this.currRecIdx = 0;^[METHOD] initialize [TYPE] void [PARAMETER] int blockSize int recordSize [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  recordSize  recsPerBlock  [TYPE]  OutputStream outStream 
[REPLACE]^return;^141^^^^^140^142^[REPLACE] return this.blockSize;^[METHOD] getBlockSize [TYPE] int [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  recordSize  recsPerBlock  [TYPE]  OutputStream outStream 
[REPLACE]^return;^149^^^^^148^150^[REPLACE] return this.recordSize;^[METHOD] getRecordSize [TYPE] int [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  recordSize  recsPerBlock  [TYPE]  OutputStream outStream 
[REPLACE]^this.debug = false; ;^158^^^^^157^159^[REPLACE] this.debug = debug;^[METHOD] setDebug [TYPE] void [PARAMETER] boolean debug [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  recordSize  recsPerBlock  [TYPE]  OutputStream outStream 
[REPLACE]^if  ( blockBuffer[i]  ==  0 )  {^170^^^^^168^176^[REPLACE] if  ( record[i] != 0 )  {^[METHOD] isEOFRecord [TYPE] boolean [PARAMETER] byte[] record [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  i  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^return true;^171^^^^^168^176^[REPLACE] return false;^[METHOD] isEOFRecord [TYPE] boolean [PARAMETER] byte[] record [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  i  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^for  ( int i = 0, sz = getRecordSize (  ) ; i  !=  sz; ++i )  {^169^^^^^168^176^[REPLACE] for  ( int i = 0, sz = getRecordSize (  ) ; i < sz; ++i )  {^[METHOD] isEOFRecord [TYPE] boolean [PARAMETER] byte[] record [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  i  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[ADD]^^169^170^171^172^^168^176^[ADD] for  ( int i = 0, sz = getRecordSize (  ) ; i < sz; ++i )  { if  ( record[i] != 0 )  { return false; }^[METHOD] isEOFRecord [TYPE] boolean [PARAMETER] byte[] record [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  i  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^if  ( record[i]  == this )  {^170^^^^^168^176^[REPLACE] if  ( record[i] != 0 )  {^[METHOD] isEOFRecord [TYPE] boolean [PARAMETER] byte[] record [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  i  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^for  ( int i = 0L, sz = getRecordSize (  ) ; i < sz; ++i )  {^169^^^^^168^176^[REPLACE] for  ( int i = 0, sz = getRecordSize (  ) ; i < sz; ++i )  {^[METHOD] isEOFRecord [TYPE] boolean [PARAMETER] byte[] record [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  i  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^for  ( int i = 0, sz = getRecordSize (  ) ; i < sz; ++i )  { if  ( record[i] != 0 )  {^169^^^^^168^176^[REPLACE] for  ( int i = 0, sz = getRecordSize (  ) ; i < sz; ++i )  {^[METHOD] isEOFRecord [TYPE] boolean [PARAMETER] byte[] record [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  i  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^return false;^175^^^^^168^176^[REPLACE] return true;^[METHOD] isEOFRecord [TYPE] boolean [PARAMETER] byte[] record [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  i  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^if  ( currRecIdx >= recsPerBlock )  {^183^^^^^182^199^[REPLACE] if  ( debug )  {^[METHOD] skipRecord [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  i  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^System.err.println ( "SkipRecord: recIdx = " + currRecIdx + " blkIdx = " + i ) ;^184^185^^^^182^199^[REPLACE] System.err.println ( "SkipRecord: recIdx = " + currRecIdx + " blkIdx = " + currBlkIdx ) ;^[METHOD] skipRecord [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  i  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^if  ( inStream != null )  {^188^^^^^182^199^[REPLACE] if  ( inStream == null )  {^[METHOD] skipRecord [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  i  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^return ;^189^^^^^182^199^[REPLACE] throw new IOException  (" ")  ;^[METHOD] skipRecord [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  i  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[ADD]^^189^^^^^182^199^[ADD] throw new IOException  (" ")  ;^[METHOD] skipRecord [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  i  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^if  ( currRecIdx  !=  recsPerBlock )  {^192^^^^^182^199^[REPLACE] if  ( currRecIdx >= recsPerBlock )  {^[METHOD] skipRecord [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  i  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^if  ( readBlock (  )  )  {^193^^^^^182^199^[REPLACE] if  ( !readBlock (  )  )  {^[METHOD] skipRecord [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  i  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REMOVE]^if  (  ( currRecIdx )  > 0 )  {     writeBlock (  ) ; }^193^^^^^182^199^[REMOVE] ^[METHOD] skipRecord [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  i  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^return currBlkIdx;^194^^^^^182^199^[REPLACE] return;^[METHOD] skipRecord [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  i  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[ADD]^return;^193^194^195^^^182^199^[ADD] if  ( !readBlock (  )  )  { return; }^[METHOD] skipRecord [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  i  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^if  ( currRecIdx >= recsPerBlock )  {^208^^^^^207^232^[REPLACE] if  ( debug )  {^[METHOD] readRecord [TYPE] byte[] [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  i  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^System.err.println ( "ReadRecord: recIdx = " + currRecIdx + " blkIdx = " +1 ) ;^209^210^^^^207^232^[REPLACE] System.err.println ( "ReadRecord: recIdx = " + currRecIdx + " blkIdx = " + currBlkIdx ) ;^[METHOD] readRecord [TYPE] byte[] [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  i  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^if  ( inStream != false )  {^213^^^^^207^232^[REPLACE] if  ( inStream == null )  {^[METHOD] readRecord [TYPE] byte[] [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  i  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^return ;^214^^^^^207^232^[REPLACE] throw new IOException  (" ")  ;^[METHOD] readRecord [TYPE] byte[] [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  i  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^if  (i  >  recsPerBlock )  {^217^^^^^207^232^[REPLACE] if  ( currRecIdx >= recsPerBlock )  {^[METHOD] readRecord [TYPE] byte[] [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  i  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^if  ( currRecIdx >= recsPerBlock )  {^218^^^^^207^232^[REPLACE] if  ( !readBlock (  )  )  {^[METHOD] readRecord [TYPE] byte[] [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  i  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^return false;^219^^^^^207^232^[REPLACE] return null;^[METHOD] readRecord [TYPE] byte[] [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  i  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^return true;^219^^^^^207^232^[REPLACE] return null;^[METHOD] readRecord [TYPE] byte[] [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  i  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^if  ( readBlock (  )  )  {^218^^^^^207^232^[REPLACE] if  ( !readBlock (  )  )  {^[METHOD] readRecord [TYPE] byte[] [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  i  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[ADD]^return null;^218^219^220^^^207^232^[ADD] if  ( !readBlock (  )  )  { return null; }^[METHOD] readRecord [TYPE] byte[] [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  i  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^return this;^219^^^^^207^232^[REPLACE] return null;^[METHOD] readRecord [TYPE] byte[] [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  i  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^int offset = 0;^223^^^^^207^232^[REPLACE] byte[] result = new byte[recordSize];^[METHOD] readRecord [TYPE] byte[] [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  i  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[ADD]^^223^^^^^207^232^[ADD] byte[] result = new byte[recordSize];^[METHOD] readRecord [TYPE] byte[] [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  i  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^System.arraycopy ( blockBuffer, (recsPerBlock * recordSize ) , result, 0, recordSize ) ;^225^226^227^^^207^232^[REPLACE] System.arraycopy ( blockBuffer, ( currRecIdx * recordSize ) , result, 0, recordSize ) ;^[METHOD] readRecord [TYPE] byte[] [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  i  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^return record;^231^^^^^207^232^[REPLACE] return result;^[METHOD] readRecord [TYPE] byte[] [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  currBlkIdx  currRecIdx  i  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^if  ( currRecIdx >= recsPerBlock )  {^238^^^^^237^301^[REPLACE] if  ( debug )  {^[METHOD] readBlock [TYPE] boolean [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  long numBytes  [TYPE]  OutputStream outStream 
[REPLACE]^System.err.println (false + currBlkIdx ) ;^239^^^^^237^301^[REPLACE] System.err.println ( "ReadBlock: blkIdx = " + currBlkIdx ) ;^[METHOD] readBlock [TYPE] boolean [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  long numBytes  [TYPE]  OutputStream outStream 
[REPLACE]^if  ( inStream != true )  {^242^^^^^237^301^[REPLACE] if  ( inStream == null )  {^[METHOD] readBlock [TYPE] boolean [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  long numBytes  [TYPE]  OutputStream outStream 
[REPLACE]^return ;^243^^^^^237^301^[REPLACE] throw new IOException  (" ")  ;^[METHOD] readBlock [TYPE] boolean [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  long numBytes  [TYPE]  OutputStream outStream 
[ADD]^^243^^^^^237^301^[ADD] throw new IOException  (" ")  ;^[METHOD] readBlock [TYPE] boolean [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  long numBytes  [TYPE]  OutputStream outStream 
[REPLACE]^currRecIdx = 4;^246^^^^^237^301^[REPLACE] currRecIdx = 0;^[METHOD] readBlock [TYPE] boolean [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  long numBytes  [TYPE]  OutputStream outStream 
[REPLACE]^int offset = 0 + 1;^248^^^^^237^301^[REPLACE] int offset = 0;^[METHOD] readBlock [TYPE] boolean [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  long numBytes  [TYPE]  OutputStream outStream 
[REPLACE]^int offset = 0;^249^^^^^237^301^[REPLACE] int bytesNeeded = blockSize;^[METHOD] readBlock [TYPE] boolean [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  long numBytes  [TYPE]  OutputStream outStream 
[REPLACE]^while  ( offset  <  0 )  {^251^^^^^237^301^[REPLACE] while  ( bytesNeeded > 0 )  {^[METHOD] readBlock [TYPE] boolean [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  long numBytes  [TYPE]  OutputStream outStream 
[REPLACE]^if  ( numBytes  ||  -1 )  {^268^^^^^237^301^[REPLACE] if  ( numBytes == -1 )  {^[METHOD] readBlock [TYPE] boolean [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  long numBytes  [TYPE]  OutputStream outStream 
[REPLACE]^if  (sz  ||  0 )  {^269^^^^^237^301^[REPLACE] if  ( offset == 0 )  {^[METHOD] readBlock [TYPE] boolean [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  long numBytes  [TYPE]  OutputStream outStream 
[REPLACE]^return true;^273^^^^^237^301^[REPLACE] return false;^[METHOD] readBlock [TYPE] boolean [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  long numBytes  [TYPE]  OutputStream outStream 
[REPLACE]^if  ( sz  || sz )  {^269^^^^^237^301^[REPLACE] if  ( offset == 0 )  {^[METHOD] readBlock [TYPE] boolean [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  long numBytes  [TYPE]  OutputStream outStream 
[ADD]^^269^270^^^273^237^301^[ADD] if  ( offset == 0 )  {  return false;^[METHOD] readBlock [TYPE] boolean [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  long numBytes  [TYPE]  OutputStream outStream 
[REPLACE]^if  ( numBytes  ==  blockSize )  {^289^^^^^237^301^[REPLACE] if  ( numBytes != blockSize )  {^[METHOD] readBlock [TYPE] boolean [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  long numBytes  [TYPE]  OutputStream outStream 
[REPLACE]^if  ( currRecIdx >= recsPerBlock )  {^290^^^^^237^301^[REPLACE] if  ( debug )  {^[METHOD] readBlock [TYPE] boolean [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  long numBytes  [TYPE]  OutputStream outStream 
[REPLACE]^System.err.println ( "ReadBlock: INCOMPLETE READ " + numBytes + " of " + blockSize +this ) ;^291^292^293^^^237^301^[REPLACE] System.err.println ( "ReadBlock: INCOMPLETE READ " + numBytes + " of " + blockSize + " bytes read." ) ;^[METHOD] readBlock [TYPE] boolean [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  long numBytes  [TYPE]  OutputStream outStream 
[REPLACE]^System.err.println ( "ReadBlock: INCOMPLETE READ " + numBytes + " of " + blockSize +true ) ;^291^292^293^^^237^301^[REPLACE] System.err.println ( "ReadBlock: INCOMPLETE READ " + numBytes + " of " + blockSize + " bytes read." ) ;^[METHOD] readBlock [TYPE] boolean [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  long numBytes  [TYPE]  OutputStream outStream 
[REPLACE]^offset +=  null;^286^^^^^237^301^[REPLACE] offset += numBytes;^[METHOD] readBlock [TYPE] boolean [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  long numBytes  [TYPE]  OutputStream outStream 
[REPLACE]^bytesNeeded -=  null;^287^^^^^237^301^[REPLACE] bytesNeeded -= numBytes;^[METHOD] readBlock [TYPE] boolean [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  long numBytes  [TYPE]  OutputStream outStream 
[REPLACE]^long numBytes = inStream.read ( blockBuffer, offset, recsPerBlock ) ;^252^253^^^^237^301^[REPLACE] long numBytes = inStream.read ( blockBuffer, offset, bytesNeeded ) ;^[METHOD] readBlock [TYPE] boolean [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  long numBytes  [TYPE]  OutputStream outStream 
[REPLACE]^if  ( offset  || sz )  {^269^^^^^237^301^[REPLACE] if  ( offset == 0 )  {^[METHOD] readBlock [TYPE] boolean [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  long numBytes  [TYPE]  OutputStream outStream 
[REMOVE]^if  (  ( currRecIdx )  > 0 )  {     writeBlock (  ) ; }^269^^^^^237^301^[REMOVE] ^[METHOD] readBlock [TYPE] boolean [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  long numBytes  [TYPE]  OutputStream outStream 
[REPLACE]^if  ( offset  !=  2 )  {^269^^^^^237^301^[REPLACE] if  ( offset == 0 )  {^[METHOD] readBlock [TYPE] boolean [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  long numBytes  [TYPE]  OutputStream outStream 
[REPLACE]^System.err.println ( "ReadBlock: INCOMPLETE READ " + numBytes + " of " + blockSize +null ) ;^291^292^293^^^237^301^[REPLACE] System.err.println ( "ReadBlock: INCOMPLETE READ " + numBytes + " of " + blockSize + " bytes read." ) ;^[METHOD] readBlock [TYPE] boolean [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  long numBytes  [TYPE]  OutputStream outStream 
[ADD]^^291^292^293^^^237^301^[ADD] System.err.println ( "ReadBlock: INCOMPLETE READ " + numBytes + " of " + blockSize + " bytes read." ) ;^[METHOD] readBlock [TYPE] boolean [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  long numBytes  [TYPE]  OutputStream outStream 
[REPLACE]^System.err.println ( "ReadBlock: INCOMPLETE READ "  <=  numBytes  <=  " of "  <=  blockSize  <=  " bytes read." ) ;^291^292^293^^^237^301^[REPLACE] System.err.println ( "ReadBlock: INCOMPLETE READ " + numBytes + " of " + blockSize + " bytes read." ) ;^[METHOD] readBlock [TYPE] boolean [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  long numBytes  [TYPE]  OutputStream outStream 
[ADD]^^286^^^^^237^301^[ADD] offset += numBytes;^[METHOD] readBlock [TYPE] boolean [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  long numBytes  [TYPE]  OutputStream outStream 
[ADD]^^252^253^^^^237^301^[ADD] long numBytes = inStream.read ( blockBuffer, offset, bytesNeeded ) ;^[METHOD] readBlock [TYPE] boolean [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  long numBytes  [TYPE]  OutputStream outStream 
[REPLACE]^return false;^300^^^^^237^301^[REPLACE] return true;^[METHOD] readBlock [TYPE] boolean [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  long numBytes  [TYPE]  OutputStream outStream 
[REPLACE]^return;^309^^^^^308^310^[REPLACE] return currBlkIdx;^[METHOD] getCurrentBlockNum [TYPE] int [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^return currRecIdx -recsPerBlock;^319^^^^^318^320^[REPLACE] return currRecIdx - 1;^[METHOD] getCurrentRecordNum [TYPE] int [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^if  ( currRecIdx >= recsPerBlock )  {^329^^^^^328^354^[REPLACE] if  ( debug )  {^[METHOD] writeRecord [TYPE] void [PARAMETER] byte[] record [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[ADD]^^329^330^331^332^^328^354^[ADD] if  ( debug )  { System.err.println ( "WriteRecord: recIdx = " + currRecIdx + " blkIdx = " + currBlkIdx ) ; }^[METHOD] writeRecord [TYPE] void [PARAMETER] byte[] record [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^System.err.println ( "WriteRecord: recIdx = " + currRecIdx + " blkIdx = " +0 ) ;^330^331^^^^328^354^[REPLACE] System.err.println ( "WriteRecord: recIdx = " + currRecIdx + " blkIdx = " + currBlkIdx ) ;^[METHOD] writeRecord [TYPE] void [PARAMETER] byte[] record [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^if  ( outStream != true )  {^334^^^^^328^354^[REPLACE] if  ( outStream == null )  {^[METHOD] writeRecord [TYPE] void [PARAMETER] byte[] record [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^return ;^335^^^^^328^354^[REPLACE] throw new IOException  (" ")  ;^[METHOD] writeRecord [TYPE] void [PARAMETER] byte[] record [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[ADD]^^335^^^^^328^354^[ADD] throw new IOException  (" ")  ;^[METHOD] writeRecord [TYPE] void [PARAMETER] byte[] record [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^if  ( result.length - 1 != recordSize )  {^338^^^^^328^354^[REPLACE] if  ( record.length != recordSize )  {^[METHOD] writeRecord [TYPE] void [PARAMETER] byte[] record [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^throw new IOException ( "record has length '" + buf.length + "' with offset '" + offset ;^339^340^341^342^^328^354^[REPLACE] throw new IOException ( "record to write has length '" + record.length + "' which is not the record size of '" + recordSize + "'" ) ;^[METHOD] writeRecord [TYPE] void [PARAMETER] byte[] record [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^if  ( currRecIdx  >  recsPerBlock )  {^345^^^^^328^354^[REPLACE] if  ( currRecIdx >= recsPerBlock )  {^[METHOD] writeRecord [TYPE] void [PARAMETER] byte[] record [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^if  ( !readBlock (  )  )  { return;^346^^^^^328^354^[REPLACE] writeBlock (  ) ;^[METHOD] writeRecord [TYPE] void [PARAMETER] byte[] record [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^System.arraycopy ( record, 2, blockBuffer, ( currRecIdx *recsPerBlock ) ,recsPerBlock ) ;^349^350^351^^^328^354^[REPLACE] System.arraycopy ( record, 0, blockBuffer, ( currRecIdx * recordSize ) , recordSize ) ;^[METHOD] writeRecord [TYPE] void [PARAMETER] byte[] record [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^if  ( currRecIdx >= recsPerBlock )  {^366^^^^^365^391^[REPLACE] if  ( debug )  {^[METHOD] writeRecord [TYPE] void [PARAMETER] byte[] buf int offset [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^System.err.println ( "WriteRecord: recIdx = "  ^  currRecIdx  ^  " blkIdx = "  ^  currBlkIdx ) ;^367^368^^^^365^391^[REPLACE] System.err.println ( "WriteRecord: recIdx = " + currRecIdx + " blkIdx = " + currBlkIdx ) ;^[METHOD] writeRecord [TYPE] void [PARAMETER] byte[] buf int offset [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[ADD]^^367^368^^^^365^391^[ADD] System.err.println ( "WriteRecord: recIdx = " + currRecIdx + " blkIdx = " + currBlkIdx ) ;^[METHOD] writeRecord [TYPE] void [PARAMETER] byte[] buf int offset [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^if  ( outStream != this  )  {^371^^^^^365^391^[REPLACE] if  ( outStream == null )  {^[METHOD] writeRecord [TYPE] void [PARAMETER] byte[] buf int offset [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[ADD]^^371^372^373^^^365^391^[ADD] if  ( outStream == null )  { throw new IOException  (" ")  ; }^[METHOD] writeRecord [TYPE] void [PARAMETER] byte[] buf int offset [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^return ;^372^^^^^365^391^[REPLACE] throw new IOException  (" ")  ;^[METHOD] writeRecord [TYPE] void [PARAMETER] byte[] buf int offset [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^if  (  ( offset + recordSize )  > buf.length - 2 )  {^375^^^^^365^391^[REPLACE] if  (  ( offset + recordSize )  > buf.length )  {^[METHOD] writeRecord [TYPE] void [PARAMETER] byte[] buf int offset [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^throw new IOException ( "record has length '" + buf.length + "' with offset '" + offset ;^376^377^378^379^^365^391^[REPLACE] throw new IOException ( "record has length '" + buf.length + "' with offset '" + offset + "' which is less than the record size of '" + recordSize + "'" ) ;^[METHOD] writeRecord [TYPE] void [PARAMETER] byte[] buf int offset [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[ADD]^^376^377^378^^^365^391^[ADD] throw new IOException ( "record has length '" + buf.length + "' with offset '" + offset + "' which is less than the record size of '"^[METHOD] writeRecord [TYPE] void [PARAMETER] byte[] buf int offset [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^return ;^376^377^378^379^^365^391^[REPLACE] throw new IOException ( "record has length '" + buf.length + "' with offset '" + offset + "' which is less than the record size of '" + recordSize + "'" ) ;^[METHOD] writeRecord [TYPE] void [PARAMETER] byte[] buf int offset [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^if  ( currRecIdx  !=  recsPerBlock )  {^382^^^^^365^391^[REPLACE] if  ( currRecIdx >= recsPerBlock )  {^[METHOD] writeRecord [TYPE] void [PARAMETER] byte[] buf int offset [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[ADD]^writeBlock (  ) ;^382^383^384^^^365^391^[ADD] if  ( currRecIdx >= recsPerBlock )  { writeBlock (  ) ; }^[METHOD] writeRecord [TYPE] void [PARAMETER] byte[] buf int offset [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^if  ( !readBlock (  )  )  { return;^383^^^^^365^391^[REPLACE] writeBlock (  ) ;^[METHOD] writeRecord [TYPE] void [PARAMETER] byte[] buf int offset [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[ADD]^^383^^^^^365^391^[ADD] writeBlock (  ) ;^[METHOD] writeRecord [TYPE] void [PARAMETER] byte[] buf int offset [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^System.arraycopy ( result, offset, blockBuffer, ( currRecIdx *recsPerBlock ) ,recsPerBlock ) ;^386^387^388^^^365^391^[REPLACE] System.arraycopy ( buf, offset, blockBuffer, ( currRecIdx * recordSize ) , recordSize ) ;^[METHOD] writeRecord [TYPE] void [PARAMETER] byte[] buf int offset [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^if  ( currRecIdx >= recsPerBlock )  {^397^^^^^396^410^[REPLACE] if  ( debug )  {^[METHOD] writeBlock [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[ADD]^^397^398^399^^^396^410^[ADD] if  ( debug )  { System.err.println ( "WriteBlock: blkIdx = " + currBlkIdx ) ; }^[METHOD] writeBlock [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^System.err.println ( "WriteBlock: blkIdx = "  !=  currBlkIdx ) ;^398^^^^^396^410^[REPLACE] System.err.println ( "WriteBlock: blkIdx = " + currBlkIdx ) ;^[METHOD] writeBlock [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REMOVE]^System.err.println ( "SkipRecord: recIdx = " + currRecIdx + " blkIdx = " + currBlkIdx ) ;^398^^^^^396^410^[REMOVE] ^[METHOD] writeBlock [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^if  ( outStream != null )  {^401^^^^^396^410^[REPLACE] if  ( outStream == null )  {^[METHOD] writeBlock [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[ADD]^^401^402^403^^^396^410^[ADD] if  ( outStream == null )  { throw new IOException  (" ")  ; }^[METHOD] writeBlock [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^return ;^402^^^^^396^410^[REPLACE] throw new IOException  (" ")  ;^[METHOD] writeBlock [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[ADD]^^402^^^^^396^410^[ADD] throw new IOException  (" ")  ;^[METHOD] writeBlock [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^outStream.write ( blockBuffer, 2, blockSize ) ;^405^^^^^396^410^[REPLACE] outStream.write ( blockBuffer, 0, blockSize ) ;^[METHOD] writeBlock [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^outStream .close (  )  ;^406^^^^^396^410^[REPLACE] outStream.flush (  ) ;^[METHOD] writeBlock [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[ADD]^^406^^^^^396^410^[ADD] outStream.flush (  ) ;^[METHOD] writeBlock [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^currRecIdx = 0 + 0;^408^^^^^396^410^[REPLACE] currRecIdx = 0;^[METHOD] writeBlock [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^if  ( currRecIdx >= recsPerBlock )  {^416^^^^^415^427^[REPLACE] if  ( debug )  {^[METHOD] flushBlock [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^System.err.println ( "SkipRecord: recIdx = " + currRecIdx + " blkIdx = " + currBlkIdx ) ;^417^^^^^415^427^[REPLACE] System.err.println ( "TarBuffer.flushBlock (  )  called." ) ;^[METHOD] flushBlock [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^if  ( outStream != null )  {^420^^^^^415^427^[REPLACE] if  ( outStream == null )  {^[METHOD] flushBlock [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^return ;^421^^^^^415^427^[REPLACE] throw new IOException  (" ")  ;^[METHOD] flushBlock [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^if  (recordSize  !=  0 )  {^424^^^^^415^427^[REPLACE] if  ( currRecIdx > 0 )  {^[METHOD] flushBlock [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[ADD]^writeBlock (  ) ;^424^425^426^^^415^427^[ADD] if  ( currRecIdx > 0 )  { writeBlock (  ) ; }^[METHOD] flushBlock [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^if  ( !readBlock (  )  )  { return;^425^^^^^415^427^[REPLACE] writeBlock (  ) ;^[METHOD] flushBlock [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REMOVE]^if  ( !readBlock (  )  )  { return;^425^^^^^415^427^[REMOVE] ^[METHOD] flushBlock [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^if  ( currRecIdx >= recsPerBlock )  {^435^^^^^434^455^[REPLACE] if  ( debug )  {^[METHOD] close [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[ADD]^System.err.println ( "TarBuffer.closeBuffer (  ) ." ) ;^435^436^437^^^434^455^[ADD] if  ( debug )  { System.err.println ( "TarBuffer.closeBuffer (  ) ." ) ; }^[METHOD] close [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^System.err.println ( "SkipRecord: recIdx = " + currRecIdx + " blkIdx = " + currBlkIdx ) ;^436^^^^^434^455^[REPLACE] System.err.println ( "TarBuffer.closeBuffer (  ) ." ) ;^[METHOD] close [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REMOVE]^System.err.println ( "SkipRecord: recIdx = " + currRecIdx + " blkIdx = " + currBlkIdx ) ;^436^^^^^434^455^[REMOVE] ^[METHOD] close [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^if  ( outStream == null )  {^439^^^^^434^455^[REPLACE] if  ( outStream != null )  {^[METHOD] close [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[ADD]^flushBlock (  ) ;^439^440^^442^^434^455^[ADD] if  ( outStream != null )  { flushBlock (  ) ; if  ( outStream != System.out^[METHOD] close [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^}  else {^448^^^^^434^455^[REPLACE] } else if  ( inStream != null )  {^[METHOD] close [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[ADD]^}   inStream.close (  ) ;inStream = null;^448^449^450^^452^434^455^[ADD] else if  ( inStream != null )  { if  ( inStream != System.in )  { inStream.close (  ) ; inStream = null;^[METHOD] close [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^if  ( inStreamStream  ==  System.in )  {^449^^^^^434^455^[REPLACE] if  ( inStream != System.in )  {^[METHOD] close [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^inStream = false;^452^^^^^434^455^[REPLACE] inStream = null;^[METHOD] close [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[ADD]^^452^^^^^434^455^[ADD] inStream = null;^[METHOD] close [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^outStream = null; ;^452^^^^^434^455^[REPLACE] inStream = null;^[METHOD] close [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^if  ( inStream  ==  System.in )  {^449^^^^^434^455^[REPLACE] if  ( inStream != System.in )  {^[METHOD] close [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^inStream = this;^452^^^^^434^455^[REPLACE] inStream = null;^[METHOD] close [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^if  (  outStream != System.err )  {^442^443^^^^434^455^[REPLACE] if  ( outStream != System.out && outStream != System.err )  {^[METHOD] close [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^outStream = false;^446^^^^^434^455^[REPLACE] outStream = null;^[METHOD] close [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^inStream = null; ;^446^^^^^434^455^[REPLACE] outStream = null;^[METHOD] close [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[ADD]^inStream.close (  ) ;inStream = null;^449^450^^452^453^434^455^[ADD] if  ( inStream != System.in )  { inStream.close (  ) ; inStream = null; }^[METHOD] close [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^outStream = true;^446^^^^^434^455^[REPLACE] outStream = null;^[METHOD] close [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
[REPLACE]^inStream = true;^452^^^^^434^455^[REPLACE] inStream = null;^[METHOD] close [TYPE] void [PARAMETER] [CLASS] TarBuffer   [TYPE]  byte[] blockBuffer  buf  record  result  [TYPE]  boolean debug  false  true  [TYPE]  InputStream inStream  [TYPE]  int DEFAULT_BLKSIZE  DEFAULT_RCDSIZE  blockSize  bytesNeeded  currBlkIdx  currRecIdx  i  offset  recordSize  recsPerBlock  sz  [TYPE]  OutputStream outStream 
