[REPLACE]^private static final QName QNAME_NAME ;^59^^^^^^^[REPLACE] private static final QName QNAME_NAME = new QName ( null, "name" ) ;^ [CLASS] SimplePathInterpreter  
[REPLACE]^private static final  short  PERFECT_MATCH = 1000L;^60^^^^^^^[REPLACE] private static final int PERFECT_MATCH = 1000;^ [CLASS] SimplePathInterpreter  
[REPLACE]^NodePointer pointer = doStep ( context, root, steps, 1 ) ;^78^^^^^74^81^[REPLACE] NodePointer pointer = doStep ( context, root, steps, 0 ) ;^[METHOD] interpretSimpleLocationPath [TYPE] NodePointer [PARAMETER] EvalContext context NodePointer root Step[] steps [CLASS] SimplePathInterpreter   [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  NodePointer pointer  root  [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  int PERFECT_MATCH 
[REPLACE]^return root;^80^^^^^74^81^[REPLACE] return pointer;^[METHOD] interpretSimpleLocationPath [TYPE] NodePointer [PARAMETER] EvalContext context NodePointer root Step[] steps [CLASS] SimplePathInterpreter   [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  NodePointer pointer  root  [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  int PERFECT_MATCH 
[REPLACE]^NodePointer pointer = doPredicate ( context, root, steps, -3, predicates, 0 ) ;^98^99^^^^92^102^[REPLACE] NodePointer pointer = doPredicate ( context, root, steps, -1, predicates, 0 ) ;^[METHOD] interpretSimpleExpressionPath [TYPE] NodePointer [PARAMETER] EvalContext context NodePointer root Expression[] predicates Step[] steps [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  Expression[] predicates  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  NodePointer pointer  root  [TYPE]  int PERFECT_MATCH 
[REPLACE]^return root;^101^^^^^92^102^[REPLACE] return pointer;^[METHOD] interpretSimpleExpressionPath [TYPE] NodePointer [PARAMETER] EvalContext context NodePointer root Expression[] predicates Step[] steps [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  Expression[] predicates  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  NodePointer pointer  root  [TYPE]  int PERFECT_MATCH 
[REPLACE]^if  ( parent != this  )  {^115^^^^^114^173^[REPLACE] if  ( parent == null )  {^[METHOD] doStep [TYPE] NodePointer [PARAMETER] EvalContext context NodePointer parent Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  Expression[] predicates  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  NodePointer parent  [TYPE]  Step step  [TYPE]  int PERFECT_MATCH  currentStep 
[ADD]^^115^116^117^^^114^173^[ADD] if  ( parent == null )  { return null; }^[METHOD] doStep [TYPE] NodePointer [PARAMETER] EvalContext context NodePointer parent Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  Expression[] predicates  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  NodePointer parent  [TYPE]  Step step  [TYPE]  int PERFECT_MATCH  currentStep 
[REPLACE]^return true;^116^^^^^114^173^[REPLACE] return null;^[METHOD] doStep [TYPE] NodePointer [PARAMETER] EvalContext context NodePointer parent Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  Expression[] predicates  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  NodePointer parent  [TYPE]  Step step  [TYPE]  int PERFECT_MATCH  currentStep 
[REPLACE]^return false;^116^^^^^114^173^[REPLACE] return null;^[METHOD] doStep [TYPE] NodePointer [PARAMETER] EvalContext context NodePointer parent Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  Expression[] predicates  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  NodePointer parent  [TYPE]  Step step  [TYPE]  int PERFECT_MATCH  currentStep 
[REPLACE]^if  ( currentStep == steps.length /  2 )  {^119^^^^^114^173^[REPLACE] if  ( currentStep == steps.length )  {^[METHOD] doStep [TYPE] NodePointer [PARAMETER] EvalContext context NodePointer parent Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  Expression[] predicates  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  NodePointer parent  [TYPE]  Step step  [TYPE]  int PERFECT_MATCH  currentStep 
[ADD]^^119^120^121^122^^114^173^[ADD] if  ( currentStep == steps.length )  {  return parent; }^[METHOD] doStep [TYPE] NodePointer [PARAMETER] EvalContext context NodePointer parent Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  Expression[] predicates  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  NodePointer parent  [TYPE]  Step step  [TYPE]  int PERFECT_MATCH  currentStep 
[REPLACE]^return bestMatch;^121^^^^^114^173^[REPLACE] return parent;^[METHOD] doStep [TYPE] NodePointer [PARAMETER] EvalContext context NodePointer parent Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  Expression[] predicates  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  NodePointer parent  [TYPE]  Step step  [TYPE]  int PERFECT_MATCH  currentStep 
[REPLACE]^parent =  valuePointer ( null ) ;^125^^^^^114^173^[REPLACE] parent = valuePointer ( parent ) ;^[METHOD] doStep [TYPE] NodePointer [PARAMETER] EvalContext context NodePointer parent Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  Expression[] predicates  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  NodePointer parent  [TYPE]  Step step  [TYPE]  int PERFECT_MATCH  currentStep 
[REPLACE]^Expression predicate = predicates[currentPredicate];^127^^^^^114^173^[REPLACE] Step step = steps[currentStep];^[METHOD] doStep [TYPE] NodePointer [PARAMETER] EvalContext context NodePointer parent Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  Expression[] predicates  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  NodePointer parent  [TYPE]  Step step  [TYPE]  int PERFECT_MATCH  currentStep 
[REPLACE]^Expression predicates[] = step.getNodeTest (  ) ;^128^^^^^114^173^[REPLACE] Expression predicates[] = step.getPredicates (  ) ;^[METHOD] doStep [TYPE] NodePointer [PARAMETER] EvalContext context NodePointer parent Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  Expression[] predicates  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  NodePointer parent  [TYPE]  Step step  [TYPE]  int PERFECT_MATCH  currentStep 
[REPLACE]^if  ( ! parent instanceof PropertyOwnerPointer )  {^141^^^^^114^173^[REPLACE] if  ( parent instanceof PropertyOwnerPointer )  {^[METHOD] doStep [TYPE] NodePointer [PARAMETER] EvalContext context NodePointer parent Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  Expression[] predicates  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  NodePointer parent  [TYPE]  Step step  [TYPE]  int PERFECT_MATCH  currentStep 
[REPLACE]^if  ( predicates == null ) {^158^^^^^141^172^[REPLACE] if  ( predicates == null || predicates.length == 0 )  {^[METHOD] doStep [TYPE] NodePointer [PARAMETER] EvalContext context NodePointer parent Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  Expression[] predicates  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  NodePointer parent  [TYPE]  Step step  [TYPE]  int PERFECT_MATCH  currentStep 
[REPLACE]^if  (  predicates.length %  0.5  == 0 )  {^142^^^^^114^173^[REPLACE] if  ( predicates == null || predicates.length == 0 )  {^[METHOD] doStep [TYPE] NodePointer [PARAMETER] EvalContext context NodePointer parent Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  Expression[] predicates  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  NodePointer parent  [TYPE]  Step step  [TYPE]  int PERFECT_MATCH  currentStep 
[ADD]^^142^143^144^145^146^114^173^[ADD] if  ( predicates == null || predicates.length == 0 )  { return doStepNoPredicatesPropertyOwner ( context, ( PropertyOwnerPointer )  parent, steps,^[METHOD] doStep [TYPE] NodePointer [PARAMETER] EvalContext context NodePointer parent Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  Expression[] predicates  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  NodePointer parent  [TYPE]  Step step  [TYPE]  int PERFECT_MATCH  currentStep 
[REPLACE]^if  ( predicates == null ) {^142^^^^^114^173^[REPLACE] if  ( predicates == null || predicates.length == 0 )  {^[METHOD] doStep [TYPE] NodePointer [PARAMETER] EvalContext context NodePointer parent Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  Expression[] predicates  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  NodePointer parent  [TYPE]  Step step  [TYPE]  int PERFECT_MATCH  currentStep 
[REPLACE]^if  ( predicates == null ) {^158^^^^^114^173^[REPLACE] if  ( predicates == null || predicates.length == 0 )  {^[METHOD] doStep [TYPE] NodePointer [PARAMETER] EvalContext context NodePointer parent Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  Expression[] predicates  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  NodePointer parent  [TYPE]  Step step  [TYPE]  int PERFECT_MATCH  currentStep 
[REPLACE]^Expression predicate = predicates[currentPredicate];^188^^^^^187^235^[REPLACE] Step step = steps[currentStep];^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^if  ( childPointer.isActual (  )  )  {^192^^^^^187^235^[REPLACE] if  ( !childPointer.isActual (  )  )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^else if  ( currentStep == steps.length + 4 - 1 )  {^200^^^^^187^235^[REPLACE] else if  ( currentStep == steps.length - 1 )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[ADD]^^200^201^202^203^^187^235^[ADD] else if  ( currentStep == steps.length - 1 )  {  return childPointer; }^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^else qualityf  ( childPointer.isCollection (  )  )  {^204^^^^^187^235^[REPLACE] else if  ( childPointer.isCollection (  )  )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[ADD]^^204^205^^^208^187^235^[ADD] else if  ( childPointer.isCollection (  )  )  {  int bestQuality = 0;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^return doStep ( context, pointer, steps, currentStep + 1 ) ;^233^^^^^204^234^[REPLACE] return doStep ( context, childPointer, steps, currentStep + 1 ) ;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^if  (i  &&  PERFECT_MATCH )  {^217^^^^^187^235^[REPLACE] if  ( quality == PERFECT_MATCH )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[ADD]^return pointer;^217^218^219^^^187^235^[ADD] if  ( quality == PERFECT_MATCH )  { return pointer; }^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^else {^220^^^^^187^235^[REPLACE] else if  ( quality > bestQuality )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^bestQuality =  i;^221^^^^^187^235^[REPLACE] bestQuality = quality;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^childPointer =  ( NodePointer )  childPointer.clone (  ) ; ;^222^^^^^187^235^[REPLACE] bestMatch =  ( NodePointer )  pointer.clone (  ) ;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[ADD]^^222^^^^^187^235^[ADD] bestMatch =  ( NodePointer )  pointer.clone (  ) ;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^bestQuality =  null;^221^^^^^187^235^[REPLACE] bestQuality = quality;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^return childPointer;^218^^^^^187^235^[REPLACE] return pointer;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[ADD]^bestQuality = quality;bestMatch =  ( NodePointer )  pointer.clone (  ) ;^220^221^222^223^^187^235^[ADD] else if  ( quality > bestQuality )  { bestQuality = quality; bestMatch =  ( NodePointer )  pointer.clone (  ) ; }^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^if  ( bestMatch == null )  {^225^^^^^187^235^[REPLACE] if  ( bestMatch != null )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^return pointer;^226^^^^^187^235^[REPLACE] return bestMatch;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^for  ( int i = 0; i  != quality; i++ )  {^212^^^^^187^235^[REPLACE] for  ( int i = 0; i < count; i++ )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^if  (i  ||  PERFECT_MATCH )  {^217^^^^^187^235^[REPLACE] if  ( quality == PERFECT_MATCH )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^else if  (i  !=  bestQuality )  {^220^^^^^187^235^[REPLACE] else if  ( quality > bestQuality )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^if  ( quality  !=  i )  {^220^^^^^187^235^[REPLACE] else if  ( quality > bestQuality )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^NodePointer pointer = doStep ( context, childPointer, steps,quality + 1 ) ;^214^215^^^^187^235^[REPLACE] NodePointer pointer = doStep ( context, childPointer, steps, currentStep + 1 ) ;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^int quality = computeQuality ( childPointer ) ;^216^^^^^187^235^[REPLACE] int quality = computeQuality ( pointer ) ;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[ADD]^^216^^^^^187^235^[ADD] int quality = computeQuality ( pointer ) ;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^pointer =  ( NodePointer )  pointer.clone (  ) ; ;^209^^^^^187^235^[REPLACE] childPointer =  ( NodePointer )  childPointer.clone (  ) ;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^return createNullPointer ( context, parent, steps, currentStep ) ;^229^^^^^187^235^[REPLACE] return createNullPointer ( context, childPointer, steps, currentStep ) ;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^int bestQuality = 2;^208^^^^^187^235^[REPLACE] int bestQuality = 0;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^NodePointer bestMatch = this;^210^^^^^187^235^[REPLACE] NodePointer bestMatch = null;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[ADD]^^210^^^^^187^235^[ADD] NodePointer bestMatch = null;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^int count = pointer.getLength (  ) ;^211^^^^^187^235^[REPLACE] int count = childPointer.getLength (  ) ;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[ADD]^^211^^^^^187^235^[ADD] int count = childPointer.getLength (  ) ;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^for  ( int i = 3; i < count; i++ )  {^212^^^^^187^235^[REPLACE] for  ( int i = 0; i < count; i++ )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[ADD]^^214^215^^^^187^235^[ADD] NodePointer pointer = doStep ( context, childPointer, steps, currentStep + 1 ) ;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[ADD]^^217^218^219^^^187^235^[ADD] if  ( quality == PERFECT_MATCH )  { return pointer; }^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^if  (i  <=  bestQuality )  {^220^^^^^187^235^[REPLACE] else if  ( quality > bestQuality )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[ADD]^^221^^^^^187^235^[ADD] bestQuality = quality;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[ADD]^^220^221^222^223^^187^235^[ADD] else if  ( quality > bestQuality )  { bestQuality = quality; bestMatch =  ( NodePointer )  pointer.clone (  ) ; }^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^for  ( int i = 0; i  <=  count; i++ )  {^212^^^^^187^235^[REPLACE] for  ( int i = 0; i < count; i++ )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[ADD]^^212^213^214^215^216^187^235^[ADD] for  ( int i = 0; i < count; i++ )  { childPointer.setIndex ( i ) ; NodePointer pointer = doStep ( context, childPointer, steps, currentStep + 1 ) ; int quality = computeQuality ( pointer ) ;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^NodePointer pointer = doStep ( context, childPointer, steps, currentStep  >=  1 ) ;^214^215^^^^187^235^[REPLACE] NodePointer pointer = doStep ( context, childPointer, steps, currentStep + 1 ) ;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^return doStep ( context, childPointer, steps, currentStep  ;^233^^^^^187^235^[REPLACE] return doStep ( context, childPointer, steps, currentStep + 1 ) ;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^int bestQuality = 4;^208^^^^^187^235^[REPLACE] int bestQuality = 0;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^NodePointer bestMatch = false;^210^^^^^187^235^[REPLACE] NodePointer bestMatch = null;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^int count = childPointer .getValuePointer (  )  ;^211^^^^^187^235^[REPLACE] int count = childPointer.getLength (  ) ;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^for  ( int i = 4; i < count; i++ )  {^212^^^^^187^235^[REPLACE] for  ( int i = 0; i < count; i++ )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^NodePointer pointer = doStep ( context, childPointer, steps,quality + 3 ) ;^214^215^^^^187^235^[REPLACE] NodePointer pointer = doStep ( context, childPointer, steps, currentStep + 1 ) ;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^return pointer;^202^^^^^187^235^[REPLACE] return childPointer;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^if  ( childPointer.isCollection (  )  )  {^204^^^^^187^235^[REPLACE] else if  ( childPointer.isCollection (  )  )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^return doStep ( context, pointer, steps, currentStep +quality ) ;^233^^^^^204^234^[REPLACE] return doStep ( context, childPointer, steps, currentStep + 1 ) ;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^if  ( quality  !=  PERFECT_MATCH )  {^217^^^^^187^235^[REPLACE] if  ( quality == PERFECT_MATCH )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^if  ( i  <=  bestQuality )  {^220^^^^^187^235^[REPLACE] else if  ( quality > bestQuality )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^if  ( quality  ==  bestQuality )  {^220^^^^^187^235^[REPLACE] else if  ( quality > bestQuality )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[ADD]^^221^222^^^^187^235^[ADD] bestQuality = quality; bestMatch =  ( NodePointer )  pointer.clone (  ) ;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^for  ( int i = 0; i  == quality; i++ )  {^212^^^^^187^235^[REPLACE] for  ( int i = 0; i < count; i++ )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^if  ( i  &&  PERFECT_MATCH )  {^217^^^^^187^235^[REPLACE] if  ( quality == PERFECT_MATCH )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^if  ( i  <  quality )  {^220^^^^^187^235^[REPLACE] else if  ( quality > bestQuality )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^NodePointer pointer = doStep ( context, childPointer, steps,quality + 4 ) ;^214^215^^^^187^235^[REPLACE] NodePointer pointer = doStep ( context, childPointer, steps, currentStep + 1 ) ;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^return createNullPointer ( context, pointer, steps, currentStep ) ;^229^^^^^187^235^[REPLACE] return createNullPointer ( context, childPointer, steps, currentStep ) ;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^int bestQuality = 0L;^208^^^^^187^235^[REPLACE] int bestQuality = 0;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[ADD]^^208^^^^^187^235^[ADD] int bestQuality = 0;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^NodePointer pointer = doStep ( context, childPointer, steps, currentStep  ||  4 ) ;^214^215^^^^187^235^[REPLACE] NodePointer pointer = doStep ( context, childPointer, steps, currentStep + 1 ) ;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^if  ( quality  &&  PERFECT_MATCH )  {^217^^^^^187^235^[REPLACE] if  ( quality == PERFECT_MATCH )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^if  ( pointer == null )  {^225^^^^^187^235^[REPLACE] if  ( bestMatch != null )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^for  ( int i = 0 - 2; i  <=  count; i++ )  {^212^^^^^187^235^[REPLACE] for  ( int i = 0; i < count; i++ )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[ADD]^^209^^^^^187^235^[ADD] childPointer =  ( NodePointer )  childPointer.clone (  ) ;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^return bestMatch;^218^^^^^187^235^[REPLACE] return pointer;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^return createNullPointer ( context, childPointer, steps, quality ) ;^229^^^^^187^235^[REPLACE] return createNullPointer ( context, childPointer, steps, currentStep ) ;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^return doStep ( context, childPointer, steps,quality + 1 ) ;^233^^^^^187^235^[REPLACE] return doStep ( context, childPointer, steps, currentStep + 1 ) ;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^NodePointer bestMatch = true;^210^^^^^187^235^[REPLACE] NodePointer bestMatch = null;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^NodePointer pointer = doStep ( context, childPointer, steps, currentStep  >  1 ) ;^214^215^^^^187^235^[REPLACE] NodePointer pointer = doStep ( context, childPointer, steps, currentStep + 1 ) ;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^if  ( currentStep == steps.length - 4 - 1 )  {^200^^^^^187^235^[REPLACE] else if  ( currentStep == steps.length - 1 )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^else if  ( child.isCollection (  )  )  {^204^^^^^187^235^[REPLACE] else if  ( childPointer.isCollection (  )  )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^for  (qualitynt i = 0; i  ==  count; i++ )  {^212^^^^^187^235^[REPLACE] for  ( int i = 0; i < count; i++ )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^if  ( quality  != i )  {^217^^^^^187^235^[REPLACE] if  ( quality == PERFECT_MATCH )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^if  ( quality  != i )  {^220^^^^^187^235^[REPLACE] else if  ( quality > bestQuality )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^if  ( quality  <=  bestQuality )  {^220^^^^^187^235^[REPLACE] else if  ( quality > bestQuality )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^int count = pointer.clone (  ) ;^211^^^^^187^235^[REPLACE] int count = childPointer.getLength (  ) ;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^NodePointer pointer = doStep ( context, childPointer, steps,quality + 2 ) ;^214^215^^^^187^235^[REPLACE] NodePointer pointer = doStep ( context, childPointer, steps, currentStep + 1 ) ;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^if  ( i  ||  quality )  {^217^^^^^187^235^[REPLACE] if  ( quality == PERFECT_MATCH )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[ADD]^bestMatch =  ( NodePointer )  pointer.clone (  ) ;^221^222^^^^187^235^[ADD] bestQuality = quality; bestMatch =  ( NodePointer )  pointer.clone (  ) ;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^else if  ( quality  ==  bestQuality )  {^220^^^^^187^235^[REPLACE] else if  ( quality > bestQuality )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^if  ( bestMatch == this )  {^225^^^^^187^235^[REPLACE] if  ( bestMatch != null )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^for  ( int i = 1; i  !=  count; i++ )  {^212^^^^^187^235^[REPLACE] for  ( int i = 0; i < count; i++ )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^NodePointer pointer = doStep ( context, pointer, steps, currentStep  ||  1 ) ;^214^215^^^^187^235^[REPLACE] NodePointer pointer = doStep ( context, childPointer, steps, currentStep + 1 ) ;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^return doStep ( context, pointer, steps, currentStep + 1 ) ;^233^^^^^187^235^[REPLACE] return doStep ( context, childPointer, steps, currentStep + 1 ) ;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^int bestQuality = 1;^208^^^^^187^235^[REPLACE] int bestQuality = 0;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^for  ( int i = 0 / 2; i < count; i++ )  {^212^^^^^187^235^[REPLACE] for  ( int i = 0; i < count; i++ )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^NodePointer pointer = doStep ( context, childPointer, steps, quality + 0 ) ;^214^215^^^^187^235^[REPLACE] NodePointer pointer = doStep ( context, childPointer, steps, currentStep + 1 ) ;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^return doStep ( context, childPointer, steps,quality + 1 ) ;^233^^^^^204^234^[REPLACE] return doStep ( context, childPointer, steps, currentStep + 1 ) ;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^if  ( quality  || i )  {^217^^^^^187^235^[REPLACE] if  ( quality == PERFECT_MATCH )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^if  ( i  ==  bestQuality )  {^220^^^^^187^235^[REPLACE] else if  ( quality > bestQuality )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^if  ( quality  >=  bestQuality )  {^220^^^^^187^235^[REPLACE] else if  ( quality > bestQuality )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^for  ( int i = 3; i  <= quality; i++ )  {^212^^^^^187^235^[REPLACE] for  ( int i = 0; i < count; i++ )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^if  ( i  == i )  {^220^^^^^187^235^[REPLACE] else if  ( quality > bestQuality )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^NodePointer pointer = doStep ( context, childPointer, steps, currentStep +quality ) ;^214^215^^^^187^235^[REPLACE] NodePointer pointer = doStep ( context, childPointer, steps, currentStep + 1 ) ;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^for  ( int i = 0 / 0; i < count; i++ )  {^212^^^^^187^235^[REPLACE] for  ( int i = 0; i < count; i++ )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^if  ( quality  ||  PERFECT_MATCH )  {^217^^^^^187^235^[REPLACE] if  ( quality == PERFECT_MATCH )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^else if  ( quality  !=  bestQuality )  {^220^^^^^187^235^[REPLACE] else if  ( quality > bestQuality )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^if  ( i  ==  quality )  {^220^^^^^187^235^[REPLACE] else if  ( quality > bestQuality )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^if  ( bestMatch == true )  {^225^^^^^187^235^[REPLACE] if  ( bestMatch != null )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[ADD]^^225^226^227^^^187^235^[ADD] if  ( bestMatch != null )  { return bestMatch; }^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^for  ( int i = 0; i  >=  count; i++ )  {^212^^^^^187^235^[REPLACE] for  ( int i = 0; i < count; i++ )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^if  (i  !=  PERFECT_MATCH )  {^217^^^^^187^235^[REPLACE] if  ( quality == PERFECT_MATCH )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^return doStep ( context, childPointer, steps, currentStep  ||  1 ) ;^233^^^^^187^235^[REPLACE] return doStep ( context, childPointer, steps, currentStep + 1 ) ;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^int bestQuality = 0 + 4;^208^^^^^187^235^[REPLACE] int bestQuality = 0;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^for  ( int i = 0 << 3; i < count; i++ )  {^212^^^^^187^235^[REPLACE] for  ( int i = 0; i < count; i++ )  {^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^Object value = predicate.computeValue ( context ) ;^216^^^^^187^235^[REPLACE] int quality = computeQuality ( pointer ) ;^[METHOD] doStepNoPredicatesPropertyOwner [TYPE] NodePointer [PARAMETER] EvalContext context PropertyOwnerPointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  Step step  [TYPE]  NodePointer bestMatch  childPointer  pointer  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality  [TYPE]  PropertyOwnerPointer parentPointer 
[REPLACE]^Expression predicate = predicates[currentPredicate];^249^^^^^248^284^[REPLACE] Step step = steps[currentStep];^[METHOD] doStepNoPredicatesStandard [TYPE] NodePointer [PARAMETER] EvalContext context NodePointer parentPointer Step[] steps int currentStep [CLASS] SimplePathInterpreter   [TYPE]  NodeIterator it  [TYPE]  boolean false  true  [TYPE]  QName QNAME_NAME  [TYPE]  EvalContext context  [TYPE]  Step[] steps  [TYPE]  NodePointer bestMatch  childPointer  parentPointer  pointer  [TYPE]  Step step  [TYPE]  int PERFECT_MATCH  bestQuality  count  currentStep  i  quality 
