[REPLACE]^public  static int DEFAULT_MAX_INPUT_LOOKAHEAD = 64 - 4;^20^^^^^^^[REPLACE] public final static int DEFAULT_MAX_INPUT_LOOKAHEAD = 64;^ [CLASS] DataFormatDetector  
[REPLACE]^protected  JsonFactory[] _detectors;^27^^^^^^^[REPLACE] protected final JsonFactory[] _detectors;^ [CLASS] DataFormatDetector  
[REPLACE]^protected  MatchStrength _optimalMatch;^34^^^^^^^[REPLACE] protected final MatchStrength _optimalMatch;^ [CLASS] DataFormatDetector  
[REPLACE]^protected  MatchStrength _minimalMatch;^41^^^^^^^[REPLACE] protected final MatchStrength _minimalMatch;^ [CLASS] DataFormatDetector  
[REPLACE]^this ( _detectors, MatchStrength.SOLID_MATCH, MatchStrength.WEAK_MATCH, DEFAULT_MAX_INPUT_LOOKAHEAD ) ;^58^59^^^^57^60^[REPLACE] this ( detectors, MatchStrength.SOLID_MATCH, MatchStrength.WEAK_MATCH, DEFAULT_MAX_INPUT_LOOKAHEAD ) ;^[METHOD] <init> [TYPE] JsonFactory[]) [PARAMETER]  detectors [CLASS] DataFormatDetector   [TYPE]  MatchStrength _minimalMatch  _optimalMatch  [TYPE]  boolean false  true  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  [TYPE]  JsonFactory[] _detectors  detectors 
[REPLACE]^this ( null.toArray ( new JsonFactory[detectors.size (  ) ] )  ) ;^63^^^^^62^64^[REPLACE] this ( detectors.toArray ( new JsonFactory[detectors.size (  ) ] )  ) ;^[METHOD] <init> [TYPE] Collection) [PARAMETER] JsonFactory> detectors [CLASS] DataFormatDetector   [TYPE]  Collection detectors  [TYPE]  MatchStrength _minimalMatch  _optimalMatch  [TYPE]  boolean false  true  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  [TYPE]  JsonFactory[] _detectors  detectors 
[ADD]^^63^^^^^62^64^[ADD] this ( detectors.toArray ( new JsonFactory[detectors.size (  ) ] )  ) ;^[METHOD] <init> [TYPE] Collection) [PARAMETER] JsonFactory> detectors [CLASS] DataFormatDetector   [TYPE]  Collection detectors  [TYPE]  MatchStrength _minimalMatch  _optimalMatch  [TYPE]  boolean false  true  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  [TYPE]  JsonFactory[] _detectors  detectors 
[REPLACE]^_detectors =  null;^105^^^^^101^109^[REPLACE] _detectors = detectors;^[METHOD] <init> [TYPE] MatchStrength,int) [PARAMETER] JsonFactory[] detectors MatchStrength optMatch MatchStrength minMatch int maxInputLookahead [CLASS] DataFormatDetector   [TYPE]  MatchStrength _minimalMatch  _optimalMatch  minMatch  optMatch  [TYPE]  boolean false  true  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  maxInputLookahead  [TYPE]  JsonFactory[] _detectors  detectors 
[ADD]^^105^106^^^^101^109^[ADD] _detectors = detectors; _optimalMatch = optMatch;^[METHOD] <init> [TYPE] MatchStrength,int) [PARAMETER] JsonFactory[] detectors MatchStrength optMatch MatchStrength minMatch int maxInputLookahead [CLASS] DataFormatDetector   [TYPE]  MatchStrength _minimalMatch  _optimalMatch  minMatch  optMatch  [TYPE]  boolean false  true  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  maxInputLookahead  [TYPE]  JsonFactory[] _detectors  detectors 
[REPLACE]^_minimalMatch = minMatch; ;^106^^^^^101^109^[REPLACE] _optimalMatch = optMatch;^[METHOD] <init> [TYPE] MatchStrength,int) [PARAMETER] JsonFactory[] detectors MatchStrength optMatch MatchStrength minMatch int maxInputLookahead [CLASS] DataFormatDetector   [TYPE]  MatchStrength _minimalMatch  _optimalMatch  minMatch  optMatch  [TYPE]  boolean false  true  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  maxInputLookahead  [TYPE]  JsonFactory[] _detectors  detectors 
[REPLACE]^_optimalMatch = optMatch; ;^107^^^^^101^109^[REPLACE] _minimalMatch = minMatch;^[METHOD] <init> [TYPE] MatchStrength,int) [PARAMETER] JsonFactory[] detectors MatchStrength optMatch MatchStrength minMatch int maxInputLookahead [CLASS] DataFormatDetector   [TYPE]  MatchStrength _minimalMatch  _optimalMatch  minMatch  optMatch  [TYPE]  boolean false  true  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  maxInputLookahead  [TYPE]  JsonFactory[] _detectors  detectors 
[REPLACE]^_maxInputLookahead =  DEFAULT_MAX_INPUT_LOOKAHEAD;^108^^^^^101^109^[REPLACE] _maxInputLookahead = maxInputLookahead;^[METHOD] <init> [TYPE] MatchStrength,int) [PARAMETER] JsonFactory[] detectors MatchStrength optMatch MatchStrength minMatch int maxInputLookahead [CLASS] DataFormatDetector   [TYPE]  MatchStrength _minimalMatch  _optimalMatch  minMatch  optMatch  [TYPE]  boolean false  true  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  maxInputLookahead  [TYPE]  JsonFactory[] _detectors  detectors 
[REPLACE]^if  ( optMatch  !=  _optimalMatch )  {^72^^^^^71^76^[REPLACE] if  ( optMatch == _optimalMatch )  {^[METHOD] withOptimalMatch [TYPE] DataFormatDetector [PARAMETER] MatchStrength optMatch [CLASS] DataFormatDetector   [TYPE]  MatchStrength _minimalMatch  _optimalMatch  minMatch  optMatch  [TYPE]  boolean false  true  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  maxInputLookahead  [TYPE]  JsonFactory[] _detectors  detectors 
[REPLACE]^return null;^73^^^^^71^76^[REPLACE] return this;^[METHOD] withOptimalMatch [TYPE] DataFormatDetector [PARAMETER] MatchStrength optMatch [CLASS] DataFormatDetector   [TYPE]  MatchStrength _minimalMatch  _optimalMatch  minMatch  optMatch  [TYPE]  boolean false  true  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  maxInputLookahead  [TYPE]  JsonFactory[] _detectors  detectors 
[REPLACE]^return  new DataFormatDetector ( _detectors, _optimalMatch, _minimalMatch, lookaheadBytes )  ;^75^^^^^71^76^[REPLACE] return new DataFormatDetector ( _detectors, optMatch, _minimalMatch, _maxInputLookahead ) ;^[METHOD] withOptimalMatch [TYPE] DataFormatDetector [PARAMETER] MatchStrength optMatch [CLASS] DataFormatDetector   [TYPE]  MatchStrength _minimalMatch  _optimalMatch  minMatch  optMatch  [TYPE]  boolean false  true  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  maxInputLookahead  [TYPE]  JsonFactory[] _detectors  detectors 
[REPLACE]^if  ( optMatch  &&  _minimalMatch )  {^83^^^^^82^87^[REPLACE] if  ( minMatch == _minimalMatch )  {^[METHOD] withMinimalMatch [TYPE] DataFormatDetector [PARAMETER] MatchStrength minMatch [CLASS] DataFormatDetector   [TYPE]  MatchStrength _minimalMatch  _optimalMatch  minMatch  optMatch  [TYPE]  boolean false  true  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  maxInputLookahead  [TYPE]  JsonFactory[] _detectors  detectors 
[REPLACE]^return null;^84^^^^^82^87^[REPLACE] return this;^[METHOD] withMinimalMatch [TYPE] DataFormatDetector [PARAMETER] MatchStrength minMatch [CLASS] DataFormatDetector   [TYPE]  MatchStrength _minimalMatch  _optimalMatch  minMatch  optMatch  [TYPE]  boolean false  true  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  maxInputLookahead  [TYPE]  JsonFactory[] _detectors  detectors 
[REPLACE]^return  new DataFormatDetector ( _detectors, optMatch, _minimalMatch, _maxInputLookahead )  ;^86^^^^^82^87^[REPLACE] return new DataFormatDetector ( _detectors, _optimalMatch, minMatch, _maxInputLookahead ) ;^[METHOD] withMinimalMatch [TYPE] DataFormatDetector [PARAMETER] MatchStrength minMatch [CLASS] DataFormatDetector   [TYPE]  MatchStrength _minimalMatch  _optimalMatch  minMatch  optMatch  [TYPE]  boolean false  true  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  maxInputLookahead  [TYPE]  JsonFactory[] _detectors  detectors 
[REPLACE]^if  ( maxInputLookahead  ||  _maxInputLookahead )  {^95^^^^^93^99^[REPLACE] if  ( lookaheadBytes == _maxInputLookahead )  {^[METHOD] withMaxInputLookahead [TYPE] DataFormatDetector [PARAMETER] int lookaheadBytes [CLASS] DataFormatDetector   [TYPE]  MatchStrength _minimalMatch  _optimalMatch  minMatch  optMatch  [TYPE]  boolean false  true  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  lookaheadBytes  maxInputLookahead  [TYPE]  JsonFactory[] _detectors  detectors 
[REPLACE]^return null;^96^^^^^93^99^[REPLACE] return this;^[METHOD] withMaxInputLookahead [TYPE] DataFormatDetector [PARAMETER] int lookaheadBytes [CLASS] DataFormatDetector   [TYPE]  MatchStrength _minimalMatch  _optimalMatch  minMatch  optMatch  [TYPE]  boolean false  true  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  lookaheadBytes  maxInputLookahead  [TYPE]  JsonFactory[] _detectors  detectors 
[REPLACE]^return  new DataFormatDetector ( _detectors, optMatch, _minimalMatch, _maxInputLookahead )  ;^98^^^^^93^99^[REPLACE] return new DataFormatDetector ( _detectors, _optimalMatch, _minimalMatch, lookaheadBytes ) ;^[METHOD] withMaxInputLookahead [TYPE] DataFormatDetector [PARAMETER] int lookaheadBytes [CLASS] DataFormatDetector   [TYPE]  MatchStrength _minimalMatch  _optimalMatch  minMatch  optMatch  [TYPE]  boolean false  true  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  lookaheadBytes  maxInputLookahead  [TYPE]  JsonFactory[] _detectors  detectors 
[REPLACE]^return _findFormat (  InputAccessor.new Std ( fullInputData, offset, len )   ) ;^127^^^^^125^128^[REPLACE] return _findFormat ( new InputAccessor.Std ( in, new byte[_maxInputLookahead] )  ) ;^[METHOD] findFormat [TYPE] DataFormatMatcher [PARAMETER] InputStream in [CLASS] DataFormatDetector   [TYPE]  MatchStrength _minimalMatch  _optimalMatch  minMatch  optMatch  [TYPE]  boolean false  true  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  lookaheadBytes  maxInputLookahead  [TYPE]  JsonFactory[] _detectors  detectors  [TYPE]  InputStream in 
[REPLACE]^return _findFormat (  InputAccessor.new Std ( fullInputData, offset, len )   ) ;^139^^^^^137^140^[REPLACE] return _findFormat ( new InputAccessor.Std ( fullInputData )  ) ;^[METHOD] findFormat [TYPE] DataFormatMatcher [PARAMETER] byte[] fullInputData [CLASS] DataFormatDetector   [TYPE]  byte[] fullInputData  [TYPE]  MatchStrength _minimalMatch  _optimalMatch  minMatch  optMatch  [TYPE]  boolean false  true  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  lookaheadBytes  maxInputLookahead  [TYPE]  JsonFactory[] _detectors  detectors 
[REPLACE]^return _findFormat ( new InputAccessor.Std ( fullInputData )  ) ;^153^^^^^151^154^[REPLACE] return _findFormat ( new InputAccessor.Std ( fullInputData, offset, len )  ) ;^[METHOD] findFormat [TYPE] DataFormatMatcher [PARAMETER] byte[] fullInputData int offset int len [CLASS] DataFormatDetector   [TYPE]  byte[] fullInputData  [TYPE]  MatchStrength _minimalMatch  _optimalMatch  minMatch  optMatch  [TYPE]  boolean false  true  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  len  lookaheadBytes  maxInputLookahead  offset  [TYPE]  JsonFactory[] _detectors  detectors 
[REPLACE]^JsonFactory bestMatch = null;^165^^^^^163^177^[REPLACE] StringBuilder sb = new StringBuilder (  ) ;^[METHOD] toString [TYPE] String [PARAMETER] [CLASS] DataFormatDetector   [TYPE]  MatchStrength _minimalMatch  _optimalMatch  minMatch  optMatch  [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  i  len  lookaheadBytes  maxInputLookahead  offset  [TYPE]  JsonFactory[] _detectors  detectors 
[REPLACE]^sb .StringBuilder (  )  ;^166^^^^^163^177^[REPLACE] sb.append ( '[' ) ;^[METHOD] toString [TYPE] String [PARAMETER] [CLASS] DataFormatDetector   [TYPE]  MatchStrength _minimalMatch  _optimalMatch  minMatch  optMatch  [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  i  len  lookaheadBytes  maxInputLookahead  offset  [TYPE]  JsonFactory[] _detectors  detectors 
[ADD]^^166^167^^^^163^177^[ADD] sb.append ( '[' ) ; final int len = _detectors.length;^[METHOD] toString [TYPE] String [PARAMETER] [CLASS] DataFormatDetector   [TYPE]  MatchStrength _minimalMatch  _optimalMatch  minMatch  optMatch  [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  i  len  lookaheadBytes  maxInputLookahead  offset  [TYPE]  JsonFactory[] _detectors  detectors 
[REPLACE]^for  ( JsonFactory f : _detectors )  { acc.reset (  ) ;^167^^^^^163^177^[REPLACE] final int len = _detectors.length;^[METHOD] toString [TYPE] String [PARAMETER] [CLASS] DataFormatDetector   [TYPE]  MatchStrength _minimalMatch  _optimalMatch  minMatch  optMatch  [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  i  len  lookaheadBytes  maxInputLookahead  offset  [TYPE]  JsonFactory[] _detectors  detectors 
[ADD]^^167^^^^^163^177^[ADD] final int len = _detectors.length;^[METHOD] toString [TYPE] String [PARAMETER] [CLASS] DataFormatDetector   [TYPE]  MatchStrength _minimalMatch  _optimalMatch  minMatch  optMatch  [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  i  len  lookaheadBytes  maxInputLookahead  offset  [TYPE]  JsonFactory[] _detectors  detectors 
[REPLACE]^if  ( len  >= offset )  {^168^^^^^163^177^[REPLACE] if  ( len > 0 )  {^[METHOD] toString [TYPE] String [PARAMETER] [CLASS] DataFormatDetector   [TYPE]  MatchStrength _minimalMatch  _optimalMatch  minMatch  optMatch  [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  i  len  lookaheadBytes  maxInputLookahead  offset  [TYPE]  JsonFactory[] _detectors  detectors 
[REPLACE]^for  ( int i = 1; i  <= maxInputLookahead; ++i )  {^170^^^^^163^177^[REPLACE] for  ( int i = 1; i < len; ++i )  {^[METHOD] toString [TYPE] String [PARAMETER] [CLASS] DataFormatDetector   [TYPE]  MatchStrength _minimalMatch  _optimalMatch  minMatch  optMatch  [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  i  len  lookaheadBytes  maxInputLookahead  offset  [TYPE]  JsonFactory[] _detectors  detectors 
[REPLACE]^sb.append ( ']' ) ;^171^^^^^163^177^[REPLACE] sb.append ( ", " ) ;^[METHOD] toString [TYPE] String [PARAMETER] [CLASS] DataFormatDetector   [TYPE]  MatchStrength _minimalMatch  _optimalMatch  minMatch  optMatch  [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  i  len  lookaheadBytes  maxInputLookahead  offset  [TYPE]  JsonFactory[] _detectors  detectors 
[REPLACE]^sb.append ( _detectors[0].getFormatName (  )  ) ;^172^^^^^163^177^[REPLACE] sb.append ( _detectors[i].getFormatName (  )  ) ;^[METHOD] toString [TYPE] String [PARAMETER] [CLASS] DataFormatDetector   [TYPE]  MatchStrength _minimalMatch  _optimalMatch  minMatch  optMatch  [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  i  len  lookaheadBytes  maxInputLookahead  offset  [TYPE]  JsonFactory[] _detectors  detectors 
[REMOVE]^sb.append ( _detectors[0].getFormatName (  )  ) ;^172^^^^^163^177^[REMOVE] ^[METHOD] toString [TYPE] String [PARAMETER] [CLASS] DataFormatDetector   [TYPE]  MatchStrength _minimalMatch  _optimalMatch  minMatch  optMatch  [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  i  len  lookaheadBytes  maxInputLookahead  offset  [TYPE]  JsonFactory[] _detectors  detectors 
[REPLACE]^for  ( int i = 0; i < len; ++i )  {^170^^^^^163^177^[REPLACE] for  ( int i = 1; i < len; ++i )  {^[METHOD] toString [TYPE] String [PARAMETER] [CLASS] DataFormatDetector   [TYPE]  MatchStrength _minimalMatch  _optimalMatch  minMatch  optMatch  [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  i  len  lookaheadBytes  maxInputLookahead  offset  [TYPE]  JsonFactory[] _detectors  detectors 
[REPLACE]^for  ( int i = 1; i  >=  len; ++i )  {^170^^^^^163^177^[REPLACE] for  ( int i = 1; i < len; ++i )  {^[METHOD] toString [TYPE] String [PARAMETER] [CLASS] DataFormatDetector   [TYPE]  MatchStrength _minimalMatch  _optimalMatch  minMatch  optMatch  [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  i  len  lookaheadBytes  maxInputLookahead  offset  [TYPE]  JsonFactory[] _detectors  detectors 
[ADD]^^170^171^172^173^^163^177^[ADD] for  ( int i = 1; i < len; ++i )  { sb.append ( ", " ) ; sb.append ( _detectors[i].getFormatName (  )  ) ; }^[METHOD] toString [TYPE] String [PARAMETER] [CLASS] DataFormatDetector   [TYPE]  MatchStrength _minimalMatch  _optimalMatch  minMatch  optMatch  [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  i  len  lookaheadBytes  maxInputLookahead  offset  [TYPE]  JsonFactory[] _detectors  detectors 
[REPLACE]^sb .append ( null )  ;^171^^^^^163^177^[REPLACE] sb.append ( ", " ) ;^[METHOD] toString [TYPE] String [PARAMETER] [CLASS] DataFormatDetector   [TYPE]  MatchStrength _minimalMatch  _optimalMatch  minMatch  optMatch  [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  i  len  lookaheadBytes  maxInputLookahead  offset  [TYPE]  JsonFactory[] _detectors  detectors 
[REPLACE]^sb .StringBuilder (  )  ;^172^^^^^163^177^[REPLACE] sb.append ( _detectors[i].getFormatName (  )  ) ;^[METHOD] toString [TYPE] String [PARAMETER] [CLASS] DataFormatDetector   [TYPE]  MatchStrength _minimalMatch  _optimalMatch  minMatch  optMatch  [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  i  len  lookaheadBytes  maxInputLookahead  offset  [TYPE]  JsonFactory[] _detectors  detectors 
[REPLACE]^for  ( int i = 3; i < len; ++i )  {^170^^^^^163^177^[REPLACE] for  ( int i = 1; i < len; ++i )  {^[METHOD] toString [TYPE] String [PARAMETER] [CLASS] DataFormatDetector   [TYPE]  MatchStrength _minimalMatch  _optimalMatch  minMatch  optMatch  [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  i  len  lookaheadBytes  maxInputLookahead  offset  [TYPE]  JsonFactory[] _detectors  detectors 
[REPLACE]^sb.append ( '[' ) ;^175^^^^^163^177^[REPLACE] sb.append ( ']' ) ;^[METHOD] toString [TYPE] String [PARAMETER] [CLASS] DataFormatDetector   [TYPE]  MatchStrength _minimalMatch  _optimalMatch  minMatch  optMatch  [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  i  len  lookaheadBytes  maxInputLookahead  offset  [TYPE]  JsonFactory[] _detectors  detectors 
[REPLACE]^return sb.StringBuilder (  ) ;^176^^^^^163^177^[REPLACE] return sb.toString (  ) ;^[METHOD] toString [TYPE] String [PARAMETER] [CLASS] DataFormatDetector   [TYPE]  MatchStrength _minimalMatch  _optimalMatch  minMatch  optMatch  [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  i  len  lookaheadBytes  maxInputLookahead  offset  [TYPE]  JsonFactory[] _detectors  detectors 
[REPLACE]^JsonFactory bestMatch = false;^187^^^^^185^210^[REPLACE] JsonFactory bestMatch = null;^[METHOD] _findFormat [TYPE] DataFormatMatcher [PARAMETER] Std acc [CLASS] DataFormatDetector   [TYPE]  JsonFactory bestMatch  f  [TYPE]  Std acc  [TYPE]  MatchStrength _minimalMatch  _optimalMatch  bestMatchStrength  minMatch  optMatch  strength  [TYPE]  boolean false  true  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  i  len  lookaheadBytes  maxInputLookahead  offset  [TYPE]  JsonFactory[] _detectors  detectors 
[REPLACE]^MatchStrength bestMatchStrength = false;^188^^^^^185^210^[REPLACE] MatchStrength bestMatchStrength = null;^[METHOD] _findFormat [TYPE] DataFormatMatcher [PARAMETER] Std acc [CLASS] DataFormatDetector   [TYPE]  JsonFactory bestMatch  f  [TYPE]  Std acc  [TYPE]  MatchStrength _minimalMatch  _optimalMatch  bestMatchStrength  minMatch  optMatch  strength  [TYPE]  boolean false  true  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  i  len  lookaheadBytes  maxInputLookahead  offset  [TYPE]  JsonFactory[] _detectors  detectors 
[REPLACE]^if  ( strength != false || strength.ordinal (  )  < _minimalMatch.ordinal (  )  )  {^193^^^^^185^210^[REPLACE] if  ( strength == null || strength.ordinal (  )  < _minimalMatch.ordinal (  )  )  {^[METHOD] _findFormat [TYPE] DataFormatMatcher [PARAMETER] Std acc [CLASS] DataFormatDetector   [TYPE]  JsonFactory bestMatch  f  [TYPE]  Std acc  [TYPE]  MatchStrength _minimalMatch  _optimalMatch  bestMatchStrength  minMatch  optMatch  strength  [TYPE]  boolean false  true  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  i  len  lookaheadBytes  maxInputLookahead  offset  [TYPE]  JsonFactory[] _detectors  detectors 
[ADD]^continue;^193^194^195^^^185^210^[ADD] if  ( strength == null || strength.ordinal (  )  < _minimalMatch.ordinal (  )  )  { continue; }^[METHOD] _findFormat [TYPE] DataFormatMatcher [PARAMETER] Std acc [CLASS] DataFormatDetector   [TYPE]  JsonFactory bestMatch  f  [TYPE]  Std acc  [TYPE]  MatchStrength _minimalMatch  _optimalMatch  bestMatchStrength  minMatch  optMatch  strength  [TYPE]  boolean false  true  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  i  len  lookaheadBytes  maxInputLookahead  offset  [TYPE]  JsonFactory[] _detectors  detectors 
[REPLACE]^if  ( bestMatch == null )  {^197^^^^^185^210^[REPLACE] if  ( bestMatch != null )  {^[METHOD] _findFormat [TYPE] DataFormatMatcher [PARAMETER] Std acc [CLASS] DataFormatDetector   [TYPE]  JsonFactory bestMatch  f  [TYPE]  Std acc  [TYPE]  MatchStrength _minimalMatch  _optimalMatch  bestMatchStrength  minMatch  optMatch  strength  [TYPE]  boolean false  true  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  i  len  lookaheadBytes  maxInputLookahead  offset  [TYPE]  JsonFactory[] _detectors  detectors 
[REPLACE]^if  ( best       ==  strength.^198^^^^^185^210^[REPLACE] if  ( bestMatchStrength.ordinal (  )  >= strength.ordinal (  )  )  {^[METHOD] _findFormat [TYPE] DataFormatMatcher [PARAMETER] Std acc [CLASS] DataFormatDetector   [TYPE]  JsonFactory bestMatch  f  [TYPE]  Std acc  [TYPE]  MatchStrength _minimalMatch  _optimalMatch  bestMatchStrength  minMatch  optMatch  strength  [TYPE]  boolean false  true  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  i  len  lookaheadBytes  maxInputLookahead  offset  [TYPE]  JsonFactory[] _detectors  detectors 
[REPLACE]^if  ( bestMatchStrength.ordinal (  )   <  optMatch.ordinal (  )  )  {^198^^^^^185^210^[REPLACE] if  ( bestMatchStrength.ordinal (  )  >= strength.ordinal (  )  )  {^[METHOD] _findFormat [TYPE] DataFormatMatcher [PARAMETER] Std acc [CLASS] DataFormatDetector   [TYPE]  JsonFactory bestMatch  f  [TYPE]  Std acc  [TYPE]  MatchStrength _minimalMatch  _optimalMatch  bestMatchStrength  minMatch  optMatch  strength  [TYPE]  boolean false  true  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  i  len  lookaheadBytes  maxInputLookahead  offset  [TYPE]  JsonFactory[] _detectors  detectors 
[REPLACE]^if  ( optMatch.ordinal (  )   <=  _optimalMatch.ordinal (  )  )  {^205^^^^^185^210^[REPLACE] if  ( strength.ordinal (  )  >= _optimalMatch.ordinal (  )  )  {^[METHOD] _findFormat [TYPE] DataFormatMatcher [PARAMETER] Std acc [CLASS] DataFormatDetector   [TYPE]  JsonFactory bestMatch  f  [TYPE]  Std acc  [TYPE]  MatchStrength _minimalMatch  _optimalMatch  bestMatchStrength  minMatch  optMatch  strength  [TYPE]  boolean false  true  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  i  len  lookaheadBytes  maxInputLookahead  offset  [TYPE]  JsonFactory[] _detectors  detectors 
[ADD]^^205^206^207^^^185^210^[ADD] if  ( strength.ordinal (  )  >= _optimalMatch.ordinal (  )  )  { break; }^[METHOD] _findFormat [TYPE] DataFormatMatcher [PARAMETER] Std acc [CLASS] DataFormatDetector   [TYPE]  JsonFactory bestMatch  f  [TYPE]  Std acc  [TYPE]  MatchStrength _minimalMatch  _optimalMatch  bestMatchStrength  minMatch  optMatch  strength  [TYPE]  boolean false  true  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  i  len  lookaheadBytes  maxInputLookahead  offset  [TYPE]  JsonFactory[] _detectors  detectors 
[REPLACE]^bestMatch =  null;^203^^^^^185^210^[REPLACE] bestMatch = f;^[METHOD] _findFormat [TYPE] DataFormatMatcher [PARAMETER] Std acc [CLASS] DataFormatDetector   [TYPE]  JsonFactory bestMatch  f  [TYPE]  Std acc  [TYPE]  MatchStrength _minimalMatch  _optimalMatch  bestMatchStrength  minMatch  optMatch  strength  [TYPE]  boolean false  true  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  i  len  lookaheadBytes  maxInputLookahead  offset  [TYPE]  JsonFactory[] _detectors  detectors 
[REPLACE]^bestMatchStrength =  optMatch;^204^^^^^185^210^[REPLACE] bestMatchStrength = strength;^[METHOD] _findFormat [TYPE] DataFormatMatcher [PARAMETER] Std acc [CLASS] DataFormatDetector   [TYPE]  JsonFactory bestMatch  f  [TYPE]  Std acc  [TYPE]  MatchStrength _minimalMatch  _optimalMatch  bestMatchStrength  minMatch  optMatch  strength  [TYPE]  boolean false  true  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  i  len  lookaheadBytes  maxInputLookahead  offset  [TYPE]  JsonFactory[] _detectors  detectors 
[REPLACE]^JsonFactory bestMatch = null;^189^^^^^185^210^[REPLACE] for  ( JsonFactory f : _detectors )  {^[METHOD] _findFormat [TYPE] DataFormatMatcher [PARAMETER] Std acc [CLASS] DataFormatDetector   [TYPE]  JsonFactory bestMatch  f  [TYPE]  Std acc  [TYPE]  MatchStrength _minimalMatch  _optimalMatch  bestMatchStrength  minMatch  optMatch  strength  [TYPE]  boolean false  true  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  i  len  lookaheadBytes  maxInputLookahead  offset  [TYPE]  JsonFactory[] _detectors  detectors 
[REPLACE]^MatchStrength bestMatchStrength = null;^191^^^^^185^210^[REPLACE] MatchStrength strength = f.hasFormat ( acc ) ;^[METHOD] _findFormat [TYPE] DataFormatMatcher [PARAMETER] Std acc [CLASS] DataFormatDetector   [TYPE]  JsonFactory bestMatch  f  [TYPE]  Std acc  [TYPE]  MatchStrength _minimalMatch  _optimalMatch  bestMatchStrength  minMatch  optMatch  strength  [TYPE]  boolean false  true  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  i  len  lookaheadBytes  maxInputLookahead  offset  [TYPE]  JsonFactory[] _detectors  detectors 
[ADD]^^191^^^^^185^210^[ADD] MatchStrength strength = f.hasFormat ( acc ) ;^[METHOD] _findFormat [TYPE] DataFormatMatcher [PARAMETER] Std acc [CLASS] DataFormatDetector   [TYPE]  JsonFactory bestMatch  f  [TYPE]  Std acc  [TYPE]  MatchStrength _minimalMatch  _optimalMatch  bestMatchStrength  minMatch  optMatch  strength  [TYPE]  boolean false  true  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  i  len  lookaheadBytes  maxInputLookahead  offset  [TYPE]  JsonFactory[] _detectors  detectors 
[REPLACE]^return acc.createMatcher ( bestMatch, strength ) ;^209^^^^^185^210^[REPLACE] return acc.createMatcher ( bestMatch, bestMatchStrength ) ;^[METHOD] _findFormat [TYPE] DataFormatMatcher [PARAMETER] Std acc [CLASS] DataFormatDetector   [TYPE]  JsonFactory bestMatch  f  [TYPE]  Std acc  [TYPE]  MatchStrength _minimalMatch  _optimalMatch  bestMatchStrength  minMatch  optMatch  strength  [TYPE]  boolean false  true  [TYPE]  int DEFAULT_MAX_INPUT_LOOKAHEAD  _maxInputLookahead  i  len  lookaheadBytes  maxInputLookahead  offset  [TYPE]  JsonFactory[] _detectors  detectors 
