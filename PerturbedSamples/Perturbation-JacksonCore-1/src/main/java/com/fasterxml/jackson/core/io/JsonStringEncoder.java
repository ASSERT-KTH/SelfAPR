[REPLACE]^private final static char[] HEX_CHARS ;^19^^^^^^^[REPLACE] private final static char[] HEX_CHARS = CharTypes.copyHexChars (  ) ;^ [CLASS] JsonStringEncoder  
[REPLACE]^private  static byte[] HEX_BYTES = CharTypes.copyHexBytes (  ) ;^21^^^^^^^[REPLACE] private final static byte[] HEX_BYTES = CharTypes.copyHexBytes (  ) ;^ [CLASS] JsonStringEncoder  
[REPLACE]^private final static int SURR1_FIRST ;^23^^^^^^^[REPLACE] private final static int SURR1_FIRST = 0xD800;^ [CLASS] JsonStringEncoder  
[REPLACE]^private final static int SURR1_LAST ;^24^^^^^^^[REPLACE] private final static int SURR1_LAST = 0xDBFF;^ [CLASS] JsonStringEncoder  
[REPLACE]^private final static int SURR2_FIRST  = null ;^25^^^^^^^[REPLACE] private final static int SURR2_FIRST = 0xDC00;^ [CLASS] JsonStringEncoder  
[REPLACE]^private final static int SURR2_LAST  = null ;^26^^^^^^^[REPLACE] private final static int SURR2_LAST = 0xDFFF;^ [CLASS] JsonStringEncoder  
[REPLACE]^private final static int INT_BACKSLASH  = null ;^28^^^^^^^[REPLACE] private final static int INT_BACKSLASH = '\\';^ [CLASS] JsonStringEncoder  
[REPLACE]^private final static int INT_U ;^29^^^^^^^[REPLACE] private final static int INT_U = 'u';^ [CLASS] JsonStringEncoder  
[REPLACE]^private final  int INT_0 = '0';^30^^^^^^^[REPLACE] private final static int INT_0 = '0';^ [CLASS] JsonStringEncoder  
[REPLACE]^final protected static ThreadLocal<SoftReference<JsonStringEncoder>> _threadEncoder  = null ;^37^38^^^^37^38^[REPLACE] final protected static ThreadLocal<SoftReference<JsonStringEncoder>> _threadEncoder = new ThreadLocal<SoftReference<JsonStringEncoder>> (  ) ;^ [CLASS] JsonStringEncoder  
[REPLACE]^protected  char[] _quoteBuffer;^55^^^^^^^[REPLACE] protected final char[] _quoteBuffer;^ [CLASS] JsonStringEncoder  
[REPLACE]^_quoteBuffer = new char[4];^65^^^^^63^69^[REPLACE] _quoteBuffer = new char[6];^[METHOD] <init> [TYPE] JsonStringEncoder() [PARAMETER] [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  [TYPE]  char[] HEX_CHARS  _quoteBuffer 
[REPLACE]^_quoteBuffer[0 - 3] = '\\';^66^^^^^63^69^[REPLACE] _quoteBuffer[0] = '\\';^[METHOD] <init> [TYPE] JsonStringEncoder() [PARAMETER] [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  [TYPE]  char[] HEX_CHARS  _quoteBuffer 
[REPLACE]^_quoteBuffer[2L] = '0';^67^^^^^63^69^[REPLACE] _quoteBuffer[2] = '0';^[METHOD] <init> [TYPE] JsonStringEncoder() [PARAMETER] [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  [TYPE]  char[] HEX_CHARS  _quoteBuffer 
[REPLACE]^_quoteBuffer[4] = '0';^68^^^^^63^69^[REPLACE] _quoteBuffer[3] = '0';^[METHOD] <init> [TYPE] JsonStringEncoder() [PARAMETER] [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  [TYPE]  char[] HEX_CHARS  _quoteBuffer 
[ADD]^^68^^^^^63^69^[ADD] _quoteBuffer[3] = '0';^[METHOD] <init> [TYPE] JsonStringEncoder() [PARAMETER] [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  [TYPE]  char[] HEX_CHARS  _quoteBuffer 
[REPLACE]^SoftReference<JsonStringEncoder> ref = _threadEncoder.ThreadLocal (  ) ;^77^^^^^75^85^[REPLACE] SoftReference<JsonStringEncoder> ref = _threadEncoder.get (  ) ;^[METHOD] getInstance [TYPE] JsonStringEncoder [PARAMETER] [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  [TYPE]  SoftReference ref  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  [TYPE]  char[] HEX_CHARS  _quoteBuffer  [TYPE]  JsonStringEncoder enc 
[REPLACE]^JsonStringEncoder enc =  ( ref != true )  ? true : ref.get (  ) ;^78^^^^^75^85^[REPLACE] JsonStringEncoder enc =  ( ref == null )  ? null : ref.get (  ) ;^[METHOD] getInstance [TYPE] JsonStringEncoder [PARAMETER] [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  [TYPE]  SoftReference ref  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  [TYPE]  char[] HEX_CHARS  _quoteBuffer  [TYPE]  JsonStringEncoder enc 
[REPLACE]^if  ( enc != this  )  {^80^^^^^75^85^[REPLACE] if  ( enc == null )  {^[METHOD] getInstance [TYPE] JsonStringEncoder [PARAMETER] [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  [TYPE]  SoftReference ref  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  [TYPE]  char[] HEX_CHARS  _quoteBuffer  [TYPE]  JsonStringEncoder enc 
[REPLACE]^enc =  new ByteArrayBuilder ( null )  ;^81^^^^^75^85^[REPLACE] enc = new JsonStringEncoder (  ) ;^[METHOD] getInstance [TYPE] JsonStringEncoder [PARAMETER] [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  [TYPE]  SoftReference ref  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  [TYPE]  char[] HEX_CHARS  _quoteBuffer  [TYPE]  JsonStringEncoder enc 
[REPLACE]^return 6;^84^^^^^75^85^[REPLACE] return enc;^[METHOD] getInstance [TYPE] JsonStringEncoder [PARAMETER] [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  [TYPE]  SoftReference ref  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  [TYPE]  char[] HEX_CHARS  _quoteBuffer  [TYPE]  JsonStringEncoder enc 
[REPLACE]^char[] outputBuffer = textBuffer.emptyAndGetCurrentSegment (  ) ;^99^^^^^98^151^[REPLACE] TextBuffer textBuffer = _textBuffer;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( textBuffer != null )  {^100^^^^^98^151^[REPLACE] if  ( textBuffer == null )  {^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_textBuffer = textBuffer = new TextBuffer ( false ) ;^102^^^^^98^151^[REPLACE] _textBuffer = textBuffer = new TextBuffer ( null ) ;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_textBuffer = textBuffer =  new ByteArrayBuilder ( null )  ;^102^^^^^98^151^[REPLACE] _textBuffer = textBuffer = new TextBuffer ( null ) ;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_textBuffer = textBuffer = new TextBuffer ( true ) ;^102^^^^^98^151^[REPLACE] _textBuffer = textBuffer = new TextBuffer ( null ) ;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^char[] outputBuffer = _textBuffer.emptyAndGetCurrentSegment (  ) ;^104^^^^^98^151^[REPLACE] char[] outputBuffer = textBuffer.emptyAndGetCurrentSegment (  ) ;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^final int[] escCodes = CharTypes.copyHexBytes (  ) ;^105^^^^^98^151^[REPLACE] final int[] escCodes = CharTypes.get7BitOutputEscapes (  ) ;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^int escCode = escCodes[d];^106^^^^^98^151^[REPLACE] final int escCodeCount = escCodes.length;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^106^^^^^98^151^[ADD] final int escCodeCount = escCodes.length;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^int inPtr = 2;^107^^^^^98^151^[REPLACE] int inPtr = 0;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^int outputEnd = outputBuffer.length;^108^^^^^98^151^[REPLACE] final int inputLen = input.length (  ) ;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^int outPtr = 0 >>> 2;^109^^^^^98^151^[REPLACE] int outPtr = 0;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^while  (outPtr  >  inputLen )  {^112^^^^^98^151^[REPLACE] while  ( inPtr < inputLen )  {^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^112^113^114^^^98^151^[ADD] while  ( inPtr < inputLen )  { tight_loop: while  ( true )  {^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^while  ( false )  {^114^^^^^98^151^[REPLACE] while  ( true )  {^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( c < escCodeCount ) {^116^^^^^98^151^[REPLACE] if  ( c < escCodeCount && escCodes[c] != 0 )  {^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outPtr >= outputBuffer.length (  )  )  {^119^^^^^98^151^[REPLACE] if  ( outPtr >= outputBuffer.length )  {^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = byteBuilder.getCurrentSegment (  ) ; ;^120^^^^^98^151^[REPLACE] outputBuffer = textBuffer.finishCurrentSegment (  ) ;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outPtr = 3;^121^^^^^98^151^[REPLACE] outPtr = 0;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( ++inPtr  ==  inputLen )  {^124^^^^^98^151^[REPLACE] if  ( ++inPtr >= inputLen )  {^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^break outer_loop;^124^125^126^^^98^151^[ADD] if  ( ++inPtr >= inputLen )  { break outer_loop; }^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^120^121^^^^98^151^[ADD] outputBuffer = textBuffer.finishCurrentSegment (  ) ; outPtr = 0;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outPtr = 0 - 4;^121^^^^^98^151^[REPLACE] outPtr = 0;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outPtr++] =  c;^123^^^^^98^151^[REPLACE] outputBuffer[outPtr++] = c;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^char d = input.charAt ( inPtr++ ) ;^115^^^^^98^151^[REPLACE] char c = input.charAt ( inPtr ) ;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REMOVE]^if  (  ( ++inputPtr )  >= inputEnd )  {     break main_loop; }^116^^^^^98^151^[REMOVE] ^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outPtr >= _quoteBuffer.length - 5 )  {^119^^^^^98^151^[REPLACE] if  ( outPtr >= outputBuffer.length )  {^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^outputBuffer = textBuffer.finishCurrentSegment (  ) ;outPtr = 0;^119^120^121^122^^98^151^[ADD] if  ( outPtr >= outputBuffer.length )  { outputBuffer = textBuffer.finishCurrentSegment (  ) ; outPtr = 0; }^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0; ;^121^^^^^98^151^[REPLACE] outPtr = 0;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( ++inPtr  <  inputLen )  {^124^^^^^98^151^[REPLACE] if  ( ++inPtr >= inputLen )  {^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (  ( outPtr + length (  )  )  > outputBuffer.length (  )  )  {^135^^^^^98^151^[REPLACE] if  (  ( outPtr + length )  > outputBuffer.length )  {^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outPtr +=  null;^146^^^^^135^147^[REPLACE] outPtr += length;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( first  >=  4 )  {^137^^^^^98^151^[REPLACE] if  ( first > 0 )  {^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^System.arraycopy ( _quoteBuffer, 0 << 3, outputBuffer, outPtr, first ) ;^138^^^^^98^151^[REPLACE] System.arraycopy ( _quoteBuffer, 0, outputBuffer, outPtr, first ) ;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = byteBuilder.getCurrentSegment (  ) ; ;^140^^^^^98^151^[REPLACE] outputBuffer = textBuffer.finishCurrentSegment (  ) ;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outPtr =  length;^143^^^^^98^151^[REPLACE] outPtr = second;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^int first = outputBuffer.length + 3 - outPtr;^136^^^^^98^151^[REPLACE] int first = outputBuffer.length - outPtr;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^136^^^^^98^151^[ADD] int first = outputBuffer.length - outPtr;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^int second = length *  0.5  - first;^141^^^^^98^151^[REPLACE] int second = length - first;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( first  >=  INT_0 )  {^137^^^^^98^151^[REPLACE] if  ( first > 0 )  {^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^System.arraycopy ( _quoteBuffer, 0, outputBuffer, outPtr, first ) ;^137^138^139^^^98^151^[ADD] if  ( first > 0 )  { System.arraycopy ( _quoteBuffer, 0, outputBuffer, outPtr, first ) ; }^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^System.arraycopy ( _quoteBuffer, 0L, outputBuffer, outPtr, first ) ;^138^^^^^98^151^[REPLACE] System.arraycopy ( _quoteBuffer, 0, outputBuffer, outPtr, first ) ;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outPtr = 0 << 1;^121^^^^^98^151^[REPLACE] outPtr = 0;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^121^^^^^98^151^[ADD] outPtr = 0;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^123^^^^^98^151^[ADD] outputBuffer[outPtr++] = c;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^143^^^^^98^151^[ADD] outPtr = second;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outPtr +=  null;^146^^^^^98^151^[REPLACE] outPtr += length;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^char d = input.length ( inPtr++ ) ;^129^^^^^98^151^[REPLACE] char d = input.charAt ( inPtr++ ) ;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^final int escCodeCount = escCodes.length;^130^^^^^98^151^[REPLACE] int escCode = escCodes[d];^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^int length + 2 =  ( escCode < 0 ) ? _appendNumericEscape ( d, _quoteBuffer ) : _appendNamedEscape ( escCode, _quoteBuffer ) ;^131^132^133^^^98^151^[REPLACE] int length =  ( escCode < 0 ) ? _appendNumericEscape ( d, _quoteBuffer ) : _appendNamedEscape ( escCode, _quoteBuffer ) ;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^int first = outputBuffer.length + 5 - outPtr;^136^^^^^98^151^[REPLACE] int first = outputBuffer.length - outPtr;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^int second = length - 5 - first;^141^^^^^98^151^[REPLACE] int second = length - first;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (  escCodes[c] != 0 )  {^116^^^^^98^151^[REPLACE] if  ( c < escCodeCount && escCodes[c] != 0 )  {^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outPtr >= _quoteBuffer.length - 1 )  {^119^^^^^98^151^[REPLACE] if  ( outPtr >= outputBuffer.length )  {^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^120^^^^^98^151^[ADD] outputBuffer = textBuffer.finishCurrentSegment (  ) ;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outPtr = 4;^121^^^^^98^151^[REPLACE] outPtr = 0;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^char c = input.charAt ( outPtr ) ;^115^^^^^98^151^[REPLACE] char c = input.charAt ( inPtr ) ;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^115^^^^^98^151^[ADD] char c = input.charAt ( inPtr ) ;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( true ) {^116^^^^^98^151^[REPLACE] if  ( c < escCodeCount && escCodes[c] != 0 )  {^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outPtr >= outputBuffer.length + 4 )  {^119^^^^^98^151^[REPLACE] if  ( outPtr >= outputBuffer.length )  {^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( ++inPtr  !=  inputLen )  {^124^^^^^98^151^[REPLACE] if  ( ++inPtr >= inputLen )  {^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (  ( outPtr + length - 5 )  > outputBuffer.length - 5 )  {^135^^^^^98^151^[REPLACE] if  (  ( outPtr + length )  > outputBuffer.length )  {^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outPtr +=  second;^146^^^^^135^147^[REPLACE] outPtr += length;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( first  >=  0 )  {^137^^^^^98^151^[REPLACE] if  ( first > 0 )  {^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^138^^^^^98^151^[ADD] System.arraycopy ( _quoteBuffer, 0, outputBuffer, outPtr, first ) ;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^int first = outputBuffer.length + 1 - outPtr;^136^^^^^98^151^[REPLACE] int first = outputBuffer.length - outPtr;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outPtr  >=  INT_2 )  {^137^^^^^98^151^[REPLACE] if  ( first > 0 )  {^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^System.arraycopy ( _quoteBuffer, 0 + 4, outputBuffer, outPtr, first ) ;^138^^^^^98^151^[REPLACE] System.arraycopy ( _quoteBuffer, 0, outputBuffer, outPtr, first ) ;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outPtr = 1;^121^^^^^98^151^[REPLACE] outPtr = 0;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outPtr +=  second;^146^^^^^98^151^[REPLACE] outPtr += length;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^146^^^^^98^151^[ADD] outPtr += length;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^130^^^^^98^151^[ADD] int escCode = escCodes[d];^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^int length + 4 =  ( escCode < 0 ) ? _appendNumericEscape ( d, _quoteBuffer ) : _appendNamedEscape ( escCode, _quoteBuffer ) ;^131^132^133^^^98^151^[REPLACE] int length =  ( escCode < 0 ) ? _appendNumericEscape ( d, _quoteBuffer ) : _appendNamedEscape ( escCode, _quoteBuffer ) ;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^int first = outputBuffer.length - 3 - outPtr;^136^^^^^98^151^[REPLACE] int first = outputBuffer.length - outPtr;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^int second = length *  2 - first;^141^^^^^98^151^[REPLACE] int second = length - first;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^textBuffer.TextBuffer ( outPtr ) ;^149^^^^^98^151^[REPLACE] textBuffer.setCurrentLength ( outPtr ) ;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^149^^^^^98^151^[ADD] textBuffer.setCurrentLength ( outPtr ) ;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^return _textBuffer.finishCurrentSegment (  ) ;^150^^^^^98^151^[REPLACE] return textBuffer.contentsAsArray (  ) ;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^byte[] outputBuffer = byteBuilder.resetAndGetFirstSegment (  ) ;^160^^^^^159^247^[REPLACE] ByteArrayBuilder byteBuilder = _byteBuilder;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (_byteBuilder != null )  {^161^^^^^159^247^[REPLACE] if  ( byteBuilder == null )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_byteBuilder = byteBuilder = new ByteArrayBuilder ( this ) ;^163^^^^^159^247^[REPLACE] _byteBuilder = byteBuilder = new ByteArrayBuilder ( null ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^163^^^^^159^247^[ADD] _byteBuilder = byteBuilder = new ByteArrayBuilder ( null ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_byteBuilder = byteBuilder = new ByteArrayBuilder ( true ) ;^163^^^^^159^247^[REPLACE] _byteBuilder = byteBuilder = new ByteArrayBuilder ( null ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_byteBuilder = byteBuilder =  new TextBuffer ( null )  ;^163^^^^^159^247^[REPLACE] _byteBuilder = byteBuilder = new ByteArrayBuilder ( null ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^int inputPtr = 0 / 1;^165^^^^^159^247^[REPLACE] int inputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^int first = outputBuffer.length - outPtr;^166^^^^^159^247^[REPLACE] int inputEnd = text.length (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^int outputPtr = 0 - 2;^167^^^^^159^247^[REPLACE] int outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^byte[] outputBuffer = byteBuilder.getCurrentSegment (  ) ;^168^^^^^159^247^[REPLACE] byte[] outputBuffer = byteBuilder.resetAndGetFirstSegment (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^168^^^^^159^247^[ADD] byte[] outputBuffer = byteBuilder.resetAndGetFirstSegment (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^while  ( inputPtr  !=  inputEnd )  {^171^^^^^159^247^[REPLACE] while  ( inputPtr < inputEnd )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^171^172^^^^159^247^[ADD] while  ( inputPtr < inputEnd )  { final int[] escCodes = CharTypes.get7BitOutputEscapes (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^while  ( false )  {^175^^^^^159^247^[REPLACE] while  ( true )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (  escCodes[ch] != 0 )  {^177^^^^^159^247^[REPLACE] if  ( ch > 0x7F || escCodes[ch] != 0 )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^break inner_loop;^177^178^179^^^159^247^[ADD] if  ( ch > 0x7F || escCodes[ch] != 0 )  { break inner_loop; }^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= HEX_BYTES.length - 2 )  {^180^^^^^159^247^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = byteBuilder.getCurrentSegment (  ) ; ;^181^^^^^159^247^[REPLACE] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outPtr = 0; ;^182^^^^^159^247^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^182^^^^^159^247^[ADD] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( ++inputPtr  <  inputEnd )  {^185^^^^^159^247^[REPLACE] if  ( ++inputPtr >= inputEnd )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^181^^^^^159^247^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0L;^182^^^^^159^247^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )  c; ;^184^^^^^159^247^[REPLACE] outputBuffer[outputPtr++] =  ( byte )  ch;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^int ch = text.charAt ( length ) ;^176^^^^^159^247^[REPLACE] int ch = text.charAt ( inputPtr ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( ch > 0x7F ) {^177^^^^^159^247^[REPLACE] if  ( ch > 0x7F || escCodes[ch] != 0 )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length (  )  )  {^180^^^^^159^247^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^181^182^^^^159^247^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 3;^182^^^^^159^247^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length %  2 )  {^189^^^^^159^247^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = byteBuilder.getCurrentSegment (  ) ; ;^190^^^^^159^247^[REPLACE] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^190^^^^^159^247^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 1;^191^^^^^159^247^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (second  >  0x7F )  {^195^^^^^159^247^[REPLACE] if  ( ch <= 0x7F )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^195^196^^198^199^159^247^[ADD] if  ( ch <= 0x7F )  { int escape = escCodes[ch]; outputPtr = _appendByteEscape ( ch, escape, byteBuilder, outputPtr ) ; outputBuffer = byteBuilder.getCurrentSegment (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^}  if  (second  ==  0x7FF )  {^201^^^^^159^247^[REPLACE] } else if  ( ch <= 0x7FF )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (  ch > SURR2_LAST )  {^206^^^^^201^239^[REPLACE] if  ( ch < SURR1_FIRST || ch > SURR2_LAST )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( ch  >=  SURR1_LAST )  {^215^^^^^206^238^[REPLACE] if  ( ch > SURR1_LAST )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_illegalSurrogate ( c ) ;^216^^^^^206^238^[REPLACE] _illegalSurrogate ( ch ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( inputPtr  ==  inputEnd )  {^219^^^^^206^238^[REPLACE] if  ( inputPtr >= inputEnd )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REMOVE]^if  ( inputPtr >= inputEnd )  {     _illegalSurrogate ( c ) ; }^219^^^^^206^238^[REMOVE] ^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_illegalSurrogate ( second ) ;^220^^^^^206^238^[REPLACE] _illegalSurrogate ( ch ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REMOVE]^byteBuilder.append (  ( byte )  escCode ) ;^220^^^^^206^238^[REMOVE] ^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( ch  ==  0x10FFFF )  {^223^^^^^206^238^[REPLACE] if  ( ch > 0x10FFFF )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^223^224^225^^^206^238^[ADD] if  ( ch > 0x10FFFF )  { _illegalSurrogate ( ch ) ; }^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_illegalSurrogate ( c ) ;^224^^^^^206^238^[REPLACE] _illegalSurrogate ( ch ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length %  2 )  {^227^^^^^206^238^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^outputBuffer = byteBuilder.finishCurrentSegment (  ) ;outputPtr = 0;^227^228^229^230^^206^238^[ADD] if  ( outputPtr >= outputBuffer.length )  { outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputPtr = 0; }^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = byteBuilder.getCurrentSegment (  ) ; ;^228^^^^^206^238^[REPLACE] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 4;^229^^^^^206^238^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length /  0.5  )  {^232^^^^^206^238^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = byteBuilder.getCurrentSegment (  ) ; ;^233^^^^^206^238^[REPLACE] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^233^234^^^^206^238^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0L;^234^^^^^206^238^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^c = _convertSurrogate ( c, text.charAt ( inputPtr++ )  ) ; ;^222^^^^^206^238^[REPLACE] ch = _convertSurrogate ( ch, text.charAt ( inputPtr++ )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0xf0 &  ( ch >> 18 )  ) ;^226^^^^^206^238^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0xf0 |  ( ch >> 18 )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 &  (  ( ch >> 12 )  & 0x3f )  ) ;^231^^^^^206^238^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 12 )  & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( c >> 6 )  & 0x3f )  ) ; ;^236^^^^^206^238^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 6 )  & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^ch =  ( 0x80 &  ( ch & 0x3f )  ) ;^237^^^^^206^238^[REPLACE] ch =  ( 0x80 |  ( ch & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length (  )  )  {^208^^^^^201^239^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = byteBuilder.getCurrentSegment (  ) ; ;^209^^^^^201^239^[REPLACE] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^209^^^^^201^239^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outPtr = 0; ;^210^^^^^201^239^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0xe0 &  ( ch >> 12 )  ) ;^207^^^^^201^239^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0xe0 |  ( ch >> 12 )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 &  (  ( ch >> 6 )  & 0x3f )  ) ;^212^^^^^201^239^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 6 )  & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^ch =  ( 0x80 &  ( ch & 0x3f )  ) ;^213^^^^^201^239^[REPLACE] ch =  ( 0x80 |  ( ch & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 3;^210^^^^^201^239^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( ch  == second )  {^215^^^^^201^239^[REPLACE] if  ( ch > SURR1_LAST )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_illegalSurrogate ( second ) ;^216^^^^^201^239^[REPLACE] _illegalSurrogate ( ch ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^216^^^^^201^239^[ADD] _illegalSurrogate ( ch ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr  !=  inputEnd )  {^219^^^^^201^239^[REPLACE] if  ( inputPtr >= inputEnd )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_illegalSurrogate ( second ) ;^220^^^^^201^239^[REPLACE] _illegalSurrogate ( ch ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^220^^^^^201^239^[ADD] _illegalSurrogate ( ch ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( ch  <  0x10FFFF )  {^223^^^^^201^239^[REPLACE] if  ( ch > 0x10FFFF )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_illegalSurrogate ( second ) ;^224^^^^^201^239^[REPLACE] _illegalSurrogate ( ch ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length (  )  )  {^227^^^^^201^239^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = byteBuilder.getCurrentSegment (  ) ; ;^228^^^^^201^239^[REPLACE] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outPtr = 0; ;^229^^^^^201^239^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length /  0.5  )  {^232^^^^^201^239^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = byteBuilder.getCurrentSegment (  ) ; ;^233^^^^^201^239^[REPLACE] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 1;^234^^^^^201^239^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^234^^^^^201^239^[ADD] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0xe0 &  (SURR2_LAST )  ) ;^207^^^^^201^239^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0xe0 |  ( ch >> 12 )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^207^^^^^201^239^[ADD] outputBuffer[outputPtr++] =  ( byte )   ( 0xe0 |  ( ch >> 12 )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 2;^210^^^^^201^239^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( c >> 6 )  & 0x3f )  ) ; ;^212^^^^^201^239^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 6 )  & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^c = _convertSurrogate ( c, text.charAt ( inputPtr++ )  ) ; ;^222^^^^^201^239^[REPLACE] ch = _convertSurrogate ( ch, text.charAt ( inputPtr++ )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0xf0 &  ( ch >> 18 )  ) ;^226^^^^^201^239^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0xf0 |  ( ch >> 18 )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 6 )  & 0x3f )  ) ; ;^231^^^^^201^239^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 12 )  & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^outputPtr = 0;^233^234^^^^201^239^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 >>> 3;^234^^^^^201^239^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( c >> 6 )  & 0x3f )  ) ; ;^236^^^^^201^239^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 6 )  & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^ch =  ( 0x80 &  ( ch & 0x3f )  ) ;^237^^^^^201^239^[REPLACE] ch =  ( 0x80 |  ( ch & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0xc0 &  ( ch >> 6 )  ) ;^202^^^^^159^247^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0xc0 |  ( ch >> 6 )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^202^^^^^159^247^[ADD] outputBuffer[outputPtr++] =  ( byte )   ( 0xc0 |  ( ch >> 6 )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^ch =  ( 0x80 &  ( ch & 0x3f )  ) ;^203^^^^^159^247^[REPLACE] ch =  ( 0x80 |  ( ch & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( ch < true && ch > SURR2_LAST )  {^206^^^^^159^247^[REPLACE] if  ( ch < SURR1_FIRST || ch > SURR2_LAST )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( second  <=  SURR1_LAST )  {^215^^^^^206^238^[REPLACE] if  ( ch > SURR1_LAST )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^_illegalSurrogate ( ch ) ;^215^216^217^^^206^238^[ADD] if  ( ch > SURR1_LAST )  { _illegalSurrogate ( ch ) ; }^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_illegalSurrogate ( second ) ;^216^^^^^206^238^[REPLACE] _illegalSurrogate ( ch ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (outputPtr  !=  inputEnd )  {^219^^^^^206^238^[REPLACE] if  ( inputPtr >= inputEnd )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( ch  !=  0x10FFFF )  {^223^^^^^206^238^[REPLACE] if  ( ch > 0x10FFFF )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^_illegalSurrogate ( ch ) ;^223^224^225^^^206^238^[ADD] if  ( ch > 0x10FFFF )  { _illegalSurrogate ( ch ) ; }^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_illegalSurrogate ( second ) ;^224^^^^^206^238^[REPLACE] _illegalSurrogate ( ch ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= HEX_BYTES.length %  2 )  {^227^^^^^206^238^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 / 3;^229^^^^^206^238^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^229^^^^^206^238^[ADD] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length + 5 )  {^232^^^^^206^238^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^233^^^^^206^238^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 4;^234^^^^^206^238^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^234^^^^^206^238^[ADD] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^228^^^^^206^238^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0L;^229^^^^^206^238^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 6 )  & 0x3f )  ) ; ;^231^^^^^206^238^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 12 )  & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 2;^234^^^^^206^238^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^236^237^^^^206^238^[ADD] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 6 )  & 0x3f )  ) ; ch =  ( 0x80 |  ( ch & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^237^^^^^206^238^[ADD] ch =  ( 0x80 |  ( ch & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( inputEnd >= outputBuffer.length - 5 )  {^208^^^^^159^247^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = byteBuilder.getCurrentSegment (  ) ; ;^209^^^^^159^247^[REPLACE] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outPtr = 0; ;^210^^^^^159^247^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0xe0 &  ( ch >> 12 )  ) ;^207^^^^^159^247^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0xe0 |  ( ch >> 12 )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^207^^^^^159^247^[ADD] outputBuffer[outputPtr++] =  ( byte )   ( 0xe0 |  ( ch >> 12 )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^outputPtr = 0;^209^210^^^^159^247^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 - 4;^210^^^^^159^247^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^210^^^^^159^247^[ADD] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 &  (  ( ch >> 6 )  & 0x3f )  ) ;^212^^^^^159^247^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 6 )  & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^ch =  ( 0x80 &  ( ch & 0x3f )  ) ;^213^^^^^159^247^[REPLACE] ch =  ( 0x80 |  ( ch & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^213^^^^^159^247^[ADD] ch =  ( 0x80 |  ( ch & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= HEX_BYTES.length *  2 )  {^208^^^^^159^247^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 2;^210^^^^^159^247^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( ch  >=  SURR1_LAST )  {^215^^^^^159^247^[REPLACE] if  ( ch > SURR1_LAST )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REMOVE]^if  ( inputPtr >= inputEnd )  {     _illegalSurrogate ( c ) ; }^215^^^^^159^247^[REMOVE] ^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_illegalSurrogate ( second ) ;^216^^^^^159^247^[REPLACE] _illegalSurrogate ( ch ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( inputPtr  <  inputEnd )  {^219^^^^^159^247^[REPLACE] if  ( inputPtr >= inputEnd )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^_illegalSurrogate ( ch ) ;^219^220^221^^^159^247^[ADD] if  ( inputPtr >= inputEnd )  { _illegalSurrogate ( ch ) ; }^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_illegalSurrogate ( second ) ;^220^^^^^159^247^[REPLACE] _illegalSurrogate ( ch ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^220^^^^^159^247^[ADD] _illegalSurrogate ( ch ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (second  <=  0x10FFFF )  {^223^^^^^159^247^[REPLACE] if  ( ch > 0x10FFFF )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_illegalSurrogate ( second ) ;^224^^^^^159^247^[REPLACE] _illegalSurrogate ( ch ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^224^^^^^159^247^[ADD] _illegalSurrogate ( ch ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length + 1 )  {^227^^^^^159^247^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = byteBuilder.getCurrentSegment (  ) ; ;^228^^^^^159^247^[REPLACE] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^outputPtr = 0;^228^229^^^^159^247^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 2;^229^^^^^159^247^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length - 2 )  {^232^^^^^159^247^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REMOVE]^if  ( outPtr >=  ( outputBuffer.length )  )  {     outputBuffer = textBuffer.finishCurrentSegment (  ) ;     outPtr = 0; }^232^^^^^159^247^[REMOVE] ^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = byteBuilder.getCurrentSegment (  ) ; ;^233^^^^^159^247^[REPLACE] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^233^^^^^159^247^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 % 4;^234^^^^^159^247^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^ch =  ( 0x80 |  ( ch & 0x3f )  ) ;^212^213^^^^159^247^[ADD] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 6 )  & 0x3f )  ) ; ch =  ( 0x80 |  ( ch & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^c = _convertSurrogate ( c, text.charAt ( inputPtr++ )  ) ; ;^222^^^^^159^247^[REPLACE] ch = _convertSurrogate ( ch, text.charAt ( inputPtr++ )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^222^^^^^159^247^[ADD] ch = _convertSurrogate ( ch, text.charAt ( inputPtr++ )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0xf0 &  ( ch >> 18 )  ) ;^226^^^^^159^247^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0xf0 |  ( ch >> 18 )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^228^229^^^^159^247^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 + 3;^229^^^^^159^247^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 6 )  & 0x3f )  ) ; ;^231^^^^^159^247^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 12 )  & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 - 4;^234^^^^^159^247^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 &  (  ( ch >> 6 )  & 0x3f )  ) ;^236^^^^^159^247^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 6 )  & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^ch =  ( 0x80 &  ( ch & 0x3f )  ) ;^237^^^^^159^247^[REPLACE] ch =  ( 0x80 |  ( ch & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr =  _appendByteEscape ( second, escape, byteBuilder, outputPtr ) ;^198^^^^^159^247^[REPLACE] outputPtr = _appendByteEscape ( ch, escape, byteBuilder, outputPtr ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = byteBuilder.finishCurrentSegment (  ) ; ;^199^^^^^159^247^[REPLACE] outputBuffer = byteBuilder.getCurrentSegment (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^int escCode = escCodes[d];^196^^^^^159^247^[REPLACE] int escape = escCodes[ch];^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^}  if  ( ch  ==  0x7FF )  {^201^^^^^159^247^[REPLACE] } else if  ( ch <= 0x7FF )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( ch < true ) {^206^^^^^201^239^[REPLACE] if  ( ch < SURR1_FIRST || ch > SURR2_LAST )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (second  >=  SURR1_LAST )  {^215^^^^^206^238^[REPLACE] if  ( ch > SURR1_LAST )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REMOVE]^byteBuilder.append (  ( byte )  escCode ) ;^216^^^^^206^238^[REMOVE] ^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr  ==  second )  {^219^^^^^206^238^[REPLACE] if  ( inputPtr >= inputEnd )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( ch  <  0x10FFFF )  {^223^^^^^206^238^[REPLACE] if  ( ch > 0x10FFFF )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^224^^^^^206^238^[ADD] _illegalSurrogate ( ch ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outPtr >= outputBuffer.length + 2 )  {^227^^^^^206^238^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 2;^229^^^^^206^238^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length - 5 )  {^232^^^^^206^238^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^231^^^^^206^238^[ADD] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 12 )  & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outPtr = 0; ;^234^^^^^206^238^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length /  0.5  )  {^208^^^^^201^239^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^208^209^210^211^^201^239^[ADD] if  ( outputPtr >= outputBuffer.length )  { outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputPtr = 0; }^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 << 4;^210^^^^^201^239^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^210^^^^^201^239^[ADD] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^212^213^^^^201^239^[ADD] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 6 )  & 0x3f )  ) ; ch =  ( 0x80 |  ( ch & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^213^^^^^201^239^[ADD] ch =  ( 0x80 |  ( ch & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^outputBuffer = byteBuilder.finishCurrentSegment (  ) ;outputPtr = 0;^208^209^210^211^^201^239^[ADD] if  ( outputPtr >= outputBuffer.length )  { outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputPtr = 0; }^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (second  >=  SURR1_LAST )  {^215^^^^^201^239^[REPLACE] if  ( ch > SURR1_LAST )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( inputPtr  <=  second )  {^219^^^^^201^239^[REPLACE] if  ( inputPtr >= inputEnd )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_illegalSurrogate ( c ) ;^220^^^^^201^239^[REPLACE] _illegalSurrogate ( ch ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( ch  ==  0x10FFFF )  {^223^^^^^201^239^[REPLACE] if  ( ch > 0x10FFFF )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REMOVE]^byteBuilder.append (  ( byte )  escCode ) ;^224^^^^^201^239^[REMOVE] ^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length *  0.5  )  {^227^^^^^201^239^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^outputBuffer = byteBuilder.finishCurrentSegment (  ) ;outputPtr = 0;^227^228^229^230^^201^239^[ADD] if  ( outputPtr >= outputBuffer.length )  { outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputPtr = 0; }^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^228^^^^^201^239^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 - 1;^229^^^^^201^239^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length - 3 )  {^232^^^^^201^239^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^233^^^^^201^239^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 4;^234^^^^^201^239^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0xf0 &  (SURR2_LAST )  ) ;^226^^^^^201^239^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0xf0 |  ( ch >> 18 )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 &  (  ( ch >> 12 )  & 0x3f )  ) ;^231^^^^^201^239^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 12 )  & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 2;^234^^^^^201^239^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 &  (  ( ch >> 6 )  & 0x3f )  ) ;^236^^^^^201^239^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 6 )  & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (  ch > SURR2_LAST )  {^206^^^^^159^247^[REPLACE] if  ( ch < SURR1_FIRST || ch > SURR2_LAST )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^outputBuffer[outputPtr++] =  ( byte )   ( 0xe0 |  ( ch >> 12 )  ) ;outputBuffer = byteBuilder.finishCurrentSegment (  ) ;outputPtr = 0;^206^207^208^209^210^159^247^[ADD] if  ( ch < SURR1_FIRST || ch > SURR2_LAST )  { outputBuffer[outputPtr++] =  ( byte )   ( 0xe0 |  ( ch >> 12 )  ) ; if  ( outputPtr >= outputBuffer.length )  { outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (second  <  SURR1_LAST )  {^215^^^^^206^238^[REPLACE] if  ( ch > SURR1_LAST )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( inputPtr  >  inputEnd )  {^219^^^^^206^238^[REPLACE] if  ( inputPtr >= inputEnd )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REMOVE]^if  ( inputPtr >= inputEnd )  {     _illegalSurrogate ( c ) ; }^223^^^^^206^238^[REMOVE] ^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^outputPtr = 0;^228^229^^^^206^238^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 / 0;^229^^^^^206^238^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length + 4 )  {^232^^^^^206^238^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^outputBuffer = byteBuilder.finishCurrentSegment (  ) ;outputPtr = 0;^232^233^234^235^^206^238^[ADD] if  ( outputPtr >= outputBuffer.length )  { outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputPtr = 0; }^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 - 4;^234^^^^^206^238^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0xf0 &  (SURR2_LAST )  ) ;^226^^^^^206^238^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0xf0 |  ( ch >> 18 )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^226^^^^^206^238^[ADD] outputBuffer[outputPtr++] =  ( byte )   ( 0xf0 |  ( ch >> 18 )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length + 2 )  {^208^^^^^159^247^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 / 0;^210^^^^^159^247^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^212^213^^^^159^247^[ADD] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 6 )  & 0x3f )  ) ; ch =  ( 0x80 |  ( ch & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length - 3 )  {^208^^^^^159^247^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^209^210^^^^159^247^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 3;^210^^^^^159^247^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( ch  !=  SURR1_LAST )  {^215^^^^^159^247^[REPLACE] if  ( ch > SURR1_LAST )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( inputPtr  <=  inputEnd )  {^219^^^^^159^247^[REPLACE] if  ( inputPtr >= inputEnd )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( ch  <=  0x10FFFF )  {^223^^^^^159^247^[REPLACE] if  ( ch > 0x10FFFF )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^_illegalSurrogate ( ch ) ;^223^224^225^^^159^247^[ADD] if  ( ch > 0x10FFFF )  { _illegalSurrogate ( ch ) ; }^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length + 4 )  {^227^^^^^159^247^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^229^^^^^159^247^[ADD] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length + 4 )  {^232^^^^^159^247^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 4;^234^^^^^159^247^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( inputPtr >= outputBuffer.length /  0.5  )  {^240^^^^^159^247^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = byteBuilder.getCurrentSegment (  ) ; ;^241^^^^^159^247^[REPLACE] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 2;^242^^^^^159^247^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 2;^182^^^^^159^247^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 4;^191^^^^^159^247^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^191^^^^^159^247^[ADD] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 6 )  & 0x3f )  ) ; ;^202^^^^^159^247^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0xc0 |  ( ch >> 6 )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 << 3;^210^^^^^159^247^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0xf0 &  ( escCodeCount )  ) ;^226^^^^^159^247^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0xf0 |  ( ch >> 18 )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 3;^229^^^^^159^247^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 &  (  ( ch >> 12 )  & 0x3f )  ) ;^231^^^^^159^247^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 12 )  & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outPtr = 0; ;^234^^^^^159^247^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 + 2;^242^^^^^159^247^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^242^^^^^159^247^[ADD] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )  c; ;^244^^^^^159^247^[REPLACE] outputBuffer[outputPtr++] =  ( byte )  ch;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^final int[] escCodes = CharTypes .copyHexChars (  )  ;^172^^^^^159^247^[REPLACE] final int[] escCodes = CharTypes.get7BitOutputEscapes (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^int ch = text.charAt ( outPtr ) ;^176^^^^^159^247^[REPLACE] int ch = text.charAt ( inputPtr ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^int ch =  ( int )  text.length ( inputPtr++ ) ;^194^^^^^159^247^[REPLACE] int ch =  ( int )  text.charAt ( inputPtr++ ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^175^176^^^^159^247^[ADD] while  ( true )  { int ch = text.charAt ( inputPtr ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^184^^^^^159^247^[ADD] outputBuffer[outputPtr++] =  ( byte )  ch;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^int ch = text.charAt ( outputPtr ) ;^176^^^^^159^247^[REPLACE] int ch = text.charAt ( inputPtr ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length + 5 )  {^180^^^^^159^247^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 % 0;^182^^^^^159^247^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( ++inputPtr  >  inputEnd )  {^185^^^^^159^247^[REPLACE] if  ( ++inputPtr >= inputEnd )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^break main_loop;^185^186^187^^^159^247^[ADD] if  ( ++inputPtr >= inputEnd )  { break main_loop; }^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length /  0.5  )  {^189^^^^^159^247^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^outputBuffer = byteBuilder.finishCurrentSegment (  ) ;outputPtr = 0;^189^190^191^192^^159^247^[ADD] if  ( outputPtr >= outputBuffer.length )  { outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputPtr = 0; }^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( ch  !=  0x7F )  {^195^^^^^159^247^[REPLACE] if  ( ch <= 0x7F )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^}  if  ( ch  <  0x7FF )  {^201^^^^^159^247^[REPLACE] } else if  ( ch <= 0x7FF )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^}   outputBuffer[outputPtr++] =  ( byte )   ( 0xc0 |  ( ch >> 6 )  ) ;ch =  ( 0x80 |  ( ch & 0x3f )  ) ;^201^202^203^204^^159^247^[ADD] else if  ( ch <= 0x7FF )  { outputBuffer[outputPtr++] =  ( byte )   ( 0xc0 |  ( ch >> 6 )  ) ; ch =  ( 0x80 |  ( ch & 0x3f )  ) ; } else {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( ch < SURR1_FIRST && ch > SURR2_LAST )  {^206^^^^^201^239^[REPLACE] if  ( ch < SURR1_FIRST || ch > SURR2_LAST )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( inputPtr  !=  second )  {^219^^^^^206^238^[REPLACE] if  ( inputPtr >= inputEnd )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^_illegalSurrogate ( ch ) ;^219^220^221^^^206^238^[ADD] if  ( inputPtr >= inputEnd )  { _illegalSurrogate ( ch ) ; }^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^220^^^^^206^238^[ADD] _illegalSurrogate ( ch ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( second  !=  0x10FFFF )  {^223^^^^^206^238^[REPLACE] if  ( ch > 0x10FFFF )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length - 3 )  {^227^^^^^206^238^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 << 0;^229^^^^^206^238^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 3;^234^^^^^206^238^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 &  (  ( ch >> 6 )  & 0x3f )  ) ;^236^^^^^206^238^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 6 )  & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length + 2 )  {^208^^^^^201^239^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^209^210^^^^201^239^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 1;^210^^^^^201^239^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 % 2;^210^^^^^201^239^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( second  !=  SURR1_LAST )  {^215^^^^^201^239^[REPLACE] if  ( ch > SURR1_LAST )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^215^216^217^^^201^239^[ADD] if  ( ch > SURR1_LAST )  { _illegalSurrogate ( ch ) ; }^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( inputPtr  !=  inputEnd )  {^219^^^^^201^239^[REPLACE] if  ( inputPtr >= inputEnd )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^_illegalSurrogate ( ch ) ;^219^220^221^^^201^239^[ADD] if  ( inputPtr >= inputEnd )  { _illegalSurrogate ( ch ) ; }^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (second  !=  0x10FFFF )  {^223^^^^^201^239^[REPLACE] if  ( ch > 0x10FFFF )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^224^^^^^201^239^[ADD] _illegalSurrogate ( ch ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length - 5 )  {^227^^^^^201^239^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^229^^^^^201^239^[ADD] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length + 4 )  {^232^^^^^201^239^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^outputBuffer = byteBuilder.finishCurrentSegment (  ) ;outputPtr = 0;^232^233^234^235^^201^239^[ADD] if  ( outputPtr >= outputBuffer.length )  { outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputPtr = 0; }^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outPtr = 0; ;^234^^^^^201^239^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 6 )  & 0x3f )  ) ; ;^207^^^^^201^239^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0xe0 |  ( ch >> 12 )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 4;^210^^^^^201^239^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 3;^229^^^^^201^239^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^203^^^^^159^247^[ADD] ch =  ( 0x80 |  ( ch & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( ch < SURR1_FIRST && ch > SURR2_LAST )  {^206^^^^^159^247^[REPLACE] if  ( ch < SURR1_FIRST || ch > SURR2_LAST )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( ch  >=  0x10FFFF )  {^223^^^^^206^238^[REPLACE] if  ( ch > 0x10FFFF )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REMOVE]^if  ( outPtr >=  ( outputBuffer.length )  )  {     outputBuffer = textBuffer.finishCurrentSegment (  ) ;     outPtr = 0; }^227^^^^^206^238^[REMOVE] ^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length - 1 )  {^232^^^^^206^238^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 6 )  & 0x3f )  ) ; ;^226^^^^^206^238^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0xf0 |  ( ch >> 18 )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 1;^229^^^^^206^238^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= HEX_BYTES.length + 3 )  {^208^^^^^159^247^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 1;^210^^^^^159^247^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^209^^^^^159^247^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length /  2 )  {^208^^^^^159^247^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^outputBuffer = byteBuilder.finishCurrentSegment (  ) ;outputPtr = 0;^208^209^210^211^^159^247^[ADD] if  ( outputPtr >= outputBuffer.length )  { outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputPtr = 0; }^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( ch  <  SURR1_LAST )  {^215^^^^^159^247^[REPLACE] if  ( ch > SURR1_LAST )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length (  )  )  {^227^^^^^159^247^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 1;^229^^^^^159^247^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length %  2 )  {^232^^^^^159^247^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^234^^^^^159^247^[ADD] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 * 4;^210^^^^^159^247^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( c >> 6 )  & 0x3f )  ) ; ;^212^^^^^159^247^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 6 )  & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 6 )  & 0x3f )  ) ; ;^226^^^^^159^247^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0xf0 |  ( ch >> 18 )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 / 1;^234^^^^^159^247^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^198^^^^^159^247^[ADD] outputPtr = _appendByteEscape ( ch, escape, byteBuilder, outputPtr ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^}  if  ( second  !=  0x7FF )  {^201^^^^^159^247^[REPLACE] } else if  ( ch <= 0x7FF )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REMOVE]^if  ( ch <= 2047 )  {     outputBuffer[ ( outputPtr++ ) ] =  (  ( byte )   ( 192 |  ( ch >> 6 )  )  ) ;     ch = 128 |  ( ch & 63 ) ; }else {     if  (  ( ch <  ( SURR1_FIRST )  )  ||  ( ch >  ( SURR2_LAST )  )  )  {         outputBuffer[ ( outputPtr++ ) ] =  (  ( byte )   ( 224 |  ( ch >> 12 )  )  ) ;         if  ( outputPtr >=  ( outputBuffer.length )  )  {             outputBuffer = byteBuilder.finishCurrentSegment (  ) ;             outputPtr = 0;         }         outputBuffer[ ( outputPtr++ ) ] =  (  ( byte )   ( 128 |  (  ( ch >> 6 )  & 63 )  )  ) ;         ch = 128 |  ( ch & 63 ) ;     }else {         if  ( ch >  ( SURR1_LAST )  )  {             _illegalSurrogate ( ch ) ;         }         if  ( inputPtr >= inputEnd )  {             _illegalSurrogate ( ch ) ;         }         ch = _convertSurrogate ( ch, text.charAt (  ( inputPtr++ )  )  ) ;         if  ( ch > 1114111 )  {             _illegalSurrogate ( ch ) ;         }         outputBuffer[ ( outputPtr++ ) ] =  (  ( byte )   ( 240 |  ( ch >> 18 )  )  ) ;         if  ( outputPtr >=  ( outputBuffer.length )  )  {             outputBuffer = byteBuilder.finishCurrentSegment (  ) ;             outputPtr = 0;         }         outputBuffer[ ( outputPtr++ ) ] =  (  ( byte )   ( 128 |  (  ( ch >> 12 )  & 63 )  )  ) ;         if  ( outputPtr >=  ( outputBuffer.length )  )  {             outputBuffer = byteBuilder.finishCurrentSegment (  ) ;             outputPtr = 0;         }         outputBuffer[ ( outputPtr++ ) ] =  (  ( byte )   ( 128 |  (  ( ch >> 6 )  & 63 )  )  ) ;         ch = 128 |  ( ch & 63 ) ;     } }^206^^^^^201^239^[REMOVE] ^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( ch  <  SURR1_LAST )  {^215^^^^^206^238^[REPLACE] if  ( ch > SURR1_LAST )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^215^216^217^^^206^238^[ADD] if  ( ch > SURR1_LAST )  { _illegalSurrogate ( ch ) ; }^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^219^220^221^^^206^238^[ADD] if  ( inputPtr >= inputEnd )  { _illegalSurrogate ( ch ) ; }^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length - 1 )  {^227^^^^^206^238^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outPtr = 0; ;^229^^^^^206^238^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 >>> 0;^234^^^^^206^238^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outPtr >= outputBuffer.length /  0.5  )  {^208^^^^^201^239^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( inputPtr >= outputBuffer.length %  2 )  {^208^^^^^201^239^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 - 1;^210^^^^^201^239^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (second  <  SURR1_LAST )  {^215^^^^^201^239^[REPLACE] if  ( ch > SURR1_LAST )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REMOVE]^if  ( inputPtr >= inputEnd )  {     _illegalSurrogate ( c ) ; }^215^^^^^201^239^[REMOVE] ^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( ch  !=  0x10FFFF )  {^223^^^^^201^239^[REPLACE] if  ( ch > 0x10FFFF )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length - 4 )  {^227^^^^^201^239^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 - 4;^229^^^^^201^239^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length - 2 )  {^232^^^^^201^239^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^212^^^^^201^239^[ADD] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 6 )  & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^226^^^^^201^239^[ADD] outputBuffer[outputPtr++] =  ( byte )   ( 0xf0 |  ( ch >> 18 )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^228^229^^^^201^239^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 4;^229^^^^^201^239^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 * 1;^234^^^^^201^239^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^ch =  ( 0x80 |  ( ch & 0x3f )  ) ;^202^203^^^^159^247^[ADD] outputBuffer[outputPtr++] =  ( byte )   ( 0xc0 |  ( ch >> 6 )  ) ; ch =  ( 0x80 |  ( ch & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( ch <true && ch > SURR2_LAST )  {^206^^^^^159^247^[REPLACE] if  ( ch < SURR1_FIRST || ch > SURR2_LAST )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( second  != second )  {^215^^^^^206^238^[REPLACE] if  ( ch > SURR1_LAST )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( inputPtr  <  inputEnd )  {^219^^^^^206^238^[REPLACE] if  ( inputPtr >= inputEnd )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (second  ==  0x10FFFF )  {^223^^^^^206^238^[REPLACE] if  ( ch > 0x10FFFF )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 % 4;^229^^^^^206^238^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length (  )  )  {^232^^^^^206^238^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^232^233^234^235^^206^238^[ADD] if  ( outputPtr >= outputBuffer.length )  { outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputPtr = 0; }^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 % 3;^229^^^^^206^238^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^236^^^^^206^238^[ADD] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 6 )  & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length + 1 )  {^208^^^^^159^247^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 % 1;^210^^^^^159^247^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0xe0 &  (SURR2_LAST )  ) ;^207^^^^^159^247^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0xe0 |  ( ch >> 12 )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( ch  !=  0x10FFFF )  {^223^^^^^159^247^[REPLACE] if  ( ch > 0x10FFFF )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length *  0.5  )  {^227^^^^^159^247^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^228^^^^^159^247^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 - 1;^229^^^^^159^247^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length + 2 )  {^232^^^^^159^247^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0L;^234^^^^^159^247^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length *  2 )  {^240^^^^^159^247^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^outputBuffer = byteBuilder.finishCurrentSegment (  ) ;outputPtr = 0;^240^241^242^243^^159^247^[ADD] if  ( outputPtr >= outputBuffer.length )  { outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputPtr = 0; }^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outPtr = 0; ;^242^^^^^159^247^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0L;^191^^^^^159^247^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr =  _appendByteEscape ( null, escape, byteBuilder, outputPtr ) ;^198^^^^^159^247^[REPLACE] outputPtr = _appendByteEscape ( ch, escape, byteBuilder, outputPtr ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^198^199^^^^159^247^[ADD] outputPtr = _appendByteEscape ( ch, escape, byteBuilder, outputPtr ) ; outputBuffer = byteBuilder.getCurrentSegment (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 4;^210^^^^^159^247^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 * 4;^234^^^^^159^247^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( c >> 6 )  & 0x3f )  ) ; ;^236^^^^^159^247^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 6 )  & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^241^^^^^159^247^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^244^^^^^159^247^[ADD] outputBuffer[outputPtr++] =  ( byte )  ch;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^final int[] escCodes = CharTypes.copyHexBytes (  ) ;^172^^^^^159^247^[REPLACE] final int[] escCodes = CharTypes.get7BitOutputEscapes (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^176^^^^^159^247^[ADD] int ch = text.charAt ( inputPtr ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^return _byteBuilder.append ( outputPtr ) ;^246^^^^^159^247^[REPLACE] return _byteBuilder.completeAndCoalesce ( outputPtr ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^byte[] outputBuffer = byteBuilder.resetAndGetFirstSegment (  ) ;^256^^^^^255^338^[REPLACE] ByteArrayBuilder byteBuilder = _byteBuilder;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^256^^^^^255^338^[ADD] ByteArrayBuilder byteBuilder = _byteBuilder;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (__byteBuilder != null )  {^257^^^^^255^338^[REPLACE] if  ( byteBuilder == null )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_byteBuilder = byteBuilder = new ByteArrayBuilder ( false ) ;^259^^^^^255^338^[REPLACE] _byteBuilder = byteBuilder = new ByteArrayBuilder ( null ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_byteBuilder = byteBuilder = new ByteArrayBuilder ( true ) ;^259^^^^^255^338^[REPLACE] _byteBuilder = byteBuilder = new ByteArrayBuilder ( null ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_byteBuilder = byteBuilder =  new TextBuffer ( null )  ;^259^^^^^255^338^[REPLACE] _byteBuilder = byteBuilder = new ByteArrayBuilder ( null ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^int inputPtr = 0 << 3;^261^^^^^255^338^[REPLACE] int inputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^261^^^^^255^338^[ADD] int inputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^int first = outputBuffer.length - outPtr;^262^^^^^255^338^[REPLACE] int inputEnd = text.length (  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^int outputPtr = 4;^263^^^^^255^338^[REPLACE] int outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^byte[] outputBuffer = _byteBuilder.getCurrentSegment (  ) ;^264^^^^^255^338^[REPLACE] byte[] outputBuffer = byteBuilder.resetAndGetFirstSegment (  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^int outputEnd = HEX_BYTES.length;^265^^^^^255^338^[REPLACE] int outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^while  ( outputEnd  ==  second )  {^268^^^^^255^338^[REPLACE] while  ( inputPtr < inputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^while  ( c  ==  0x7F )  {^272^^^^^255^338^[REPLACE] while  ( c <= 0x7F )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (outPtr  !=  outputEnd )  {^273^^^^^255^338^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^outputBuffer = byteBuilder.finishCurrentSegment (  ) ;outputEnd = outputBuffer.length;outputPtr = 0;^273^274^275^276^277^255^338^[ADD] if  ( outputPtr >= outputEnd )  { outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputEnd = outputBuffer.length; outputPtr = 0; }^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = byteBuilder.getCurrentSegment (  ) ; ;^274^^^^^255^338^[REPLACE] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputEnd =  HEX_BYTES.length;^275^^^^^255^338^[REPLACE] outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^275^^^^^255^338^[ADD] outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 3;^276^^^^^255^338^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( inputPtr  <  inputEnd )  {^279^^^^^255^338^[REPLACE] if  ( inputPtr >= inputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^274^275^^^^255^338^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 >> 3;^276^^^^^255^338^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )  ch; ;^278^^^^^255^338^[REPLACE] outputBuffer[outputPtr++] =  ( byte )  c;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^c =  null.charAt ( inputPtr++ ) ;^282^^^^^255^338^[REPLACE] c = text.charAt ( inputPtr++ ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^282^^^^^255^338^[ADD] c = text.charAt ( inputPtr++ ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr  >  outputEnd )  {^273^^^^^255^338^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputEnd =  null.length;^275^^^^^255^338^[REPLACE] outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr  <=  inputEnd )  {^279^^^^^255^338^[REPLACE] if  ( inputPtr >= inputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REMOVE]^if  ( inputPtr >= inputEnd )  {     _illegalSurrogate ( c ) ; }^279^^^^^255^338^[REMOVE] ^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (outPtr  ==  outputEnd )  {^286^^^^^255^338^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = byteBuilder.getCurrentSegment (  ) ; ;^287^^^^^255^338^[REPLACE] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputEnd =  null.length;^288^^^^^255^338^[REPLACE] outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^288^^^^^255^338^[ADD] outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 3;^289^^^^^255^338^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( second  >  0x800 )  {^291^^^^^255^338^[REPLACE] if  ( c < 0x800 )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^291^292^293^^^255^338^[ADD] if  ( c < 0x800 )  { outputBuffer[outputPtr++] =  ( byte )   ( 0xc0 |  ( c >> 6 )  ) ; } else {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( c < SURR1_FIRST ) {^295^^^^^291^329^[REPLACE] if  ( c < SURR1_FIRST || c > SURR2_LAST )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( c  != second )  {^304^^^^^295^328^[REPLACE] if  ( c > SURR1_LAST )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^_illegalSurrogate ( c ) ;^304^305^306^^^295^328^[ADD] if  ( c > SURR1_LAST )  { _illegalSurrogate ( c ) ; }^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_illegalSurrogate ( second ) ;^305^^^^^295^328^[REPLACE] _illegalSurrogate ( c ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( inputPtr  !=  second )  {^308^^^^^295^328^[REPLACE] if  ( inputPtr >= inputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_illegalSurrogate ( ch ) ;^309^^^^^295^328^[REPLACE] _illegalSurrogate ( c ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( c  !=  0x10FFFF )  {^312^^^^^295^328^[REPLACE] if  ( c > 0x10FFFF )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_illegalSurrogate ( ch ) ;^313^^^^^295^328^[REPLACE] _illegalSurrogate ( c ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr  >  outputEnd )  {^316^^^^^295^328^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = byteBuilder.getCurrentSegment (  ) ; ;^317^^^^^295^328^[REPLACE] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputEnd =  HEX_BYTES.length;^318^^^^^295^328^[REPLACE] outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 4;^319^^^^^295^328^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr  == outPtr )  {^322^^^^^295^328^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^322^323^324^325^326^295^328^[ADD] if  ( outputPtr >= outputEnd )  { outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputEnd = outputBuffer.length; outputPtr = 0; }^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = byteBuilder.getCurrentSegment (  ) ; ;^323^^^^^295^328^[REPLACE] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputEnd =  HEX_BYTES.length;^324^^^^^295^328^[REPLACE] outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 4;^325^^^^^295^328^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^ch = _convertSurrogate ( ch, text.charAt ( inputPtr++ )  ) ; ;^311^^^^^295^328^[REPLACE] c = _convertSurrogate ( c, text.charAt ( inputPtr++ )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 6 )  & 0x3f )  ) ; ;^315^^^^^295^328^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0xf0 |  ( c >> 18 )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 3;^319^^^^^295^328^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 &  (  ( c >> 12 )  & 0x3f )  ) ;^321^^^^^295^328^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( c >> 12 )  & 0x3f )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^323^324^^^^295^328^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputEnd =  null.length;^324^^^^^295^328^[REPLACE] outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 1;^325^^^^^295^328^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 &  (  ( c >> 6 )  & 0x3f )  ) ;^327^^^^^295^328^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( c >> 6 )  & 0x3f )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (inputEnd  <=  outputEnd )  {^297^^^^^291^329^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^outputBuffer = byteBuilder.finishCurrentSegment (  ) ;outputEnd = outputBuffer.length;outputPtr = 0;^297^298^299^300^301^291^329^[ADD] if  ( outputPtr >= outputEnd )  { outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputEnd = outputBuffer.length; outputPtr = 0; }^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = byteBuilder.getCurrentSegment (  ) ; ;^298^^^^^291^329^[REPLACE] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^298^299^^^^291^329^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputEnd =  HEX_BYTES.length;^299^^^^^291^329^[REPLACE] outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^299^^^^^291^329^[ADD] outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outPtr = 0; ;^300^^^^^291^329^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0xe0 &  ( c >> 12 )  ) ;^296^^^^^291^329^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0xe0 |  ( c >> 12 )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 - 2;^300^^^^^291^329^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 &  (  ( c >> 6 )  & 0x3f )  ) ;^302^^^^^291^329^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( c >> 6 )  & 0x3f )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (inputPtr  <=  outputEnd )  {^297^^^^^291^329^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REMOVE]^if  ( outPtr >=  ( outputBuffer.length )  )  {     outputBuffer = textBuffer.finishCurrentSegment (  ) ;     outPtr = 0; }^297^^^^^291^329^[REMOVE] ^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 4;^300^^^^^291^329^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( second  <=  second )  {^304^^^^^291^329^[REPLACE] if  ( c > SURR1_LAST )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_illegalSurrogate ( ch ) ;^305^^^^^291^329^[REPLACE] _illegalSurrogate ( c ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (outputPtr  >  inputEnd )  {^308^^^^^291^329^[REPLACE] if  ( inputPtr >= inputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_illegalSurrogate ( second ) ;^309^^^^^291^329^[REPLACE] _illegalSurrogate ( c ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( second  !=  0x10FFFF )  {^312^^^^^291^329^[REPLACE] if  ( c > 0x10FFFF )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^_illegalSurrogate ( c ) ;^312^313^314^^^291^329^[ADD] if  ( c > 0x10FFFF )  { _illegalSurrogate ( c ) ; }^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_illegalSurrogate ( second ) ;^313^^^^^291^329^[REPLACE] _illegalSurrogate ( c ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REMOVE]^byteBuilder.append (  ( byte )  escCode ) ;^313^^^^^291^329^[REMOVE] ^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr  <  outputEnd )  {^316^^^^^291^329^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^316^317^318^319^320^291^329^[ADD] if  ( outputPtr >= outputEnd )  { outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputEnd = outputBuffer.length; outputPtr = 0; }^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = byteBuilder.getCurrentSegment (  ) ; ;^317^^^^^291^329^[REPLACE] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputEnd =  HEX_BYTES.length;^318^^^^^291^329^[REPLACE] outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 4;^319^^^^^291^329^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^319^^^^^291^329^[ADD] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr  ==  outputEnd )  {^322^^^^^291^329^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^outputBuffer = byteBuilder.finishCurrentSegment (  ) ;outputEnd = outputBuffer.length;outputPtr = 0;^322^323^324^325^326^291^329^[ADD] if  ( outputPtr >= outputEnd )  { outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputEnd = outputBuffer.length; outputPtr = 0; }^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = byteBuilder.getCurrentSegment (  ) ; ;^323^^^^^291^329^[REPLACE] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputEnd =  HEX_BYTES.length;^324^^^^^291^329^[REPLACE] outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 3;^325^^^^^291^329^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 2;^300^^^^^291^329^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^ch = _convertSurrogate ( ch, text.charAt ( inputPtr++ )  ) ; ;^311^^^^^291^329^[REPLACE] c = _convertSurrogate ( c, text.charAt ( inputPtr++ )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0xf0 &  ( c >> 18 )  ) ;^315^^^^^291^329^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0xf0 |  ( c >> 18 )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^315^^^^^291^329^[ADD] outputBuffer[outputPtr++] =  ( byte )   ( 0xf0 |  ( c >> 18 )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputEnd =  null.length;^318^^^^^291^329^[REPLACE] outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 - 0;^319^^^^^291^329^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 &  (  ( c >> 12 )  & 0x3f )  ) ;^321^^^^^291^329^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( c >> 12 )  & 0x3f )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0L;^325^^^^^291^329^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^325^^^^^291^329^[ADD] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 &  (  ( c >> 6 )  & 0x3f )  ) ;^327^^^^^291^329^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( c >> 6 )  & 0x3f )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^327^^^^^291^329^[ADD] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( c >> 6 )  & 0x3f )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0xc0 &  (SURR2_LAST )  ) ;^292^^^^^255^338^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0xc0 |  ( c >> 6 )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( c < SURR1_FIRST ) {^295^^^^^255^338^[REPLACE] if  ( c < SURR1_FIRST || c > SURR2_LAST )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (second  <  SURR1_LAST )  {^304^^^^^295^328^[REPLACE] if  ( c > SURR1_LAST )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( inputPtr  ==  inputEnd )  {^308^^^^^295^328^[REPLACE] if  ( inputPtr >= inputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REMOVE]^if  ( c > 1114111 )  {     _illegalSurrogate ( c ) ; }^308^^^^^295^328^[REMOVE] ^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_illegalSurrogate ( second ) ;^309^^^^^295^328^[REPLACE] _illegalSurrogate ( c ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( c  <=  0x10FFFF )  {^312^^^^^295^328^[REPLACE] if  ( c > 0x10FFFF )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_illegalSurrogate ( second ) ;^313^^^^^295^328^[REPLACE] _illegalSurrogate ( c ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr  ==  outputEnd )  {^316^^^^^295^328^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^316^317^318^319^320^295^328^[ADD] if  ( outputPtr >= outputEnd )  { outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputEnd = outputBuffer.length; outputPtr = 0; }^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outPtr = 0; ;^319^^^^^295^328^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr  >  outputEnd )  {^322^^^^^295^328^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outPtr = 0; ;^325^^^^^295^328^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0xf0 &  ( c >> 18 )  ) ;^315^^^^^295^328^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0xf0 |  ( c >> 18 )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^315^^^^^295^328^[ADD] outputBuffer[outputPtr++] =  ( byte )   ( 0xf0 |  ( c >> 18 )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^317^318^^^^295^328^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^318^319^^^^295^328^[ADD] outputEnd = outputBuffer.length; outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 6 )  & 0x3f )  ) ; ;^321^^^^^295^328^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( c >> 12 )  & 0x3f )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 + 1;^325^^^^^295^328^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^325^^^^^295^328^[ADD] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 6 )  & 0x3f )  ) ; ;^327^^^^^295^328^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( c >> 6 )  & 0x3f )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^327^^^^^295^328^[ADD] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( c >> 6 )  & 0x3f )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr  >  outputEnd )  {^297^^^^^255^338^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = byteBuilder.getCurrentSegment (  ) ; ;^298^^^^^255^338^[REPLACE] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputEnd =  HEX_BYTES.length;^299^^^^^255^338^[REPLACE] outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^299^300^^^^255^338^[ADD] outputEnd = outputBuffer.length; outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 2;^300^^^^^255^338^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^300^^^^^255^338^[ADD] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0xe0 &  ( c >> 12 )  ) ;^296^^^^^255^338^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0xe0 |  ( c >> 12 )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outPtr = 0; ;^300^^^^^255^338^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 &  (  ( c >> 6 )  & 0x3f )  ) ;^302^^^^^255^338^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( c >> 6 )  & 0x3f )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr  <=  outputEnd )  {^297^^^^^255^338^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 4;^300^^^^^255^338^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( c  ==  second )  {^304^^^^^255^338^[REPLACE] if  ( c > SURR1_LAST )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_illegalSurrogate ( second ) ;^305^^^^^255^338^[REPLACE] _illegalSurrogate ( c ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REMOVE]^byteBuilder.append (  ( byte )  escCode ) ;^305^^^^^255^338^[REMOVE] ^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( inputPtr  >  inputEnd )  {^308^^^^^255^338^[REPLACE] if  ( inputPtr >= inputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^_illegalSurrogate ( c ) ;^308^309^310^^^255^338^[ADD] if  ( inputPtr >= inputEnd )  { _illegalSurrogate ( c ) ; }^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_illegalSurrogate ( second ) ;^309^^^^^255^338^[REPLACE] _illegalSurrogate ( c ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( c  <  0x10FFFF )  {^312^^^^^255^338^[REPLACE] if  ( c > 0x10FFFF )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^_illegalSurrogate ( c ) ;^312^313^314^^^255^338^[ADD] if  ( c > 0x10FFFF )  { _illegalSurrogate ( c ) ; }^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_illegalSurrogate ( second ) ;^313^^^^^255^338^[REPLACE] _illegalSurrogate ( c ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^313^^^^^255^338^[ADD] _illegalSurrogate ( c ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr  < inputEnd )  {^316^^^^^255^338^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^outputBuffer = byteBuilder.finishCurrentSegment (  ) ;outputEnd = outputBuffer.length;outputPtr = 0;^316^317^318^319^320^255^338^[ADD] if  ( outputPtr >= outputEnd )  { outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputEnd = outputBuffer.length; outputPtr = 0; }^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = byteBuilder.getCurrentSegment (  ) ; ;^317^^^^^255^338^[REPLACE] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputEnd =  null.length;^318^^^^^255^338^[REPLACE] outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^318^319^^^^255^338^[ADD] outputEnd = outputBuffer.length; outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 >> 3;^319^^^^^255^338^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^319^^^^^255^338^[ADD] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr  == outPtr )  {^322^^^^^255^338^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^322^323^324^325^326^255^338^[ADD] if  ( outputPtr >= outputEnd )  { outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputEnd = outputBuffer.length; outputPtr = 0; }^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = byteBuilder.getCurrentSegment (  ) ; ;^323^^^^^255^338^[REPLACE] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^323^324^^^^255^338^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputEnd =  HEX_BYTES.length;^324^^^^^255^338^[REPLACE] outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 3;^325^^^^^255^338^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr  ==  outputEnd )  {^330^^^^^255^338^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^330^331^332^333^334^255^338^[ADD] if  ( outputPtr >= outputEnd )  { outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputEnd = outputBuffer.length; outputPtr = 0; }^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = byteBuilder.getCurrentSegment (  ) ; ;^331^^^^^255^338^[REPLACE] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputEnd =  null.length;^332^^^^^255^338^[REPLACE] outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 - 1;^333^^^^^255^338^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^333^^^^^255^338^[ADD] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outPtr = 0; ;^276^^^^^255^338^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputEnd =  HEX_BYTES.length;^288^^^^^255^338^[REPLACE] outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 - 0;^289^^^^^255^338^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0xc0 &  ( c >> 6 )  ) ;^292^^^^^255^338^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0xc0 |  ( c >> 6 )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 6 )  & 0x3f )  ) ; ;^296^^^^^255^338^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0xe0 |  ( c >> 12 )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 - 0;^300^^^^^255^338^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^ch = _convertSurrogate ( ch, text.charAt ( inputPtr++ )  ) ; ;^311^^^^^255^338^[REPLACE] c = _convertSurrogate ( c, text.charAt ( inputPtr++ )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0xf0 &  ( c >> 18 )  ) ;^315^^^^^255^338^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0xf0 |  ( c >> 18 )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^315^^^^^255^338^[ADD] outputBuffer[outputPtr++] =  ( byte )   ( 0xf0 |  ( c >> 18 )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputEnd =  HEX_BYTES.length;^318^^^^^255^338^[REPLACE] outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^318^^^^^255^338^[ADD] outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0L;^319^^^^^255^338^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 6 )  & 0x3f )  ) ; ;^321^^^^^255^338^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( c >> 12 )  & 0x3f )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^321^^^^^255^338^[ADD] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( c >> 12 )  & 0x3f )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 1;^325^^^^^255^338^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^325^^^^^255^338^[ADD] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 6 )  & 0x3f )  ) ; ;^327^^^^^255^338^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( c >> 6 )  & 0x3f )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^331^^^^^255^338^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputEnd =  HEX_BYTES.length;^332^^^^^255^338^[REPLACE] outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 3;^333^^^^^255^338^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 &  ( c & 0x3f )  ) ;^335^^^^^255^338^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  ( c & 0x3f )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^int c = text.length ( inputPtr++ ) ;^269^^^^^255^338^[REPLACE] int c = text.charAt ( inputPtr++ ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^269^^^^^255^338^[ADD] int c = text.charAt ( inputPtr++ ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^while  ( c  >  0x7F )  {^272^^^^^255^338^[REPLACE] while  ( c <= 0x7F )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr  !=  outputEnd )  {^273^^^^^255^338^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0L;^276^^^^^255^338^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^276^^^^^255^338^[ADD] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( inputPtr  ==  second )  {^279^^^^^255^338^[REPLACE] if  ( inputPtr >= inputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 2;^276^^^^^255^338^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (outPtr  <=  outputEnd )  {^273^^^^^255^338^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^273^274^275^276^277^255^338^[ADD] if  ( outputPtr >= outputEnd )  { outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputEnd = outputBuffer.length; outputPtr = 0; }^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 << 4;^276^^^^^255^338^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr  !=  inputEnd )  {^279^^^^^255^338^[REPLACE] if  ( inputPtr >= inputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (inputEnd  >  outputEnd )  {^286^^^^^255^338^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^286^287^288^289^290^255^338^[ADD] if  ( outputPtr >= outputEnd )  { outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputEnd = outputBuffer.length; outputPtr = 0; }^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^288^289^^^^255^338^[ADD] outputEnd = outputBuffer.length; outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 2;^289^^^^^255^338^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( c  !=  0x800 )  {^291^^^^^255^338^[REPLACE] if  ( c < 0x800 )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( c <true && c > SURR2_LAST )  {^295^^^^^291^329^[REPLACE] if  ( c < SURR1_FIRST || c > SURR2_LAST )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REMOVE]^if  ( ch <= 2047 )  {     outputBuffer[ ( outputPtr++ ) ] =  (  ( byte )   ( 192 |  ( ch >> 6 )  )  ) ;     ch = 128 |  ( ch & 63 ) ; }else {     if  (  ( ch <  ( SURR1_FIRST )  )  ||  ( ch >  ( SURR2_LAST )  )  )  {         outputBuffer[ ( outputPtr++ ) ] =  (  ( byte )   ( 224 |  ( ch >> 12 )  )  ) ;         if  ( outputPtr >=  ( outputBuffer.length )  )  {             outputBuffer = byteBuilder.finishCurrentSegment (  ) ;             outputPtr = 0;         }         outputBuffer[ ( outputPtr++ ) ] =  (  ( byte )   ( 128 |  (  ( ch >> 6 )  & 63 )  )  ) ;         ch = 128 |  ( ch & 63 ) ;     }else {         if  ( ch >  ( SURR1_LAST )  )  {             _illegalSurrogate ( ch ) ;         }         if  ( inputPtr >= inputEnd )  {             _illegalSurrogate ( ch ) ;         }         ch = _convertSurrogate ( ch, text.charAt (  ( inputPtr++ )  )  ) ;         if  ( ch > 1114111 )  {             _illegalSurrogate ( ch ) ;         }         outputBuffer[ ( outputPtr++ ) ] =  (  ( byte )   ( 240 |  ( ch >> 18 )  )  ) ;         if  ( outputPtr >=  ( outputBuffer.length )  )  {             outputBuffer = byteBuilder.finishCurrentSegment (  ) ;             outputPtr = 0;         }         outputBuffer[ ( outputPtr++ ) ] =  (  ( byte )   ( 128 |  (  ( ch >> 12 )  & 63 )  )  ) ;         if  ( outputPtr >=  ( outputBuffer.length )  )  {             outputBuffer = byteBuilder.finishCurrentSegment (  ) ;             outputPtr = 0;         }         outputBuffer[ ( outputPtr++ ) ] =  (  ( byte )   ( 128 |  (  ( ch >> 6 )  & 63 )  )  ) ;         ch = 128 |  ( ch & 63 ) ;     } }^295^^^^^291^329^[REMOVE] ^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( second  >=  second )  {^304^^^^^295^328^[REPLACE] if  ( c > SURR1_LAST )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_illegalSurrogate ( ch ) ;^305^^^^^295^328^[REPLACE] _illegalSurrogate ( c ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( inputPtr  <=  inputEnd )  {^308^^^^^295^328^[REPLACE] if  ( inputPtr >= inputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (outPtr  >  outputEnd )  {^316^^^^^295^328^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^317^^^^^295^328^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^318^^^^^295^328^[ADD] outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 2;^319^^^^^295^328^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outPtr  ==  second )  {^322^^^^^295^328^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 2;^325^^^^^295^328^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputEnd =  null.length;^318^^^^^295^328^[REPLACE] outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 % 3;^325^^^^^295^328^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr  <  outputEnd )  {^297^^^^^291^329^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputEnd =  null.length;^299^^^^^291^329^[REPLACE] outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^298^^^^^291^329^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 * 1;^300^^^^^291^329^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^302^^^^^291^329^[ADD] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( c >> 6 )  & 0x3f )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (inputPtr  >  outputEnd )  {^297^^^^^291^329^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( c  <=  SURR1_LAST )  {^304^^^^^291^329^[REPLACE] if  ( c > SURR1_LAST )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_illegalSurrogate ( second ) ;^305^^^^^291^329^[REPLACE] _illegalSurrogate ( c ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( inputPtr  <=  inputEnd )  {^308^^^^^291^329^[REPLACE] if  ( inputPtr >= inputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_illegalSurrogate ( ch ) ;^309^^^^^291^329^[REPLACE] _illegalSurrogate ( c ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REMOVE]^byteBuilder.append (  ( byte )  escCode ) ;^309^^^^^291^329^[REMOVE] ^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (second  >=  0x10FFFF )  {^312^^^^^291^329^[REPLACE] if  ( c > 0x10FFFF )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (outPtr  <  outputEnd )  {^316^^^^^291^329^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^318^^^^^291^329^[ADD] outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 3;^319^^^^^291^329^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr  <=  outputEnd )  {^322^^^^^291^329^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 2;^325^^^^^291^329^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 6 )  & 0x3f )  ) ; ;^296^^^^^291^329^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0xe0 |  ( c >> 12 )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0L;^319^^^^^291^329^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^323^^^^^291^329^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^324^325^^^^291^329^[ADD] outputEnd = outputBuffer.length; outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 * 0;^325^^^^^291^329^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( c < true && c > true )  {^295^^^^^255^338^[REPLACE] if  ( c < SURR1_FIRST || c > SURR2_LAST )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (outputPtr  ==  inputEnd )  {^308^^^^^295^328^[REPLACE] if  ( inputPtr >= inputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^_illegalSurrogate ( c ) ;^308^309^310^^^295^328^[ADD] if  ( inputPtr >= inputEnd )  { _illegalSurrogate ( c ) ; }^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( inputLen  <  second )  {^316^^^^^295^328^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^outputBuffer = byteBuilder.finishCurrentSegment (  ) ;outputEnd = outputBuffer.length;outputPtr = 0;^316^317^318^319^320^295^328^[ADD] if  ( outputPtr >= outputEnd )  { outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputEnd = outputBuffer.length; outputPtr = 0; }^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr  <=  outputEnd )  {^322^^^^^295^328^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^319^^^^^295^328^[ADD] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^outputPtr = 0;^324^325^^^^295^328^[ADD] outputEnd = outputBuffer.length; outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 3;^325^^^^^295^328^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (outPtr  !=  outputEnd )  {^297^^^^^255^338^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputEnd =  null.length;^299^^^^^255^338^[REPLACE] outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^296^^^^^255^338^[ADD] outputBuffer[outputPtr++] =  ( byte )   ( 0xe0 |  ( c >> 12 )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^299^^^^^255^338^[ADD] outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 * 3;^300^^^^^255^338^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr  != inputEnd )  {^297^^^^^255^338^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 1;^300^^^^^255^338^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( c  < second )  {^304^^^^^255^338^[REPLACE] if  ( c > SURR1_LAST )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (outputPtr  !=  outputEnd )  {^308^^^^^255^338^[REPLACE] if  ( inputPtr >= inputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_illegalSurrogate ( ch ) ;^309^^^^^255^338^[REPLACE] _illegalSurrogate ( c ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REMOVE]^byteBuilder.append (  ( byte )  escCode ) ;^309^^^^^255^338^[REMOVE] ^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (second  !=  0x10FFFF )  {^312^^^^^255^338^[REPLACE] if  ( c > 0x10FFFF )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (inputEnd  !=  outputEnd )  {^316^^^^^255^338^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 4;^319^^^^^255^338^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (outPtr  ==  outputEnd )  {^322^^^^^255^338^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( inputEnd  ==  length )  {^330^^^^^255^338^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 / 3;^333^^^^^255^338^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 4;^276^^^^^255^338^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 + 0;^289^^^^^255^338^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0xc0 &  ( escCodeCount )  ) ;^292^^^^^255^338^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0xc0 |  ( c >> 6 )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^292^^^^^255^338^[ADD] outputBuffer[outputPtr++] =  ( byte )   ( 0xc0 |  ( c >> 6 )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0xe0 &  ( escCodeCount )  ) ;^296^^^^^255^338^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0xe0 |  ( c >> 12 )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^302^^^^^255^338^[ADD] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( c >> 6 )  & 0x3f )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outPtr = 0; ;^319^^^^^255^338^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 &  (  ( c >> 12 )  & 0x3f )  ) ;^321^^^^^255^338^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( c >> 12 )  & 0x3f )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 &  (  ( c >> 6 )  & 0x3f )  ) ;^327^^^^^255^338^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( c >> 6 )  & 0x3f )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^331^332^^^^255^338^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 1;^333^^^^^255^338^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^return _byteBuilder.append ( outputPtr ) ;^337^^^^^255^338^[REPLACE] return _byteBuilder.completeAndCoalesce ( outputPtr ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^quoteBuffer[2] = 'u';^348^^^^^346^353^[REPLACE] quoteBuffer[1] = 'u';^[METHOD] _appendNumericEscape [TYPE] int [PARAMETER] int value char[] quoteBuffer [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[REPLACE]^quoteBuffer[4 / 4] = HEX_CHARS[value  >= outputPtr];^350^^^^^346^353^[REPLACE] quoteBuffer[4] = HEX_CHARS[value >> 4];^[METHOD] _appendNumericEscape [TYPE] int [PARAMETER] int value char[] quoteBuffer [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[REPLACE]^quoteBuffer[5] = HEX_CHARS[value | 0xF];^351^^^^^346^353^[REPLACE] quoteBuffer[5] = HEX_CHARS[value & 0xF];^[METHOD] _appendNumericEscape [TYPE] int [PARAMETER] int value char[] quoteBuffer [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[ADD]^^351^352^^^^346^353^[ADD] quoteBuffer[5] = HEX_CHARS[value & 0xF]; return 6;^[METHOD] _appendNumericEscape [TYPE] int [PARAMETER] int value char[] quoteBuffer [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[REPLACE]^return 6 / 3;^352^^^^^346^353^[REPLACE] return 6;^[METHOD] _appendNumericEscape [TYPE] int [PARAMETER] int value char[] quoteBuffer [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[REPLACE]^quoteBuffer[0] =  ( char )  escCode;^357^^^^^355^359^[REPLACE] quoteBuffer[1] =  ( char )  escCode;^[METHOD] _appendNamedEscape [TYPE] int [PARAMETER] int escCode char[] quoteBuffer [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[ADD]^^357^^^^^355^359^[ADD] quoteBuffer[1] =  ( char )  escCode;^[METHOD] _appendNamedEscape [TYPE] int [PARAMETER] int escCode char[] quoteBuffer [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[REPLACE]^return 4;^358^^^^^355^359^[REPLACE] return 2;^[METHOD] _appendNamedEscape [TYPE] int [PARAMETER] int escCode char[] quoteBuffer [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[REPLACE]^byteBuilder.setCurrentSegmentLength ( outputPtr ) ;^363^^^^^361^382^[REPLACE] byteBuilder.setCurrentSegmentLength ( ptr ) ;^[METHOD] _appendByteEscape [TYPE] int [PARAMETER] int ch int escCode ByteArrayBuilder byteBuilder int ptr [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  hi  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  ptr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[REPLACE]^byteBuilder .completeAndCoalesce ( inPtr )  ;^364^^^^^361^382^[REPLACE] byteBuilder.append ( INT_BACKSLASH ) ;^[METHOD] _appendByteEscape [TYPE] int [PARAMETER] int ch int escCode ByteArrayBuilder byteBuilder int ptr [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  hi  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  ptr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[REPLACE]^if  ( escCode  >=  0 )  {^365^^^^^361^382^[REPLACE] if  ( escCode < 0 )  {^[METHOD] _appendByteEscape [TYPE] int [PARAMETER] int ch int escCode ByteArrayBuilder byteBuilder int ptr [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  hi  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  ptr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[ADD]^byteBuilder.append ( INT_U ) ;int hi =  ( ch >> 8 ) ;byteBuilder.append ( HEX_BYTES[hi >> 4] ) ;^365^366^367^368^369^361^382^[ADD] if  ( escCode < 0 )  { byteBuilder.append ( INT_U ) ; if  ( ch > 0xFF )  { int hi =  ( ch >> 8 ) ; byteBuilder.append ( HEX_BYTES[hi >> 4] ) ;^[METHOD] _appendByteEscape [TYPE] int [PARAMETER] int ch int escCode ByteArrayBuilder byteBuilder int ptr [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  hi  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  ptr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[REPLACE]^byteBuilder.getCurrentSegment (  ( byte )  escCode ) ;^379^^^^^361^382^[REPLACE] byteBuilder.append (  ( byte )  escCode ) ;^[METHOD] _appendByteEscape [TYPE] int [PARAMETER] int ch int escCode ByteArrayBuilder byteBuilder int ptr [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  hi  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  ptr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[REPLACE]^if  ( ch  <  0xFF )  {^367^^^^^361^382^[REPLACE] if  ( ch > 0xFF )  {^[METHOD] _appendByteEscape [TYPE] int [PARAMETER] int ch int escCode ByteArrayBuilder byteBuilder int ptr [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  hi  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  ptr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[ADD]^^367^368^369^370^371^361^382^[ADD] if  ( ch > 0xFF )  { int hi =  ( ch >> 8 ) ; byteBuilder.append ( HEX_BYTES[hi >> 4] ) ; byteBuilder.append ( HEX_BYTES[hi & 0xF] ) ; ch &= 0xFF;^[METHOD] _appendByteEscape [TYPE] int [PARAMETER] int ch int escCode ByteArrayBuilder byteBuilder int ptr [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  hi  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  ptr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[REPLACE]^byteBuilder .completeAndCoalesce ( SURR1_LAST )  ;^373^^^^^361^382^[REPLACE] byteBuilder.append ( INT_0 ) ;^[METHOD] _appendByteEscape [TYPE] int [PARAMETER] int ch int escCode ByteArrayBuilder byteBuilder int ptr [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  hi  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  ptr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[ADD]^^373^^^^^361^382^[ADD] byteBuilder.append ( INT_0 ) ;^[METHOD] _appendByteEscape [TYPE] int [PARAMETER] int ch int escCode ByteArrayBuilder byteBuilder int ptr [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  hi  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  ptr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[REPLACE]^byteBuilder.append ( INT_U ) ;^374^^^^^361^382^[REPLACE] byteBuilder.append ( INT_0 ) ;^[METHOD] _appendByteEscape [TYPE] int [PARAMETER] int ch int escCode ByteArrayBuilder byteBuilder int ptr [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  hi  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  ptr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 6 )  & 0x3f )  ) ; ;^371^^^^^361^382^[REPLACE] ch &= 0xFF;^[METHOD] _appendByteEscape [TYPE] int [PARAMETER] int ch int escCode ByteArrayBuilder byteBuilder int ptr [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  hi  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  ptr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[REPLACE]^int hi =  (second  ==  8 ) ;^368^^^^^361^382^[REPLACE] int hi =  ( ch >> 8 ) ;^[METHOD] _appendByteEscape [TYPE] int [PARAMETER] int ch int escCode ByteArrayBuilder byteBuilder int ptr [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  hi  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  ptr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[ADD]^^368^^^^^361^382^[ADD] int hi =  ( ch >> 8 ) ;^[METHOD] _appendByteEscape [TYPE] int [PARAMETER] int ch int escCode ByteArrayBuilder byteBuilder int ptr [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  hi  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  ptr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[REPLACE]^int hi =  ( ch  ==  8 ) ;^368^^^^^361^382^[REPLACE] int hi =  ( ch >> 8 ) ;^[METHOD] _appendByteEscape [TYPE] int [PARAMETER] int ch int escCode ByteArrayBuilder byteBuilder int ptr [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  hi  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  ptr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[REPLACE]^if  ( ch  ==  0xFF )  {^367^^^^^361^382^[REPLACE] if  ( ch > 0xFF )  {^[METHOD] _appendByteEscape [TYPE] int [PARAMETER] int ch int escCode ByteArrayBuilder byteBuilder int ptr [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  hi  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  ptr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[ADD]^int hi =  ( ch >> 8 ) ;byteBuilder.append ( HEX_BYTES[hi >> 4] ) ;byteBuilder.append ( HEX_BYTES[hi & 0xF] ) ;ch &= 0xFF;^367^368^369^370^371^361^382^[ADD] if  ( ch > 0xFF )  { int hi =  ( ch >> 8 ) ; byteBuilder.append ( HEX_BYTES[hi >> 4] ) ; byteBuilder.append ( HEX_BYTES[hi & 0xF] ) ; ch &= 0xFF;^[METHOD] _appendByteEscape [TYPE] int [PARAMETER] int ch int escCode ByteArrayBuilder byteBuilder int ptr [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  hi  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  ptr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[REPLACE]^byteBuilder.append ( INT_U ) ;^373^^^^^361^382^[REPLACE] byteBuilder.append ( INT_0 ) ;^[METHOD] _appendByteEscape [TYPE] int [PARAMETER] int ch int escCode ByteArrayBuilder byteBuilder int ptr [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  hi  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  ptr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[REPLACE]^byteBuilder .completeAndCoalesce ( inputEnd )  ;^374^^^^^361^382^[REPLACE] byteBuilder.append ( INT_0 ) ;^[METHOD] _appendByteEscape [TYPE] int [PARAMETER] int ch int escCode ByteArrayBuilder byteBuilder int ptr [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  hi  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  ptr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[REPLACE]^int hi =  ( second  !=  8 ) ;^368^^^^^361^382^[REPLACE] int hi =  ( ch >> 8 ) ;^[METHOD] _appendByteEscape [TYPE] int [PARAMETER] int ch int escCode ByteArrayBuilder byteBuilder int ptr [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  hi  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  ptr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[ADD]^^368^369^^^^361^382^[ADD] int hi =  ( ch >> 8 ) ; byteBuilder.append ( HEX_BYTES[hi >> 4] ) ;^[METHOD] _appendByteEscape [TYPE] int [PARAMETER] int ch int escCode ByteArrayBuilder byteBuilder int ptr [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  hi  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  ptr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[REPLACE]^return byteBuilder .setCurrentSegmentLength ( SURR2_FIRST )  ;^381^^^^^361^382^[REPLACE] return byteBuilder.getCurrentSegmentLength (  ) ;^[METHOD] _appendByteEscape [TYPE] int [PARAMETER] int ch int escCode ByteArrayBuilder byteBuilder int ptr [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  hi  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  ptr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[REPLACE]^if  ( secondPart < true ) {^387^^^^^384^391^[REPLACE] if  ( secondPart < SURR2_FIRST || secondPart > SURR2_LAST )  {^[METHOD] _convertSurrogate [TYPE] int [PARAMETER] int firstPart int secondPart [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  firstPart  hi  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  ptr  second  secondPart  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[REPLACE]^return ;^388^^^^^384^391^[REPLACE] throw new IllegalArgumentException  (" ")  ;^[METHOD] _convertSurrogate [TYPE] int [PARAMETER] int firstPart int secondPart [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  firstPart  hi  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  ptr  second  secondPart  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[REPLACE]^return byteBuilder.getCurrentSegmentLength (  ) ;^388^^^^^384^391^[REPLACE] throw new IllegalArgumentException  (" ")  ;^[METHOD] _convertSurrogate [TYPE] int [PARAMETER] int firstPart int secondPart [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  firstPart  hi  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  ptr  second  secondPart  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[ADD]^^388^^^^^384^391^[ADD] throw new IllegalArgumentException  (" ")  ;^[METHOD] _convertSurrogate [TYPE] int [PARAMETER] int firstPart int secondPart [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  firstPart  hi  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  ptr  second  secondPart  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[REPLACE]^return true ;^390^^^^^384^391^[REPLACE] return 0x10000 +  (  ( firstPart - SURR1_FIRST )  << 10 )  +  ( secondPart - SURR2_FIRST ) ;^[METHOD] _convertSurrogate [TYPE] int [PARAMETER] int firstPart int secondPart [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  firstPart  hi  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  ptr  second  secondPart  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[REPLACE]^return ;^394^^^^^393^395^[REPLACE] throw new IllegalArgumentException  (" ")  ;^[METHOD] _illegalSurrogate [TYPE] void [PARAMETER] int code [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  code  escCode  escCodeCount  escape  first  firstPart  hi  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  ptr  second  secondPart  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[REPLACE]^return byteBuilder.getCurrentSegmentLength (  ) ;^394^^^^^393^395^[REPLACE] throw new IllegalArgumentException  (" ")  ;^[METHOD] _illegalSurrogate [TYPE] void [PARAMETER] int code [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  code  escCode  escCodeCount  escape  first  firstPart  hi  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  ptr  second  secondPart  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
