[REPLACE]^private static final int GLOBAL_VAR_DECL_OVERHEAD  = null ;^79^^^^^^^[REPLACE] private static final int GLOBAL_VAR_DECL_OVERHEAD = "var t;".length (  ) ;^ [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration  
[REPLACE]^private static final int PER_EXTRACTION_INSTANCE_OVERHEAD  = null ;^83^84^^^^83^84^[REPLACE] private static final int PER_EXTRACTION_INSTANCE_OVERHEAD = "t=y.prototype;".length (  ) ;^ [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration  
[REPLACE]^private static final int PER_PROTOTYPE_MEMBER_DELTA ;^87^88^^^^87^88^[REPLACE] private static final int PER_PROTOTYPE_MEMBER_DELTA = "t.y=".length (  )  - "x[p].y=".length (  ) ;^ [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration  
[REPLACE]^private String prototypeAlias ;^92^^^^^^^[REPLACE] private String prototypeAlias = null;^ [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration  
[REPLACE]^private  AbstractCompiler compiler;^94^^^^^^^[REPLACE] private final AbstractCompiler compiler;^ [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration  
[REPLACE]^private List<ExtractionInstance> instances  = null ;^185^^^^^^^[REPLACE] private List<ExtractionInstance> instances = Lists.newLinkedList (  ) ;^ [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration  
[REPLACE]^private int totalDelta ;^186^^^^^^^[REPLACE] private int totalDelta = GLOBAL_VAR_DECL_OVERHEAD;^ [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration  
[REPLACE]^LinkedList<PrototypeMemberDeclaration> declarations  = null ;^233^^^^^^^[REPLACE] LinkedList<PrototypeMemberDeclaration> declarations = Lists.newLinkedList (  ) ;^ [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration  
[REPLACE]^private int delta  = null ;^234^^^^^^^[REPLACE] private int delta = 0;^ [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration  
[REPLACE]^String memberName;^268^^^^^^^[REPLACE] final String memberName;^ [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration  
[REPLACE]^Node node;^269^^^^^^^[REPLACE] final Node node;^ [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration  
[REPLACE]^final  double  qualifiedClassName;^270^^^^^^^[REPLACE] final String qualifiedClassName;^ [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration  
[REPLACE]^Node lhs;^271^^^^^^^[REPLACE] final Node lhs;^ [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration  
[REPLACE]^this.compiler =  null;^97^^^^^96^98^[REPLACE] this.compiler = compiler;^[METHOD] <init> [TYPE] AbstractCompiler) [PARAMETER] AbstractCompiler compiler [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node lhs  node  parent  [TYPE]  List instances  [TYPE]  String memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[ADD]^^97^^^^^96^98^[ADD] this.compiler = compiler;^[METHOD] <init> [TYPE] AbstractCompiler) [PARAMETER] AbstractCompiler compiler [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node lhs  node  parent  [TYPE]  List instances  [TYPE]  String memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^this.parent =  null;^238^^^^^237^251^[REPLACE] this.parent = parent;^[METHOD] <init> [TYPE] Node) [PARAMETER] PrototypeMemberDeclaration head Node parent [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  PrototypeMemberDeclaration head  prototypeMember  [TYPE]  Node cur  lhs  node  parent  [TYPE]  List instances  [TYPE]  String memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^cur = instance.declarations.getLast (  ) .node;^239^^^^^237^251^[REPLACE] declarations.add ( head ) ;^[METHOD] <init> [TYPE] Node) [PARAMETER] PrototypeMemberDeclaration head Node parent [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  PrototypeMemberDeclaration head  prototypeMember  [TYPE]  Node cur  lhs  node  parent  [TYPE]  List instances  [TYPE]  String memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^delta = PER_EXTRACTION_INSTANCE_OVERHEAD +totalDelta;^240^^^^^237^251^[REPLACE] delta = PER_EXTRACTION_INSTANCE_OVERHEAD + PER_PROTOTYPE_MEMBER_DELTA;^[METHOD] <init> [TYPE] Node) [PARAMETER] PrototypeMemberDeclaration head Node parent [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  PrototypeMemberDeclaration head  prototypeMember  [TYPE]  Node cur  lhs  node  parent  [TYPE]  List instances  [TYPE]  String memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^if  ( prototypeMember != null || !head.isSameClass ( prototypeMember )  )  {^245^^^^^237^251^[REPLACE] if  ( prototypeMember == null || !head.isSameClass ( prototypeMember )  )  {^[METHOD] <init> [TYPE] Node) [PARAMETER] PrototypeMemberDeclaration head Node parent [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  PrototypeMemberDeclaration head  prototypeMember  [TYPE]  Node cur  lhs  node  parent  [TYPE]  List instances  [TYPE]  String memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^for  ( Nodeparent = head.node.getNext (  ) ; cur == null; cur = cur.getNext (  )  )  {^242^^^^^237^251^[REPLACE] for  ( Node cur = head.node.getNext (  ) ; cur != null; cur = cur.getNext (  )  )  {^[METHOD] <init> [TYPE] Node) [PARAMETER] PrototypeMemberDeclaration head Node parent [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  PrototypeMemberDeclaration head  prototypeMember  [TYPE]  Node cur  lhs  node  parent  [TYPE]  List instances  [TYPE]  String memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^delta + =  delta +;^249^^^^^237^251^[REPLACE] delta += PER_PROTOTYPE_MEMBER_DELTA;^[METHOD] <init> [TYPE] Node) [PARAMETER] PrototypeMemberDeclaration head Node parent [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  PrototypeMemberDeclaration head  prototypeMember  [TYPE]  Node cur  lhs  node  parent  [TYPE]  List instances  [TYPE]  String memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^PrototypeMemberDeclaration prototypeMember = PrototypeMemberDeclaration.extractDeclaration ( parent ) ;^243^244^^^^237^251^[REPLACE] PrototypeMemberDeclaration prototypeMember = PrototypeMemberDeclaration.extractDeclaration ( cur ) ;^[METHOD] <init> [TYPE] Node) [PARAMETER] PrototypeMemberDeclaration head Node parent [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  PrototypeMemberDeclaration head  prototypeMember  [TYPE]  Node cur  lhs  node  parent  [TYPE]  List instances  [TYPE]  String memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^for  ( Node cur =  head.node.getNext (  ) ; null !^242^^^^^237^251^[REPLACE] for  ( Node cur = head.node.getNext (  ) ; cur != null; cur = cur.getNext (  )  )  {^[METHOD] <init> [TYPE] Node) [PARAMETER] PrototypeMemberDeclaration head Node parent [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  PrototypeMemberDeclaration head  prototypeMember  [TYPE]  Node cur  lhs  node  parent  [TYPE]  List instances  [TYPE]  String memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^for  ( Node cur = prototypeMember.node.getNext (  ) ; cur != null; cur = cur.getNext (  )  )  {^242^^^^^237^251^[REPLACE] for  ( Node cur = head.node.getNext (  ) ; cur != null; cur = cur.getNext (  )  )  {^[METHOD] <init> [TYPE] Node) [PARAMETER] PrototypeMemberDeclaration head Node parent [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  PrototypeMemberDeclaration head  prototypeMember  [TYPE]  Node cur  lhs  node  parent  [TYPE]  List instances  [TYPE]  String memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[ADD]^^243^244^^^^237^251^[ADD] PrototypeMemberDeclaration prototypeMember = PrototypeMemberDeclaration.extractDeclaration ( cur ) ;^[METHOD] <init> [TYPE] Node) [PARAMETER] PrototypeMemberDeclaration head Node parent [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  PrototypeMemberDeclaration head  prototypeMember  [TYPE]  Node cur  lhs  node  parent  [TYPE]  List instances  [TYPE]  String memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^this.lhs =  null;^274^^^^^273^279^[REPLACE] this.lhs = lhs;^[METHOD] <init> [TYPE] Node) [PARAMETER] Node lhs Node node [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node cur  lhs  node  parent  [TYPE]  List instances  [TYPE]  String memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^this.memberName =  NodeUtil.getPrototypePropertyName ( null ) ;^275^^^^^273^279^[REPLACE] this.memberName = NodeUtil.getPrototypePropertyName ( lhs ) ;^[METHOD] <init> [TYPE] Node) [PARAMETER] Node lhs Node node [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node cur  lhs  node  parent  [TYPE]  List instances  [TYPE]  String memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^this.node =  parent;^276^^^^^273^279^[REPLACE] this.node = node;^[METHOD] <init> [TYPE] Node) [PARAMETER] Node lhs Node node [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node cur  lhs  node  parent  [TYPE]  List instances  [TYPE]  String memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[ADD]^^276^^^^^273^279^[ADD] this.node = node;^[METHOD] <init> [TYPE] Node) [PARAMETER] Node lhs Node node [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node cur  lhs  node  parent  [TYPE]  List instances  [TYPE]  String memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^this.qualifiedClassName =  NodeUtil.getPrototypeClassName ( null ) .getQualifiedName (  ) ;^277^278^^^^273^279^[REPLACE] this.qualifiedClassName = NodeUtil.getPrototypeClassName ( lhs ) .getQualifiedName (  ) ;^[METHOD] <init> [TYPE] Node) [PARAMETER] Node lhs Node node [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node cur  lhs  node  parent  [TYPE]  List instances  [TYPE]  String memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^for  ( ExtractionInstance instance : info.instances )  { extractInstance ( instance ) ;^102^^^^^101^108^[REPLACE] GatherExtractionInfo extractionInfo = new GatherExtractionInfo (  ) ;^[METHOD] process [TYPE] void [PARAMETER] Node externs Node root [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  GatherExtractionInfo extractionInfo  [TYPE]  Node cur  externs  lhs  node  parent  root  [TYPE]  List instances  [TYPE]  String memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[ADD]^NodeTraversal.traverse ( compiler, root, extractionInfo ) ;^102^103^^^^101^108^[ADD] GatherExtractionInfo extractionInfo = new GatherExtractionInfo (  ) ; NodeTraversal.traverse ( compiler, root, extractionInfo ) ;^[METHOD] process [TYPE] void [PARAMETER] Node externs Node root [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  GatherExtractionInfo extractionInfo  [TYPE]  Node cur  externs  lhs  node  parent  root  [TYPE]  List instances  [TYPE]  String memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^NodeTraversal.traverse ( compiler, parent, extractionInfo ) ;^103^^^^^101^108^[REPLACE] NodeTraversal.traverse ( compiler, root, extractionInfo ) ;^[METHOD] process [TYPE] void [PARAMETER] Node externs Node root [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  GatherExtractionInfo extractionInfo  [TYPE]  Node cur  externs  lhs  node  parent  root  [TYPE]  List instances  [TYPE]  String memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^if  ( extractionInfo .GatherExtractionInfo (  )   )  {^104^^^^^101^108^[REPLACE] if  ( extractionInfo.shouldExtract (  )  )  {^[METHOD] process [TYPE] void [PARAMETER] Node externs Node root [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  GatherExtractionInfo extractionInfo  [TYPE]  Node cur  externs  lhs  node  parent  root  [TYPE]  List instances  [TYPE]  String memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[ADD]^^104^105^106^107^^101^108^[ADD] if  ( extractionInfo.shouldExtract (  )  )  { doExtraction ( extractionInfo ) ; compiler.reportCodeChange (  ) ; }^[METHOD] process [TYPE] void [PARAMETER] Node externs Node root [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  GatherExtractionInfo extractionInfo  [TYPE]  Node cur  externs  lhs  node  parent  root  [TYPE]  List instances  [TYPE]  String memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^NodeTraversal.traverse ( compiler, root, extractionInfo ) ;^105^^^^^101^108^[REPLACE] doExtraction ( extractionInfo ) ;^[METHOD] process [TYPE] void [PARAMETER] Node externs Node root [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  GatherExtractionInfo extractionInfo  [TYPE]  Node cur  externs  lhs  node  parent  root  [TYPE]  List instances  [TYPE]  String memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^compiler .getNodeForCodeInsertion ( false )  ;^106^^^^^101^108^[REPLACE] compiler.reportCodeChange (  ) ;^[METHOD] process [TYPE] void [PARAMETER] Node externs Node root [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  GatherExtractionInfo extractionInfo  [TYPE]  Node cur  externs  lhs  node  parent  root  [TYPE]  List instances  [TYPE]  String memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^Node var = new Node ( Token.VAR, Node.replaceChild ( Token.NAME, prototypeAlias )  ) ;^116^^^^^114^123^[REPLACE] Node var = new Node ( Token.VAR, Node.newString ( Token.NAME, prototypeAlias )  ) ;^[METHOD] doExtraction [TYPE] void [PARAMETER] GatherExtractionInfo info [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  GatherExtractionInfo info  [TYPE]  Node cur  externs  lhs  node  parent  root  var  [TYPE]  List instances  [TYPE]  String memberName  prototypeAlias  qualifiedClassName  [TYPE]  ExtractionInstance instance  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^compiler.getNodeForCodeInsertion ( this ) .addChildrenToFront ( parent ) ;^117^^^^^114^123^[REPLACE] compiler.getNodeForCodeInsertion ( null ) .addChildrenToFront ( var ) ;^[METHOD] doExtraction [TYPE] void [PARAMETER] GatherExtractionInfo info [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  GatherExtractionInfo info  [TYPE]  Node cur  externs  lhs  node  parent  root  var  [TYPE]  List instances  [TYPE]  String memberName  prototypeAlias  qualifiedClassName  [TYPE]  ExtractionInstance instance  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^compiler.getNodeForCodeInsertion ( false ) .addChildrenToFront ( var ) ;^117^^^^^114^123^[REPLACE] compiler.getNodeForCodeInsertion ( null ) .addChildrenToFront ( var ) ;^[METHOD] doExtraction [TYPE] void [PARAMETER] GatherExtractionInfo info [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  GatherExtractionInfo info  [TYPE]  Node cur  externs  lhs  node  parent  root  var  [TYPE]  List instances  [TYPE]  String memberName  prototypeAlias  qualifiedClassName  [TYPE]  ExtractionInstance instance  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[ADD]^^117^^^^^114^123^[ADD] compiler.getNodeForCodeInsertion ( null ) .addChildrenToFront ( var ) ;^[METHOD] doExtraction [TYPE] void [PARAMETER] GatherExtractionInfo info [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  GatherExtractionInfo info  [TYPE]  Node cur  externs  lhs  node  parent  root  var  [TYPE]  List instances  [TYPE]  String memberName  prototypeAlias  qualifiedClassName  [TYPE]  ExtractionInstance instance  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^for  ( ExtractionInstance instance : info.instances )  { extractInstance ( instance ) ;^120^^^^^114^123^[REPLACE] for  ( ExtractionInstance instance : info.instances )  {^[METHOD] doExtraction [TYPE] void [PARAMETER] GatherExtractionInfo info [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  GatherExtractionInfo info  [TYPE]  Node cur  externs  lhs  node  parent  root  var  [TYPE]  List instances  [TYPE]  String memberName  prototypeAlias  qualifiedClassName  [TYPE]  ExtractionInstance instance  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[ADD]^^120^121^122^^^114^123^[ADD] for  ( ExtractionInstance instance : info.instances )  { extractInstance ( instance ) ; }^[METHOD] doExtraction [TYPE] void [PARAMETER] GatherExtractionInfo info [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  GatherExtractionInfo info  [TYPE]  Node cur  externs  lhs  node  parent  root  var  [TYPE]  List instances  [TYPE]  String memberName  prototypeAlias  qualifiedClassName  [TYPE]  ExtractionInstance instance  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^String className = instance.declarations.getLast (  ) .qualifiedClassName;^132^^^^^130^146^[REPLACE] String className = instance.declarations.getFirst (  ) .qualifiedClassName;^[METHOD] extractInstance [TYPE] void [PARAMETER] ExtractionInstance instance [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  PrototypeMemberDeclaration declar  [TYPE]  Node cur  externs  lhs  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  ExtractionInstance instance  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^Node stmt = new Node ( instance.declarations.getFirst (  ) .node.getType (  ) , new Node ( Token.ASSIGN, Node.newString ( Token.NAME, prototypeAlias ) , NodeUtil.newQualifiedNameNode ( className +qualifiedClassName,^133^134^135^136^^130^146^[REPLACE] Node stmt = new Node ( instance.declarations.getFirst (  ) .node.getType (  ) , new Node ( Token.ASSIGN, Node.newString ( Token.NAME, prototypeAlias ) , NodeUtil.newQualifiedNameNode ( className + ".prototype",^[METHOD] extractInstance [TYPE] void [PARAMETER] ExtractionInstance instance [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  PrototypeMemberDeclaration declar  [TYPE]  Node cur  externs  lhs  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  ExtractionInstance instance  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^instance.parent.replaceChild ( stmt, instance.declarations.getFirst (  ) .node ) ;^139^^^^^130^146^[REPLACE] instance.parent.addChildBefore ( stmt, instance.declarations.getFirst (  ) .node ) ;^[METHOD] extractInstance [TYPE] void [PARAMETER] ExtractionInstance instance [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  PrototypeMemberDeclaration declar  [TYPE]  Node cur  externs  lhs  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  ExtractionInstance instance  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^instance.parent.addChildBefore ( stmt, instance.declarations.getLast (  ) .node ) ;^139^^^^^130^146^[REPLACE] instance.parent.addChildBefore ( stmt, instance.declarations.getFirst (  ) .node ) ;^[METHOD] extractInstance [TYPE] void [PARAMETER] ExtractionInstance instance [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  PrototypeMemberDeclaration declar  [TYPE]  Node cur  externs  lhs  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  ExtractionInstance instance  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^PrototypeMemberDeclaration prototypeMember = PrototypeMemberDeclaration.extractDeclaration ( cur ) ;^143^^^^^130^146^[REPLACE] for  ( PrototypeMemberDeclaration declar : instance.declarations )  {^[METHOD] extractInstance [TYPE] void [PARAMETER] ExtractionInstance instance [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  PrototypeMemberDeclaration declar  [TYPE]  Node cur  externs  lhs  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  ExtractionInstance instance  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^Node assignment = declar.node.getType (  ) ;^155^^^^^153^178^[REPLACE] Node assignment = declar.node.getFirstChild (  ) ;^[METHOD] replacePrototypeMemberDeclaration [TYPE] void [PARAMETER] PrototypeMemberDeclaration declar [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  PrototypeMemberDeclaration declar  [TYPE]  Node accessNode  assignment  cur  externs  lhs  name  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  Object originalName  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^Node lhs = stmt.getType (  ) ;^156^^^^^153^178^[REPLACE] Node lhs = assignment.getFirstChild (  ) ;^[METHOD] replacePrototypeMemberDeclaration [TYPE] void [PARAMETER] PrototypeMemberDeclaration declar [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  PrototypeMemberDeclaration declar  [TYPE]  Node accessNode  assignment  cur  externs  lhs  name  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  Object originalName  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^Node name = NodeUtil.newQualifiedNameNode ( prototypeAlias  ^  "."  ^  declar.memberName, declar.node, declar.memberName ) ;^157^158^159^^^153^178^[REPLACE] Node name = NodeUtil.newQualifiedNameNode ( prototypeAlias + "." + declar.memberName, declar.node, declar.memberName ) ;^[METHOD] replacePrototypeMemberDeclaration [TYPE] void [PARAMETER] PrototypeMemberDeclaration declar [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  PrototypeMemberDeclaration declar  [TYPE]  Node accessNode  assignment  cur  externs  lhs  name  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  Object originalName  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[ADD]^^157^158^159^^^153^178^[ADD] Node name = NodeUtil.newQualifiedNameNode ( prototypeAlias + "." + declar.memberName, declar.node, declar.memberName ) ;^[METHOD] replacePrototypeMemberDeclaration [TYPE] void [PARAMETER] PrototypeMemberDeclaration declar [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  PrototypeMemberDeclaration declar  [TYPE]  Node accessNode  assignment  cur  externs  lhs  name  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  Object originalName  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^Node accessNode = declar.lhs.getType (  ) .getFirstChild (  ) ;^165^^^^^153^178^[REPLACE] Node accessNode = declar.lhs.getFirstChild (  ) .getFirstChild (  ) ;^[METHOD] replacePrototypeMemberDeclaration [TYPE] void [PARAMETER] PrototypeMemberDeclaration declar [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  PrototypeMemberDeclaration declar  [TYPE]  Node accessNode  assignment  cur  externs  lhs  name  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  Object originalName  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^Object originalName = stmt .getType (  )  ;^166^^^^^153^178^[REPLACE] Object originalName = accessNode.getProp ( Node.ORIGINALNAME_PROP ) ;^[METHOD] replacePrototypeMemberDeclaration [TYPE] void [PARAMETER] PrototypeMemberDeclaration declar [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  PrototypeMemberDeclaration declar  [TYPE]  Node accessNode  assignment  cur  externs  lhs  name  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  Object originalName  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^for  ( Node cur = head.node.getNext (  ) ; cur != null; cur = cur.getNext (  )  )  { PrototypeMemberDeclaration prototypeMember =^168^^^^^153^178^[REPLACE] String className = "?";^[METHOD] replacePrototypeMemberDeclaration [TYPE] void [PARAMETER] PrototypeMemberDeclaration declar [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  PrototypeMemberDeclaration declar  [TYPE]  Node accessNode  assignment  cur  externs  lhs  name  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  Object originalName  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[ADD]^^168^^^^^153^178^[ADD] String className = "?";^[METHOD] replacePrototypeMemberDeclaration [TYPE] void [PARAMETER] PrototypeMemberDeclaration declar [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  PrototypeMemberDeclaration declar  [TYPE]  Node accessNode  assignment  cur  externs  lhs  name  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  Object originalName  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^if  ( originalName == null )  {^170^^^^^153^178^[REPLACE] if  ( originalName != null )  {^[METHOD] replacePrototypeMemberDeclaration [TYPE] void [PARAMETER] PrototypeMemberDeclaration declar [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  PrototypeMemberDeclaration declar  [TYPE]  Node accessNode  assignment  cur  externs  lhs  name  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  Object originalName  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[ADD]^className = originalName.toString (  ) ;^170^171^172^^^153^178^[ADD] if  ( originalName != null )  { className = originalName.toString (  ) ; }^[METHOD] replacePrototypeMemberDeclaration [TYPE] void [PARAMETER] PrototypeMemberDeclaration declar [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  PrototypeMemberDeclaration declar  [TYPE]  Node accessNode  assignment  cur  externs  lhs  name  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  Object originalName  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^className =  null.toString (  ) ;^171^^^^^153^178^[REPLACE] className = originalName.toString (  ) ;^[METHOD] replacePrototypeMemberDeclaration [TYPE] void [PARAMETER] PrototypeMemberDeclaration declar [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  PrototypeMemberDeclaration declar  [TYPE]  Node accessNode  assignment  cur  externs  lhs  name  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  Object originalName  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[ADD]^^171^^^^^153^178^[ADD] className = originalName.toString (  ) ;^[METHOD] replacePrototypeMemberDeclaration [TYPE] void [PARAMETER] PrototypeMemberDeclaration declar [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  PrototypeMemberDeclaration declar  [TYPE]  Node accessNode  assignment  cur  externs  lhs  name  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  Object originalName  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^NodeUtil.getPrototypeClassName ( name.getFirstChild (  ) , lhs, qualifiedClassName + prototypeAlias ) ;^174^175^^^^153^178^[REPLACE] NodeUtil.setDebugInformation ( name.getFirstChild (  ) , lhs, className + ".prototype" ) ;^[METHOD] replacePrototypeMemberDeclaration [TYPE] void [PARAMETER] PrototypeMemberDeclaration declar [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  PrototypeMemberDeclaration declar  [TYPE]  Node accessNode  assignment  cur  externs  lhs  name  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  Object originalName  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[ADD]^^174^175^^177^178^153^178^[ADD] NodeUtil.setDebugInformation ( name.getFirstChild (  ) , lhs, className + ".prototype" ) ; assignment.replaceChild ( lhs, name ) ; }^[METHOD] replacePrototypeMemberDeclaration [TYPE] void [PARAMETER] PrototypeMemberDeclaration declar [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  PrototypeMemberDeclaration declar  [TYPE]  Node accessNode  assignment  cur  externs  lhs  name  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  Object originalName  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^NodeUtil.setDebugInformation ( name.getType (  ) , lhs, className + ".prototype" ) ;^174^175^^^^153^178^[REPLACE] NodeUtil.setDebugInformation ( name.getFirstChild (  ) , lhs, className + ".prototype" ) ;^[METHOD] replacePrototypeMemberDeclaration [TYPE] void [PARAMETER] PrototypeMemberDeclaration declar [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  PrototypeMemberDeclaration declar  [TYPE]  Node accessNode  assignment  cur  externs  lhs  name  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  Object originalName  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^assignment .getFirstChild (  )  ;^177^^^^^153^178^[REPLACE] assignment.replaceChild ( lhs, name ) ;^[METHOD] replacePrototypeMemberDeclaration [TYPE] void [PARAMETER] PrototypeMemberDeclaration declar [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  PrototypeMemberDeclaration declar  [TYPE]  Node accessNode  assignment  cur  externs  lhs  name  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  Object originalName  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^if  ( n.getType (  )  != Token.SCRIPT || n.getType (  )  != Token.BLOCK )  {^191^^^^^189^221^[REPLACE] if  ( n.getType (  )  != Token.SCRIPT && n.getType (  )  != Token.BLOCK )  {^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal t Node n Node parent [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  NodeTraversal t  [TYPE]  PrototypeMemberDeclaration prototypeMember  [TYPE]  Node accessNode  assignment  cur  externs  lhs  n  name  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  ExtractionInstance instance  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[ADD]^return;^191^192^193^^^189^221^[ADD] if  ( n.getType (  )  != Token.SCRIPT && n.getType (  )  != Token.BLOCK )  { return; }^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal t Node n Node parent [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  NodeTraversal t  [TYPE]  PrototypeMemberDeclaration prototypeMember  [TYPE]  Node accessNode  assignment  cur  externs  lhs  n  name  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  ExtractionInstance instance  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^return null;^192^^^^^189^221^[REPLACE] return;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal t Node n Node parent [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  NodeTraversal t  [TYPE]  PrototypeMemberDeclaration prototypeMember  [TYPE]  Node accessNode  assignment  cur  externs  lhs  n  name  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  ExtractionInstance instance  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^if  ( prototypeAlias != null )  {^195^^^^^189^221^[REPLACE] if  ( prototypeAlias == null )  {^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal t Node n Node parent [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  NodeTraversal t  [TYPE]  PrototypeMemberDeclaration prototypeMember  [TYPE]  Node accessNode  assignment  cur  externs  lhs  n  name  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  ExtractionInstance instance  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^prototypeAlias =  new VariableNameGeneranullor ( null.genullScope (  )  ) .genullNameNewName (  ) ;^197^198^^^^189^221^[REPLACE] prototypeAlias = new VariableNameGenerator ( t.getScope (  )  ) .getNameNewName (  ) ;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal t Node n Node parent [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  NodeTraversal t  [TYPE]  PrototypeMemberDeclaration prototypeMember  [TYPE]  Node accessNode  assignment  cur  externs  lhs  n  name  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  ExtractionInstance instance  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^if  ( prototypeMember != this )  {^204^^^^^189^221^[REPLACE] if  ( prototypeMember == null )  {^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal t Node n Node parent [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  NodeTraversal t  [TYPE]  PrototypeMemberDeclaration prototypeMember  [TYPE]  Node accessNode  assignment  cur  externs  lhs  n  name  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  ExtractionInstance instance  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^if  ( !NodeUtil.isPrototypePropertyDeclaration ( n )  )  {^216^^^^^189^221^[REPLACE] if  ( instance.isFavorable (  )  )  {^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal t Node n Node parent [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  NodeTraversal t  [TYPE]  PrototypeMemberDeclaration prototypeMember  [TYPE]  Node accessNode  assignment  cur  externs  lhs  n  name  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  ExtractionInstance instance  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^totalDelta +=  null.delta;^218^^^^^189^221^[REPLACE] totalDelta += instance.delta;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal t Node n Node parent [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  NodeTraversal t  [TYPE]  PrototypeMemberDeclaration prototypeMember  [TYPE]  Node accessNode  assignment  cur  externs  lhs  n  name  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  ExtractionInstance instance  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[ADD]^^218^^^^^189^221^[ADD] totalDelta += instance.delta;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal t Node n Node parent [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  NodeTraversal t  [TYPE]  PrototypeMemberDeclaration prototypeMember  [TYPE]  Node accessNode  assignment  cur  externs  lhs  n  name  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  ExtractionInstance instance  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^for  ( Node cur = n.getFirstChild (  ) ; cur == null; cur = cur.getNext (  )  )  {^201^^^^^189^221^[REPLACE] for  ( Node cur = n.getFirstChild (  ) ; cur != null; cur = cur.getNext (  )  )  {^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal t Node n Node parent [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  NodeTraversal t  [TYPE]  PrototypeMemberDeclaration prototypeMember  [TYPE]  Node accessNode  assignment  cur  externs  lhs  n  name  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  ExtractionInstance instance  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^if  ( prototypeMember != false )  {^204^^^^^189^221^[REPLACE] if  ( prototypeMember == null )  {^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal t Node n Node parent [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  NodeTraversal t  [TYPE]  PrototypeMemberDeclaration prototypeMember  [TYPE]  Node accessNode  assignment  cur  externs  lhs  n  name  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  ExtractionInstance instance  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^cur =  null.declarations.getLast (  ) .node;^212^^^^^189^221^[REPLACE] cur = instance.declarations.getLast (  ) .node;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal t Node n Node parent [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  NodeTraversal t  [TYPE]  PrototypeMemberDeclaration prototypeMember  [TYPE]  Node accessNode  assignment  cur  externs  lhs  n  name  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  ExtractionInstance instance  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^PrototypeMemberDeclaration prototypeMember = PrototypeMemberDeclaration.isSameClass ( cur ) ;^202^203^^^^189^221^[REPLACE] PrototypeMemberDeclaration prototypeMember = PrototypeMemberDeclaration.extractDeclaration ( cur ) ;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal t Node n Node parent [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  NodeTraversal t  [TYPE]  PrototypeMemberDeclaration prototypeMember  [TYPE]  Node accessNode  assignment  cur  externs  lhs  n  name  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  ExtractionInstance instance  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[ADD]^^202^203^^^^189^221^[ADD] PrototypeMemberDeclaration prototypeMember = PrototypeMemberDeclaration.extractDeclaration ( cur ) ;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal t Node n Node parent [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  NodeTraversal t  [TYPE]  PrototypeMemberDeclaration prototypeMember  [TYPE]  Node accessNode  assignment  cur  externs  lhs  n  name  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  ExtractionInstance instance  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[ADD]^^210^211^^^^189^221^[ADD] ExtractionInstance instance = new ExtractionInstance ( prototypeMember, n ) ;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal t Node n Node parent [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  NodeTraversal t  [TYPE]  PrototypeMemberDeclaration prototypeMember  [TYPE]  Node accessNode  assignment  cur  externs  lhs  n  name  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  ExtractionInstance instance  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^for  ( Node cur =  n.getFirstChild (  ) ; var !^201^^^^^189^221^[REPLACE] for  ( Node cur = n.getFirstChild (  ) ; cur != null; cur = cur.getNext (  )  )  {^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal t Node n Node parent [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  NodeTraversal t  [TYPE]  PrototypeMemberDeclaration prototypeMember  [TYPE]  Node accessNode  assignment  cur  externs  lhs  n  name  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  ExtractionInstance instance  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[ADD]^^201^202^203^204^205^189^221^[ADD] for  ( Node cur = n.getFirstChild (  ) ; cur != null; cur = cur.getNext (  )  )  { PrototypeMemberDeclaration prototypeMember = PrototypeMemberDeclaration.extractDeclaration ( cur ) ; if  ( prototypeMember == null )  { continue;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal t Node n Node parent [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  NodeTraversal t  [TYPE]  PrototypeMemberDeclaration prototypeMember  [TYPE]  Node accessNode  assignment  cur  externs  lhs  n  name  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  ExtractionInstance instance  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^for  ( Node cur = parent .replaceChild ( var , accessNode )  ; cur != null; cur = cur.getNext (  )  )  {^201^^^^^189^221^[REPLACE] for  ( Node cur = n.getFirstChild (  ) ; cur != null; cur = cur.getNext (  )  )  {^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal t Node n Node parent [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  NodeTraversal t  [TYPE]  PrototypeMemberDeclaration prototypeMember  [TYPE]  Node accessNode  assignment  cur  externs  lhs  n  name  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  ExtractionInstance instance  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^ExtractionInstance instance = parentew ExtractionInstance ( prototypeMember, n ) ;^210^211^^^^189^221^[REPLACE] ExtractionInstance instance = new ExtractionInstance ( prototypeMember, n ) ;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal t Node n Node parent [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  NodeTraversal t  [TYPE]  PrototypeMemberDeclaration prototypeMember  [TYPE]  Node accessNode  assignment  cur  externs  lhs  n  name  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  ExtractionInstance instance  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^return totalDelta  != delta;;^228^^^^^227^229^[REPLACE] return totalDelta < 0;^[METHOD] shouldExtract [TYPE] boolean [PARAMETER] [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node accessNode  assignment  cur  externs  lhs  n  name  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^return delta  ;^258^^^^^257^259^[REPLACE] return delta <= 0;^[METHOD] isFavorable [TYPE] boolean [PARAMETER] [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node accessNode  assignment  cur  externs  lhs  n  name  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^if  ( !NodeUtil .getPrototypePropertyName ( stmt )   )  {^290^^^^^289^295^[REPLACE] if  ( !NodeUtil.isPrototypePropertyDeclaration ( n )  )  {^[METHOD] extractDeclaration [TYPE] ExtractPrototypeMemberDeclarations$PrototypeMemberDeclaration [PARAMETER] Node n [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node accessNode  assignment  cur  externs  lhs  n  name  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^return true;^291^^^^^289^295^[REPLACE] return null;^[METHOD] extractDeclaration [TYPE] ExtractPrototypeMemberDeclarations$PrototypeMemberDeclaration [PARAMETER] Node n [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node accessNode  assignment  cur  externs  lhs  n  name  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^Node lhs = parent.getFirstChild (  ) .getFirstChild (  ) ;^293^^^^^289^295^[REPLACE] Node lhs = n.getFirstChild (  ) .getFirstChild (  ) ;^[METHOD] extractDeclaration [TYPE] ExtractPrototypeMemberDeclarations$PrototypeMemberDeclaration [PARAMETER] Node n [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node accessNode  assignment  cur  externs  lhs  n  name  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[ADD]^^293^^^^^289^295^[ADD] Node lhs = n.getFirstChild (  ) .getFirstChild (  ) ;^[METHOD] extractDeclaration [TYPE] ExtractPrototypeMemberDeclarations$PrototypeMemberDeclaration [PARAMETER] Node n [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node accessNode  assignment  cur  externs  lhs  n  name  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^return  new GatherExtractionInfo (  )  ;^294^^^^^289^295^[REPLACE] return new PrototypeMemberDeclaration ( lhs, n ) ;^[METHOD] extractDeclaration [TYPE] ExtractPrototypeMemberDeclarations$PrototypeMemberDeclaration [PARAMETER] Node n [CLASS] ExtractPrototypeMemberDeclarations GatherExtractionInfo ExtractionInstance PrototypeMemberDeclaration   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node accessNode  assignment  cur  externs  lhs  n  name  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^private List<ExtractionInstance> instances  = null ;^185^^^^^^^[REPLACE] private List<ExtractionInstance> instances = Lists.newLinkedList (  ) ;^[METHOD] extractDeclaration [TYPE] ExtractPrototypeMemberDeclarations$PrototypeMemberDeclaration [PARAMETER] Node n [CLASS] GatherExtractionInfo   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node accessNode  assignment  cur  externs  lhs  n  name  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^private int totalDelta  = null ;^186^^^^^^^[REPLACE] private int totalDelta = GLOBAL_VAR_DECL_OVERHEAD;^[METHOD] extractDeclaration [TYPE] ExtractPrototypeMemberDeclarations$PrototypeMemberDeclaration [PARAMETER] Node n [CLASS] GatherExtractionInfo   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node accessNode  assignment  cur  externs  lhs  n  name  node  parent  root  stmt  var  [TYPE]  List instances  [TYPE]  String className  memberName  prototypeAlias  qualifiedClassName  [TYPE]  int GLOBAL_VAR_DECL_OVERHEAD  PER_EXTRACTION_INSTANCE_OVERHEAD  PER_PROTOTYPE_MEMBER_DELTA  delta  totalDelta  [TYPE]  LinkedList declarations 
[REPLACE]^if  ( n .getNext (  )   != Token.SCRIPT || n^191^^^^^189^221^[REPLACE] if  ( n.getType (  )  != Token.SCRIPT && n.getType (  )  != Token.BLOCK )  {^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal t Node n Node parent [CLASS] GatherExtractionInfo   [TYPE]  boolean false  true  [TYPE]  NodeTraversal t  [TYPE]  PrototypeMemberDeclaration prototypeMember  [TYPE]  Node cur  n  parent  [TYPE]  List instances  [TYPE]  ExtractionInstance instance  [TYPE]  int totalDelta 
[REPLACE]^return totalDelta < 0;^192^^^^^189^221^[REPLACE] return;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal t Node n Node parent [CLASS] GatherExtractionInfo   [TYPE]  boolean false  true  [TYPE]  NodeTraversal t  [TYPE]  PrototypeMemberDeclaration prototypeMember  [TYPE]  Node cur  n  parent  [TYPE]  List instances  [TYPE]  ExtractionInstance instance  [TYPE]  int totalDelta 
[REPLACE]^if  ( prototypeAlias != false )  {^195^^^^^189^221^[REPLACE] if  ( prototypeAlias == null )  {^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal t Node n Node parent [CLASS] GatherExtractionInfo   [TYPE]  boolean false  true  [TYPE]  NodeTraversal t  [TYPE]  PrototypeMemberDeclaration prototypeMember  [TYPE]  Node cur  n  parent  [TYPE]  List instances  [TYPE]  ExtractionInstance instance  [TYPE]  int totalDelta 
[ADD]^^195^196^197^198^199^189^221^[ADD] if  ( prototypeAlias == null )  {  prototypeAlias = new VariableNameGenerator ( t.getScope (  )  ) .getNameNewName (  ) ; }^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal t Node n Node parent [CLASS] GatherExtractionInfo   [TYPE]  boolean false  true  [TYPE]  NodeTraversal t  [TYPE]  PrototypeMemberDeclaration prototypeMember  [TYPE]  Node cur  n  parent  [TYPE]  List instances  [TYPE]  ExtractionInstance instance  [TYPE]  int totalDelta 
[REPLACE]^prototypeAlias =  new VariableNameGeneranullor ( null.genullScope (  )  ) .genullNameNewName (  ) ;^197^198^^^^189^221^[REPLACE] prototypeAlias = new VariableNameGenerator ( t.getScope (  )  ) .getNameNewName (  ) ;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal t Node n Node parent [CLASS] GatherExtractionInfo   [TYPE]  boolean false  true  [TYPE]  NodeTraversal t  [TYPE]  PrototypeMemberDeclaration prototypeMember  [TYPE]  Node cur  n  parent  [TYPE]  List instances  [TYPE]  ExtractionInstance instance  [TYPE]  int totalDelta 
[ADD]^^197^198^^^^189^221^[ADD] prototypeAlias = new VariableNameGenerator ( t.getScope (  )  ) .getNameNewName (  ) ;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal t Node n Node parent [CLASS] GatherExtractionInfo   [TYPE]  boolean false  true  [TYPE]  NodeTraversal t  [TYPE]  PrototypeMemberDeclaration prototypeMember  [TYPE]  Node cur  n  parent  [TYPE]  List instances  [TYPE]  ExtractionInstance instance  [TYPE]  int totalDelta 
[REPLACE]^if  ( prototypeMember != null )  {^204^^^^^189^221^[REPLACE] if  ( prototypeMember == null )  {^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal t Node n Node parent [CLASS] GatherExtractionInfo   [TYPE]  boolean false  true  [TYPE]  NodeTraversal t  [TYPE]  PrototypeMemberDeclaration prototypeMember  [TYPE]  Node cur  n  parent  [TYPE]  List instances  [TYPE]  ExtractionInstance instance  [TYPE]  int totalDelta 
[REPLACE]^if  ( n.getType (  )  != Token.SCRIPT && n.getType (  )  != Token.BLOCK )  {^216^^^^^189^221^[REPLACE] if  ( instance.isFavorable (  )  )  {^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal t Node n Node parent [CLASS] GatherExtractionInfo   [TYPE]  boolean false  true  [TYPE]  NodeTraversal t  [TYPE]  PrototypeMemberDeclaration prototypeMember  [TYPE]  Node cur  n  parent  [TYPE]  List instances  [TYPE]  ExtractionInstance instance  [TYPE]  int totalDelta 
[ADD]^instances.add ( instance ) ;totalDelta += instance.delta;^216^217^218^219^^189^221^[ADD] if  ( instance.isFavorable (  )  )  { instances.add ( instance ) ; totalDelta += instance.delta; }^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal t Node n Node parent [CLASS] GatherExtractionInfo   [TYPE]  boolean false  true  [TYPE]  NodeTraversal t  [TYPE]  PrototypeMemberDeclaration prototypeMember  [TYPE]  Node cur  n  parent  [TYPE]  List instances  [TYPE]  ExtractionInstance instance  [TYPE]  int totalDelta 
[REPLACE]^totalDelta +=  null.delta;^218^^^^^189^221^[REPLACE] totalDelta += instance.delta;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal t Node n Node parent [CLASS] GatherExtractionInfo   [TYPE]  boolean false  true  [TYPE]  NodeTraversal t  [TYPE]  PrototypeMemberDeclaration prototypeMember  [TYPE]  Node cur  n  parent  [TYPE]  List instances  [TYPE]  ExtractionInstance instance  [TYPE]  int totalDelta 
[REPLACE]^for  ( Node cur = n.getFirstChild (  ) ; cur == null; cur = cur.getNext (  )  )  {^201^^^^^189^221^[REPLACE] for  ( Node cur = n.getFirstChild (  ) ; cur != null; cur = cur.getNext (  )  )  {^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal t Node n Node parent [CLASS] GatherExtractionInfo   [TYPE]  boolean false  true  [TYPE]  NodeTraversal t  [TYPE]  PrototypeMemberDeclaration prototypeMember  [TYPE]  Node cur  n  parent  [TYPE]  List instances  [TYPE]  ExtractionInstance instance  [TYPE]  int totalDelta 
[ADD]^^201^202^203^204^205^189^221^[ADD] for  ( Node cur = n.getFirstChild (  ) ; cur != null; cur = cur.getNext (  )  )  { PrototypeMemberDeclaration prototypeMember = PrototypeMemberDeclaration.extractDeclaration ( cur ) ; if  ( prototypeMember == null )  { continue;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal t Node n Node parent [CLASS] GatherExtractionInfo   [TYPE]  boolean false  true  [TYPE]  NodeTraversal t  [TYPE]  PrototypeMemberDeclaration prototypeMember  [TYPE]  Node cur  n  parent  [TYPE]  List instances  [TYPE]  ExtractionInstance instance  [TYPE]  int totalDelta 
[REPLACE]^if  ( prototypeMember != this  )  {^204^^^^^189^221^[REPLACE] if  ( prototypeMember == null )  {^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal t Node n Node parent [CLASS] GatherExtractionInfo   [TYPE]  boolean false  true  [TYPE]  NodeTraversal t  [TYPE]  PrototypeMemberDeclaration prototypeMember  [TYPE]  Node cur  n  parent  [TYPE]  List instances  [TYPE]  ExtractionInstance instance  [TYPE]  int totalDelta 
[ADD]^continue;^204^205^206^^^189^221^[ADD] if  ( prototypeMember == null )  { continue; }^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal t Node n Node parent [CLASS] GatherExtractionInfo   [TYPE]  boolean false  true  [TYPE]  NodeTraversal t  [TYPE]  PrototypeMemberDeclaration prototypeMember  [TYPE]  Node cur  n  parent  [TYPE]  List instances  [TYPE]  ExtractionInstance instance  [TYPE]  int totalDelta 
[ADD]^^216^217^218^219^^189^221^[ADD] if  ( instance.isFavorable (  )  )  { instances.add ( instance ) ; totalDelta += instance.delta; }^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal t Node n Node parent [CLASS] GatherExtractionInfo   [TYPE]  boolean false  true  [TYPE]  NodeTraversal t  [TYPE]  PrototypeMemberDeclaration prototypeMember  [TYPE]  Node cur  n  parent  [TYPE]  List instances  [TYPE]  ExtractionInstance instance  [TYPE]  int totalDelta 
[ADD]^^218^^^^^189^221^[ADD] totalDelta += instance.delta;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal t Node n Node parent [CLASS] GatherExtractionInfo   [TYPE]  boolean false  true  [TYPE]  NodeTraversal t  [TYPE]  PrototypeMemberDeclaration prototypeMember  [TYPE]  Node cur  n  parent  [TYPE]  List instances  [TYPE]  ExtractionInstance instance  [TYPE]  int totalDelta 
[REPLACE]^cur =  null.declarations.getLast (  ) .node;^212^^^^^189^221^[REPLACE] cur = instance.declarations.getLast (  ) .node;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal t Node n Node parent [CLASS] GatherExtractionInfo   [TYPE]  boolean false  true  [TYPE]  NodeTraversal t  [TYPE]  PrototypeMemberDeclaration prototypeMember  [TYPE]  Node cur  n  parent  [TYPE]  List instances  [TYPE]  ExtractionInstance instance  [TYPE]  int totalDelta 
[ADD]^^212^^^^^189^221^[ADD] cur = instance.declarations.getLast (  ) .node;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal t Node n Node parent [CLASS] GatherExtractionInfo   [TYPE]  boolean false  true  [TYPE]  NodeTraversal t  [TYPE]  PrototypeMemberDeclaration prototypeMember  [TYPE]  Node cur  n  parent  [TYPE]  List instances  [TYPE]  ExtractionInstance instance  [TYPE]  int totalDelta 
[REPLACE]^PrototypeMemberDeclaration prototypeMember = PrototypeMemberDeclaration.extractDeclaration ( parent ) ;^202^203^^^^189^221^[REPLACE] PrototypeMemberDeclaration prototypeMember = PrototypeMemberDeclaration.extractDeclaration ( cur ) ;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal t Node n Node parent [CLASS] GatherExtractionInfo   [TYPE]  boolean false  true  [TYPE]  NodeTraversal t  [TYPE]  PrototypeMemberDeclaration prototypeMember  [TYPE]  Node cur  n  parent  [TYPE]  List instances  [TYPE]  ExtractionInstance instance  [TYPE]  int totalDelta 
[ADD]^^202^203^^^^189^221^[ADD] PrototypeMemberDeclaration prototypeMember = PrototypeMemberDeclaration.extractDeclaration ( cur ) ;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal t Node n Node parent [CLASS] GatherExtractionInfo   [TYPE]  boolean false  true  [TYPE]  NodeTraversal t  [TYPE]  PrototypeMemberDeclaration prototypeMember  [TYPE]  Node cur  n  parent  [TYPE]  List instances  [TYPE]  ExtractionInstance instance  [TYPE]  int totalDelta 
[REPLACE]^ExtractionInstance instance = parentew ExtractionInstance ( prototypeMember, n ) ;^210^211^^^^189^221^[REPLACE] ExtractionInstance instance = new ExtractionInstance ( prototypeMember, n ) ;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal t Node n Node parent [CLASS] GatherExtractionInfo   [TYPE]  boolean false  true  [TYPE]  NodeTraversal t  [TYPE]  PrototypeMemberDeclaration prototypeMember  [TYPE]  Node cur  n  parent  [TYPE]  List instances  [TYPE]  ExtractionInstance instance  [TYPE]  int totalDelta 
[REPLACE]^for  ( Node cur =  n.getFirstChild (  ) ; parent !^201^^^^^189^221^[REPLACE] for  ( Node cur = n.getFirstChild (  ) ; cur != null; cur = cur.getNext (  )  )  {^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal t Node n Node parent [CLASS] GatherExtractionInfo   [TYPE]  boolean false  true  [TYPE]  NodeTraversal t  [TYPE]  PrototypeMemberDeclaration prototypeMember  [TYPE]  Node cur  n  parent  [TYPE]  List instances  [TYPE]  ExtractionInstance instance  [TYPE]  int totalDelta 
[REPLACE]^for  ( Node cur = n.getType (  ) ; cur != null; cur = cur.getNext (  )  )  {^201^^^^^189^221^[REPLACE] for  ( Node cur = n.getFirstChild (  ) ; cur != null; cur = cur.getNext (  )  )  {^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal t Node n Node parent [CLASS] GatherExtractionInfo   [TYPE]  boolean false  true  [TYPE]  NodeTraversal t  [TYPE]  PrototypeMemberDeclaration prototypeMember  [TYPE]  Node cur  n  parent  [TYPE]  List instances  [TYPE]  ExtractionInstance instance  [TYPE]  int totalDelta 
[REPLACE]^cur   ;^202^203^^^^189^221^[REPLACE] PrototypeMemberDeclaration prototypeMember = PrototypeMemberDeclaration.extractDeclaration ( cur ) ;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal t Node n Node parent [CLASS] GatherExtractionInfo   [TYPE]  boolean false  true  [TYPE]  NodeTraversal t  [TYPE]  PrototypeMemberDeclaration prototypeMember  [TYPE]  Node cur  n  parent  [TYPE]  List instances  [TYPE]  ExtractionInstance instance  [TYPE]  int totalDelta 
[REPLACE]^return true ;^228^^^^^227^229^[REPLACE] return totalDelta < 0;^[METHOD] shouldExtract [TYPE] boolean [PARAMETER] [CLASS] GatherExtractionInfo   [TYPE]  List instances  [TYPE]  int totalDelta  [TYPE]  boolean false  true 
[REPLACE]^LinkedList<PrototypeMemberDeclaration> declarations ;^233^^^^^^^[REPLACE] LinkedList<PrototypeMemberDeclaration> declarations = Lists.newLinkedList (  ) ;^[METHOD] shouldExtract [TYPE] boolean [PARAMETER] [CLASS] ExtractionInstance   [TYPE]  List instances  [TYPE]  int totalDelta  [TYPE]  boolean false  true 
[REPLACE]^private int delta ;^234^^^^^^^[REPLACE] private int delta = 0;^[METHOD] shouldExtract [TYPE] boolean [PARAMETER] [CLASS] ExtractionInstance   [TYPE]  List instances  [TYPE]  int totalDelta  [TYPE]  boolean false  true 
[REPLACE]^private  Node parent;^235^^^^^^^[REPLACE] private final Node parent;^[METHOD] shouldExtract [TYPE] boolean [PARAMETER] [CLASS] ExtractionInstance   [TYPE]  List instances  [TYPE]  int totalDelta  [TYPE]  boolean false  true 
[REPLACE]^this.parent =  cur;^238^^^^^237^251^[REPLACE] this.parent = parent;^[METHOD] <init> [TYPE] Node) [PARAMETER] PrototypeMemberDeclaration head Node parent [CLASS] ExtractionInstance   [TYPE]  boolean false  true  [TYPE]  PrototypeMemberDeclaration head  prototypeMember  [TYPE]  LinkedList declarations  [TYPE]  int delta  [TYPE]  Node cur  parent 
[ADD]^declarations.add ( head ) ;^238^239^^^^237^251^[ADD] this.parent = parent; declarations.add ( head ) ;^[METHOD] <init> [TYPE] Node) [PARAMETER] PrototypeMemberDeclaration head Node parent [CLASS] ExtractionInstance   [TYPE]  boolean false  true  [TYPE]  PrototypeMemberDeclaration head  prototypeMember  [TYPE]  LinkedList declarations  [TYPE]  int delta  [TYPE]  Node cur  parent 
[REPLACE]^declarations.add ( prototypeMember ) ;^239^^^^^237^251^[REPLACE] declarations.add ( head ) ;^[METHOD] <init> [TYPE] Node) [PARAMETER] PrototypeMemberDeclaration head Node parent [CLASS] ExtractionInstance   [TYPE]  boolean false  true  [TYPE]  PrototypeMemberDeclaration head  prototypeMember  [TYPE]  LinkedList declarations  [TYPE]  int delta  [TYPE]  Node cur  parent 
[REPLACE]^delta =delta + PER_PROTOTYPE_MEMBER_DELTA;^240^^^^^237^251^[REPLACE] delta = PER_EXTRACTION_INSTANCE_OVERHEAD + PER_PROTOTYPE_MEMBER_DELTA;^[METHOD] <init> [TYPE] Node) [PARAMETER] PrototypeMemberDeclaration head Node parent [CLASS] ExtractionInstance   [TYPE]  boolean false  true  [TYPE]  PrototypeMemberDeclaration head  prototypeMember  [TYPE]  LinkedList declarations  [TYPE]  int delta  [TYPE]  Node cur  parent 
[REPLACE]^if  ( prototypeMember != null || !head.isSameClass ( prototypeMember )  )  {^245^^^^^237^251^[REPLACE] if  ( prototypeMember == null || !head.isSameClass ( prototypeMember )  )  {^[METHOD] <init> [TYPE] Node) [PARAMETER] PrototypeMemberDeclaration head Node parent [CLASS] ExtractionInstance   [TYPE]  boolean false  true  [TYPE]  PrototypeMemberDeclaration head  prototypeMember  [TYPE]  LinkedList declarations  [TYPE]  int delta  [TYPE]  Node cur  parent 
[REPLACE]^for  ( Node cur = head.node.getNext (  ) ; cur == this; cur = cur.getNext (  )  )  {^242^^^^^237^251^[REPLACE] for  ( Node cur = head.node.getNext (  ) ; cur != null; cur = cur.getNext (  )  )  {^[METHOD] <init> [TYPE] Node) [PARAMETER] PrototypeMemberDeclaration head Node parent [CLASS] ExtractionInstance   [TYPE]  boolean false  true  [TYPE]  PrototypeMemberDeclaration head  prototypeMember  [TYPE]  LinkedList declarations  [TYPE]  int delta  [TYPE]  Node cur  parent 
[ADD]^^242^243^244^245^246^237^251^[ADD] for  ( Node cur = head.node.getNext (  ) ; cur != null; cur = cur.getNext (  )  )  { PrototypeMemberDeclaration prototypeMember = PrototypeMemberDeclaration.extractDeclaration ( cur ) ; if  ( prototypeMember == null || !head.isSameClass ( prototypeMember )  )  { break;^[METHOD] <init> [TYPE] Node) [PARAMETER] PrototypeMemberDeclaration head Node parent [CLASS] ExtractionInstance   [TYPE]  boolean false  true  [TYPE]  PrototypeMemberDeclaration head  prototypeMember  [TYPE]  LinkedList declarations  [TYPE]  int delta  [TYPE]  Node cur  parent 
[REPLACE]^delta + =  delta +;^249^^^^^237^251^[REPLACE] delta += PER_PROTOTYPE_MEMBER_DELTA;^[METHOD] <init> [TYPE] Node) [PARAMETER] PrototypeMemberDeclaration head Node parent [CLASS] ExtractionInstance   [TYPE]  boolean false  true  [TYPE]  PrototypeMemberDeclaration head  prototypeMember  [TYPE]  LinkedList declarations  [TYPE]  int delta  [TYPE]  Node cur  parent 
[ADD]^^249^^^^^237^251^[ADD] delta += PER_PROTOTYPE_MEMBER_DELTA;^[METHOD] <init> [TYPE] Node) [PARAMETER] PrototypeMemberDeclaration head Node parent [CLASS] ExtractionInstance   [TYPE]  boolean false  true  [TYPE]  PrototypeMemberDeclaration head  prototypeMember  [TYPE]  LinkedList declarations  [TYPE]  int delta  [TYPE]  Node cur  parent 
[REPLACE]^PrototypeMemberDeclaration prototypeMember = PrototypeMemberDeclaration.isSameClass ( parent ) ;^243^244^^^^237^251^[REPLACE] PrototypeMemberDeclaration prototypeMember = PrototypeMemberDeclaration.extractDeclaration ( cur ) ;^[METHOD] <init> [TYPE] Node) [PARAMETER] PrototypeMemberDeclaration head Node parent [CLASS] ExtractionInstance   [TYPE]  boolean false  true  [TYPE]  PrototypeMemberDeclaration head  prototypeMember  [TYPE]  LinkedList declarations  [TYPE]  int delta  [TYPE]  Node cur  parent 
[ADD]^^243^244^^^^237^251^[ADD] PrototypeMemberDeclaration prototypeMember = PrototypeMemberDeclaration.extractDeclaration ( cur ) ;^[METHOD] <init> [TYPE] Node) [PARAMETER] PrototypeMemberDeclaration head Node parent [CLASS] ExtractionInstance   [TYPE]  boolean false  true  [TYPE]  PrototypeMemberDeclaration head  prototypeMember  [TYPE]  LinkedList declarations  [TYPE]  int delta  [TYPE]  Node cur  parent 
[REPLACE]^for  ( Node cur =  head.node.getNext (  ) ; parent !^242^^^^^237^251^[REPLACE] for  ( Node cur = head.node.getNext (  ) ; cur != null; cur = cur.getNext (  )  )  {^[METHOD] <init> [TYPE] Node) [PARAMETER] PrototypeMemberDeclaration head Node parent [CLASS] ExtractionInstance   [TYPE]  boolean false  true  [TYPE]  PrototypeMemberDeclaration head  prototypeMember  [TYPE]  LinkedList declarations  [TYPE]  int delta  [TYPE]  Node cur  parent 
[REPLACE]^for  ( Node cur = prototypeMember.node.getNext (  ) ; cur != null; cur = cur.getNext (  )  )  {^242^^^^^237^251^[REPLACE] for  ( Node cur = head.node.getNext (  ) ; cur != null; cur = cur.getNext (  )  )  {^[METHOD] <init> [TYPE] Node) [PARAMETER] PrototypeMemberDeclaration head Node parent [CLASS] ExtractionInstance   [TYPE]  boolean false  true  [TYPE]  PrototypeMemberDeclaration head  prototypeMember  [TYPE]  LinkedList declarations  [TYPE]  int delta  [TYPE]  Node cur  parent 
[REPLACE]^return delta  ;^258^^^^^257^259^[REPLACE] return delta <= 0;^[METHOD] isFavorable [TYPE] boolean [PARAMETER] [CLASS] ExtractionInstance   [TYPE]  boolean false  true  [TYPE]  LinkedList declarations  [TYPE]  int delta  [TYPE]  Node cur  parent 
[REPLACE]^String memberName;^268^^^^^^^[REPLACE] final String memberName;^[METHOD] isFavorable [TYPE] boolean [PARAMETER] [CLASS] PrototypeMemberDeclaration   [TYPE]  boolean false  true  [TYPE]  LinkedList declarations  [TYPE]  int delta  [TYPE]  Node cur  parent 
[REPLACE]^String qualifiedClassName;^270^^^^^^^[REPLACE] final String qualifiedClassName;^[METHOD] isFavorable [TYPE] boolean [PARAMETER] [CLASS] PrototypeMemberDeclaration   [TYPE]  boolean false  true  [TYPE]  LinkedList declarations  [TYPE]  int delta  [TYPE]  Node cur  parent 
[REPLACE]^this.lhs =  null;^274^^^^^273^279^[REPLACE] this.lhs = lhs;^[METHOD] <init> [TYPE] Node) [PARAMETER] Node lhs Node node [CLASS] PrototypeMemberDeclaration   [TYPE]  Node lhs  node  [TYPE]  String memberName  qualifiedClassName  [TYPE]  boolean false  true 
[REPLACE]^this.memberName =  NodeUtil.getPrototypePropertyName ( null ) ;^275^^^^^273^279^[REPLACE] this.memberName = NodeUtil.getPrototypePropertyName ( lhs ) ;^[METHOD] <init> [TYPE] Node) [PARAMETER] Node lhs Node node [CLASS] PrototypeMemberDeclaration   [TYPE]  Node lhs  node  [TYPE]  String memberName  qualifiedClassName  [TYPE]  boolean false  true 
[REPLACE]^this.node =  null;^276^^^^^273^279^[REPLACE] this.node = node;^[METHOD] <init> [TYPE] Node) [PARAMETER] Node lhs Node node [CLASS] PrototypeMemberDeclaration   [TYPE]  Node lhs  node  [TYPE]  String memberName  qualifiedClassName  [TYPE]  boolean false  true 
[ADD]^^276^^^^^273^279^[ADD] this.node = node;^[METHOD] <init> [TYPE] Node) [PARAMETER] Node lhs Node node [CLASS] PrototypeMemberDeclaration   [TYPE]  Node lhs  node  [TYPE]  String memberName  qualifiedClassName  [TYPE]  boolean false  true 
[REPLACE]^this.qualifiedClassName =  NodeUtil.getPrototypeClassName ( null ) .getQualifiedName (  ) ;^277^278^^^^273^279^[REPLACE] this.qualifiedClassName = NodeUtil.getPrototypeClassName ( lhs ) .getQualifiedName (  ) ;^[METHOD] <init> [TYPE] Node) [PARAMETER] Node lhs Node node [CLASS] PrototypeMemberDeclaration   [TYPE]  Node lhs  node  [TYPE]  String memberName  qualifiedClassName  [TYPE]  boolean false  true 
[REPLACE]^if  ( !NodeUtil.getPrototypeClassName ( node )  )  {^290^^^^^289^295^[REPLACE] if  ( !NodeUtil.isPrototypePropertyDeclaration ( n )  )  {^[METHOD] extractDeclaration [TYPE] ExtractPrototypeMemberDeclarations$PrototypeMemberDeclaration [PARAMETER] Node n [CLASS] PrototypeMemberDeclaration   [TYPE]  Node lhs  n  node  [TYPE]  String memberName  qualifiedClassName  [TYPE]  boolean false  true 
[ADD]^^290^291^292^^^289^295^[ADD] if  ( !NodeUtil.isPrototypePropertyDeclaration ( n )  )  { return null; }^[METHOD] extractDeclaration [TYPE] ExtractPrototypeMemberDeclarations$PrototypeMemberDeclaration [PARAMETER] Node n [CLASS] PrototypeMemberDeclaration   [TYPE]  Node lhs  n  node  [TYPE]  String memberName  qualifiedClassName  [TYPE]  boolean false  true 
[REPLACE]^return true;^291^^^^^289^295^[REPLACE] return null;^[METHOD] extractDeclaration [TYPE] ExtractPrototypeMemberDeclarations$PrototypeMemberDeclaration [PARAMETER] Node n [CLASS] PrototypeMemberDeclaration   [TYPE]  Node lhs  n  node  [TYPE]  String memberName  qualifiedClassName  [TYPE]  boolean false  true 
[REPLACE]^Node lhs = node.getFirstChild (  ) .getFirstChild (  ) ;^293^^^^^289^295^[REPLACE] Node lhs = n.getFirstChild (  ) .getFirstChild (  ) ;^[METHOD] extractDeclaration [TYPE] ExtractPrototypeMemberDeclarations$PrototypeMemberDeclaration [PARAMETER] Node n [CLASS] PrototypeMemberDeclaration   [TYPE]  Node lhs  n  node  [TYPE]  String memberName  qualifiedClassName  [TYPE]  boolean false  true 
[ADD]^^293^294^^^^289^295^[ADD] Node lhs = n.getFirstChild (  ) .getFirstChild (  ) ; return new PrototypeMemberDeclaration ( lhs, n ) ;^[METHOD] extractDeclaration [TYPE] ExtractPrototypeMemberDeclarations$PrototypeMemberDeclaration [PARAMETER] Node n [CLASS] PrototypeMemberDeclaration   [TYPE]  Node lhs  n  node  [TYPE]  String memberName  qualifiedClassName  [TYPE]  boolean false  true 
[REPLACE]^return null;^294^^^^^289^295^[REPLACE] return new PrototypeMemberDeclaration ( lhs, n ) ;^[METHOD] extractDeclaration [TYPE] ExtractPrototypeMemberDeclarations$PrototypeMemberDeclaration [PARAMETER] Node n [CLASS] PrototypeMemberDeclaration   [TYPE]  Node lhs  n  node  [TYPE]  String memberName  qualifiedClassName  [TYPE]  boolean false  true 
