[REPLACE]^private static UnivariateRealSolverFactory factory ;^35^^^^^^^[REPLACE] private static UnivariateRealSolverFactory factory = null;^ [CLASS] UnivariateRealSolverUtils  
[REPLACE]^setup ( f ) ;^31^^^^^30^32^[REPLACE] super (  ) ;^[METHOD] <init> [TYPE] UnivariateRealSolverUtils() [PARAMETER] [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  boolean false  true 
[ADD]^^31^^^^^30^32^[ADD] super (  ) ;^[METHOD] <init> [TYPE] UnivariateRealSolverUtils() [PARAMETER] [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  boolean false  true 
[REPLACE]^super (  ) ;^53^^^^^51^55^[REPLACE] setup ( f ) ;^[METHOD] solve [TYPE] double [PARAMETER] UnivariateRealFunction f double x0 double x1 [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction f  [TYPE]  boolean false  true  [TYPE]  double x0  x1 
[REPLACE]^return solver.solve ( x0, x1 ) ;^54^^^^^51^55^[REPLACE] return factory.newDefaultSolver ( f ) .solve ( x0, x1 ) ;^[METHOD] solve [TYPE] double [PARAMETER] UnivariateRealFunction f double x0 double x1 [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction f  [TYPE]  boolean false  true  [TYPE]  double x0  x1 
[REPLACE]^super (  ) ;^77^^^^^73^81^[REPLACE] setup ( f ) ;^[METHOD] solve [TYPE] double [PARAMETER] UnivariateRealFunction f double x0 double x1 double absoluteAccuracy [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction f  [TYPE]  boolean false  true  [TYPE]  double absoluteAccuracy  x0  x1  [TYPE]  UnivariateRealSolver solver 
[REPLACE]^UnivariateRealSolver solver = factory .newInstance (  )  ;^78^^^^^73^81^[REPLACE] UnivariateRealSolver solver = factory.newDefaultSolver ( f ) ;^[METHOD] solve [TYPE] double [PARAMETER] UnivariateRealFunction f double x0 double x1 double absoluteAccuracy [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction f  [TYPE]  boolean false  true  [TYPE]  double absoluteAccuracy  x0  x1  [TYPE]  UnivariateRealSolver solver 
[REPLACE]^solver .solve ( f , x1 , x1 )  ;^79^^^^^73^81^[REPLACE] solver.setAbsoluteAccuracy ( absoluteAccuracy ) ;^[METHOD] solve [TYPE] double [PARAMETER] UnivariateRealFunction f double x0 double x1 double absoluteAccuracy [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction f  [TYPE]  boolean false  true  [TYPE]  double absoluteAccuracy  x0  x1  [TYPE]  UnivariateRealSolver solver 
[REPLACE]^return solver .solve ( f , x0 , absoluteAccuracy )  ;^80^^^^^73^81^[REPLACE] return solver.solve ( x0, x1 ) ;^[METHOD] solve [TYPE] double [PARAMETER] UnivariateRealFunction f double x0 double x1 double absoluteAccuracy [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction f  [TYPE]  boolean false  true  [TYPE]  double absoluteAccuracy  x0  x1  [TYPE]  UnivariateRealSolver solver 
[REPLACE]^return bracket (  function, initial, upperBound, upperBound, Integer.MAX_VALUE  )  ;^127^128^^^^124^129^[REPLACE] return bracket (  function, initial, lowerBound, upperBound, Integer.MAX_VALUE  )  ;^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double initial  lowerBound  upperBound 
[REPLACE]^if  ( function != null )  {^170^^^^^168^208^[REPLACE] if  ( function == null )  {^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[REPLACE]^return ;^171^^^^^168^208^[REPLACE] throw new IllegalArgumentException  ( "function is null." ) ;^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[REPLACE]^throw new IllegalArgumentException  (" ")  ; ;^171^^^^^168^208^[REPLACE] throw new IllegalArgumentException  ( "function is null." ) ;^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[ADD]^^171^^^^^168^208^[ADD] throw new IllegalArgumentException  ( "function is null." ) ;^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[REPLACE]^if  ( maximumIterations  ==  0 )   {^173^^^^^168^208^[REPLACE] if  ( maximumIterations <= 0 )   {^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[REPLACE]^return ;^174^175^^^^168^208^[REPLACE] throw new IllegalArgumentException ( "bad value for maximumIterations: " + maximumIterations ) ;^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[REPLACE]^throw new ConvergenceException ( "Number of iterations= " + numIterations + ;^174^175^^^^168^208^[REPLACE] throw new IllegalArgumentException ( "bad value for maximumIterations: " + maximumIterations ) ;^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[REPLACE]^if  ( initial < lowerBound ) {^177^^^^^168^208^[REPLACE] if  ( initial < lowerBound || initial > upperBound || lowerBound >= upperBound )  {^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[REPLACE]^throw new IllegalArgumentException ( "Invalid endpoint parameters:  lowerBound=" + lowerBound + ;^178^179^180^^^168^208^[REPLACE] throw new IllegalArgumentException ( "Invalid endpoint parameters:  lowerBound=" + lowerBound + " initial=" + initial + " upperBound=" + upperBound ) ;^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[REPLACE]^return ;^178^179^180^^^168^208^[REPLACE] throw new IllegalArgumentException ( "Invalid endpoint parameters:  lowerBound=" + lowerBound + " initial=" + initial + " upperBound=" + upperBound ) ;^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[ADD]^^178^179^180^^^168^208^[ADD] throw new IllegalArgumentException ( "Invalid endpoint parameters:  lowerBound=" + lowerBound + " initial=" + initial + " upperBound=" + upperBound ) ;^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[REPLACE]^double a = fa;^182^^^^^168^208^[REPLACE] double a = initial;^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[REPLACE]^double b = fa;^183^^^^^168^208^[REPLACE] double b = initial;^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[REPLACE]^double fb;^184^^^^^168^208^[REPLACE] double fa;^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[ADD]^^184^^^^^168^208^[ADD] double fa;^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[REPLACE]^double fa;^185^^^^^168^208^[REPLACE] double fb;^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[REPLACE]^int numIterations = 0L ;^186^^^^^168^208^[REPLACE] int numIterations = 0 ;^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[ADD]^^186^^^^^168^208^[ADD] int numIterations = 0 ;^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[REPLACE]^initial = Math.max ( a - 1.0D, lowerBound ) ;^189^^^^^168^208^[REPLACE] a = Math.max ( a - 1.0, lowerBound ) ;^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[REPLACE]^b = Math.min ( b +upperBound, upperBound ) ;^190^^^^^168^208^[REPLACE] b = Math.min ( b + 1.0, upperBound ) ;^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[REPLACE]^fb = function.value ( b ) ; ;^191^^^^^168^208^[REPLACE] fa = function.value ( a ) ;^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[ADD]^^191^^^^^168^208^[ADD] fa = function.value ( a ) ;^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[REPLACE]^fa = function.value ( a ) ; ;^193^^^^^168^208^[REPLACE] fb = function.value ( b ) ;^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[REPLACE]^if  ( fa * fb  ==  0.0  )  {^198^^^^^168^208^[REPLACE] if  ( fa * fb >= 0.0  )  {^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[REPLACE]^return ;^199^200^201^202^^168^208^[REPLACE] throw new ConvergenceException ( "Number of iterations= " + numIterations + " maximum iterations= "  + maximumIterations + " initial= " + initial + " lowerBound=" + lowerBound +^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[ADD]^^199^200^201^^^168^208^[ADD] throw new ConvergenceException ( "Number of iterations= " + numIterations + " maximum iterations= "  + maximumIterations +^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[REPLACE]^return new double[]{a, upperBound};^207^^^^^168^208^[REPLACE] return new double[]{a, b};^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[REPLACE]^return  ( a + b )   ;^218^^^^^217^219^[REPLACE] return  ( a + b )  * .5;^[METHOD] midpoint [TYPE] double [PARAMETER] double a double b [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  double a  b  [TYPE]  boolean false  true 
[REPLACE]^if  ( f != null )  {^230^^^^^228^237^[REPLACE] if  ( f == null )  {^[METHOD] setup [TYPE] void [PARAMETER] UnivariateRealFunction f [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction f  [TYPE]  boolean false  true 
[REPLACE]^return ;^231^^^^^228^237^[REPLACE] throw new IllegalArgumentException  (" ")  ;^[METHOD] setup [TYPE] void [PARAMETER] UnivariateRealFunction f [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction f  [TYPE]  boolean false  true 
[REPLACE]^throw new IllegalArgumentException  ( "function is null." ) ; ;^231^^^^^228^237^[REPLACE] throw new IllegalArgumentException  (" ")  ;^[METHOD] setup [TYPE] void [PARAMETER] UnivariateRealFunction f [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction f  [TYPE]  boolean false  true 
[REPLACE]^if  ( factory != null )  {^234^^^^^228^237^[REPLACE] if  ( factory == null )  {^[METHOD] setup [TYPE] void [PARAMETER] UnivariateRealFunction f [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction f  [TYPE]  boolean false  true 
[REPLACE]^factory  =  factory ;^235^^^^^228^237^[REPLACE] factory = UnivariateRealSolverFactory.newInstance (  ) ;^[METHOD] setup [TYPE] void [PARAMETER] UnivariateRealFunction f [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction f  [TYPE]  boolean false  true 
