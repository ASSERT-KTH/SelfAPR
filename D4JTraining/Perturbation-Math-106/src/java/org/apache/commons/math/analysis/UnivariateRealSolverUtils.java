[REPLACE]^private static UnivariateRealSolverFactory factory ;^35^^^^^^^[REPLACE] private static UnivariateRealSolverFactory factory = null;^ [CLASS] UnivariateRealSolverUtils  
[REPLACE]^if  ( function != this )  {^170^^^^^168^208^[REPLACE] if  ( function == null )  {^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[REPLACE]^throw new IllegalArgumentException ( "function can not be null." )  ;^171^^^^^168^208^[REPLACE] throw new IllegalArgumentException  ( "function is null." ) ;^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[ADD]^^171^^^^^168^208^[ADD] throw new IllegalArgumentException  ( "function is null." ) ;^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[REPLACE]^if  ( maximumIterations  <  0 )   {^173^^^^^168^208^[REPLACE] if  ( maximumIterations <= 0 )   {^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[ADD]^^173^174^175^176^^168^208^[ADD] if  ( maximumIterations <= 0 )   { throw new IllegalArgumentException ( "bad value for maximumIterations: " + maximumIterations ) ; }^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[REPLACE]^return ;^174^175^^^^168^208^[REPLACE] throw new IllegalArgumentException ( "bad value for maximumIterations: " + maximumIterations ) ;^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[ADD]^^174^175^^^^168^208^[ADD] throw new IllegalArgumentException ( "bad value for maximumIterations: " + maximumIterations ) ;^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[REPLACE]^if  ( initial < lowerBound && initial > upperBound &&true )  {^177^^^^^168^208^[REPLACE] if  ( initial < lowerBound || initial > upperBound || lowerBound >= upperBound )  {^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[REPLACE]^return ;^178^179^180^^^168^208^[REPLACE] throw new IllegalArgumentException ( "Invalid endpoint parameters:  lowerBound=" + lowerBound + " initial=" + initial + " upperBound=" + upperBound ) ;^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[ADD]^^182^^^^^168^208^[ADD] double a = initial;^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[REPLACE]^double a = initial  ;^183^^^^^168^208^[REPLACE] double b = initial;^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[REPLACE]^double fb  ;^184^^^^^168^208^[REPLACE] double fa;^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[REPLACE]^double fa  ;^185^^^^^168^208^[REPLACE] double fb;^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[REPLACE]^int numIterations = 0L ;^186^^^^^168^208^[REPLACE] int numIterations = 0 ;^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[ADD]^^189^190^^^^168^208^[ADD] a = Math.max ( a - 1.0, lowerBound ) ; b = Math.min ( b + 1.0, upperBound ) ;^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[REPLACE]^b = Math.min (upperBound  1.0, upperBound ) ;^190^^^^^168^208^[REPLACE] b = Math.min ( b + 1.0, upperBound ) ;^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[REPLACE]^fb = function.value ( b )  ;^191^^^^^168^208^[REPLACE] fa = function.value ( a ) ;^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[REPLACE]^fa = function.value ( a )  ;^193^^^^^168^208^[REPLACE] fb = function.value ( b ) ;^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[REPLACE]^if  ( fa * fb  !=  0.0  )  {^198^^^^^168^208^[REPLACE] if  ( fa * fb >= 0.0  )  {^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[ADD]^^198^199^200^201^202^168^208^[ADD] if  ( fa * fb >= 0.0  )  { throw new ConvergenceException ( "Number of iterations= " + numIterations + " maximum iterations= "  + maximumIterations + " initial= " + initial + " lowerBound=" + lowerBound +^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[REPLACE]^return ;^199^200^201^202^^168^208^[REPLACE] throw new ConvergenceException ( "Number of iterations= " + numIterations + " maximum iterations= "  + maximumIterations + " initial= " + initial + " lowerBound=" + lowerBound +^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
[REPLACE]^return new double[]{a, b};  ;^207^^^^^168^208^[REPLACE] return new double[]{a, b};^[METHOD] bracket [TYPE] double[] [PARAMETER] UnivariateRealFunction function double initial double lowerBound double upperBound int maximumIterations [CLASS] UnivariateRealSolverUtils   [TYPE]  UnivariateRealSolverFactory factory  [TYPE]  UnivariateRealFunction function  [TYPE]  boolean false  true  [TYPE]  double a  b  fa  fb  initial  lowerBound  upperBound  [TYPE]  int maximumIterations  numIterations 
