[REPLACE]^private  AbstractCompiler compiler;^68^^^^^^^[REPLACE] private final AbstractCompiler compiler;^ [CLASS] DevirtualizePrototypeMethods  
[REPLACE]^this.compiler =  null;^71^^^^^70^72^[REPLACE] this.compiler = compiler;^[METHOD] <init> [TYPE] AbstractCompiler) [PARAMETER] AbstractCompiler compiler [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true 
[REPLACE]^JSModule definitionModule = definitionSite.module;^76^^^^^75^82^[REPLACE] SimpleDefinitionFinder defFinder = new SimpleDefinitionFinder ( compiler ) ;^[METHOD] process [TYPE] void [PARAMETER] Node externs Node root [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  boolean false  true  [TYPE]  DefinitionSite defSite  [TYPE]  Node externs  root 
[REPLACE]^defFinder .getUseSites ( true )  ;^77^^^^^75^82^[REPLACE] defFinder.process ( externs, root ) ;^[METHOD] process [TYPE] void [PARAMETER] Node externs Node root [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  boolean false  true  [TYPE]  DefinitionSite defSite  [TYPE]  Node externs  root 
[REPLACE]^Node objectNode = node.getFirstChild (  ) ;^79^^^^^75^82^[REPLACE] for  ( DefinitionSite defSite : defFinder.getDefinitionSites (  )  )  {^[METHOD] process [TYPE] void [PARAMETER] Node externs Node root [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  boolean false  true  [TYPE]  DefinitionSite defSite  [TYPE]  Node externs  root 
[REPLACE]^Node node = defSite.node;^88^^^^^87^91^[REPLACE] Node node = site.node;^[METHOD] isCall [TYPE] boolean [PARAMETER] UseSite site [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  UseSite site  [TYPE]  boolean false  true  [TYPE]  Node node  parent 
[REPLACE]^Node parent = parent .getLastChild (  )  ;^89^^^^^87^91^[REPLACE] Node parent = node.getParent (  ) ;^[METHOD] isCall [TYPE] boolean [PARAMETER] UseSite site [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  UseSite site  [TYPE]  boolean false  true  [TYPE]  Node node  parent 
[REPLACE]^return  ( parent.getFirstChild (  )  == node )  && NodeUtil.isThis ( parent ) ;^90^^^^^87^91^[REPLACE] return  ( parent.getFirstChild (  )  == node )  && NodeUtil.isCall ( parent ) ;^[METHOD] isCall [TYPE] boolean [PARAMETER] UseSite site [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  UseSite site  [TYPE]  boolean false  true  [TYPE]  Node node  parent 
[REPLACE]^Node parent = parent.getParent (  ) ;^97^^^^^96^122^[REPLACE] Node parent = node.getParent (  ) ;^[METHOD] isPrototypeMethodDefinition [TYPE] boolean [PARAMETER] Node node [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  Node functionNode  gramp  nameNode  node  parent  [TYPE]  boolean false  true 
[REPLACE]^if  ( parent != false )  {^98^^^^^96^122^[REPLACE] if  ( parent == null )  {^[METHOD] isPrototypeMethodDefinition [TYPE] boolean [PARAMETER] Node node [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  Node functionNode  gramp  nameNode  node  parent  [TYPE]  boolean false  true 
[REPLACE]^return true;^99^^^^^96^122^[REPLACE] return false;^[METHOD] isPrototypeMethodDefinition [TYPE] boolean [PARAMETER] Node node [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  Node functionNode  gramp  nameNode  node  parent  [TYPE]  boolean false  true 
[REPLACE]^Node gramp = nameNode.getJSType (  ) ;^102^^^^^96^122^[REPLACE] Node gramp = parent.getParent (  ) ;^[METHOD] isPrototypeMethodDefinition [TYPE] boolean [PARAMETER] Node node [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  Node functionNode  gramp  nameNode  node  parent  [TYPE]  boolean false  true 
[REPLACE]^if  (  ( gramp != false )  || ( parent.getFirstChild (  )  != node )  || !NodeUtil.isExprAssign ( gramp )  )  {^103^104^105^^^96^122^[REPLACE] if  (  ( gramp == null )  || ( parent.getFirstChild (  )  != node )  || !NodeUtil.isExprAssign ( gramp )  )  {^[METHOD] isPrototypeMethodDefinition [TYPE] boolean [PARAMETER] Node node [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  Node functionNode  gramp  nameNode  node  parent  [TYPE]  boolean false  true 
[REPLACE]^return true;^106^^^^^103^107^[REPLACE] return false;^[METHOD] isPrototypeMethodDefinition [TYPE] boolean [PARAMETER] Node node [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  Node functionNode  gramp  nameNode  node  parent  [TYPE]  boolean false  true 
[REPLACE]^return true;^106^^^^^96^122^[REPLACE] return false;^[METHOD] isPrototypeMethodDefinition [TYPE] boolean [PARAMETER] Node node [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  Node functionNode  gramp  nameNode  node  parent  [TYPE]  boolean false  true 
[REPLACE]^Node functionNode = parent.getFirstChild (  ) ;^109^^^^^96^122^[REPLACE] Node functionNode = parent.getLastChild (  ) ;^[METHOD] isPrototypeMethodDefinition [TYPE] boolean [PARAMETER] Node node [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  Node functionNode  gramp  nameNode  node  parent  [TYPE]  boolean false  true 
[ADD]^^109^^^^^96^122^[ADD] Node functionNode = parent.getLastChild (  ) ;^[METHOD] isPrototypeMethodDefinition [TYPE] boolean [PARAMETER] Node node [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  Node functionNode  gramp  nameNode  node  parent  [TYPE]  boolean false  true 
[REPLACE]^if  (  ( parent != this )  || !NodeUtil.isFunction ( functionNode )  )  {^110^^^^^96^122^[REPLACE] if  (  ( functionNode == null )  || !NodeUtil.isFunction ( functionNode )  )  {^[METHOD] isPrototypeMethodDefinition [TYPE] boolean [PARAMETER] Node node [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  Node functionNode  gramp  nameNode  node  parent  [TYPE]  boolean false  true 
[REPLACE]^return true;^111^^^^^96^122^[REPLACE] return false;^[METHOD] isPrototypeMethodDefinition [TYPE] boolean [PARAMETER] Node node [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  Node functionNode  gramp  nameNode  node  parent  [TYPE]  boolean false  true 
[REPLACE]^if  ( !NodeUtil.isGetProp ( parent )  )  {^114^^^^^96^122^[REPLACE] if  ( !NodeUtil.isGetProp ( node )  )  {^[METHOD] isPrototypeMethodDefinition [TYPE] boolean [PARAMETER] Node node [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  Node functionNode  gramp  nameNode  node  parent  [TYPE]  boolean false  true 
[REPLACE]^return true;^115^^^^^96^122^[REPLACE] return false;^[METHOD] isPrototypeMethodDefinition [TYPE] boolean [PARAMETER] Node node [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  Node functionNode  gramp  nameNode  node  parent  [TYPE]  boolean false  true 
[REPLACE]^Node nameNode = parent.getFirstChild (  ) ;^118^^^^^96^122^[REPLACE] Node nameNode = node.getFirstChild (  ) ;^[METHOD] isPrototypeMethodDefinition [TYPE] boolean [PARAMETER] Node node [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  Node functionNode  gramp  nameNode  node  parent  [TYPE]  boolean false  true 
[REPLACE]^return NodeUtil.isThis ( nameNode )  && nameNode.getLastChild (  ) .getString (  ) .equals ( "prototype" ) ;^119^120^^^^96^122^[REPLACE] return NodeUtil.isGetProp ( nameNode )  && nameNode.getLastChild (  ) .getString (  ) .equals ( "prototype" ) ;^[METHOD] isPrototypeMethodDefinition [TYPE] boolean [PARAMETER] Node node [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  Node functionNode  gramp  nameNode  node  parent  [TYPE]  boolean false  true 
[REPLACE]^return "JSCompiler_StaticMethods_"  ;^128^^^^^127^129^[REPLACE] return "JSCompiler_StaticMethods_" + orginalMethodName;^[METHOD] getRewrittenMethodName [TYPE] String [PARAMETER] String orginalMethodName [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  String orginalMethodName  [TYPE]  boolean false  true 
[REPLACE]^if  ( defSite.inExterns || defSite.inGlobalScope || !isEligibleDefinition ( defFinder, defSite )  )  {^145^146^147^^^143^178^[REPLACE] if  ( defSite.inExterns || !defSite.inGlobalScope || !isEligibleDefinition ( defFinder, defSite )  )  {^[METHOD] rewriteDefinitionIfEligible [TYPE] void [PARAMETER] DefinitionSite defSite SimpleDefinitionFinder defFinder [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  String newMethodName  [TYPE]  boolean false  true  [TYPE]  DefinitionSite defSite  [TYPE]  Node ancestor  node 
[REPLACE]^return false;^148^^^^^145^149^[REPLACE] return;^[METHOD] rewriteDefinitionIfEligible [TYPE] void [PARAMETER] DefinitionSite defSite SimpleDefinitionFinder defFinder [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  String newMethodName  [TYPE]  boolean false  true  [TYPE]  DefinitionSite defSite  [TYPE]  Node ancestor  node 
[REPLACE]^return false;^148^^^^^143^178^[REPLACE] return;^[METHOD] rewriteDefinitionIfEligible [TYPE] void [PARAMETER] DefinitionSite defSite SimpleDefinitionFinder defFinder [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  String newMethodName  [TYPE]  boolean false  true  [TYPE]  DefinitionSite defSite  [TYPE]  Node ancestor  node 
[REPLACE]^Node node = site.node;^151^^^^^143^178^[REPLACE] Node node = defSite.node;^[METHOD] rewriteDefinitionIfEligible [TYPE] void [PARAMETER] DefinitionSite defSite SimpleDefinitionFinder defFinder [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  String newMethodName  [TYPE]  boolean false  true  [TYPE]  DefinitionSite defSite  [TYPE]  Node ancestor  node 
[REPLACE]^if  ( !isPrototypeMethodDefinition ( ancestor )  )  {^155^^^^^143^178^[REPLACE] if  ( !isPrototypeMethodDefinition ( node )  )  {^[METHOD] rewriteDefinitionIfEligible [TYPE] void [PARAMETER] DefinitionSite defSite SimpleDefinitionFinder defFinder [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  String newMethodName  [TYPE]  boolean false  true  [TYPE]  DefinitionSite defSite  [TYPE]  Node ancestor  node 
[REPLACE]^return false;^156^^^^^143^178^[REPLACE] return;^[METHOD] rewriteDefinitionIfEligible [TYPE] void [PARAMETER] DefinitionSite defSite SimpleDefinitionFinder defFinder [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  String newMethodName  [TYPE]  boolean false  true  [TYPE]  DefinitionSite defSite  [TYPE]  Node ancestor  node 
[REPLACE]^if  ( NodeUtil.isControlStructure ( node )  )  {^162^^^^^143^178^[REPLACE] if  ( NodeUtil.isControlStructure ( ancestor )  )  {^[METHOD] rewriteDefinitionIfEligible [TYPE] void [PARAMETER] DefinitionSite defSite SimpleDefinitionFinder defFinder [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  String newMethodName  [TYPE]  boolean false  true  [TYPE]  DefinitionSite defSite  [TYPE]  Node ancestor  node 
[REPLACE]^return false;^163^^^^^143^178^[REPLACE] return;^[METHOD] rewriteDefinitionIfEligible [TYPE] void [PARAMETER] DefinitionSite defSite SimpleDefinitionFinder defFinder [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  String newMethodName  [TYPE]  boolean false  true  [TYPE]  DefinitionSite defSite  [TYPE]  Node ancestor  node 
[REPLACE]^for  ( Node node = node.getParent (  ) ;^159^^^^^143^178^[REPLACE] for  ( Node ancestor = node.getParent (  ) ;^[METHOD] rewriteDefinitionIfEligible [TYPE] void [PARAMETER] DefinitionSite defSite SimpleDefinitionFinder defFinder [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  String newMethodName  [TYPE]  boolean false  true  [TYPE]  DefinitionSite defSite  [TYPE]  Node ancestor  node 
[REPLACE]^if  ( NodeUtil .isVarArgsFunction ( node )   )  {^162^^^^^159^165^[REPLACE] if  ( NodeUtil.isControlStructure ( ancestor )  )  {^[METHOD] rewriteDefinitionIfEligible [TYPE] void [PARAMETER] DefinitionSite defSite SimpleDefinitionFinder defFinder [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  String newMethodName  [TYPE]  boolean false  true  [TYPE]  DefinitionSite defSite  [TYPE]  Node ancestor  node 
[REPLACE]^return false;^163^^^^^159^165^[REPLACE] return;^[METHOD] rewriteDefinitionIfEligible [TYPE] void [PARAMETER] DefinitionSite defSite SimpleDefinitionFinder defFinder [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  String newMethodName  [TYPE]  boolean false  true  [TYPE]  DefinitionSite defSite  [TYPE]  Node ancestor  node 
[REPLACE]^ancestor =  node.getParent (  )  )  {^161^^^^^143^178^[REPLACE] ancestor = ancestor.getParent (  )  )  {^[METHOD] rewriteDefinitionIfEligible [TYPE] void [PARAMETER] DefinitionSite defSite SimpleDefinitionFinder defFinder [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  String newMethodName  [TYPE]  boolean false  true  [TYPE]  DefinitionSite defSite  [TYPE]  Node ancestor  node 
[REPLACE]^for  ( Node ancestor = node.getJSType (  ) ;^159^^^^^143^178^[REPLACE] for  ( Node ancestor = node.getParent (  ) ;^[METHOD] rewriteDefinitionIfEligible [TYPE] void [PARAMETER] DefinitionSite defSite SimpleDefinitionFinder defFinder [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  String newMethodName  [TYPE]  boolean false  true  [TYPE]  DefinitionSite defSite  [TYPE]  Node ancestor  node 
[REPLACE]^String newMethodName = getRewrittenMethodName ( node.getLastChild (  ) .equals (  )  ) ;^174^175^^^^143^178^[REPLACE] String newMethodName = getRewrittenMethodName ( node.getLastChild (  ) .getString (  )  ) ;^[METHOD] rewriteDefinitionIfEligible [TYPE] void [PARAMETER] DefinitionSite defSite SimpleDefinitionFinder defFinder [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  String newMethodName  [TYPE]  boolean false  true  [TYPE]  DefinitionSite defSite  [TYPE]  Node ancestor  node 
[REPLACE]^rewriteDefinition ( ancestor, newMethodName ) ;^176^^^^^143^178^[REPLACE] rewriteDefinition ( node, newMethodName ) ;^[METHOD] rewriteDefinitionIfEligible [TYPE] void [PARAMETER] DefinitionSite defSite SimpleDefinitionFinder defFinder [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  String newMethodName  [TYPE]  boolean false  true  [TYPE]  DefinitionSite defSite  [TYPE]  Node ancestor  node 
[REPLACE]^!isEligibleDefinition ( defFinder, defSite )  )  { return;^177^^^^^143^178^[REPLACE] rewriteCallSites ( defFinder, defSite.definition, newMethodName ) ;^[METHOD] rewriteDefinitionIfEligible [TYPE] void [PARAMETER] DefinitionSite defSite SimpleDefinitionFinder defFinder [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  String newMethodName  [TYPE]  boolean false  true  [TYPE]  DefinitionSite defSite  [TYPE]  Node ancestor  node 
[REPLACE]^Node rValue = definition.getRValue (  ) ;^196^^^^^194^258^[REPLACE] Definition definition = definitionSite.definition;^[METHOD] isEligibleDefinition [TYPE] boolean [PARAMETER] SimpleDefinitionFinder defFinder DefinitionSite definitionSite [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node lValue  nameNode  rValue  [TYPE]  CodingConvention codingConvention  [TYPE]  Definition definition  [TYPE]  JSModule callModule  definitionModule  [TYPE]  Collection singleSiteDefinitions  useSites  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  UseSite site  [TYPE]  DefinitionSite definitionSite  [TYPE]  JSModuleGraph moduleGraph 
[REPLACE]^Node node = defSite.node;^197^^^^^194^258^[REPLACE] JSModule definitionModule = definitionSite.module;^[METHOD] isEligibleDefinition [TYPE] boolean [PARAMETER] SimpleDefinitionFinder defFinder DefinitionSite definitionSite [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node lValue  nameNode  rValue  [TYPE]  CodingConvention codingConvention  [TYPE]  Definition definition  [TYPE]  JSModule callModule  definitionModule  [TYPE]  Collection singleSiteDefinitions  useSites  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  UseSite site  [TYPE]  DefinitionSite definitionSite  [TYPE]  JSModuleGraph moduleGraph 
[REPLACE]^Node rValue = definition.getLValue (  ) ;^202^^^^^194^258^[REPLACE] Node rValue = definition.getRValue (  ) ;^[METHOD] isEligibleDefinition [TYPE] boolean [PARAMETER] SimpleDefinitionFinder defFinder DefinitionSite definitionSite [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node lValue  nameNode  rValue  [TYPE]  CodingConvention codingConvention  [TYPE]  Definition definition  [TYPE]  JSModule callModule  definitionModule  [TYPE]  Collection singleSiteDefinitions  useSites  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  UseSite site  [TYPE]  DefinitionSite definitionSite  [TYPE]  JSModuleGraph moduleGraph 
[REPLACE]^if  (  !NodeUtil.isFunction ( rValue )  || NodeUtil.isVarArgsFunction ( rValue )  )  {^203^204^205^^^194^258^[REPLACE] if  ( rValue == null || !NodeUtil.isFunction ( rValue )  || NodeUtil.isVarArgsFunction ( rValue )  )  {^[METHOD] isEligibleDefinition [TYPE] boolean [PARAMETER] SimpleDefinitionFinder defFinder DefinitionSite definitionSite [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node lValue  nameNode  rValue  [TYPE]  CodingConvention codingConvention  [TYPE]  Definition definition  [TYPE]  JSModule callModule  definitionModule  [TYPE]  Collection singleSiteDefinitions  useSites  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  UseSite site  [TYPE]  DefinitionSite definitionSite  [TYPE]  JSModuleGraph moduleGraph 
[REPLACE]^return true;^206^^^^^203^207^[REPLACE] return false;^[METHOD] isEligibleDefinition [TYPE] boolean [PARAMETER] SimpleDefinitionFinder defFinder DefinitionSite definitionSite [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node lValue  nameNode  rValue  [TYPE]  CodingConvention codingConvention  [TYPE]  Definition definition  [TYPE]  JSModule callModule  definitionModule  [TYPE]  Collection singleSiteDefinitions  useSites  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  UseSite site  [TYPE]  DefinitionSite definitionSite  [TYPE]  JSModuleGraph moduleGraph 
[REPLACE]^return true;^206^^^^^194^258^[REPLACE] return false;^[METHOD] isEligibleDefinition [TYPE] boolean [PARAMETER] SimpleDefinitionFinder defFinder DefinitionSite definitionSite [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node lValue  nameNode  rValue  [TYPE]  CodingConvention codingConvention  [TYPE]  Definition definition  [TYPE]  JSModule callModule  definitionModule  [TYPE]  Collection singleSiteDefinitions  useSites  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  UseSite site  [TYPE]  DefinitionSite definitionSite  [TYPE]  JSModuleGraph moduleGraph 
[REPLACE]^Node lValue = definition .getRValue (  )  ;^210^^^^^194^258^[REPLACE] Node lValue = definition.getLValue (  ) ;^[METHOD] isEligibleDefinition [TYPE] boolean [PARAMETER] SimpleDefinitionFinder defFinder DefinitionSite definitionSite [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node lValue  nameNode  rValue  [TYPE]  CodingConvention codingConvention  [TYPE]  Definition definition  [TYPE]  JSModule callModule  definitionModule  [TYPE]  Collection singleSiteDefinitions  useSites  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  UseSite site  [TYPE]  DefinitionSite definitionSite  [TYPE]  JSModuleGraph moduleGraph 
[REPLACE]^if  (  !NodeUtil.isGetProp ( lValue )  )  {^211^212^^^^194^258^[REPLACE] if  (  ( lValue == null )  || !NodeUtil.isGetProp ( lValue )  )  {^[METHOD] isEligibleDefinition [TYPE] boolean [PARAMETER] SimpleDefinitionFinder defFinder DefinitionSite definitionSite [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node lValue  nameNode  rValue  [TYPE]  CodingConvention codingConvention  [TYPE]  Definition definition  [TYPE]  JSModule callModule  definitionModule  [TYPE]  Collection singleSiteDefinitions  useSites  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  UseSite site  [TYPE]  DefinitionSite definitionSite  [TYPE]  JSModuleGraph moduleGraph 
[REPLACE]^return true;^213^^^^^211^214^[REPLACE] return false;^[METHOD] isEligibleDefinition [TYPE] boolean [PARAMETER] SimpleDefinitionFinder defFinder DefinitionSite definitionSite [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node lValue  nameNode  rValue  [TYPE]  CodingConvention codingConvention  [TYPE]  Definition definition  [TYPE]  JSModule callModule  definitionModule  [TYPE]  Collection singleSiteDefinitions  useSites  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  UseSite site  [TYPE]  DefinitionSite definitionSite  [TYPE]  JSModuleGraph moduleGraph 
[REPLACE]^return true;^213^^^^^194^258^[REPLACE] return false;^[METHOD] isEligibleDefinition [TYPE] boolean [PARAMETER] SimpleDefinitionFinder defFinder DefinitionSite definitionSite [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node lValue  nameNode  rValue  [TYPE]  CodingConvention codingConvention  [TYPE]  Definition definition  [TYPE]  JSModule callModule  definitionModule  [TYPE]  Collection singleSiteDefinitions  useSites  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  UseSite site  [TYPE]  DefinitionSite definitionSite  [TYPE]  JSModuleGraph moduleGraph 
[REPLACE]^CodingConvention codingConvention = compiler .getModuleGraph (  )  ;^215^^^^^194^258^[REPLACE] CodingConvention codingConvention = compiler.getCodingConvention (  ) ;^[METHOD] isEligibleDefinition [TYPE] boolean [PARAMETER] SimpleDefinitionFinder defFinder DefinitionSite definitionSite [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node lValue  nameNode  rValue  [TYPE]  CodingConvention codingConvention  [TYPE]  Definition definition  [TYPE]  JSModule callModule  definitionModule  [TYPE]  Collection singleSiteDefinitions  useSites  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  UseSite site  [TYPE]  DefinitionSite definitionSite  [TYPE]  JSModuleGraph moduleGraph 
[REPLACE]^if  ( codingConvention.isExported ( rValue.getLastChild (  ) .getString (  )  )  )  {^216^^^^^194^258^[REPLACE] if  ( codingConvention.isExported ( lValue.getLastChild (  ) .getString (  )  )  )  {^[METHOD] isEligibleDefinition [TYPE] boolean [PARAMETER] SimpleDefinitionFinder defFinder DefinitionSite definitionSite [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node lValue  nameNode  rValue  [TYPE]  CodingConvention codingConvention  [TYPE]  Definition definition  [TYPE]  JSModule callModule  definitionModule  [TYPE]  Collection singleSiteDefinitions  useSites  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  UseSite site  [TYPE]  DefinitionSite definitionSite  [TYPE]  JSModuleGraph moduleGraph 
[REPLACE]^return true;^217^^^^^194^258^[REPLACE] return false;^[METHOD] isEligibleDefinition [TYPE] boolean [PARAMETER] SimpleDefinitionFinder defFinder DefinitionSite definitionSite [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node lValue  nameNode  rValue  [TYPE]  CodingConvention codingConvention  [TYPE]  Definition definition  [TYPE]  JSModule callModule  definitionModule  [TYPE]  Collection singleSiteDefinitions  useSites  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  UseSite site  [TYPE]  DefinitionSite definitionSite  [TYPE]  JSModuleGraph moduleGraph 
[REPLACE]^Collection<UseSite> useSites = defFinder.getDefinitionsReferencedAt ( definition ) ;^220^^^^^194^258^[REPLACE] Collection<UseSite> useSites = defFinder.getUseSites ( definition ) ;^[METHOD] isEligibleDefinition [TYPE] boolean [PARAMETER] SimpleDefinitionFinder defFinder DefinitionSite definitionSite [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node lValue  nameNode  rValue  [TYPE]  CodingConvention codingConvention  [TYPE]  Definition definition  [TYPE]  JSModule callModule  definitionModule  [TYPE]  Collection singleSiteDefinitions  useSites  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  UseSite site  [TYPE]  DefinitionSite definitionSite  [TYPE]  JSModuleGraph moduleGraph 
[REPLACE]^if  ( useSites .size (  )   )  {^223^^^^^194^258^[REPLACE] if  ( useSites.isEmpty (  )  )  {^[METHOD] isEligibleDefinition [TYPE] boolean [PARAMETER] SimpleDefinitionFinder defFinder DefinitionSite definitionSite [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node lValue  nameNode  rValue  [TYPE]  CodingConvention codingConvention  [TYPE]  Definition definition  [TYPE]  JSModule callModule  definitionModule  [TYPE]  Collection singleSiteDefinitions  useSites  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  UseSite site  [TYPE]  DefinitionSite definitionSite  [TYPE]  JSModuleGraph moduleGraph 
[REPLACE]^return true;^224^^^^^194^258^[REPLACE] return false;^[METHOD] isEligibleDefinition [TYPE] boolean [PARAMETER] SimpleDefinitionFinder defFinder DefinitionSite definitionSite [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node lValue  nameNode  rValue  [TYPE]  CodingConvention codingConvention  [TYPE]  Definition definition  [TYPE]  JSModule callModule  definitionModule  [TYPE]  Collection singleSiteDefinitions  useSites  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  UseSite site  [TYPE]  DefinitionSite definitionSite  [TYPE]  JSModuleGraph moduleGraph 
[REPLACE]^JSModuleGraph moduleGraph = compiler .getTypeRegistry (  )  ;^227^^^^^194^258^[REPLACE] JSModuleGraph moduleGraph = compiler.getModuleGraph (  ) ;^[METHOD] isEligibleDefinition [TYPE] boolean [PARAMETER] SimpleDefinitionFinder defFinder DefinitionSite definitionSite [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node lValue  nameNode  rValue  [TYPE]  CodingConvention codingConvention  [TYPE]  Definition definition  [TYPE]  JSModule callModule  definitionModule  [TYPE]  Collection singleSiteDefinitions  useSites  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  UseSite site  [TYPE]  DefinitionSite definitionSite  [TYPE]  JSModuleGraph moduleGraph 
[REPLACE]^if  ( isCall ( site )  )  {^232^^^^^194^258^[REPLACE] if  ( !isCall ( site )  )  {^[METHOD] isEligibleDefinition [TYPE] boolean [PARAMETER] SimpleDefinitionFinder defFinder DefinitionSite definitionSite [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node lValue  nameNode  rValue  [TYPE]  CodingConvention codingConvention  [TYPE]  Definition definition  [TYPE]  JSModule callModule  definitionModule  [TYPE]  Collection singleSiteDefinitions  useSites  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  UseSite site  [TYPE]  DefinitionSite definitionSite  [TYPE]  JSModuleGraph moduleGraph 
[REPLACE]^return true;^233^^^^^194^258^[REPLACE] return false;^[METHOD] isEligibleDefinition [TYPE] boolean [PARAMETER] SimpleDefinitionFinder defFinder DefinitionSite definitionSite [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node lValue  nameNode  rValue  [TYPE]  CodingConvention codingConvention  [TYPE]  Definition definition  [TYPE]  JSModule callModule  definitionModule  [TYPE]  Collection singleSiteDefinitions  useSites  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  UseSite site  [TYPE]  DefinitionSite definitionSite  [TYPE]  JSModuleGraph moduleGraph 
[REPLACE]^if  ( singleSiteDefinitions.size (  )  + 1 > 1 )  {^240^^^^^194^258^[REPLACE] if  ( singleSiteDefinitions.size (  )  > 1 )  {^[METHOD] isEligibleDefinition [TYPE] boolean [PARAMETER] SimpleDefinitionFinder defFinder DefinitionSite definitionSite [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node lValue  nameNode  rValue  [TYPE]  CodingConvention codingConvention  [TYPE]  Definition definition  [TYPE]  JSModule callModule  definitionModule  [TYPE]  Collection singleSiteDefinitions  useSites  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  UseSite site  [TYPE]  DefinitionSite definitionSite  [TYPE]  JSModuleGraph moduleGraph 
[REPLACE]^return true;^241^^^^^194^258^[REPLACE] return false;^[METHOD] isEligibleDefinition [TYPE] boolean [PARAMETER] SimpleDefinitionFinder defFinder DefinitionSite definitionSite [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node lValue  nameNode  rValue  [TYPE]  CodingConvention codingConvention  [TYPE]  Definition definition  [TYPE]  JSModule callModule  definitionModule  [TYPE]  Collection singleSiteDefinitions  useSites  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  UseSite site  [TYPE]  DefinitionSite definitionSite  [TYPE]  JSModuleGraph moduleGraph 
[REPLACE]^if  (  ( definitionModule != callModule )  && (  ( callModule != false )  || !moduleGraph.dependsOn ( callModule, definitionModule )  )  )  {^250^251^252^^^194^258^[REPLACE] if  (  ( definitionModule != callModule )  && (  ( callModule == null )  || !moduleGraph.dependsOn ( callModule, definitionModule )  )  )  {^[METHOD] isEligibleDefinition [TYPE] boolean [PARAMETER] SimpleDefinitionFinder defFinder DefinitionSite definitionSite [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node lValue  nameNode  rValue  [TYPE]  CodingConvention codingConvention  [TYPE]  Definition definition  [TYPE]  JSModule callModule  definitionModule  [TYPE]  Collection singleSiteDefinitions  useSites  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  UseSite site  [TYPE]  DefinitionSite definitionSite  [TYPE]  JSModuleGraph moduleGraph 
[ADD]^^250^251^252^253^254^194^258^[ADD] if  (  ( definitionModule != callModule )  && (  ( callModule == null )  || !moduleGraph.dependsOn ( callModule, definitionModule )  )  )  { return false; }^[METHOD] isEligibleDefinition [TYPE] boolean [PARAMETER] SimpleDefinitionFinder defFinder DefinitionSite definitionSite [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node lValue  nameNode  rValue  [TYPE]  CodingConvention codingConvention  [TYPE]  Definition definition  [TYPE]  JSModule callModule  definitionModule  [TYPE]  Collection singleSiteDefinitions  useSites  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  UseSite site  [TYPE]  DefinitionSite definitionSite  [TYPE]  JSModuleGraph moduleGraph 
[REPLACE]^return true;^253^^^^^250^254^[REPLACE] return false;^[METHOD] isEligibleDefinition [TYPE] boolean [PARAMETER] SimpleDefinitionFinder defFinder DefinitionSite definitionSite [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node lValue  nameNode  rValue  [TYPE]  CodingConvention codingConvention  [TYPE]  Definition definition  [TYPE]  JSModule callModule  definitionModule  [TYPE]  Collection singleSiteDefinitions  useSites  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  UseSite site  [TYPE]  DefinitionSite definitionSite  [TYPE]  JSModuleGraph moduleGraph 
[REPLACE]^return true;^253^^^^^194^258^[REPLACE] return false;^[METHOD] isEligibleDefinition [TYPE] boolean [PARAMETER] SimpleDefinitionFinder defFinder DefinitionSite definitionSite [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node lValue  nameNode  rValue  [TYPE]  CodingConvention codingConvention  [TYPE]  Definition definition  [TYPE]  JSModule callModule  definitionModule  [TYPE]  Collection singleSiteDefinitions  useSites  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  UseSite site  [TYPE]  DefinitionSite definitionSite  [TYPE]  JSModuleGraph moduleGraph 
[REPLACE]^for  ( Node ancestor = node.getParent (  ) ;^229^^^^^194^258^[REPLACE] for  ( UseSite site : useSites )  {^[METHOD] isEligibleDefinition [TYPE] boolean [PARAMETER] SimpleDefinitionFinder defFinder DefinitionSite definitionSite [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node lValue  nameNode  rValue  [TYPE]  CodingConvention codingConvention  [TYPE]  Definition definition  [TYPE]  JSModule callModule  definitionModule  [TYPE]  Collection singleSiteDefinitions  useSites  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  UseSite site  [TYPE]  DefinitionSite definitionSite  [TYPE]  JSModuleGraph moduleGraph 
[ADD]^^229^230^^232^233^194^258^[ADD] for  ( UseSite site : useSites )  {  if  ( !isCall ( site )  )  { return false;^[METHOD] isEligibleDefinition [TYPE] boolean [PARAMETER] SimpleDefinitionFinder defFinder DefinitionSite definitionSite [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node lValue  nameNode  rValue  [TYPE]  CodingConvention codingConvention  [TYPE]  Definition definition  [TYPE]  JSModule callModule  definitionModule  [TYPE]  Collection singleSiteDefinitions  useSites  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  UseSite site  [TYPE]  DefinitionSite definitionSite  [TYPE]  JSModuleGraph moduleGraph 
[REPLACE]^Node objectNode = node.getFirstChild (  ) ;^237^^^^^194^258^[REPLACE] Node nameNode = site.node;^[METHOD] isEligibleDefinition [TYPE] boolean [PARAMETER] SimpleDefinitionFinder defFinder DefinitionSite definitionSite [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node lValue  nameNode  rValue  [TYPE]  CodingConvention codingConvention  [TYPE]  Definition definition  [TYPE]  JSModule callModule  definitionModule  [TYPE]  Collection singleSiteDefinitions  useSites  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  UseSite site  [TYPE]  DefinitionSite definitionSite  [TYPE]  JSModuleGraph moduleGraph 
[REPLACE]^Collection<Definition> singleSiteDefinitions = defFinder.getUseSites ( nameNode ) ;^238^239^^^^194^258^[REPLACE] Collection<Definition> singleSiteDefinitions = defFinder.getDefinitionsReferencedAt ( nameNode ) ;^[METHOD] isEligibleDefinition [TYPE] boolean [PARAMETER] SimpleDefinitionFinder defFinder DefinitionSite definitionSite [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node lValue  nameNode  rValue  [TYPE]  CodingConvention codingConvention  [TYPE]  Definition definition  [TYPE]  JSModule callModule  definitionModule  [TYPE]  Collection singleSiteDefinitions  useSites  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  UseSite site  [TYPE]  DefinitionSite definitionSite  [TYPE]  JSModuleGraph moduleGraph 
[ADD]^^238^239^^^^194^258^[ADD] Collection<Definition> singleSiteDefinitions = defFinder.getDefinitionsReferencedAt ( nameNode ) ;^[METHOD] isEligibleDefinition [TYPE] boolean [PARAMETER] SimpleDefinitionFinder defFinder DefinitionSite definitionSite [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node lValue  nameNode  rValue  [TYPE]  CodingConvention codingConvention  [TYPE]  Definition definition  [TYPE]  JSModule callModule  definitionModule  [TYPE]  Collection singleSiteDefinitions  useSites  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  UseSite site  [TYPE]  DefinitionSite definitionSite  [TYPE]  JSModuleGraph moduleGraph 
[REPLACE]^Node node = defSite.node;^249^^^^^194^258^[REPLACE] JSModule callModule = site.module;^[METHOD] isEligibleDefinition [TYPE] boolean [PARAMETER] SimpleDefinitionFinder defFinder DefinitionSite definitionSite [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node lValue  nameNode  rValue  [TYPE]  CodingConvention codingConvention  [TYPE]  Definition definition  [TYPE]  JSModule callModule  definitionModule  [TYPE]  Collection singleSiteDefinitions  useSites  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  UseSite site  [TYPE]  DefinitionSite definitionSite  [TYPE]  JSModuleGraph moduleGraph 
[ADD]^^249^^^^^194^258^[ADD] JSModule callModule = site.module;^[METHOD] isEligibleDefinition [TYPE] boolean [PARAMETER] SimpleDefinitionFinder defFinder DefinitionSite definitionSite [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node lValue  nameNode  rValue  [TYPE]  CodingConvention codingConvention  [TYPE]  Definition definition  [TYPE]  JSModule callModule  definitionModule  [TYPE]  Collection singleSiteDefinitions  useSites  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  UseSite site  [TYPE]  DefinitionSite definitionSite  [TYPE]  JSModuleGraph moduleGraph 
[REPLACE]^return false;^257^^^^^194^258^[REPLACE] return true;^[METHOD] isEligibleDefinition [TYPE] boolean [PARAMETER] SimpleDefinitionFinder defFinder DefinitionSite definitionSite [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node lValue  nameNode  rValue  [TYPE]  CodingConvention codingConvention  [TYPE]  Definition definition  [TYPE]  JSModule callModule  definitionModule  [TYPE]  Collection singleSiteDefinitions  useSites  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  UseSite site  [TYPE]  DefinitionSite definitionSite  [TYPE]  JSModuleGraph moduleGraph 
[REPLACE]^Collection<UseSite> useSites = defFinder .getDefinitionSites (  )  ;^273^^^^^270^284^[REPLACE] Collection<UseSite> useSites = defFinder.getUseSites ( definition ) ;^[METHOD] rewriteCallSites [TYPE] void [PARAMETER] SimpleDefinitionFinder defFinder Definition definition String newMethodName [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node node  objectNode  parent  [TYPE]  Definition definition  [TYPE]  Collection useSites  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  String newMethodName  [TYPE]  UseSite site 
[REPLACE]^for  ( Node ancestor = node.getParent (  ) ;^274^^^^^270^284^[REPLACE] for  ( UseSite site : useSites )  {^[METHOD] rewriteCallSites [TYPE] void [PARAMETER] SimpleDefinitionFinder defFinder Definition definition String newMethodName [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node node  objectNode  parent  [TYPE]  Definition definition  [TYPE]  Collection useSites  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  String newMethodName  [TYPE]  UseSite site 
[REPLACE]^Node node = defSite.node;^275^^^^^270^284^[REPLACE] Node node = site.node;^[METHOD] rewriteCallSites [TYPE] void [PARAMETER] SimpleDefinitionFinder defFinder Definition definition String newMethodName [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node node  objectNode  parent  [TYPE]  Definition definition  [TYPE]  Collection useSites  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  String newMethodName  [TYPE]  UseSite site 
[REPLACE]^Node parent = parent.getJSType (  ) ;^276^^^^^270^284^[REPLACE] Node parent = node.getParent (  ) ;^[METHOD] rewriteCallSites [TYPE] void [PARAMETER] SimpleDefinitionFinder defFinder Definition definition String newMethodName [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node node  objectNode  parent  [TYPE]  Definition definition  [TYPE]  Collection useSites  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  String newMethodName  [TYPE]  UseSite site 
[REPLACE]^Node objectNode = parent.getFirstChild (  ) ;^278^^^^^270^284^[REPLACE] Node objectNode = node.getFirstChild (  ) ;^[METHOD] rewriteCallSites [TYPE] void [PARAMETER] SimpleDefinitionFinder defFinder Definition definition String newMethodName [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  true  [TYPE]  Node node  objectNode  parent  [TYPE]  Definition definition  [TYPE]  Collection useSites  [TYPE]  SimpleDefinitionFinder defFinder  [TYPE]  String newMethodName  [TYPE]  UseSite site 
[REPLACE]^Node parent = parent.getParent (  ) ;^297^^^^^296^320^[REPLACE] Node parent = node.getParent (  ) ;^[METHOD] rewriteDefinition [TYPE] void [PARAMETER] Node node String newMethodName [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  String newMethodName  self  [TYPE]  boolean false  true  [TYPE]  Node argList  block  body  expr  functionNode  newNameNode  node  parent 
[REPLACE]^Node functionNode = node.getLastChild (  ) ;^298^^^^^296^320^[REPLACE] Node functionNode = parent.getLastChild (  ) ;^[METHOD] rewriteDefinition [TYPE] void [PARAMETER] Node node String newMethodName [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  String newMethodName  self  [TYPE]  boolean false  true  [TYPE]  Node argList  block  body  expr  functionNode  newNameNode  node  parent 
[ADD]^^298^^^^^296^320^[ADD] Node functionNode = parent.getLastChild (  ) ;^[METHOD] rewriteDefinition [TYPE] void [PARAMETER] Node node String newMethodName [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  String newMethodName  self  [TYPE]  boolean false  true  [TYPE]  Node argList  block  body  expr  functionNode  newNameNode  node  parent 
[REPLACE]^Node expr = node.getParent (  ) ;^299^^^^^296^320^[REPLACE] Node expr = parent.getParent (  ) ;^[METHOD] rewriteDefinition [TYPE] void [PARAMETER] Node node String newMethodName [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  String newMethodName  self  [TYPE]  boolean false  true  [TYPE]  Node argList  block  body  expr  functionNode  newNameNode  node  parent 
[REPLACE]^Node block = newNameNode.getParent (  ) ;^300^^^^^296^320^[REPLACE] Node block = expr.getParent (  ) ;^[METHOD] rewriteDefinition [TYPE] void [PARAMETER] Node node String newMethodName [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  String newMethodName  self  [TYPE]  boolean false  true  [TYPE]  Node argList  block  body  expr  functionNode  newNameNode  node  parent 
[ADD]^^300^^^^^296^320^[ADD] Node block = expr.getParent (  ) ;^[METHOD] rewriteDefinition [TYPE] void [PARAMETER] Node node String newMethodName [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  String newMethodName  self  [TYPE]  boolean false  true  [TYPE]  Node argList  block  body  expr  functionNode  newNameNode  node  parent 
[REPLACE]^Node newNameNode = Node.newString ( Token.NAME, self ) ;^302^^^^^296^320^[REPLACE] Node newNameNode = Node.newString ( Token.NAME, newMethodName ) ;^[METHOD] rewriteDefinition [TYPE] void [PARAMETER] Node node String newMethodName [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  String newMethodName  self  [TYPE]  boolean false  true  [TYPE]  Node argList  block  body  expr  functionNode  newNameNode  node  parent 
[REPLACE]^parent .replaceChild ( node , newNameNode )  ;^303^^^^^296^320^[REPLACE] parent.removeChild ( functionNode ) ;^[METHOD] rewriteDefinition [TYPE] void [PARAMETER] Node node String newMethodName [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  String newMethodName  self  [TYPE]  boolean false  true  [TYPE]  Node argList  block  body  expr  functionNode  newNameNode  node  parent 
[REPLACE]^newNameNode .children (  )  ;^304^^^^^296^320^[REPLACE] newNameNode.addChildToFront ( functionNode ) ;^[METHOD] rewriteDefinition [TYPE] void [PARAMETER] Node node String newMethodName [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  String newMethodName  self  [TYPE]  boolean false  true  [TYPE]  Node argList  block  body  expr  functionNode  newNameNode  node  parent 
[REPLACE]^block .replaceChild ( newNameNode )  ;^305^^^^^296^320^[REPLACE] block.replaceChild ( expr, new Node ( Token.VAR, newNameNode )  ) ;^[METHOD] rewriteDefinition [TYPE] void [PARAMETER] Node node String newMethodName [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  String newMethodName  self  [TYPE]  boolean false  true  [TYPE]  Node argList  block  body  expr  functionNode  newNameNode  node  parent 
[ADD]^^305^^^^^296^320^[ADD] block.replaceChild ( expr, new Node ( Token.VAR, newNameNode )  ) ;^[METHOD] rewriteDefinition [TYPE] void [PARAMETER] Node node String newMethodName [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  String newMethodName  self  [TYPE]  boolean false  true  [TYPE]  Node argList  block  body  expr  functionNode  newNameNode  node  parent 
[REPLACE]^String self = newMethodName +self;^308^^^^^296^320^[REPLACE] String self = newMethodName + "$self";^[METHOD] rewriteDefinition [TYPE] void [PARAMETER] Node node String newMethodName [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  String newMethodName  self  [TYPE]  boolean false  true  [TYPE]  Node argList  block  body  expr  functionNode  newNameNode  node  parent 
[REPLACE]^Node argList = parent.getFirstChild (  ) .getNext (  ) ;^309^^^^^296^320^[REPLACE] Node argList = functionNode.getFirstChild (  ) .getNext (  ) ;^[METHOD] rewriteDefinition [TYPE] void [PARAMETER] Node node String newMethodName [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  String newMethodName  self  [TYPE]  boolean false  true  [TYPE]  Node argList  block  body  expr  functionNode  newNameNode  node  parent 
[REPLACE]^argList.newString ( Node.newString ( Token.NAME, self )  ) ;^310^^^^^296^320^[REPLACE] argList.addChildToFront ( Node.newString ( Token.NAME, self )  ) ;^[METHOD] rewriteDefinition [TYPE] void [PARAMETER] Node node String newMethodName [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  String newMethodName  self  [TYPE]  boolean false  true  [TYPE]  Node argList  block  body  expr  functionNode  newNameNode  node  parent 
[REPLACE]^argList.addChildToFront ( Node.newString ( Token.NAME, newMethodName )  ) ;^310^^^^^296^320^[REPLACE] argList.addChildToFront ( Node.newString ( Token.NAME, self )  ) ;^[METHOD] rewriteDefinition [TYPE] void [PARAMETER] Node node String newMethodName [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  String newMethodName  self  [TYPE]  boolean false  true  [TYPE]  Node argList  block  body  expr  functionNode  newNameNode  node  parent 
[ADD]^^310^^^^^296^320^[ADD] argList.addChildToFront ( Node.newString ( Token.NAME, self )  ) ;^[METHOD] rewriteDefinition [TYPE] void [PARAMETER] Node node String newMethodName [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  String newMethodName  self  [TYPE]  boolean false  true  [TYPE]  Node argList  block  body  expr  functionNode  newNameNode  node  parent 
[REPLACE]^Node body = parent.getLastChild (  ) ;^313^^^^^296^320^[REPLACE] Node body = functionNode.getLastChild (  ) ;^[METHOD] rewriteDefinition [TYPE] void [PARAMETER] Node node String newMethodName [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  String newMethodName  self  [TYPE]  boolean false  true  [TYPE]  Node argList  block  body  expr  functionNode  newNameNode  node  parent 
[REPLACE]^replaceReferencesToThis ( body, newMethodName ) ;^314^^^^^296^320^[REPLACE] replaceReferencesToThis ( body, self ) ;^[METHOD] rewriteDefinition [TYPE] void [PARAMETER] Node node String newMethodName [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  String newMethodName  self  [TYPE]  boolean false  true  [TYPE]  Node argList  block  body  expr  functionNode  newNameNode  node  parent 
[REPLACE]^fixFunctionType ( node ) ;^317^^^^^296^320^[REPLACE] fixFunctionType ( functionNode ) ;^[METHOD] rewriteDefinition [TYPE] void [PARAMETER] Node node String newMethodName [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  String newMethodName  self  [TYPE]  boolean false  true  [TYPE]  Node argList  block  body  expr  functionNode  newNameNode  node  parent 
[REPLACE]^compiler.getModuleGraph (  ) ;^319^^^^^296^320^[REPLACE] compiler.reportCodeChange (  ) ;^[METHOD] rewriteDefinition [TYPE] void [PARAMETER] Node node String newMethodName [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  String newMethodName  self  [TYPE]  boolean false  true  [TYPE]  Node argList  block  body  expr  functionNode  newNameNode  node  parent 
[REPLACE]^FunctionType type =  ( FunctionType )  functionNode.getParent (  ) ;^329^^^^^328^348^[REPLACE] FunctionType type =  ( FunctionType )  functionNode.getJSType (  ) ;^[METHOD] fixFunctionType [TYPE] void [PARAMETER] Node functionNode [CLASS] DevirtualizePrototypeMethods   [TYPE]  ObjectType thisType  [TYPE]  AbstractCompiler compiler  [TYPE]  JSTypeRegistry typeRegistry  [TYPE]  JSType newType  returnType  [TYPE]  boolean false  true  [TYPE]  Node functionNode  param  [TYPE]  FunctionType type  [TYPE]  List parameterTypes 
[ADD]^^329^^^^^328^348^[ADD] FunctionType type =  ( FunctionType )  functionNode.getJSType (  ) ;^[METHOD] fixFunctionType [TYPE] void [PARAMETER] Node functionNode [CLASS] DevirtualizePrototypeMethods   [TYPE]  ObjectType thisType  [TYPE]  AbstractCompiler compiler  [TYPE]  JSTypeRegistry typeRegistry  [TYPE]  JSType newType  returnType  [TYPE]  boolean false  true  [TYPE]  Node functionNode  param  [TYPE]  FunctionType type  [TYPE]  List parameterTypes 
[REPLACE]^if  ( type == false )  {^330^^^^^328^348^[REPLACE] if  ( type != null )  {^[METHOD] fixFunctionType [TYPE] void [PARAMETER] Node functionNode [CLASS] DevirtualizePrototypeMethods   [TYPE]  ObjectType thisType  [TYPE]  AbstractCompiler compiler  [TYPE]  JSTypeRegistry typeRegistry  [TYPE]  JSType newType  returnType  [TYPE]  boolean false  true  [TYPE]  Node functionNode  param  [TYPE]  FunctionType type  [TYPE]  List parameterTypes 
[REPLACE]^JSTypeRegistry typeRegistry = compiler.getModuleGraph (  ) ;^331^^^^^328^348^[REPLACE] JSTypeRegistry typeRegistry = compiler.getTypeRegistry (  ) ;^[METHOD] fixFunctionType [TYPE] void [PARAMETER] Node functionNode [CLASS] DevirtualizePrototypeMethods   [TYPE]  ObjectType thisType  [TYPE]  AbstractCompiler compiler  [TYPE]  JSTypeRegistry typeRegistry  [TYPE]  JSType newType  returnType  [TYPE]  boolean false  true  [TYPE]  Node functionNode  param  [TYPE]  FunctionType type  [TYPE]  List parameterTypes 
[REPLACE]^JSType returnType = type.getReturnType (  ) ;^333^^^^^328^348^[REPLACE] List<JSType> parameterTypes = Lists.newArrayList (  ) ;^[METHOD] fixFunctionType [TYPE] void [PARAMETER] Node functionNode [CLASS] DevirtualizePrototypeMethods   [TYPE]  ObjectType thisType  [TYPE]  AbstractCompiler compiler  [TYPE]  JSTypeRegistry typeRegistry  [TYPE]  JSType newType  returnType  [TYPE]  boolean false  true  [TYPE]  Node functionNode  param  [TYPE]  FunctionType type  [TYPE]  List parameterTypes 
[REPLACE]^JSType returnType = type.getReturnType (  ) ;^336^^^^^328^348^[REPLACE] for  ( Node param : type.getParameters (  )  )  {^[METHOD] fixFunctionType [TYPE] void [PARAMETER] Node functionNode [CLASS] DevirtualizePrototypeMethods   [TYPE]  ObjectType thisType  [TYPE]  AbstractCompiler compiler  [TYPE]  JSTypeRegistry typeRegistry  [TYPE]  JSType newType  returnType  [TYPE]  boolean false  true  [TYPE]  Node functionNode  param  [TYPE]  FunctionType type  [TYPE]  List parameterTypes 
[REPLACE]^JSType returnType = type.getTypeOfThis (  ) ;^342^^^^^328^348^[REPLACE] JSType returnType = type.getReturnType (  ) ;^[METHOD] fixFunctionType [TYPE] void [PARAMETER] Node functionNode [CLASS] DevirtualizePrototypeMethods   [TYPE]  ObjectType thisType  [TYPE]  AbstractCompiler compiler  [TYPE]  JSTypeRegistry typeRegistry  [TYPE]  JSType newType  returnType  [TYPE]  boolean false  true  [TYPE]  Node functionNode  param  [TYPE]  FunctionType type  [TYPE]  List parameterTypes 
[ADD]^^342^^^^^328^348^[ADD] JSType returnType = type.getReturnType (  ) ;^[METHOD] fixFunctionType [TYPE] void [PARAMETER] Node functionNode [CLASS] DevirtualizePrototypeMethods   [TYPE]  ObjectType thisType  [TYPE]  AbstractCompiler compiler  [TYPE]  JSTypeRegistry typeRegistry  [TYPE]  JSType newType  returnType  [TYPE]  boolean false  true  [TYPE]  Node functionNode  param  [TYPE]  FunctionType type  [TYPE]  List parameterTypes 
[REPLACE]^JSType newType = typeRegistry.createFunctionType ( thisType, newType, parameterTypes ) ;^344^345^^^^328^348^[REPLACE] JSType newType = typeRegistry.createFunctionType ( thisType, returnType, parameterTypes ) ;^[METHOD] fixFunctionType [TYPE] void [PARAMETER] Node functionNode [CLASS] DevirtualizePrototypeMethods   [TYPE]  ObjectType thisType  [TYPE]  AbstractCompiler compiler  [TYPE]  JSTypeRegistry typeRegistry  [TYPE]  JSType newType  returnType  [TYPE]  boolean false  true  [TYPE]  Node functionNode  param  [TYPE]  FunctionType type  [TYPE]  List parameterTypes 
[REPLACE]^ObjectType thisType = typeRegistry .createFunctionType ( thisType , newType , 0 )  ;^340^341^^^^328^348^[REPLACE] ObjectType thisType = typeRegistry.getNativeObjectType ( JSTypeNative.UNKNOWN_TYPE ) ;^[METHOD] fixFunctionType [TYPE] void [PARAMETER] Node functionNode [CLASS] DevirtualizePrototypeMethods   [TYPE]  ObjectType thisType  [TYPE]  AbstractCompiler compiler  [TYPE]  JSTypeRegistry typeRegistry  [TYPE]  JSType newType  returnType  [TYPE]  boolean false  true  [TYPE]  Node functionNode  param  [TYPE]  FunctionType type  [TYPE]  List parameterTypes 
[REPLACE]^JSType newType = typeRegistry.createFunctionType ( thisType, returnType, null ) ;^344^345^^^^328^348^[REPLACE] JSType newType = typeRegistry.createFunctionType ( thisType, returnType, parameterTypes ) ;^[METHOD] fixFunctionType [TYPE] void [PARAMETER] Node functionNode [CLASS] DevirtualizePrototypeMethods   [TYPE]  ObjectType thisType  [TYPE]  AbstractCompiler compiler  [TYPE]  JSTypeRegistry typeRegistry  [TYPE]  JSType newType  returnType  [TYPE]  boolean false  true  [TYPE]  Node functionNode  param  [TYPE]  FunctionType type  [TYPE]  List parameterTypes 
[REPLACE]^if  ( NodeUtil.isVarArgsFunction ( node )  )  {^355^^^^^354^366^[REPLACE] if  ( NodeUtil.isFunction ( node )  )  {^[METHOD] replaceReferencesToThis [TYPE] void [PARAMETER] Node node String name [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  String name  [TYPE]  boolean false  true  [TYPE]  Node child  node 
[ADD]^return;^355^356^357^^^354^366^[ADD] if  ( NodeUtil.isFunction ( node )  )  { return; }^[METHOD] replaceReferencesToThis [TYPE] void [PARAMETER] Node node String name [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  String name  [TYPE]  boolean false  true  [TYPE]  Node child  node 
[REPLACE]^return false;^356^^^^^354^366^[REPLACE] return;^[METHOD] replaceReferencesToThis [TYPE] void [PARAMETER] Node node String name [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  String name  [TYPE]  boolean false  true  [TYPE]  Node child  node 
[REPLACE]^if  ( rValue == null || !NodeUtil.isFunction ( rValue )  ||^360^^^^^354^366^[REPLACE] if  ( NodeUtil.isThis ( child )  )  {^[METHOD] replaceReferencesToThis [TYPE] void [PARAMETER] Node node String name [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  String name  [TYPE]  boolean false  true  [TYPE]  Node child  node 
[REPLACE]^node.replaceChild ( child, Node.newString ( Token.NAME, name )  ) ;^363^^^^^354^366^[REPLACE] replaceReferencesToThis ( child, name ) ;^[METHOD] replaceReferencesToThis [TYPE] void [PARAMETER] Node node String name [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  String name  [TYPE]  boolean false  true  [TYPE]  Node child  node 
[REPLACE]^node.replaceChild ( child, Node.replaceChild ( Token.NAME, name )  ) ;^361^^^^^354^366^[REPLACE] node.replaceChild ( child, Node.newString ( Token.NAME, name )  ) ;^[METHOD] replaceReferencesToThis [TYPE] void [PARAMETER] Node node String name [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  String name  [TYPE]  boolean false  true  [TYPE]  Node child  node 
[REPLACE]^node.replaceChild ( child, Node .getParent (  )   ) ;^361^^^^^354^366^[REPLACE] node.replaceChild ( child, Node.newString ( Token.NAME, name )  ) ;^[METHOD] replaceReferencesToThis [TYPE] void [PARAMETER] Node node String name [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  String name  [TYPE]  boolean false  true  [TYPE]  Node child  node 
[ADD]^^361^^^^^354^366^[ADD] node.replaceChild ( child, Node.newString ( Token.NAME, name )  ) ;^[METHOD] replaceReferencesToThis [TYPE] void [PARAMETER] Node node String name [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  String name  [TYPE]  boolean false  true  [TYPE]  Node child  node 
[REPLACE]^for  ( Node ancestor = node.getParent (  ) ;^359^^^^^354^366^[REPLACE] for  ( Node child : node.children (  )  )  {^[METHOD] replaceReferencesToThis [TYPE] void [PARAMETER] Node node String name [CLASS] DevirtualizePrototypeMethods   [TYPE]  AbstractCompiler compiler  [TYPE]  String name  [TYPE]  boolean false  true  [TYPE]  Node child  node 
