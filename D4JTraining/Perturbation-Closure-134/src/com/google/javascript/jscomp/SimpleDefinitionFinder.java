[REPLACE]^private  Multimap<String, Definition> nameDefinitionMultimap;^48^^^^^^^[REPLACE] private final Multimap<String, Definition> nameDefinitionMultimap;^ [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback  
[REPLACE]^if  ( definitionSiteMap .values (  )   )  {^69^^^^^68^91^[REPLACE] if  ( definitionSiteMap.containsKey ( useSite )  )  {^[METHOD] getDefinitionsReferencedAt [TYPE] Collection [PARAMETER] Node useSite [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  Node useSite  [TYPE]  Collection defs  [TYPE]  String name  propName  [TYPE]  Map definitionSiteMap 
[REPLACE]^return true;^70^^^^^68^91^[REPLACE] return null;^[METHOD] getDefinitionsReferencedAt [TYPE] Collection [PARAMETER] Node useSite [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  Node useSite  [TYPE]  Collection defs  [TYPE]  String name  propName  [TYPE]  Map definitionSiteMap 
[REPLACE]^if   (  propName.equals  (  "apply"  )   || propName.equals  (  "call"  )    )   {  ;^73^^^^^68^91^[REPLACE] if  ( NodeUtil.isGetProp ( useSite )  )  {^[METHOD] getDefinitionsReferencedAt [TYPE] Collection [PARAMETER] Node useSite [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  Node useSite  [TYPE]  Collection defs  [TYPE]  String name  propName  [TYPE]  Map definitionSiteMap 
[REPLACE]^if  (  propName.equals ( "call" )  )  {^75^^^^^68^91^[REPLACE] if  ( propName.equals ( "apply" )  || propName.equals ( "call" )  )  {^[METHOD] getDefinitionsReferencedAt [TYPE] Collection [PARAMETER] Node useSite [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  Node useSite  [TYPE]  Collection defs  [TYPE]  String name  propName  [TYPE]  Map definitionSiteMap 
[ADD]^^76^^^^^68^91^[ADD] useSite = useSite.getFirstChild (  ) ;^[METHOD] getDefinitionsReferencedAt [TYPE] Collection [PARAMETER] Node useSite [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  Node useSite  [TYPE]  Collection defs  [TYPE]  String name  propName  [TYPE]  Map definitionSiteMap 
[REPLACE]^useSite =  null.getFirstChild (  ) ;^76^^^^^68^91^[REPLACE] useSite = useSite.getFirstChild (  ) ;^[METHOD] getDefinitionsReferencedAt [TYPE] Collection [PARAMETER] Node useSite [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  Node useSite  [TYPE]  Collection defs  [TYPE]  String name  propName  [TYPE]  Map definitionSiteMap 
[REPLACE]^String propName = useSite.getFirstChild (  ) .getString (  ) ;^74^^^^^68^91^[REPLACE] String propName = useSite.getLastChild (  ) .getString (  ) ;^[METHOD] getDefinitionsReferencedAt [TYPE] Collection [PARAMETER] Node useSite [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  Node useSite  [TYPE]  Collection defs  [TYPE]  String name  propName  [TYPE]  Map definitionSiteMap 
[REPLACE]^if  ( propName.equals ( "apply" )  && propName.equals ( "call" )  )  {^75^^^^^68^91^[REPLACE] if  ( propName.equals ( "apply" )  || propName.equals ( "call" )  )  {^[METHOD] getDefinitionsReferencedAt [TYPE] Collection [PARAMETER] Node useSite [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  Node useSite  [TYPE]  Collection defs  [TYPE]  String name  propName  [TYPE]  Map definitionSiteMap 
[ADD]^^75^76^77^^^68^91^[ADD] if  ( propName.equals ( "apply" )  || propName.equals ( "call" )  )  { useSite = useSite.getFirstChild (  ) ; }^[METHOD] getDefinitionsReferencedAt [TYPE] Collection [PARAMETER] Node useSite [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  Node useSite  [TYPE]  Collection defs  [TYPE]  String name  propName  [TYPE]  Map definitionSiteMap 
[REPLACE]^Definition unknownDef = new UnknownDefinition ( def.getLValue (  )  )  ;^74^^^^^68^91^[REPLACE] String propName = useSite.getLastChild (  ) .getString (  ) ;^[METHOD] getDefinitionsReferencedAt [TYPE] Collection [PARAMETER] Node useSite [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  Node useSite  [TYPE]  Collection defs  [TYPE]  String name  propName  [TYPE]  Map definitionSiteMap 
[REPLACE]^String name = getSimplifiedName ( definition.getLValue (  )  )  ;^80^^^^^68^91^[REPLACE] String name = getSimplifiedName ( useSite ) ;^[METHOD] getDefinitionsReferencedAt [TYPE] Collection [PARAMETER] Node useSite [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  Node useSite  [TYPE]  Collection defs  [TYPE]  String name  propName  [TYPE]  Map definitionSiteMap 
[REPLACE]^if  (propName == null )  {^81^^^^^68^91^[REPLACE] if  ( name != null )  {^[METHOD] getDefinitionsReferencedAt [TYPE] Collection [PARAMETER] Node useSite [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  Node useSite  [TYPE]  Collection defs  [TYPE]  String name  propName  [TYPE]  Map definitionSiteMap 
[REPLACE]^return this;^89^^^^^81^90^[REPLACE] return null;^[METHOD] getDefinitionsReferencedAt [TYPE] Collection [PARAMETER] Node useSite [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  Node useSite  [TYPE]  Collection defs  [TYPE]  String name  propName  [TYPE]  Map definitionSiteMap 
[REPLACE]^if  ( defs.isEmpty (  )  )  {^83^^^^^68^91^[REPLACE] if  ( !defs.isEmpty (  )  )  {^[METHOD] getDefinitionsReferencedAt [TYPE] Collection [PARAMETER] Node useSite [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  Node useSite  [TYPE]  Collection defs  [TYPE]  String name  propName  [TYPE]  Map definitionSiteMap 
[REPLACE]^return null;  ;^86^^^^^83^87^[REPLACE] return null;^[METHOD] getDefinitionsReferencedAt [TYPE] Collection [PARAMETER] Node useSite [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  Node useSite  [TYPE]  Collection defs  [TYPE]  String name  propName  [TYPE]  Map definitionSiteMap 
[REPLACE]^return null;^84^^^^^68^91^[REPLACE] return defs;^[METHOD] getDefinitionsReferencedAt [TYPE] Collection [PARAMETER] Node useSite [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  Node useSite  [TYPE]  Collection defs  [TYPE]  String name  propName  [TYPE]  Map definitionSiteMap 
[REPLACE]^return 0;^84^^^^^68^91^[REPLACE] return defs;^[METHOD] getDefinitionsReferencedAt [TYPE] Collection [PARAMETER] Node useSite [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  Node useSite  [TYPE]  Collection defs  [TYPE]  String name  propName  [TYPE]  Map definitionSiteMap 
[REPLACE]^return null;  ;^86^^^^^68^91^[REPLACE] return null;^[METHOD] getDefinitionsReferencedAt [TYPE] Collection [PARAMETER] Node useSite [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  Node useSite  [TYPE]  Collection defs  [TYPE]  String name  propName  [TYPE]  Map definitionSiteMap 
[REPLACE]^Definition> defs = getDefinitionsReferencedAt ( node )  ;^82^^^^^68^91^[REPLACE] Collection<Definition> defs = nameDefinitionMultimap.get ( name ) ;^[METHOD] getDefinitionsReferencedAt [TYPE] Collection [PARAMETER] Node useSite [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  Node useSite  [TYPE]  Collection defs  [TYPE]  String name  propName  [TYPE]  Map definitionSiteMap 
[REPLACE]^if  ( !defs .iterator (  )   )  {^83^^^^^68^91^[REPLACE] if  ( !defs.isEmpty (  )  )  {^[METHOD] getDefinitionsReferencedAt [TYPE] Collection [PARAMETER] Node useSite [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  Node useSite  [TYPE]  Collection defs  [TYPE]  String name  propName  [TYPE]  Map definitionSiteMap 
[ADD]^return defs;return null;^83^84^85^86^87^68^91^[ADD] if  ( !defs.isEmpty (  )  )  { return defs; } else { return null; }^[METHOD] getDefinitionsReferencedAt [TYPE] Collection [PARAMETER] Node useSite [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  Node useSite  [TYPE]  Collection defs  [TYPE]  String name  propName  [TYPE]  Map definitionSiteMap 
[REPLACE]^return this;^86^^^^^83^87^[REPLACE] return null;^[METHOD] getDefinitionsReferencedAt [TYPE] Collection [PARAMETER] Node useSite [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  Node useSite  [TYPE]  Collection defs  [TYPE]  String name  propName  [TYPE]  Map definitionSiteMap 
[REPLACE]^return 1;^84^^^^^68^91^[REPLACE] return defs;^[METHOD] getDefinitionsReferencedAt [TYPE] Collection [PARAMETER] Node useSite [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  Node useSite  [TYPE]  Collection defs  [TYPE]  String name  propName  [TYPE]  Map definitionSiteMap 
[REPLACE]^return this;^84^^^^^68^91^[REPLACE] return defs;^[METHOD] getDefinitionsReferencedAt [TYPE] Collection [PARAMETER] Node useSite [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  Node useSite  [TYPE]  Collection defs  [TYPE]  String name  propName  [TYPE]  Map definitionSiteMap 
[REPLACE]^return false;^89^^^^^68^91^[REPLACE] return null;^[METHOD] getDefinitionsReferencedAt [TYPE] Collection [PARAMETER] Node useSite [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  Node useSite  [TYPE]  Collection defs  [TYPE]  String name  propName  [TYPE]  Map definitionSiteMap 
[REPLACE]^Collection<Definition> defs = propNameDefinitionMultimap.get ( name ) ;^82^^^^^68^91^[REPLACE] Collection<Definition> defs = nameDefinitionMultimap.get ( name ) ;^[METHOD] getDefinitionsReferencedAt [TYPE] Collection [PARAMETER] Node useSite [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  Node useSite  [TYPE]  Collection defs  [TYPE]  String name  propName  [TYPE]  Map definitionSiteMap 
[REPLACE]^if  ( inExterns || NodeUtil.isName ( node )  || parent .getString (  )   == Token.LP )  {^152^^^^^148^196^[REPLACE] if  ( inExterns && NodeUtil.isName ( node )  && parent.getType (  )  == Token.LP )  {^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue  [TYPE]  Definition def  definition  unknownDef  [TYPE]  String name  [TYPE]  Map definitionSiteMap 
[ADD]^return;^152^153^154^^^148^196^[ADD] if  ( inExterns && NodeUtil.isName ( node )  && parent.getType (  )  == Token.LP )  { return; }^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue  [TYPE]  Definition def  definition  unknownDef  [TYPE]  String name  [TYPE]  Map definitionSiteMap 
[REPLACE]^return;  ;^153^^^^^148^196^[REPLACE] return;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue  [TYPE]  Definition def  definition  unknownDef  [TYPE]  String name  [TYPE]  Map definitionSiteMap 
[REPLACE]^if  ( unknownDef == null )  {^158^^^^^148^196^[REPLACE] if  ( def != null )  {^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue  [TYPE]  Definition def  definition  unknownDef  [TYPE]  String name  [TYPE]  Map definitionSiteMap 
[REPLACE]^if  ( name == null )  {^160^^^^^148^196^[REPLACE] if  ( name != null )  {^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue  [TYPE]  Definition def  definition  unknownDef  [TYPE]  String name  [TYPE]  Map definitionSiteMap 
[ADD]^Node rValue = def.getRValue (  ) ;^160^161^162^163^^148^196^[ADD] if  ( name != null )  { Node rValue = def.getRValue (  ) ; if  (  ( rValue != null )  && !NodeUtil.isImmutableValue ( rValue )  &&^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue  [TYPE]  Definition def  definition  unknownDef  [TYPE]  String name  [TYPE]  Map definitionSiteMap 
[REPLACE]^if  (  ( node == null )  && !NodeUtil.isImmutableValue ( rValue )  && !NodeUtil.isFunction ( rValue )  )  {^162^163^164^^^148^196^[REPLACE] if  (  ( rValue != null )  && !NodeUtil.isImmutableValue ( rValue )  && !NodeUtil.isFunction ( rValue )  )  {^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue  [TYPE]  Definition def  definition  unknownDef  [TYPE]  String name  [TYPE]  Map definitionSiteMap 
[ADD]^^162^163^164^^^148^196^[ADD] if  (  ( rValue != null )  && !NodeUtil.isImmutableValue ( rValue )  && !NodeUtil.isFunction ( rValue )  )  {^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue  [TYPE]  Definition def  definition  unknownDef  [TYPE]  String name  [TYPE]  Map definitionSiteMap 
[REPLACE]^def =  null;^168^^^^^162^169^[REPLACE] def = unknownDef;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue  [TYPE]  Definition def  definition  unknownDef  [TYPE]  String name  [TYPE]  Map definitionSiteMap 
[REPLACE]^Definition unknownDef = new UnknownDefinition ( unknownDef.getLValue (  )  ) ;^167^^^^^162^169^[REPLACE] Definition unknownDef = new UnknownDefinition ( def.getLValue (  )  ) ;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue  [TYPE]  Definition def  definition  unknownDef  [TYPE]  String name  [TYPE]  Map definitionSiteMap 
[REPLACE]^def =  null;^168^^^^^148^196^[REPLACE] def = unknownDef;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue  [TYPE]  Definition def  definition  unknownDef  [TYPE]  String name  [TYPE]  Map definitionSiteMap 
[REPLACE]^Node rValue = def.getLValue (  ) ;^161^^^^^148^196^[REPLACE] Node rValue = def.getRValue (  ) ;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue  [TYPE]  Definition def  definition  unknownDef  [TYPE]  String name  [TYPE]  Map definitionSiteMap 
[REPLACE]^Definition unknownDef = new UnknownDefinition ( def.getRValue (  )  ) ;^167^^^^^148^196^[REPLACE] Definition unknownDef = new UnknownDefinition ( def.getLValue (  )  ) ;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue  [TYPE]  Definition def  definition  unknownDef  [TYPE]  String name  [TYPE]  Map definitionSiteMap 
[REPLACE]^if  (  ( rValue == null )  && !NodeUtil.isImmutableValue ( rValue )  && !NodeUtil.isGetProp ( rValue )  )  {^162^163^164^^^148^196^[REPLACE] if  (  ( rValue != null )  && !NodeUtil.isImmutableValue ( rValue )  && !NodeUtil.isFunction ( rValue )  )  {^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue  [TYPE]  Definition def  definition  unknownDef  [TYPE]  String name  [TYPE]  Map definitionSiteMap 
[REPLACE]^Definition unknownDef = new UnknownDefinition ( def.getRValue (  )  ) ;^167^^^^^162^169^[REPLACE] Definition unknownDef = new UnknownDefinition ( def.getLValue (  )  ) ;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue  [TYPE]  Definition def  definition  unknownDef  [TYPE]  String name  [TYPE]  Map definitionSiteMap 
[REPLACE]^String name = getSimplifiedName ( unknownDef.getLValue (  )  ) ;^159^^^^^148^196^[REPLACE] String name = getSimplifiedName ( def.getLValue (  )  ) ;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue  [TYPE]  Definition def  definition  unknownDef  [TYPE]  String name  [TYPE]  Map definitionSiteMap 
[ADD]^^161^^^^^148^196^[ADD] Node rValue = def.getRValue (  ) ;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue  [TYPE]  Definition def  definition  unknownDef  [TYPE]  String name  [TYPE]  Map definitionSiteMap 
[REPLACE]^Definition unknownDef = new UnknownDefinition ( unknownDef .getRValue (  )   ) ;^167^^^^^148^196^[REPLACE] Definition unknownDef = new UnknownDefinition ( def.getLValue (  )  ) ;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue  [TYPE]  Definition def  definition  unknownDef  [TYPE]  String name  [TYPE]  Map definitionSiteMap 
[REPLACE]^if  (  ( rValue == null )  && !NodeUtil.isImmutableValue ( rValue )  && !NodeUtil.isFunction ( rValue )  )  {^162^163^164^^^148^196^[REPLACE] if  (  ( rValue != null )  && !NodeUtil.isImmutableValue ( rValue )  && !NodeUtil.isFunction ( rValue )  )  {^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue  [TYPE]  Definition def  definition  unknownDef  [TYPE]  String name  [TYPE]  Map definitionSiteMap 
[ADD]^^168^^^^^162^169^[ADD] def = unknownDef;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue  [TYPE]  Definition def  definition  unknownDef  [TYPE]  String name  [TYPE]  Map definitionSiteMap 
[REPLACE]^Definition unknownDef = new UnknownDefinition ( unknownDef.getRValue (  )  ) ;^167^^^^^162^169^[REPLACE] Definition unknownDef = new UnknownDefinition ( def.getLValue (  )  ) ;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue  [TYPE]  Definition def  definition  unknownDef  [TYPE]  String name  [TYPE]  Map definitionSiteMap 
[REPLACE]^Node rValue = unknownDef.getRValue (  ) ;^161^^^^^148^196^[REPLACE] Node rValue = def.getRValue (  ) ;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue  [TYPE]  Definition def  definition  unknownDef  [TYPE]  String name  [TYPE]  Map definitionSiteMap 
[REPLACE]^Definition unknownDef = new UnknownDefinition ( unknownDef.getLValue (  )  ) ;^167^^^^^148^196^[REPLACE] Definition unknownDef = new UnknownDefinition ( def.getLValue (  )  ) ;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue  [TYPE]  Definition def  definition  unknownDef  [TYPE]  String name  [TYPE]  Map definitionSiteMap 
[REPLACE]^if  (  ( rValue == this )  ) {^162^163^164^^^148^196^[REPLACE] if  (  ( rValue != null )  && !NodeUtil.isImmutableValue ( rValue )  && !NodeUtil.isFunction ( rValue )  )  {^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue  [TYPE]  Definition def  definition  unknownDef  [TYPE]  String name  [TYPE]  Map definitionSiteMap 
[ADD]^^159^160^161^162^163^148^196^[ADD] String name = getSimplifiedName ( def.getLValue (  )  ) ; if  ( name != null )  { Node rValue = def.getRValue (  ) ; if  (  ( rValue != null )  && !NodeUtil.isImmutableValue ( rValue )  &&^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue  [TYPE]  Definition def  definition  unknownDef  [TYPE]  String name  [TYPE]  Map definitionSiteMap 
[REPLACE]^if  ( inExterns &&  ( parent == null )  && NodeUtil.isExpressionNode ( parent )  )  {^181^^^^^148^196^[REPLACE] if  ( inExterns &&  ( parent != null )  && NodeUtil.isExpressionNode ( parent )  )  {^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue  [TYPE]  Definition def  definition  unknownDef  [TYPE]  String name  [TYPE]  Map definitionSiteMap 
[REPLACE]^if  ( name == this  )  {^183^^^^^148^196^[REPLACE] if  ( name != null )  {^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue  [TYPE]  Definition def  definition  unknownDef  [TYPE]  String name  [TYPE]  Map definitionSiteMap 
[REPLACE]^Definition definition = new ExternalNameOnlyDefinition ( rValue ) ;^186^^^^^148^196^[REPLACE] Definition definition = new ExternalNameOnlyDefinition ( node ) ;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue  [TYPE]  Definition def  definition  unknownDef  [TYPE]  String name  [TYPE]  Map definitionSiteMap 
[REPLACE]^String name = getSimplifiedName ( definition.getLValue (  )  )  ;^182^^^^^148^196^[REPLACE] String name = getSimplifiedName ( node ) ;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue  [TYPE]  Definition def  definition  unknownDef  [TYPE]  String name  [TYPE]  Map definitionSiteMap 
[ADD]^^186^187^^^^148^196^[ADD] Definition definition = new ExternalNameOnlyDefinition ( node ) ; nameDefinitionMultimap.put ( name, definition ) ;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue  [TYPE]  Definition def  definition  unknownDef  [TYPE]  String name  [TYPE]  Map definitionSiteMap 
[REPLACE]^if  ( name == true )  {^183^^^^^148^196^[REPLACE] if  ( name != null )  {^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue  [TYPE]  Definition def  definition  unknownDef  [TYPE]  String name  [TYPE]  Map definitionSiteMap 
[ADD]^^182^183^^^186^148^196^[ADD] String name = getSimplifiedName ( node ) ; if  ( name != null )  { Definition definition = new ExternalNameOnlyDefinition ( node ) ;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue  [TYPE]  Definition def  definition  unknownDef  [TYPE]  String name  [TYPE]  Map definitionSiteMap 
[REPLACE]^Definition unknownDef = new UnknownDefinition ( def.getLValue (  )  )  ;^186^^^^^148^196^[REPLACE] Definition definition = new ExternalNameOnlyDefinition ( node ) ;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] SimpleDefinitionFinder DefinitionGatheringCallback UseSiteGatheringCallback   [TYPE]  Multimap nameDefinitionMultimap  nameUseSiteMultimap  [TYPE]  AbstractCompiler compiler  [TYPE]  boolean false  inExterns  true  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue  [TYPE]  Definition def  definition  unknownDef  [TYPE]  String name  [TYPE]  Map definitionSiteMap 
[REPLACE]^if  ( inExterns || NodeUtil.isName ( node )  || parent.getType (  )  == Token.LP )  {^152^^^^^148^196^[REPLACE] if  ( inExterns && NodeUtil.isName ( node )  && parent.getType (  )  == Token.LP )  {^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] DefinitionGatheringCallback   [TYPE]  Definition def  definition  unknownDef  [TYPE]  boolean false  inExterns  true  [TYPE]  String name  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue 
[REPLACE]^return;  ;^153^^^^^148^196^[REPLACE] return;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] DefinitionGatheringCallback   [TYPE]  Definition def  definition  unknownDef  [TYPE]  boolean false  inExterns  true  [TYPE]  String name  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue 
[REPLACE]^Definition def = DefinitionsRemover.getDefinition ( rValue, parent ) ;^156^157^^^^148^196^[REPLACE] Definition def = DefinitionsRemover.getDefinition ( node, parent ) ;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] DefinitionGatheringCallback   [TYPE]  Definition def  definition  unknownDef  [TYPE]  boolean false  inExterns  true  [TYPE]  String name  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue 
[REPLACE]^if   (  name != null  )   {  ;^158^^^^^148^196^[REPLACE] if  ( def != null )  {^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] DefinitionGatheringCallback   [TYPE]  Definition def  definition  unknownDef  [TYPE]  boolean false  inExterns  true  [TYPE]  String name  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue 
[REPLACE]^if   (  def != null  )   {  ;^160^^^^^148^196^[REPLACE] if  ( name != null )  {^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] DefinitionGatheringCallback   [TYPE]  Definition def  definition  unknownDef  [TYPE]  boolean false  inExterns  true  [TYPE]  String name  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue 
[ADD]^^160^161^162^163^^148^196^[ADD] if  ( name != null )  { Node rValue = def.getRValue (  ) ; if  (  ( rValue != null )  && !NodeUtil.isImmutableValue ( rValue )  &&^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] DefinitionGatheringCallback   [TYPE]  Definition def  definition  unknownDef  [TYPE]  boolean false  inExterns  true  [TYPE]  String name  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue 
[REPLACE]^if  (  ( rValue == null )  ) {^162^163^164^^^148^196^[REPLACE] if  (  ( rValue != null )  && !NodeUtil.isImmutableValue ( rValue )  && !NodeUtil.isFunction ( rValue )  )  {^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] DefinitionGatheringCallback   [TYPE]  Definition def  definition  unknownDef  [TYPE]  boolean false  inExterns  true  [TYPE]  String name  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue 
[REPLACE]^def =  null;^168^^^^^162^169^[REPLACE] def = unknownDef;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] DefinitionGatheringCallback   [TYPE]  Definition def  definition  unknownDef  [TYPE]  boolean false  inExterns  true  [TYPE]  String name  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue 
[REPLACE]^Definition unknownDef = new UnknownDefinition ( unknownDef.getLValue (  )  ) ;^167^^^^^162^169^[REPLACE] Definition unknownDef = new UnknownDefinition ( def.getLValue (  )  ) ;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] DefinitionGatheringCallback   [TYPE]  Definition def  definition  unknownDef  [TYPE]  boolean false  inExterns  true  [TYPE]  String name  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue 
[REPLACE]^def =  null;^168^^^^^148^196^[REPLACE] def = unknownDef;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] DefinitionGatheringCallback   [TYPE]  Definition def  definition  unknownDef  [TYPE]  boolean false  inExterns  true  [TYPE]  String name  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue 
[REPLACE]^Node rValue = unknownDef.getRValue (  ) ;^161^^^^^148^196^[REPLACE] Node rValue = def.getRValue (  ) ;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] DefinitionGatheringCallback   [TYPE]  Definition def  definition  unknownDef  [TYPE]  boolean false  inExterns  true  [TYPE]  String name  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue 
[REPLACE]^Definition unknownDef = new UnknownDefinition ( unknownDef.getLValue (  )  ) ;^167^^^^^148^196^[REPLACE] Definition unknownDef = new UnknownDefinition ( def.getLValue (  )  ) ;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] DefinitionGatheringCallback   [TYPE]  Definition def  definition  unknownDef  [TYPE]  boolean false  inExterns  true  [TYPE]  String name  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue 
[REPLACE]^if  (  !NodeUtil.isImmutableValue ( rValue )  && !NodeUtil.isFunction ( rValue )  )  {^162^163^164^^^148^196^[REPLACE] if  (  ( rValue != null )  && !NodeUtil.isImmutableValue ( rValue )  && !NodeUtil.isFunction ( rValue )  )  {^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] DefinitionGatheringCallback   [TYPE]  Definition def  definition  unknownDef  [TYPE]  boolean false  inExterns  true  [TYPE]  String name  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue 
[REPLACE]^Definition def = getDefinition ( node, parent )  ;^167^^^^^162^169^[REPLACE] Definition unknownDef = new UnknownDefinition ( def.getLValue (  )  ) ;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] DefinitionGatheringCallback   [TYPE]  Definition def  definition  unknownDef  [TYPE]  boolean false  inExterns  true  [TYPE]  String name  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue 
[REPLACE]^String name = getSimplifiedName ( node )  ;^159^^^^^148^196^[REPLACE] String name = getSimplifiedName ( def.getLValue (  )  ) ;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] DefinitionGatheringCallback   [TYPE]  Definition def  definition  unknownDef  [TYPE]  boolean false  inExterns  true  [TYPE]  String name  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue 
[ADD]^^161^^^^^148^196^[ADD] Node rValue = def.getRValue (  ) ;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] DefinitionGatheringCallback   [TYPE]  Definition def  definition  unknownDef  [TYPE]  boolean false  inExterns  true  [TYPE]  String name  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue 
[REPLACE]^Definition def = getDefinition ( node, parent )  ;^167^^^^^148^196^[REPLACE] Definition unknownDef = new UnknownDefinition ( def.getLValue (  )  ) ;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] DefinitionGatheringCallback   [TYPE]  Definition def  definition  unknownDef  [TYPE]  boolean false  inExterns  true  [TYPE]  String name  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue 
[REPLACE]^if  ( name == null )  {^160^^^^^148^196^[REPLACE] if  ( name != null )  {^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] DefinitionGatheringCallback   [TYPE]  Definition def  definition  unknownDef  [TYPE]  boolean false  inExterns  true  [TYPE]  String name  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue 
[ADD]^Node rValue = def.getRValue (  ) ;^160^161^162^163^^148^196^[ADD] if  ( name != null )  { Node rValue = def.getRValue (  ) ; if  (  ( rValue != null )  && !NodeUtil.isImmutableValue ( rValue )  &&^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] DefinitionGatheringCallback   [TYPE]  Definition def  definition  unknownDef  [TYPE]  boolean false  inExterns  true  [TYPE]  String name  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue 
[ADD]^^168^^^^^162^169^[ADD] def = unknownDef;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] DefinitionGatheringCallback   [TYPE]  Definition def  definition  unknownDef  [TYPE]  boolean false  inExterns  true  [TYPE]  String name  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue 
[REPLACE]^Definition unknownDef = new UnknownDefinition ( unknownDef.getRValue (  )  ) ;^167^^^^^162^169^[REPLACE] Definition unknownDef = new UnknownDefinition ( def.getLValue (  )  ) ;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] DefinitionGatheringCallback   [TYPE]  Definition def  definition  unknownDef  [TYPE]  boolean false  inExterns  true  [TYPE]  String name  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue 
[ADD]^^167^^^^^148^196^[ADD] Definition unknownDef = new UnknownDefinition ( def.getLValue (  )  ) ;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] DefinitionGatheringCallback   [TYPE]  Definition def  definition  unknownDef  [TYPE]  boolean false  inExterns  true  [TYPE]  String name  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue 
[REPLACE]^if  (  ( rValue == null )  && !NodeUtil.isImmutableValue ( rValue )  && !NodeUtil.isFunction ( rValue )  )  {^162^163^164^^^148^196^[REPLACE] if  (  ( rValue != null )  && !NodeUtil.isImmutableValue ( rValue )  && !NodeUtil.isFunction ( rValue )  )  {^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] DefinitionGatheringCallback   [TYPE]  Definition def  definition  unknownDef  [TYPE]  boolean false  inExterns  true  [TYPE]  String name  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue 
[ADD]^^168^^^^^148^196^[ADD] def = unknownDef;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] DefinitionGatheringCallback   [TYPE]  Definition def  definition  unknownDef  [TYPE]  boolean false  inExterns  true  [TYPE]  String name  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue 
[REPLACE]^Node rValue = def .getLValue (  )  ;^161^^^^^148^196^[REPLACE] Node rValue = def.getRValue (  ) ;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] DefinitionGatheringCallback   [TYPE]  Definition def  definition  unknownDef  [TYPE]  boolean false  inExterns  true  [TYPE]  String name  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue 
[REPLACE]^if  ( inExterns ) {^181^^^^^148^196^[REPLACE] if  ( inExterns &&  ( parent != null )  && NodeUtil.isExpressionNode ( parent )  )  {^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] DefinitionGatheringCallback   [TYPE]  Definition def  definition  unknownDef  [TYPE]  boolean false  inExterns  true  [TYPE]  String name  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue 
[REPLACE]^if  ( name == this )  {^183^^^^^148^196^[REPLACE] if  ( name != null )  {^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] DefinitionGatheringCallback   [TYPE]  Definition def  definition  unknownDef  [TYPE]  boolean false  inExterns  true  [TYPE]  String name  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue 
[REPLACE]^Definition unknownDef = new UnknownDefinition ( def.getLValue (  )  )  ;^186^^^^^148^196^[REPLACE] Definition definition = new ExternalNameOnlyDefinition ( node ) ;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] DefinitionGatheringCallback   [TYPE]  Definition def  definition  unknownDef  [TYPE]  boolean false  inExterns  true  [TYPE]  String name  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue 
[ADD]^^182^183^^^186^148^196^[ADD] String name = getSimplifiedName ( node ) ; if  ( name != null )  { Definition definition = new ExternalNameOnlyDefinition ( node ) ;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] DefinitionGatheringCallback   [TYPE]  Definition def  definition  unknownDef  [TYPE]  boolean false  inExterns  true  [TYPE]  String name  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue 
[REPLACE]^Definition definition = new ExternalNameOnlyDefinition ( rValue ) ;^186^^^^^148^196^[REPLACE] Definition definition = new ExternalNameOnlyDefinition ( node ) ;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] DefinitionGatheringCallback   [TYPE]  Definition def  definition  unknownDef  [TYPE]  boolean false  inExterns  true  [TYPE]  String name  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue 
[REPLACE]^if  ( name == this  )  {^183^^^^^148^196^[REPLACE] if  ( name != null )  {^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] DefinitionGatheringCallback   [TYPE]  Definition def  definition  unknownDef  [TYPE]  boolean false  inExterns  true  [TYPE]  String name  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue 
[ADD]^^183^184^^186^187^148^196^[ADD] if  ( name != null )  {  Definition definition = new ExternalNameOnlyDefinition ( node ) ; nameDefinitionMultimap.put ( name, definition ) ;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] DefinitionGatheringCallback   [TYPE]  Definition def  definition  unknownDef  [TYPE]  boolean false  inExterns  true  [TYPE]  String name  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue 
[ADD]^^186^^^^^148^196^[ADD] Definition definition = new ExternalNameOnlyDefinition ( node ) ;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] DefinitionGatheringCallback   [TYPE]  Definition def  definition  unknownDef  [TYPE]  boolean false  inExterns  true  [TYPE]  String name  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue 
[REPLACE]^String name = getSimplifiedName ( rValue ) ;^182^^^^^148^196^[REPLACE] String name = getSimplifiedName ( node ) ;^[METHOD] visit [TYPE] void [PARAMETER] NodeTraversal traversal Node node Node parent [CLASS] DefinitionGatheringCallback   [TYPE]  Definition def  definition  unknownDef  [TYPE]  boolean false  inExterns  true  [TYPE]  String name  [TYPE]  NodeTraversal traversal  [TYPE]  Node node  parent  rValue 
