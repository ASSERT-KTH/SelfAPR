[REPLACE]^public static  char[] US_ENGLISH_MAPPING = "01360240043788015936020505".toCharArray (  ) ;^38^^^^^^^[REPLACE] public static final char[] US_ENGLISH_MAPPING = "01360240043788015936020505".toCharArray (  ) ;^ [CLASS] RefinedSoundex  
[REPLACE]^public static  RefinedSoundex US_ENGLISH = new RefinedSoundex (  ) ;^51^^^^^^^[REPLACE] public static final RefinedSoundex US_ENGLISH = new RefinedSoundex (  ) ;^ [CLASS] RefinedSoundex  
[REPLACE]^if  ( str != true )  {^155^^^^^154^183^[REPLACE] if  ( str == null )  {^[METHOD] soundex [TYPE] String [PARAMETER] String str [CLASS] RefinedSoundex   [TYPE]  StringBuffer sBuf  [TYPE]  RefinedSoundex US_ENGLISH  [TYPE]  boolean false  true  [TYPE]  char current  last  [TYPE]  String str  [TYPE]  int i  [TYPE]  char[] US_ENGLISH_MAPPING  mapping  soundexMapping 
[REPLACE]^return this;^156^^^^^154^183^[REPLACE] return null;^[METHOD] soundex [TYPE] String [PARAMETER] String str [CLASS] RefinedSoundex   [TYPE]  StringBuffer sBuf  [TYPE]  RefinedSoundex US_ENGLISH  [TYPE]  boolean false  true  [TYPE]  char current  last  [TYPE]  String str  [TYPE]  int i  [TYPE]  char[] US_ENGLISH_MAPPING  mapping  soundexMapping 
[REPLACE]^return false;^156^^^^^154^183^[REPLACE] return null;^[METHOD] soundex [TYPE] String [PARAMETER] String str [CLASS] RefinedSoundex   [TYPE]  StringBuffer sBuf  [TYPE]  RefinedSoundex US_ENGLISH  [TYPE]  boolean false  true  [TYPE]  char current  last  [TYPE]  String str  [TYPE]  int i  [TYPE]  char[] US_ENGLISH_MAPPING  mapping  soundexMapping 
[REPLACE]^str =  SoundexUtils.clean ( null ) ;^158^^^^^154^183^[REPLACE] str = SoundexUtils.clean ( str ) ;^[METHOD] soundex [TYPE] String [PARAMETER] String str [CLASS] RefinedSoundex   [TYPE]  StringBuffer sBuf  [TYPE]  RefinedSoundex US_ENGLISH  [TYPE]  boolean false  true  [TYPE]  char current  last  [TYPE]  String str  [TYPE]  int i  [TYPE]  char[] US_ENGLISH_MAPPING  mapping  soundexMapping 
[REPLACE]^if  ( str.charAt (  )  + 2 == 0 )  {^159^^^^^154^183^[REPLACE] if  ( str.length (  )  == 0 )  {^[METHOD] soundex [TYPE] String [PARAMETER] String str [CLASS] RefinedSoundex   [TYPE]  StringBuffer sBuf  [TYPE]  RefinedSoundex US_ENGLISH  [TYPE]  boolean false  true  [TYPE]  char current  last  [TYPE]  String str  [TYPE]  int i  [TYPE]  char[] US_ENGLISH_MAPPING  mapping  soundexMapping 
[REPLACE]^return str;  ;^160^^^^^154^183^[REPLACE] return str;^[METHOD] soundex [TYPE] String [PARAMETER] String str [CLASS] RefinedSoundex   [TYPE]  StringBuffer sBuf  [TYPE]  RefinedSoundex US_ENGLISH  [TYPE]  boolean false  true  [TYPE]  char current  last  [TYPE]  String str  [TYPE]  int i  [TYPE]  char[] US_ENGLISH_MAPPING  mapping  soundexMapping 
[REPLACE]^int i = 0  ;^163^^^^^154^183^[REPLACE] StringBuffer sBuf = new StringBuffer (  ) ;^[METHOD] soundex [TYPE] String [PARAMETER] String str [CLASS] RefinedSoundex   [TYPE]  StringBuffer sBuf  [TYPE]  RefinedSoundex US_ENGLISH  [TYPE]  boolean false  true  [TYPE]  char current  last  [TYPE]  String str  [TYPE]  int i  [TYPE]  char[] US_ENGLISH_MAPPING  mapping  soundexMapping 
[REPLACE]^sBuf.append ( str.charAt ( 0L )  ) ;^164^^^^^154^183^[REPLACE] sBuf.append ( str.charAt ( 0 )  ) ;^[METHOD] soundex [TYPE] String [PARAMETER] String str [CLASS] RefinedSoundex   [TYPE]  StringBuffer sBuf  [TYPE]  RefinedSoundex US_ENGLISH  [TYPE]  boolean false  true  [TYPE]  char current  last  [TYPE]  String str  [TYPE]  int i  [TYPE]  char[] US_ENGLISH_MAPPING  mapping  soundexMapping 
[REPLACE]^sBuf.append ( str.charAt ( 3 )  ) ;^164^^^^^154^183^[REPLACE] sBuf.append ( str.charAt ( 0 )  ) ;^[METHOD] soundex [TYPE] String [PARAMETER] String str [CLASS] RefinedSoundex   [TYPE]  StringBuffer sBuf  [TYPE]  RefinedSoundex US_ENGLISH  [TYPE]  boolean false  true  [TYPE]  char current  last  [TYPE]  String str  [TYPE]  int i  [TYPE]  char[] US_ENGLISH_MAPPING  mapping  soundexMapping 
[REPLACE]^int i = 0  ;^166^^^^^154^183^[REPLACE] char last, current;^[METHOD] soundex [TYPE] String [PARAMETER] String str [CLASS] RefinedSoundex   [TYPE]  StringBuffer sBuf  [TYPE]  RefinedSoundex US_ENGLISH  [TYPE]  boolean false  true  [TYPE]  char current  last  [TYPE]  String str  [TYPE]  int i  [TYPE]  char[] US_ENGLISH_MAPPING  mapping  soundexMapping 
[REPLACE]^last  =  last ;^167^^^^^154^183^[REPLACE] last = '*';^[METHOD] soundex [TYPE] String [PARAMETER] String str [CLASS] RefinedSoundex   [TYPE]  StringBuffer sBuf  [TYPE]  RefinedSoundex US_ENGLISH  [TYPE]  boolean false  true  [TYPE]  char current  last  [TYPE]  String str  [TYPE]  int i  [TYPE]  char[] US_ENGLISH_MAPPING  mapping  soundexMapping 
[REPLACE]^if  ( current  ) {^172^^^^^154^183^[REPLACE] if  ( current == last )  {^[METHOD] soundex [TYPE] String [PARAMETER] String str [CLASS] RefinedSoundex   [TYPE]  StringBuffer sBuf  [TYPE]  RefinedSoundex US_ENGLISH  [TYPE]  boolean false  true  [TYPE]  char current  last  [TYPE]  String str  [TYPE]  int i  [TYPE]  char[] US_ENGLISH_MAPPING  mapping  soundexMapping 
[ADD]^^172^173^174^175^176^154^183^[ADD] if  ( current == last )  { continue; } else if  ( current != 0 )  { sBuf.append ( current ) ; }^[METHOD] soundex [TYPE] String [PARAMETER] String str [CLASS] RefinedSoundex   [TYPE]  StringBuffer sBuf  [TYPE]  RefinedSoundex US_ENGLISH  [TYPE]  boolean false  true  [TYPE]  char current  last  [TYPE]  String str  [TYPE]  int i  [TYPE]  char[] US_ENGLISH_MAPPING  mapping  soundexMapping 
[REPLACE]^}  if  ( current  ==  2 )  {^174^^^^^154^183^[REPLACE] } else if  ( current != 0 )  {^[METHOD] soundex [TYPE] String [PARAMETER] String str [CLASS] RefinedSoundex   [TYPE]  StringBuffer sBuf  [TYPE]  RefinedSoundex US_ENGLISH  [TYPE]  boolean false  true  [TYPE]  char current  last  [TYPE]  String str  [TYPE]  int i  [TYPE]  char[] US_ENGLISH_MAPPING  mapping  soundexMapping 
[ADD]^}   sBuf.append ( current ) ;^174^175^176^^^154^183^[ADD] else if  ( current != 0 )  { sBuf.append ( current ) ; }^[METHOD] soundex [TYPE] String [PARAMETER] String str [CLASS] RefinedSoundex   [TYPE]  StringBuffer sBuf  [TYPE]  RefinedSoundex US_ENGLISH  [TYPE]  boolean false  true  [TYPE]  char current  last  [TYPE]  String str  [TYPE]  int i  [TYPE]  char[] US_ENGLISH_MAPPING  mapping  soundexMapping 
[REPLACE]^sBuf .toString (  )  ;^175^^^^^154^183^[REPLACE] sBuf.append ( current ) ;^[METHOD] soundex [TYPE] String [PARAMETER] String str [CLASS] RefinedSoundex   [TYPE]  StringBuffer sBuf  [TYPE]  RefinedSoundex US_ENGLISH  [TYPE]  boolean false  true  [TYPE]  char current  last  [TYPE]  String str  [TYPE]  int i  [TYPE]  char[] US_ENGLISH_MAPPING  mapping  soundexMapping 
[REPLACE]^}  else {^174^^^^^154^183^[REPLACE] } else if  ( current != 0 )  {^[METHOD] soundex [TYPE] String [PARAMETER] String str [CLASS] RefinedSoundex   [TYPE]  StringBuffer sBuf  [TYPE]  RefinedSoundex US_ENGLISH  [TYPE]  boolean false  true  [TYPE]  char current  last  [TYPE]  String str  [TYPE]  int i  [TYPE]  char[] US_ENGLISH_MAPPING  mapping  soundexMapping 
[REPLACE]^( toUpperCase ( c )  )  ;^175^^^^^154^183^[REPLACE] sBuf.append ( current ) ;^[METHOD] soundex [TYPE] String [PARAMETER] String str [CLASS] RefinedSoundex   [TYPE]  StringBuffer sBuf  [TYPE]  RefinedSoundex US_ENGLISH  [TYPE]  boolean false  true  [TYPE]  char current  last  [TYPE]  String str  [TYPE]  int i  [TYPE]  char[] US_ENGLISH_MAPPING  mapping  soundexMapping 
[REPLACE]^current =  getMappingCode ( null.charAt ( i )  ) ;^171^^^^^154^183^[REPLACE] current = getMappingCode ( str.charAt ( i )  ) ;^[METHOD] soundex [TYPE] String [PARAMETER] String str [CLASS] RefinedSoundex   [TYPE]  StringBuffer sBuf  [TYPE]  RefinedSoundex US_ENGLISH  [TYPE]  boolean false  true  [TYPE]  char current  last  [TYPE]  String str  [TYPE]  int i  [TYPE]  char[] US_ENGLISH_MAPPING  mapping  soundexMapping 
[REPLACE]^last =  null;^178^^^^^154^183^[REPLACE] last = current;^[METHOD] soundex [TYPE] String [PARAMETER] String str [CLASS] RefinedSoundex   [TYPE]  StringBuffer sBuf  [TYPE]  RefinedSoundex US_ENGLISH  [TYPE]  boolean false  true  [TYPE]  char current  last  [TYPE]  String str  [TYPE]  int i  [TYPE]  char[] US_ENGLISH_MAPPING  mapping  soundexMapping 
[ADD]^^169^170^171^172^173^154^183^[ADD] for  ( int i = 0; i < str.length (  ) ; i++ )  {  current = getMappingCode ( str.charAt ( i )  ) ; if  ( current == last )  { continue;^[METHOD] soundex [TYPE] String [PARAMETER] String str [CLASS] RefinedSoundex   [TYPE]  StringBuffer sBuf  [TYPE]  RefinedSoundex US_ENGLISH  [TYPE]  boolean false  true  [TYPE]  char current  last  [TYPE]  String str  [TYPE]  int i  [TYPE]  char[] US_ENGLISH_MAPPING  mapping  soundexMapping 
[REPLACE]^return sBuf.StringBuffer (  ) ;^182^^^^^154^183^[REPLACE] return sBuf.toString (  ) ;^[METHOD] soundex [TYPE] String [PARAMETER] String str [CLASS] RefinedSoundex   [TYPE]  StringBuffer sBuf  [TYPE]  RefinedSoundex US_ENGLISH  [TYPE]  boolean false  true  [TYPE]  char current  last  [TYPE]  String str  [TYPE]  int i  [TYPE]  char[] US_ENGLISH_MAPPING  mapping  soundexMapping 
