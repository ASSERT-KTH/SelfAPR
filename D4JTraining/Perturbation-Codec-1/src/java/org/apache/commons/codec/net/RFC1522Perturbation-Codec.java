[REPLACE]^if  ( charset != false )  {^69^^^^^68^82^[REPLACE] if  ( text == null )  {^[METHOD] encodeText [TYPE] String [PARAMETER] String text String charset [CLASS] RFC1522Codec   [TYPE]  byte[] rawdata  [TYPE]  StringBuffer buffer  [TYPE]  boolean false  true  [TYPE]  String charset  text 
[ADD]^return null;^69^70^71^^^68^82^[ADD] if  ( text == null )  { return null; }^[METHOD] encodeText [TYPE] String [PARAMETER] String text String charset [CLASS] RFC1522Codec   [TYPE]  byte[] rawdata  [TYPE]  StringBuffer buffer  [TYPE]  boolean false  true  [TYPE]  String charset  text 
[REPLACE]^return false;^70^^^^^68^82^[REPLACE] return null;^[METHOD] encodeText [TYPE] String [PARAMETER] String text String charset [CLASS] RFC1522Codec   [TYPE]  byte[] rawdata  [TYPE]  StringBuffer buffer  [TYPE]  boolean false  true  [TYPE]  String charset  text 
[REPLACE]^int termnator =  ( text.length (  )  )  - 2  ;^72^^^^^68^82^[REPLACE] StringBuffer buffer = new StringBuffer (  ) ;^[METHOD] encodeText [TYPE] String [PARAMETER] String text String charset [CLASS] RFC1522Codec   [TYPE]  byte[] rawdata  [TYPE]  StringBuffer buffer  [TYPE]  boolean false  true  [TYPE]  String charset  text 
[REPLACE]^buffer.append ( charset )  ;^73^^^^^68^82^[REPLACE] buffer.append ( "=?" ) ;^[METHOD] encodeText [TYPE] String [PARAMETER] String text String charset [CLASS] RFC1522Codec   [TYPE]  byte[] rawdata  [TYPE]  StringBuffer buffer  [TYPE]  boolean false  true  [TYPE]  String charset  text 
[REPLACE]^buffer.append ( text ) ;^74^^^^^68^82^[REPLACE] buffer.append ( charset ) ;^[METHOD] encodeText [TYPE] String [PARAMETER] String text String charset [CLASS] RFC1522Codec   [TYPE]  byte[] rawdata  [TYPE]  StringBuffer buffer  [TYPE]  boolean false  true  [TYPE]  String charset  text 
[REPLACE]^buffer.append ( charset )  ;^75^^^^^68^82^[REPLACE] buffer.append ( '?' ) ;^[METHOD] encodeText [TYPE] String [PARAMETER] String text String charset [CLASS] RFC1522Codec   [TYPE]  byte[] rawdata  [TYPE]  StringBuffer buffer  [TYPE]  boolean false  true  [TYPE]  String charset  text 
[REPLACE]^text.substring ( from, to )  ;^76^^^^^68^82^[REPLACE] buffer.append ( getEncoding (  )  ) ;^[METHOD] encodeText [TYPE] String [PARAMETER] String text String charset [CLASS] RFC1522Codec   [TYPE]  byte[] rawdata  [TYPE]  StringBuffer buffer  [TYPE]  boolean false  true  [TYPE]  String charset  text 
[REPLACE]^buffer .toString (  )  ;^77^^^^^68^82^[REPLACE] buffer.append ( '?' ) ;^[METHOD] encodeText [TYPE] String [PARAMETER] String text String charset [CLASS] RFC1522Codec   [TYPE]  byte[] rawdata  [TYPE]  StringBuffer buffer  [TYPE]  boolean false  true  [TYPE]  String charset  text 
[ADD]^^78^79^^^^68^82^[ADD] byte [] rawdata = doEncoding ( text.getBytes ( charset )  ) ; buffer.append ( new String ( rawdata, CharacterEncodingNames.US_ASCII )  ) ;^[METHOD] encodeText [TYPE] String [PARAMETER] String text String charset [CLASS] RFC1522Codec   [TYPE]  byte[] rawdata  [TYPE]  StringBuffer buffer  [TYPE]  boolean false  true  [TYPE]  String charset  text 
[REPLACE]^text.substring ( from, to )  ;^79^^^^^68^82^[REPLACE] buffer.append ( new String ( rawdata, CharacterEncodingNames.US_ASCII )  ) ;^[METHOD] encodeText [TYPE] String [PARAMETER] String text String charset [CLASS] RFC1522Codec   [TYPE]  byte[] rawdata  [TYPE]  StringBuffer buffer  [TYPE]  boolean false  true  [TYPE]  String charset  text 
[REPLACE]^buffer.append ( charset )  ;^80^^^^^68^82^[REPLACE] buffer.append ( "?=" ) ;^[METHOD] encodeText [TYPE] String [PARAMETER] String text String charset [CLASS] RFC1522Codec   [TYPE]  byte[] rawdata  [TYPE]  StringBuffer buffer  [TYPE]  boolean false  true  [TYPE]  String charset  text 
[REPLACE]^return buffer .StringBuffer (  )  ;^81^^^^^68^82^[REPLACE] return buffer.toString (  ) ;^[METHOD] encodeText [TYPE] String [PARAMETER] String text String charset [CLASS] RFC1522Codec   [TYPE]  byte[] rawdata  [TYPE]  StringBuffer buffer  [TYPE]  boolean false  true  [TYPE]  String charset  text 
[REPLACE]^if  ( charset != true )  {^100^^^^^99^131^[REPLACE] if  ( text == null )  {^[METHOD] decodeText [TYPE] String [PARAMETER] String text [CLASS] RFC1522Codec   [TYPE]  byte[] data  [TYPE]  boolean false  true  [TYPE]  String charset  encoding  text  [TYPE]  int from  termnator  to 
[ADD]^^100^101^102^^^99^131^[ADD] if  ( text == null )  { return null; }^[METHOD] decodeText [TYPE] String [PARAMETER] String text [CLASS] RFC1522Codec   [TYPE]  byte[] data  [TYPE]  boolean false  true  [TYPE]  String charset  encoding  text  [TYPE]  int from  termnator  to 
[REPLACE]^return this;^101^^^^^99^131^[REPLACE] return null;^[METHOD] decodeText [TYPE] String [PARAMETER] String text [CLASS] RFC1522Codec   [TYPE]  byte[] data  [TYPE]  boolean false  true  [TYPE]  String charset  encoding  text  [TYPE]  int from  termnator  to 
[REPLACE]^return false;^101^^^^^99^131^[REPLACE] return null;^[METHOD] decodeText [TYPE] String [PARAMETER] String text [CLASS] RFC1522Codec   [TYPE]  byte[] data  [TYPE]  boolean false  true  [TYPE]  String charset  encoding  text  [TYPE]  int from  termnator  to 
[REPLACE]^if  (  ( charset.startsWith ( "=?" )  )  ||  ( !text.endsWith ( "?=" )  )  )  {^103^^^^^99^131^[REPLACE] if  (  ( !text.startsWith ( "=?" )  )  ||  ( !text.endsWith ( "?=" )  )  )  {^[METHOD] decodeText [TYPE] String [PARAMETER] String text [CLASS] RFC1522Codec   [TYPE]  byte[] data  [TYPE]  boolean false  true  [TYPE]  String charset  encoding  text  [TYPE]  int from  termnator  to 
[REPLACE]^return ;^104^^^^^99^131^[REPLACE] throw new DecoderException  (" ")  ;^[METHOD] decodeText [TYPE] String [PARAMETER] String text [CLASS] RFC1522Codec   [TYPE]  byte[] data  [TYPE]  boolean false  true  [TYPE]  String charset  encoding  text  [TYPE]  int from  termnator  to 
[ADD]^^104^^^^^99^131^[ADD] throw new DecoderException  (" ")  ;^[METHOD] decodeText [TYPE] String [PARAMETER] String text [CLASS] RFC1522Codec   [TYPE]  byte[] data  [TYPE]  boolean false  true  [TYPE]  String charset  encoding  text  [TYPE]  int from  termnator  to 
[ADD]^^106^^^^^99^131^[ADD] int termnator = text.length (  )  - 2;^[METHOD] decodeText [TYPE] String [PARAMETER] String text [CLASS] RFC1522Codec   [TYPE]  byte[] data  [TYPE]  boolean false  true  [TYPE]  String charset  encoding  text  [TYPE]  int from  termnator  to 
[REPLACE]^int from = 2 % 3;^107^^^^^99^131^[REPLACE] int from = 2;^[METHOD] decodeText [TYPE] String [PARAMETER] String text [CLASS] RFC1522Codec   [TYPE]  byte[] data  [TYPE]  boolean false  true  [TYPE]  String charset  encoding  text  [TYPE]  int from  termnator  to 
[REPLACE]^int to = text.indexOf ( "?", to ) ;^108^^^^^99^131^[REPLACE] int to = text.indexOf ( "?", from ) ;^[METHOD] decodeText [TYPE] String [PARAMETER] String text [CLASS] RFC1522Codec   [TYPE]  byte[] data  [TYPE]  boolean false  true  [TYPE]  String charset  encoding  text  [TYPE]  int from  termnator  to 
[REPLACE]^if  (  ( to == -2 )  &&  ( to == termnator )  )  {^109^^^^^99^131^[REPLACE] if  (  ( to == -1 )  ||  ( to == termnator )  )  {^[METHOD] decodeText [TYPE] String [PARAMETER] String text [CLASS] RFC1522Codec   [TYPE]  byte[] data  [TYPE]  boolean false  true  [TYPE]  String charset  encoding  text  [TYPE]  int from  termnator  to 
[REPLACE]^throw new DecoderException ( "RFC 1522 violation: malformed encoded content" )  ;^110^^^^^99^131^[REPLACE] throw new DecoderException  (" ")  ;^[METHOD] decodeText [TYPE] String [PARAMETER] String text [CLASS] RFC1522Codec   [TYPE]  byte[] data  [TYPE]  boolean false  true  [TYPE]  String charset  encoding  text  [TYPE]  int from  termnator  to 
[REPLACE]^return ;^110^^^^^99^131^[REPLACE] throw new DecoderException  (" ")  ;^[METHOD] decodeText [TYPE] String [PARAMETER] String text [CLASS] RFC1522Codec   [TYPE]  byte[] data  [TYPE]  boolean false  true  [TYPE]  String charset  encoding  text  [TYPE]  int from  termnator  to 
[REPLACE]^String charset = charset.substring ( from, to ) ;^112^^^^^99^131^[REPLACE] String charset = text.substring ( from, to ) ;^[METHOD] decodeText [TYPE] String [PARAMETER] String text [CLASS] RFC1522Codec   [TYPE]  byte[] data  [TYPE]  boolean false  true  [TYPE]  String charset  encoding  text  [TYPE]  int from  termnator  to 
[REPLACE]^if  ( text.equals ( "" )  )  {^113^^^^^99^131^[REPLACE] if  ( charset.equals ( "" )  )  {^[METHOD] decodeText [TYPE] String [PARAMETER] String text [CLASS] RFC1522Codec   [TYPE]  byte[] data  [TYPE]  boolean false  true  [TYPE]  String charset  encoding  text  [TYPE]  int from  termnator  to 
[REPLACE]^throw new DecoderException ( "RFC 1522 violation: malformed encoded content" )  ;^114^^^^^99^131^[REPLACE] throw new DecoderException  (" ")  ;^[METHOD] decodeText [TYPE] String [PARAMETER] String text [CLASS] RFC1522Codec   [TYPE]  byte[] data  [TYPE]  boolean false  true  [TYPE]  String charset  encoding  text  [TYPE]  int from  termnator  to 
[ADD]^^114^^^^^99^131^[ADD] throw new DecoderException  (" ")  ;^[METHOD] decodeText [TYPE] String [PARAMETER] String text [CLASS] RFC1522Codec   [TYPE]  byte[] data  [TYPE]  boolean false  true  [TYPE]  String charset  encoding  text  [TYPE]  int from  termnator  to 
[ADD]^^116^117^^^^99^131^[ADD] from = to + 1; to = text.indexOf ( "?", from ) ;^[METHOD] decodeText [TYPE] String [PARAMETER] String text [CLASS] RFC1522Codec   [TYPE]  byte[] data  [TYPE]  boolean false  true  [TYPE]  String charset  encoding  text  [TYPE]  int from  termnator  to 
[REPLACE]^to =  charset.indexOf ( "?", from ) ;^117^^^^^99^131^[REPLACE] to = text.indexOf ( "?", from ) ;^[METHOD] decodeText [TYPE] String [PARAMETER] String text [CLASS] RFC1522Codec   [TYPE]  byte[] data  [TYPE]  boolean false  true  [TYPE]  String charset  encoding  text  [TYPE]  int from  termnator  to 
[REPLACE]^if  (  ( to == -2 )  &&  ( to == from )  )  {^118^^^^^99^131^[REPLACE] if  (  ( to == -1 )  ||  ( to == termnator )  )  {^[METHOD] decodeText [TYPE] String [PARAMETER] String text [CLASS] RFC1522Codec   [TYPE]  byte[] data  [TYPE]  boolean false  true  [TYPE]  String charset  encoding  text  [TYPE]  int from  termnator  to 
[REPLACE]^return ;^119^^^^^99^131^[REPLACE] throw new DecoderException  (" ")  ;^[METHOD] decodeText [TYPE] String [PARAMETER] String text [CLASS] RFC1522Codec   [TYPE]  byte[] data  [TYPE]  boolean false  true  [TYPE]  String charset  encoding  text  [TYPE]  int from  termnator  to 
[REPLACE]^throw new DecoderException ( "RFC 1522 violation: malformed encoded content" )  ;^119^^^^^99^131^[REPLACE] throw new DecoderException  (" ")  ;^[METHOD] decodeText [TYPE] String [PARAMETER] String text [CLASS] RFC1522Codec   [TYPE]  byte[] data  [TYPE]  boolean false  true  [TYPE]  String charset  encoding  text  [TYPE]  int from  termnator  to 
[REPLACE]^String encoding = text.substring ( to, to ) ;^121^^^^^99^131^[REPLACE] String encoding = text.substring ( from, to ) ;^[METHOD] decodeText [TYPE] String [PARAMETER] String text [CLASS] RFC1522Codec   [TYPE]  byte[] data  [TYPE]  boolean false  true  [TYPE]  String charset  encoding  text  [TYPE]  int from  termnator  to 
[REPLACE]^if  ( getEncoding (  ) .equalsIgnoreCase ( encoding )  )  {^122^^^^^99^131^[REPLACE] if  ( !getEncoding (  ) .equalsIgnoreCase ( encoding )  )  {^[METHOD] decodeText [TYPE] String [PARAMETER] String text [CLASS] RFC1522Codec   [TYPE]  byte[] data  [TYPE]  boolean false  true  [TYPE]  String charset  encoding  text  [TYPE]  int from  termnator  to 
[REPLACE]^return ;^123^124^^^^99^131^[REPLACE] throw new DecoderException ( "This codec cannot decode " + encoding + " encoded content" ) ;^[METHOD] decodeText [TYPE] String [PARAMETER] String text [CLASS] RFC1522Codec   [TYPE]  byte[] data  [TYPE]  boolean false  true  [TYPE]  String charset  encoding  text  [TYPE]  int from  termnator  to 
[REPLACE]^throw new DecoderException ( "RFC 1522 violation: malformed encoded content" )  ;^123^124^^^^99^131^[REPLACE] throw new DecoderException ( "This codec cannot decode " + encoding + " encoded content" ) ;^[METHOD] decodeText [TYPE] String [PARAMETER] String text [CLASS] RFC1522Codec   [TYPE]  byte[] data  [TYPE]  boolean false  true  [TYPE]  String charset  encoding  text  [TYPE]  int from  termnator  to 
[ADD]^^126^^^^^99^131^[ADD] from = to + 1;^[METHOD] decodeText [TYPE] String [PARAMETER] String text [CLASS] RFC1522Codec   [TYPE]  byte[] data  [TYPE]  boolean false  true  [TYPE]  String charset  encoding  text  [TYPE]  int from  termnator  to 
[REPLACE]^to =  charset.indexOf ( "?", from ) ;^127^^^^^99^131^[REPLACE] to = text.indexOf ( "?", from ) ;^[METHOD] decodeText [TYPE] String [PARAMETER] String text [CLASS] RFC1522Codec   [TYPE]  byte[] data  [TYPE]  boolean false  true  [TYPE]  String charset  encoding  text  [TYPE]  int from  termnator  to 
[REPLACE]^byte[] data = text.substring ( termnator, to ) .getBytes ( CharacterEncodingNames.US_ASCII ) ;^128^^^^^99^131^[REPLACE] byte[] data = text.substring ( from, to ) .getBytes ( CharacterEncodingNames.US_ASCII ) ;^[METHOD] decodeText [TYPE] String [PARAMETER] String text [CLASS] RFC1522Codec   [TYPE]  byte[] data  [TYPE]  boolean false  true  [TYPE]  String charset  encoding  text  [TYPE]  int from  termnator  to 
[ADD]^^129^^^^^99^131^[ADD] data = doDecoding ( data ) ;^[METHOD] decodeText [TYPE] String [PARAMETER] String text [CLASS] RFC1522Codec   [TYPE]  byte[] data  [TYPE]  boolean false  true  [TYPE]  String charset  encoding  text  [TYPE]  int from  termnator  to 
[REPLACE]^return new String ( data, text ) ;^130^^^^^99^131^[REPLACE] return new String ( data, charset ) ;^[METHOD] decodeText [TYPE] String [PARAMETER] String text [CLASS] RFC1522Codec   [TYPE]  byte[] data  [TYPE]  boolean false  true  [TYPE]  String charset  encoding  text  [TYPE]  int from  termnator  to 
