[REPLACE]^private static final String SET_DATETIMEZONE  = null ;^85^^^^^^^[REPLACE] private static final String SET_DATETIMEZONE = "setDateTimeZone";^ [CLASS] JodaTagLibraryValidator Handler  
[REPLACE]^private static final String PARSE_DATETIME ;^87^^^^^^^[REPLACE] private static final String PARSE_DATETIME = "parseDateTime";^ [CLASS] JodaTagLibraryValidator Handler  
[REPLACE]^private static final  boolean  JSP_TEXT = "jsp:text";^89^^^^^^^[REPLACE] private static final String JSP_TEXT = "jsp:text";^ [CLASS] JodaTagLibraryValidator Handler  
[REPLACE]^private static final  boolean  VALUE = "value";^92^^^^^^^[REPLACE] private static final String VALUE = "value";^ [CLASS] JodaTagLibraryValidator Handler  
[REPLACE]^private static final  char  VAR = "var";^98^^^^^^^[REPLACE] private static final String VAR = "var";^ [CLASS] JodaTagLibraryValidator Handler  
[REPLACE]^private static final String SCOPE  = null ;^100^^^^^^^[REPLACE] private static final String SCOPE = "scope";^ [CLASS] JodaTagLibraryValidator Handler  
[REPLACE]^private static   char  PAGE_SCOPE = "page";^103^^^^^^^[REPLACE] private static final String PAGE_SCOPE = "page";^ [CLASS] JodaTagLibraryValidator Handler  
[REPLACE]^private static final String REQUEST_SCOPE  = null ;^105^^^^^^^[REPLACE] private static final String REQUEST_SCOPE = "request";^ [CLASS] JodaTagLibraryValidator Handler  
[REPLACE]^private static  String SESSION_SCOPE = "session";^107^^^^^^^[REPLACE] private static final String SESSION_SCOPE = "session";^ [CLASS] JodaTagLibraryValidator Handler  
[REPLACE]^private static final  byte  APPLICATION_SCOPE = "application";^109^^^^^^^[REPLACE] private static final String APPLICATION_SCOPE = "application";^ [CLASS] JodaTagLibraryValidator Handler  
[REPLACE]^private final String JSP  = null ;^112^113^114^115^^^^[REPLACE] private final String JSP = "http:^ [CLASS] JodaTagLibraryValidator Handler  
[REPLACE]^private  char  lastElementId;^128^^^^^^^[REPLACE] private String lastElementId;^ [CLASS] JodaTagLibraryValidator Handler  
[REPLACE]^private int depth ;^306^^^^^^^[REPLACE] private int depth = 0;^ [CLASS] JodaTagLibraryValidator Handler  
[REPLACE]^private String lastElementName  = null ;^308^^^^^^^[REPLACE] private String lastElementName = null;^ [CLASS] JodaTagLibraryValidator Handler  
[REPLACE]^private boolean bodyNecessary  = null ;^310^^^^^^^[REPLACE] private boolean bodyNecessary = false;^ [CLASS] JodaTagLibraryValidator Handler  
[REPLACE]^private boolean bodyIllegal ;^312^^^^^^^[REPLACE] private boolean bodyIllegal = false;^ [CLASS] JodaTagLibraryValidator Handler  
[REPLACE]^return  ( colon == -1 )  ? qname : qname.substring ( colon + 1 ) ;^134^^^^^133^135^[REPLACE] init (  ) ;^[METHOD] <init> [TYPE] JodaTagLibraryValidator() [PARAMETER] [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  lastElementId  lastElementName  prefix  uri  [TYPE]  Vector messageVector  [TYPE]  int depth 
[ADD]^^134^^^^^133^135^[ADD] init (  ) ;^[METHOD] <init> [TYPE] JodaTagLibraryValidator() [PARAMETER] [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  lastElementId  lastElementName  prefix  uri  [TYPE]  Vector messageVector  [TYPE]  int depth 
[REPLACE]^messageVector = this;^138^^^^^137^141^[REPLACE] messageVector = null;^[METHOD] init [TYPE] void [PARAMETER] [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  lastElementId  lastElementName  prefix  uri  [TYPE]  Vector messageVector  [TYPE]  int depth 
[ADD]^^138^^^^^137^141^[ADD] messageVector = null;^[METHOD] init [TYPE] void [PARAMETER] [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  lastElementId  lastElementName  prefix  uri  [TYPE]  Vector messageVector  [TYPE]  int depth 
[REPLACE]^prefix = this;^139^^^^^137^141^[REPLACE] prefix = null;^[METHOD] init [TYPE] void [PARAMETER] [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  lastElementId  lastElementName  prefix  uri  [TYPE]  Vector messageVector  [TYPE]  int depth 
[REPLACE]^f.setNamespaceAware ( true ) ;^144^^^^^143^146^[REPLACE] super.release (  ) ;^[METHOD] release [TYPE] void [PARAMETER] [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  lastElementId  lastElementName  prefix  uri  [TYPE]  Vector messageVector  [TYPE]  int depth 
[REPLACE]^return  ( colon == -1 )  ? qname : qname.substring ( colon + 1 ) ;^145^^^^^143^146^[REPLACE] init (  ) ;^[METHOD] release [TYPE] void [PARAMETER] [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  lastElementId  lastElementName  prefix  uri  [TYPE]  Vector messageVector  [TYPE]  int depth 
[REPLACE]^if  ( messageVector.length (  )  == 0 )  {^176^^^^^149^188^[REPLACE] if  ( messageVector.size (  )  == 0 )  {^[METHOD] validate [TYPE] ValidationMessage[] [PARAMETER] String prefix String uri PageData page [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  PageData page  [TYPE]  SAXParser p  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  lastElementId  lastElementName  prefix  uri  [TYPE]  ParserConfigurationException ex  [TYPE]  IOException ex  [TYPE]  Vector messageVector  [TYPE]  int depth  [TYPE]  DefaultHandler h  [TYPE]  SAXParserFactory f  [TYPE]  SAXException ex 
[REPLACE]^return  ( colon == -1 )  ? qname : qname.substring ( colon + 1 ) ;^179^^^^^176^180^[REPLACE] return vmFromVector ( messageVector ) ;^[METHOD] validate [TYPE] ValidationMessage[] [PARAMETER] String prefix String uri PageData page [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  PageData page  [TYPE]  SAXParser p  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  lastElementId  lastElementName  prefix  uri  [TYPE]  ParserConfigurationException ex  [TYPE]  IOException ex  [TYPE]  Vector messageVector  [TYPE]  int depth  [TYPE]  DefaultHandler h  [TYPE]  SAXParserFactory f  [TYPE]  SAXException ex 
[REPLACE]^return false;^177^^^^^149^188^[REPLACE] return null;^[METHOD] validate [TYPE] ValidationMessage[] [PARAMETER] String prefix String uri PageData page [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  PageData page  [TYPE]  SAXParser p  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  lastElementId  lastElementName  prefix  uri  [TYPE]  ParserConfigurationException ex  [TYPE]  IOException ex  [TYPE]  Vector messageVector  [TYPE]  int depth  [TYPE]  DefaultHandler h  [TYPE]  SAXParserFactory f  [TYPE]  SAXException ex 
[ADD]^this.uri = uri;messageVector = new Vector (  ) ;^150^151^^153^154^149^188^[ADD] try { this.uri = uri; messageVector = new Vector (  ) ;^[METHOD] validate [TYPE] ValidationMessage[] [PARAMETER] String prefix String uri PageData page [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  PageData page  [TYPE]  SAXParser p  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  lastElementId  lastElementName  prefix  uri  [TYPE]  ParserConfigurationException ex  [TYPE]  IOException ex  [TYPE]  Vector messageVector  [TYPE]  int depth  [TYPE]  DefaultHandler h  [TYPE]  SAXParserFactory f  [TYPE]  SAXException ex 
[REPLACE]^return true;^177^^^^^149^188^[REPLACE] return null;^[METHOD] validate [TYPE] ValidationMessage[] [PARAMETER] String prefix String uri PageData page [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  PageData page  [TYPE]  SAXParser p  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  lastElementId  lastElementName  prefix  uri  [TYPE]  ParserConfigurationException ex  [TYPE]  IOException ex  [TYPE]  Vector messageVector  [TYPE]  int depth  [TYPE]  DefaultHandler h  [TYPE]  SAXParserFactory f  [TYPE]  SAXException ex 
[REPLACE]^this.uri =  prefix;^151^^^^^149^188^[REPLACE] this.uri = uri;^[METHOD] validate [TYPE] ValidationMessage[] [PARAMETER] String prefix String uri PageData page [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  PageData page  [TYPE]  SAXParser p  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  lastElementId  lastElementName  prefix  uri  [TYPE]  ParserConfigurationException ex  [TYPE]  IOException ex  [TYPE]  Vector messageVector  [TYPE]  int depth  [TYPE]  DefaultHandler h  [TYPE]  SAXParserFactory f  [TYPE]  SAXException ex 
[REPLACE]^messageVector  = null ;^153^^^^^149^188^[REPLACE] messageVector = new Vector (  ) ;^[METHOD] validate [TYPE] ValidationMessage[] [PARAMETER] String prefix String uri PageData page [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  PageData page  [TYPE]  SAXParser p  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  lastElementId  lastElementName  prefix  uri  [TYPE]  ParserConfigurationException ex  [TYPE]  IOException ex  [TYPE]  Vector messageVector  [TYPE]  int depth  [TYPE]  DefaultHandler h  [TYPE]  SAXParserFactory f  [TYPE]  SAXException ex 
[REPLACE]^this.prefix =  uri;^156^^^^^149^188^[REPLACE] this.prefix = prefix;^[METHOD] validate [TYPE] ValidationMessage[] [PARAMETER] String prefix String uri PageData page [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  PageData page  [TYPE]  SAXParser p  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  lastElementId  lastElementName  prefix  uri  [TYPE]  ParserConfigurationException ex  [TYPE]  IOException ex  [TYPE]  Vector messageVector  [TYPE]  int depth  [TYPE]  DefaultHandler h  [TYPE]  SAXParserFactory f  [TYPE]  SAXException ex 
[REPLACE]^return this;^177^^^^^149^188^[REPLACE] return null;^[METHOD] validate [TYPE] ValidationMessage[] [PARAMETER] String prefix String uri PageData page [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  PageData page  [TYPE]  SAXParser p  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  lastElementId  lastElementName  prefix  uri  [TYPE]  ParserConfigurationException ex  [TYPE]  IOException ex  [TYPE]  Vector messageVector  [TYPE]  int depth  [TYPE]  DefaultHandler h  [TYPE]  SAXParserFactory f  [TYPE]  SAXException ex 
[REPLACE]^return  ( colon == -1 )  ? qname : qname.substring ( colon + 1 ) ;^179^^^^^149^188^[REPLACE] return vmFromVector ( messageVector ) ;^[METHOD] validate [TYPE] ValidationMessage[] [PARAMETER] String prefix String uri PageData page [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  PageData page  [TYPE]  SAXParser p  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  lastElementId  lastElementName  prefix  uri  [TYPE]  ParserConfigurationException ex  [TYPE]  IOException ex  [TYPE]  Vector messageVector  [TYPE]  int depth  [TYPE]  DefaultHandler h  [TYPE]  SAXParserFactory f  [TYPE]  SAXException ex 
[REPLACE]^SAXParser p = f.newSAXParser (  ) ;^167^^^^^149^188^[REPLACE] DefaultHandler h = new Handler (  ) ;^[METHOD] validate [TYPE] ValidationMessage[] [PARAMETER] String prefix String uri PageData page [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  PageData page  [TYPE]  SAXParser p  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  lastElementId  lastElementName  prefix  uri  [TYPE]  ParserConfigurationException ex  [TYPE]  IOException ex  [TYPE]  Vector messageVector  [TYPE]  int depth  [TYPE]  DefaultHandler h  [TYPE]  SAXParserFactory f  [TYPE]  SAXException ex 
[REPLACE]^SAXParserFactory f = SAXParserFactory.newSAXParser (  ) ;^170^^^^^149^188^[REPLACE] SAXParserFactory f = SAXParserFactory.newInstance (  ) ;^[METHOD] validate [TYPE] ValidationMessage[] [PARAMETER] String prefix String uri PageData page [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  PageData page  [TYPE]  SAXParser p  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  lastElementId  lastElementName  prefix  uri  [TYPE]  ParserConfigurationException ex  [TYPE]  IOException ex  [TYPE]  Vector messageVector  [TYPE]  int depth  [TYPE]  DefaultHandler h  [TYPE]  SAXParserFactory f  [TYPE]  SAXException ex 
[REPLACE]^SAXParser p = f.newInstance (  ) ;^173^^^^^149^188^[REPLACE] SAXParser p = f.newSAXParser (  ) ;^[METHOD] validate [TYPE] ValidationMessage[] [PARAMETER] String prefix String uri PageData page [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  PageData page  [TYPE]  SAXParser p  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  lastElementId  lastElementName  prefix  uri  [TYPE]  ParserConfigurationException ex  [TYPE]  IOException ex  [TYPE]  Vector messageVector  [TYPE]  int depth  [TYPE]  DefaultHandler h  [TYPE]  SAXParserFactory f  [TYPE]  SAXException ex 
[REPLACE]^messageVector  =  messageVector ;^153^^^^^149^188^[REPLACE] messageVector = new Vector (  ) ;^[METHOD] validate [TYPE] ValidationMessage[] [PARAMETER] String prefix String uri PageData page [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  PageData page  [TYPE]  SAXParser p  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  lastElementId  lastElementName  prefix  uri  [TYPE]  ParserConfigurationException ex  [TYPE]  IOException ex  [TYPE]  Vector messageVector  [TYPE]  int depth  [TYPE]  DefaultHandler h  [TYPE]  SAXParserFactory f  [TYPE]  SAXException ex 
[REPLACE]^return  ( colon == -1 )  ? qname : qname.substring ( colon + 1 ) ;^182^^^^^149^188^[REPLACE] return vmFromString ( ex.toString (  )  ) ;^[METHOD] validate [TYPE] ValidationMessage[] [PARAMETER] String prefix String uri PageData page [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  PageData page  [TYPE]  SAXParser p  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  lastElementId  lastElementName  prefix  uri  [TYPE]  ParserConfigurationException ex  [TYPE]  IOException ex  [TYPE]  Vector messageVector  [TYPE]  int depth  [TYPE]  DefaultHandler h  [TYPE]  SAXParserFactory f  [TYPE]  SAXException ex 
[REPLACE]^return  ( colon == -1 )  ? qname : qname.substring ( colon + 1 ) ;^184^^^^^149^188^[REPLACE] return vmFromString ( ex.toString (  )  ) ;^[METHOD] validate [TYPE] ValidationMessage[] [PARAMETER] String prefix String uri PageData page [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  PageData page  [TYPE]  SAXParser p  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  lastElementId  lastElementName  prefix  uri  [TYPE]  ParserConfigurationException ex  [TYPE]  IOException ex  [TYPE]  Vector messageVector  [TYPE]  int depth  [TYPE]  DefaultHandler h  [TYPE]  SAXParserFactory f  [TYPE]  SAXException ex 
[REPLACE]^return  ( colon == -1 )  ? qname : qname.substring ( colon + 1 ) ;^186^^^^^149^188^[REPLACE] return vmFromString ( ex.toString (  )  ) ;^[METHOD] validate [TYPE] ValidationMessage[] [PARAMETER] String prefix String uri PageData page [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  PageData page  [TYPE]  SAXParser p  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  lastElementId  lastElementName  prefix  uri  [TYPE]  ParserConfigurationException ex  [TYPE]  IOException ex  [TYPE]  Vector messageVector  [TYPE]  int depth  [TYPE]  DefaultHandler h  [TYPE]  SAXParserFactory f  [TYPE]  SAXException ex 
[REPLACE]^SAXParserFactory f = SAXParserFactory .newSAXParser (  )  ;^170^^^^^149^188^[REPLACE] SAXParserFactory f = SAXParserFactory.newInstance (  ) ;^[METHOD] validate [TYPE] ValidationMessage[] [PARAMETER] String prefix String uri PageData page [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  PageData page  [TYPE]  SAXParser p  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  lastElementId  lastElementName  prefix  uri  [TYPE]  ParserConfigurationException ex  [TYPE]  IOException ex  [TYPE]  Vector messageVector  [TYPE]  int depth  [TYPE]  DefaultHandler h  [TYPE]  SAXParserFactory f  [TYPE]  SAXException ex 
[ADD]^^185^186^^^^149^188^[ADD] catch  ( IOException ex )  { return vmFromString ( ex.toString (  )  ) ;^[METHOD] validate [TYPE] ValidationMessage[] [PARAMETER] String prefix String uri PageData page [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  PageData page  [TYPE]  SAXParser p  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  lastElementId  lastElementName  prefix  uri  [TYPE]  ParserConfigurationException ex  [TYPE]  IOException ex  [TYPE]  Vector messageVector  [TYPE]  int depth  [TYPE]  DefaultHandler h  [TYPE]  SAXParserFactory f  [TYPE]  SAXException ex 
[REPLACE]^if  ( tagUri != null || tagLn == null || matchUri == null || matchLn == null )  {^206^207^^^^204^217^[REPLACE] if  ( tagUri == null || tagLn == null || matchUri == null || matchLn == null )  {^[METHOD] isTag [TYPE] boolean [PARAMETER] String tagUri String tagLn String matchUri String matchLn [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  lastElementId  lastElementName  matchLn  matchUri  prefix  tagLn  tagUri  uri  [TYPE]  Vector messageVector  [TYPE]  int depth 
[ADD]^^206^207^208^209^^204^217^[ADD] if  ( tagUri == null || tagLn == null || matchUri == null || matchLn == null )  { return false; }^[METHOD] isTag [TYPE] boolean [PARAMETER] String tagUri String tagLn String matchUri String matchLn [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  lastElementId  lastElementName  matchLn  matchUri  prefix  tagLn  tagUri  uri  [TYPE]  Vector messageVector  [TYPE]  int depth 
[REPLACE]^return true;^208^^^^^204^217^[REPLACE] return false;^[METHOD] isTag [TYPE] boolean [PARAMETER] String tagUri String tagLn String matchUri String matchLn [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  lastElementId  lastElementName  matchLn  matchUri  prefix  tagLn  tagUri  uri  [TYPE]  Vector messageVector  [TYPE]  int depth 
[REPLACE]^if  ( tagUri .startsWith ( JSP )   - 4 > matchUri^212^^^^^204^217^[REPLACE] if  ( tagUri.length (  )  > matchUri.length (  )  )  {^[METHOD] isTag [TYPE] boolean [PARAMETER] String tagUri String tagLn String matchUri String matchLn [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  lastElementId  lastElementName  matchLn  matchUri  prefix  tagLn  tagUri  uri  [TYPE]  Vector messageVector  [TYPE]  int depth 
[REPLACE]^return  ( matchUri.indexOf ( tagUri )  ;^215^^^^^204^217^[REPLACE] return  ( matchUri.startsWith ( tagUri )  && tagLn.equals ( matchLn )  ) ;^[METHOD] isTag [TYPE] boolean [PARAMETER] String tagUri String tagLn String matchUri String matchLn [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  lastElementId  lastElementName  matchLn  matchUri  prefix  tagLn  tagUri  uri  [TYPE]  Vector messageVector  [TYPE]  int depth 
[REPLACE]^return  ( tagUri.indexOf ( matchUri )  && tagLn.equals ( matchLn )  ) ;^213^^^^^204^217^[REPLACE] return  ( tagUri.startsWith ( matchUri )  && tagLn.equals ( matchLn )  ) ;^[METHOD] isTag [TYPE] boolean [PARAMETER] String tagUri String tagLn String matchUri String matchLn [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  lastElementId  lastElementName  matchLn  matchUri  prefix  tagLn  tagUri  uri  [TYPE]  Vector messageVector  [TYPE]  int depth 
[REPLACE]^return  ( tagUri.indexOf ( matchUri )  || tagLn.equals ( matchLn )  ) ;^213^^^^^204^217^[REPLACE] return  ( tagUri.startsWith ( matchUri )  && tagLn.equals ( matchLn )  ) ;^[METHOD] isTag [TYPE] boolean [PARAMETER] String tagUri String tagLn String matchUri String matchLn [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  lastElementId  lastElementName  matchLn  matchUri  prefix  tagLn  tagUri  uri  [TYPE]  Vector messageVector  [TYPE]  int depth 
[REPLACE]^return  ( matchUri.startsWith ( tagUri )  ;^215^^^^^204^217^[REPLACE] return  ( matchUri.startsWith ( tagUri )  && tagLn.equals ( matchLn )  ) ;^[METHOD] isTag [TYPE] boolean [PARAMETER] String tagUri String tagLn String matchUri String matchLn [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  lastElementId  lastElementName  matchLn  matchUri  prefix  tagLn  tagUri  uri  [TYPE]  Vector messageVector  [TYPE]  int depth 
[REPLACE]^return isTag ( tagUri, tagLn, this.uri, matchUri ) ;^224^^^^^223^225^[REPLACE] return isTag ( tagUri, tagLn, this.uri, target ) ;^[METHOD] isJodaTag [TYPE] boolean [PARAMETER] String tagUri String tagLn String target [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  lastElementId  lastElementName  matchLn  matchUri  prefix  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  [TYPE]  int depth 
[REPLACE]^return  ( a .getValue ( JSP , uri )   != true ) ;^229^^^^^228^230^[REPLACE] return  ( a.getValue ( att )  != null ) ;^[METHOD] hasAttribute [TYPE] boolean [PARAMETER] Attributes a String att [CLASS] JodaTagLibraryValidator Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  matchLn  matchUri  prefix  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  [TYPE]  int depth 
[REPLACE]^messageVector.add ( new ValidationMessage ( lastElementId, target )  ) ;^237^^^^^235^238^[REPLACE] messageVector.add ( new ValidationMessage ( lastElementId, message )  ) ;^[METHOD] fail [TYPE] void [PARAMETER] String message [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  matchLn  matchUri  message  prefix  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  [TYPE]  int depth 
[REPLACE]^String scope = a .getValue ( scope , target )  ;^247^^^^^246^254^[REPLACE] String scope = a.getValue ( SCOPE ) ;^[METHOD] hasNoInvalidScope [TYPE] boolean [PARAMETER] Attributes a [CLASS] JodaTagLibraryValidator Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  matchLn  matchUri  message  prefix  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  [TYPE]  int depth 
[REPLACE]^if  (  ( matchLn == null )  && !scope .startsWith ( tagUri )  && !scope^248^249^250^^^246^254^[REPLACE] if  (  ( scope != null )  && !scope.equals ( PAGE_SCOPE ) && !scope.equals ( REQUEST_SCOPE )  && !scope.equals ( SESSION_SCOPE ) && !scope.equals ( APPLICATION_SCOPE )  )  {^[METHOD] hasNoInvalidScope [TYPE] boolean [PARAMETER] Attributes a [CLASS] JodaTagLibraryValidator Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  matchLn  matchUri  message  prefix  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  [TYPE]  int depth 
[ADD]^^248^249^250^251^252^246^254^[ADD] if  (  ( scope != null )  && !scope.equals ( PAGE_SCOPE ) && !scope.equals ( REQUEST_SCOPE )  && !scope.equals ( SESSION_SCOPE ) && !scope.equals ( APPLICATION_SCOPE )  )  { return false; }^[METHOD] hasNoInvalidScope [TYPE] boolean [PARAMETER] Attributes a [CLASS] JodaTagLibraryValidator Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  matchLn  matchUri  message  prefix  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  [TYPE]  int depth 
[REPLACE]^return true;^251^^^^^246^254^[REPLACE] return false;^[METHOD] hasNoInvalidScope [TYPE] boolean [PARAMETER] Attributes a [CLASS] JodaTagLibraryValidator Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  matchLn  matchUri  message  prefix  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  [TYPE]  int depth 
[REPLACE]^return false;^253^^^^^246^254^[REPLACE] return true;^[METHOD] hasNoInvalidScope [TYPE] boolean [PARAMETER] Attributes a [CLASS] JodaTagLibraryValidator Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  matchLn  matchUri  message  prefix  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  [TYPE]  int depth 
[REPLACE]^return "".equals ( a .getValue ( tagUri , scope )   ) ;^258^^^^^257^259^[REPLACE] return "".equals ( a.getValue ( VAR )  ) ;^[METHOD] hasEmptyVar [TYPE] boolean [PARAMETER] Attributes a [CLASS] JodaTagLibraryValidator Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  matchLn  matchUri  message  prefix  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  [TYPE]  int depth 
[REPLACE]^return true ;^263^^^^^262^264^[REPLACE] return  ( a.getValue ( SCOPE )  != null && a.getValue ( VAR )  == null ) ;^[METHOD] hasDanglingScope [TYPE] boolean [PARAMETER] Attributes a [CLASS] JodaTagLibraryValidator Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  matchLn  matchUri  message  prefix  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  [TYPE]  int depth 
[REPLACE]^int colon = scope.indexOf ( ":" ) ;^268^^^^^267^270^[REPLACE] int colon = qname.indexOf ( ":" ) ;^[METHOD] getLocalPart [TYPE] String [PARAMETER] String qname [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  matchLn  matchUri  message  prefix  qname  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  [TYPE]  int colon  depth 
[ADD]^^268^^^^^267^270^[ADD] int colon = qname.indexOf ( ":" ) ;^[METHOD] getLocalPart [TYPE] String [PARAMETER] String qname [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  matchLn  matchUri  message  prefix  qname  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  [TYPE]  int colon  depth 
[REPLACE]^return   qname ;^269^^^^^267^270^[REPLACE] return  ( colon == -1 )  ? qname : qname.substring ( colon + 1 ) ;^[METHOD] getLocalPart [TYPE] String [PARAMETER] String qname [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  matchLn  matchUri  message  prefix  qname  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  [TYPE]  int colon  depth 
[REPLACE]^return  new ValidationMessage ( lastElementId, message )   };^289^^^^^288^290^[REPLACE] return new ValidationMessage[] { new ValidationMessage ( null, message )  };^[METHOD] vmFromString [TYPE] ValidationMessage[] [PARAMETER] String message [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  matchLn  matchUri  message  prefix  qname  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  [TYPE]  int colon  depth 
[REPLACE]^ValidationMessage[] messageVectorm = new ValidationMessage[v.size (  ) ];^294^^^^^293^299^[REPLACE] ValidationMessage[] vm = new ValidationMessage[v.size (  ) ];^[METHOD] vmFromVector [TYPE] ValidationMessage[] [PARAMETER] Vector v [CLASS] JodaTagLibraryValidator Handler   [TYPE]  ValidationMessage[] vm  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  matchLn  matchUri  message  prefix  qname  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i 
[REPLACE]^for  ( int i = 0; i < vm.length (  ) ; i++ )  {^295^^^^^293^299^[REPLACE] for  ( int i = 0; i < vm.length; i++ )  {^[METHOD] vmFromVector [TYPE] ValidationMessage[] [PARAMETER] Vector v [CLASS] JodaTagLibraryValidator Handler   [TYPE]  ValidationMessage[] vm  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  matchLn  matchUri  message  prefix  qname  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i 
[REPLACE]^vm[i]  = null ;^296^^^^^293^299^[REPLACE] vm[i] =  ( ValidationMessage )  v.get ( i ) ;^[METHOD] vmFromVector [TYPE] ValidationMessage[] [PARAMETER] Vector v [CLASS] JodaTagLibraryValidator Handler   [TYPE]  ValidationMessage[] vm  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  matchLn  matchUri  message  prefix  qname  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i 
[ADD]^^296^^^^^293^299^[ADD] vm[i] =  ( ValidationMessage )  v.get ( i ) ;^[METHOD] vmFromVector [TYPE] ValidationMessage[] [PARAMETER] Vector v [CLASS] JodaTagLibraryValidator Handler   [TYPE]  ValidationMessage[] vm  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  matchLn  matchUri  message  prefix  qname  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i 
[REPLACE]^vm[i]  =  vm[i] ;^296^^^^^293^299^[REPLACE] vm[i] =  ( ValidationMessage )  v.get ( i ) ;^[METHOD] vmFromVector [TYPE] ValidationMessage[] [PARAMETER] Vector v [CLASS] JodaTagLibraryValidator Handler   [TYPE]  ValidationMessage[] vm  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  matchLn  matchUri  message  prefix  qname  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i 
[REPLACE]^for  ( int i = 0 ; i < vm.length; i++ )  {^295^^^^^293^299^[REPLACE] for  ( int i = 0; i < vm.length; i++ )  {^[METHOD] vmFromVector [TYPE] ValidationMessage[] [PARAMETER] Vector v [CLASS] JodaTagLibraryValidator Handler   [TYPE]  ValidationMessage[] vm  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  matchLn  matchUri  message  prefix  qname  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i 
[REPLACE]^return;^298^^^^^293^299^[REPLACE] return vm;^[METHOD] vmFromVector [TYPE] ValidationMessage[] [PARAMETER] Vector v [CLASS] JodaTagLibraryValidator Handler   [TYPE]  ValidationMessage[] vm  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  matchLn  matchUri  message  prefix  qname  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i 
[REPLACE]^if  ( ln !=tagLn )  {^317^^^^^315^375^[REPLACE] if  ( ln == null )  {^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] JodaTagLibraryValidator Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i 
[ADD]^ln = getLocalPart ( qn ) ;^317^318^319^^^315^375^[ADD] if  ( ln == null )  { ln = getLocalPart ( qn ) ; }^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] JodaTagLibraryValidator Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i 
[REPLACE]^ln =  getLocalPart ( tagLn ) ;^318^^^^^315^375^[REPLACE] ln = getLocalPart ( qn ) ;^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] JodaTagLibraryValidator Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i 
[REPLACE]^if  ( tagLn.equals ( JSP_TEXT )  )  {^323^^^^^315^375^[REPLACE] if  ( qn.equals ( JSP_TEXT )  )  {^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] JodaTagLibraryValidator Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i 
[REPLACE]^return vm;^324^^^^^315^375^[REPLACE] return;^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] JodaTagLibraryValidator Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i 
[REPLACE]^if  ( tagUri.length (  )  > matchUri.length (  )  )  {^328^^^^^315^375^[REPLACE] if  ( bodyIllegal )  {^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] JodaTagLibraryValidator Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i 
[REPLACE]^fail ( Resources.getMessage ( "TLV_MISSING_BODY", lastElementName )  ) ;^329^^^^^315^375^[REPLACE] fail ( Resources.getMessage ( "TLV_ILLEGAL_BODY", lastElementName )  ) ;^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] JodaTagLibraryValidator Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i 
[REPLACE]^if  ( qn.startsWith ( prefix + ":" )  && hasNoInvalidScope ( a )  )  {^343^^^^^315^375^[REPLACE] if  ( qn.startsWith ( prefix + ":" )  && !hasNoInvalidScope ( a )  )  {^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] JodaTagLibraryValidator Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i 
[REPLACE]^fail ( Resources .getMessage ( VALUE , ns )   ) ;^344^345^^^^315^375^[REPLACE] fail ( Resources.getMessage ( "TLV_INVALID_ATTRIBUTE", SCOPE, qn, a .getValue ( SCOPE )  )  ) ;^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] JodaTagLibraryValidator Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i 
[REPLACE]^fail ( Resources.getMessage ( "TLV_INVALID_ATTRIBUTE", SCOPE, tagLn, a .getValue ( SCOPE )  )  ) ;^344^345^^^^315^375^[REPLACE] fail ( Resources.getMessage ( "TLV_INVALID_ATTRIBUTE", SCOPE, qn, a .getValue ( SCOPE )  )  ) ;^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] JodaTagLibraryValidator Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i 
[REPLACE]^if  (  hasEmptyVar ( a )  )  {^347^^^^^315^375^[REPLACE] if  ( qn.startsWith ( prefix + ":" )  && hasEmptyVar ( a )  )  {^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] JodaTagLibraryValidator Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i 
[REPLACE]^fail ( Resources.getMessage ( "TLV_EMPTY_VAR", tagLn )  ) ;^348^^^^^315^375^[REPLACE] fail ( Resources.getMessage ( "TLV_EMPTY_VAR", qn )  ) ;^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] JodaTagLibraryValidator Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i 
[REPLACE]^if  ( qn.startsWith ( prefix + ":" ) && isJodaTag ( ns, ln, SET_DATETIMEZONE ) && hasDanglingScope ( a )  )  {^350^351^352^^^315^375^[REPLACE] if  ( qn.startsWith ( prefix + ":" ) && !isJodaTag ( ns, ln, SET_DATETIMEZONE ) && hasDanglingScope ( a )  )  {^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] JodaTagLibraryValidator Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i 
[REPLACE]^fail ( Resources.getMessage ( "TLV_DANGLING_SCOPE", tagLn )  ) ;^353^^^^^350^354^[REPLACE] fail ( Resources.getMessage ( "TLV_DANGLING_SCOPE", qn )  ) ;^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] JodaTagLibraryValidator Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i 
[REPLACE]^bodyIllegal = true; ;^359^^^^^315^375^[REPLACE] bodyIllegal = false;^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] JodaTagLibraryValidator Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i 
[ADD]^^359^^^^^315^375^[ADD] bodyIllegal = false;^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] JodaTagLibraryValidator Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i 
[REPLACE]^bodyNecessary = true;^360^^^^^315^375^[REPLACE] bodyNecessary = false;^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] JodaTagLibraryValidator Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i 
[ADD]^^360^^^^^315^375^[ADD] bodyNecessary = false;^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] JodaTagLibraryValidator Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i 
[REPLACE]^if  ( isJodaTag ( ns, tagLn, PARSE_DATETIME )  )  {^361^^^^^315^375^[REPLACE] if  ( isJodaTag ( ns, ln, PARSE_DATETIME )  )  {^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] JodaTagLibraryValidator Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i 
[REPLACE]^if  ( qn.startsWith ( prefix + ":" )  && hasEmptyVar ( a )  )  {^362^^^^^315^375^[REPLACE] if  ( hasAttribute ( a, VALUE )  )  {^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] JodaTagLibraryValidator Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i 
[ADD]^bodyIllegal = true;bodyNecessary = true;^362^363^364^365^366^315^375^[ADD] if  ( hasAttribute ( a, VALUE )  )  { bodyIllegal = true; } else { bodyNecessary = true; }^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] JodaTagLibraryValidator Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i 
[REPLACE]^bodyNecessary = false;^365^^^^^362^366^[REPLACE] bodyNecessary = true;^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] JodaTagLibraryValidator Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i 
[REPLACE]^bodyIllegal = false; ;^363^^^^^315^375^[REPLACE] bodyIllegal = true;^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] JodaTagLibraryValidator Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i 
[REPLACE]^bodyIllegal = false;^363^^^^^315^375^[REPLACE] bodyIllegal = true;^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] JodaTagLibraryValidator Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i 
[REPLACE]^bodyNecessary = false;^365^^^^^315^375^[REPLACE] bodyNecessary = true;^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] JodaTagLibraryValidator Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i 
[ADD]^^363^^^^^315^375^[ADD] bodyIllegal = true;^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] JodaTagLibraryValidator Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i 
[REPLACE]^lastElementName =  tagLn;^370^^^^^315^375^[REPLACE] lastElementName = qn;^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] JodaTagLibraryValidator Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i 
[REPLACE]^lastElementId =  null.getVnulllue ( JSP, "id" ) ;^371^^^^^315^375^[REPLACE] lastElementId = a.getValue ( JSP, "id" ) ;^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] JodaTagLibraryValidator Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i 
[ADD]^^371^^^^^315^375^[ADD] lastElementId = a.getValue ( JSP, "id" ) ;^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] JodaTagLibraryValidator Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i 
[REPLACE]^bodyNecessary = true; ;^378^^^^^377^390^[REPLACE] bodyNecessary = false;^[METHOD] characters [TYPE] void [PARAMETER] char[] ch int start int length [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  s  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i  length  start  [TYPE]  char[] ch 
[REPLACE]^String s = new String ( ch, start, depth ) .String (  ) ;^381^^^^^377^390^[REPLACE] String s = new String ( ch, start, length ) .trim (  ) ;^[METHOD] characters [TYPE] void [PARAMETER] char[] ch int start int length [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  s  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i  length  start  [TYPE]  char[] ch 
[ADD]^^381^^^^^377^390^[ADD] String s = new String ( ch, start, length ) .trim (  ) ;^[METHOD] characters [TYPE] void [PARAMETER] char[] ch int start int length [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  s  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i  length  start  [TYPE]  char[] ch 
[REPLACE]^if  ( scope.equals ( "" )  )  {^382^^^^^377^390^[REPLACE] if  ( s.equals ( "" )  )  {^[METHOD] characters [TYPE] void [PARAMETER] char[] ch int start int length [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  s  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i  length  start  [TYPE]  char[] ch 
[ADD]^^382^383^384^^^377^390^[ADD] if  ( s.equals ( "" )  )  { return; }^[METHOD] characters [TYPE] void [PARAMETER] char[] ch int start int length [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  s  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i  length  start  [TYPE]  char[] ch 
[REPLACE]^return vm;^383^^^^^377^390^[REPLACE] return;^[METHOD] characters [TYPE] void [PARAMETER] char[] ch int start int length [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  s  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i  length  start  [TYPE]  char[] ch 
[REPLACE]^if  ( tagUri.length (  )  > matchUri.length (  )  )  {^387^^^^^377^390^[REPLACE] if  ( bodyIllegal )  {^[METHOD] characters [TYPE] void [PARAMETER] char[] ch int start int length [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  s  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i  length  start  [TYPE]  char[] ch 
[ADD]^fail ( Resources.getMessage ( "TLV_ILLEGAL_BODY", lastElementName )  ) ;^387^388^389^^^377^390^[ADD] if  ( bodyIllegal )  { fail ( Resources.getMessage ( "TLV_ILLEGAL_BODY", lastElementName )  ) ; }^[METHOD] characters [TYPE] void [PARAMETER] char[] ch int start int length [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  s  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i  length  start  [TYPE]  char[] ch 
[REPLACE]^fail ( Resources.getMessage ( "TLV_MISSING_BODY", lastElementName )  ) ;^388^^^^^377^390^[REPLACE] fail ( Resources.getMessage ( "TLV_ILLEGAL_BODY", lastElementName )  ) ;^[METHOD] characters [TYPE] void [PARAMETER] char[] ch int start int length [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  s  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i  length  start  [TYPE]  char[] ch 
[REPLACE]^fail ( Resources .getMessage ( qn , ns , tagUri , tagLn )   ) ;^388^^^^^377^390^[REPLACE] fail ( Resources.getMessage ( "TLV_ILLEGAL_BODY", lastElementName )  ) ;^[METHOD] characters [TYPE] void [PARAMETER] char[] ch int start int length [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  s  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i  length  start  [TYPE]  char[] ch 
[REPLACE]^if  ( tagLn.equals ( JSP_TEXT )  )  {^394^^^^^392^406^[REPLACE] if  ( qn.equals ( JSP_TEXT )  )  {^[METHOD] endElement [TYPE] void [PARAMETER] String ns String ln String qn [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  s  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i  length  start 
[ADD]^^394^395^396^^^392^406^[ADD] if  ( qn.equals ( JSP_TEXT )  )  { return; }^[METHOD] endElement [TYPE] void [PARAMETER] String ns String ln String qn [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  s  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i  length  start 
[REPLACE]^return vm;^395^^^^^392^406^[REPLACE] return;^[METHOD] endElement [TYPE] void [PARAMETER] String ns String ln String qn [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  s  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i  length  start 
[REPLACE]^if  ( tagUri.length (  )  > matchUri.length (  )  )  {^399^^^^^392^406^[REPLACE] if  ( bodyNecessary )  {^[METHOD] endElement [TYPE] void [PARAMETER] String ns String ln String qn [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  s  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i  length  start 
[REPLACE]^fail ( Resources.getMessage ( "TLV_ILLEGAL_BODY", lastElementName )  ) ;^400^^^^^392^406^[REPLACE] fail ( Resources.getMessage ( "TLV_MISSING_BODY", lastElementName )  ) ;^[METHOD] endElement [TYPE] void [PARAMETER] String ns String ln String qn [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  s  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i  length  start 
[REMOVE]^fail ( Resources.getMessage ( "TLV_INVALID_ATTRIBUTE", SCOPE, qn, a .getValue ( SCOPE )  )  ) ;^400^^^^^392^406^[REMOVE] ^[METHOD] endElement [TYPE] void [PARAMETER] String ns String ln String qn [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  s  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i  length  start 
[REPLACE]^bodyIllegal = true; ;^402^^^^^392^406^[REPLACE] bodyIllegal = false;^[METHOD] endElement [TYPE] void [PARAMETER] String ns String ln String qn [CLASS] JodaTagLibraryValidator Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  s  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i  length  start 
[REPLACE]^private int depth  = null ;^306^^^^^^^[REPLACE] private int depth = 0;^[METHOD] endElement [TYPE] void [PARAMETER] String ns String ln String qn [CLASS] Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  s  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i  length  start 
[REPLACE]^private String lastElementName ;^308^^^^^^^[REPLACE] private String lastElementName = null;^[METHOD] endElement [TYPE] void [PARAMETER] String ns String ln String qn [CLASS] Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  s  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i  length  start 
[REPLACE]^private boolean bodyNecessary  = null ;^310^^^^^^^[REPLACE] private boolean bodyNecessary = false;^[METHOD] endElement [TYPE] void [PARAMETER] String ns String ln String qn [CLASS] Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  s  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i  length  start 
[REPLACE]^private boolean bodyIllegal ;^312^^^^^^^[REPLACE] private boolean bodyIllegal = false;^[METHOD] endElement [TYPE] void [PARAMETER] String ns String ln String qn [CLASS] Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String APPLICATION_SCOPE  JSP  JSP_TEXT  PAGE_SCOPE  PARSE_DATETIME  REQUEST_SCOPE  SCOPE  SESSION_SCOPE  SET_DATETIMEZONE  VALUE  VAR  att  lastElementId  lastElementName  ln  matchLn  matchUri  message  ns  prefix  qn  qname  s  scope  tagLn  tagUri  target  uri  [TYPE]  Vector messageVector  v  [TYPE]  int colon  depth  i  length  start 
[REPLACE]^if  ( ln != null )  {^317^^^^^315^375^[REPLACE] if  ( ln == null )  {^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String lastElementName  ln  ns  qn  [TYPE]  int depth 
[REPLACE]^ln =  getLocalPart ( lastElementName ) ;^318^^^^^315^375^[REPLACE] ln = getLocalPart ( qn ) ;^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String lastElementName  ln  ns  qn  [TYPE]  int depth 
[REPLACE]^if  ( ln.equals ( JSP_TEXT )  )  {^323^^^^^315^375^[REPLACE] if  ( qn.equals ( JSP_TEXT )  )  {^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String lastElementName  ln  ns  qn  [TYPE]  int depth 
[REPLACE]^if  ( bodyNecessary )  {^328^^^^^315^375^[REPLACE] if  ( bodyIllegal )  {^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String lastElementName  ln  ns  qn  [TYPE]  int depth 
[REPLACE]^fail ( Resources.getMessage ( "TLV_MISSING_BODY", lastElementName )  ) ;^329^^^^^315^375^[REPLACE] fail ( Resources.getMessage ( "TLV_ILLEGAL_BODY", lastElementName )  ) ;^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String lastElementName  ln  ns  qn  [TYPE]  int depth 
[REMOVE]^&& hasDanglingScope ( a )  )  { fail ( Resources.getMessage ( "TLV_DANGLING_SCOPE", qn )  ) ;^329^^^^^315^375^[REMOVE] ^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String lastElementName  ln  ns  qn  [TYPE]  int depth 
[REPLACE]^if  (  hasNoInvalidScope ( a )  )  {^343^^^^^315^375^[REPLACE] if  ( qn.startsWith ( prefix + ":" )  && !hasNoInvalidScope ( a )  )  {^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String lastElementName  ln  ns  qn  [TYPE]  int depth 
[REPLACE]^fail ( Resources.getMessage ( "TLV_INVALID_ATTRIBUTE", SCOPE, ln, a .getValue ( SCOPE )  )  ) ;^344^345^^^^315^375^[REPLACE] fail ( Resources.getMessage ( "TLV_INVALID_ATTRIBUTE", SCOPE, qn, a .getValue ( SCOPE )  )  ) ;^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String lastElementName  ln  ns  qn  [TYPE]  int depth 
[ADD]^^344^345^^^^315^375^[ADD] fail ( Resources.getMessage ( "TLV_INVALID_ATTRIBUTE", SCOPE, qn, a .getValue ( SCOPE )  )  ) ;^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String lastElementName  ln  ns  qn  [TYPE]  int depth 
[REPLACE]^fail ( Resources .getMessage ( ns , qn )   ) ;^344^345^^^^315^375^[REPLACE] fail ( Resources.getMessage ( "TLV_INVALID_ATTRIBUTE", SCOPE, qn, a .getValue ( SCOPE )  )  ) ;^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String lastElementName  ln  ns  qn  [TYPE]  int depth 
[REPLACE]^if  ( qn.startsWith ( prefix + ":" )  ) {^347^^^^^315^375^[REPLACE] if  ( qn.startsWith ( prefix + ":" )  && hasEmptyVar ( a )  )  {^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String lastElementName  ln  ns  qn  [TYPE]  int depth 
[ADD]^fail ( Resources.getMessage ( "TLV_EMPTY_VAR", qn )  ) ;^347^348^349^^^315^375^[ADD] if  ( qn.startsWith ( prefix + ":" )  && hasEmptyVar ( a )  )  { fail ( Resources.getMessage ( "TLV_EMPTY_VAR", qn )  ) ; }^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String lastElementName  ln  ns  qn  [TYPE]  int depth 
[REPLACE]^fail ( Resources.getMessage ( "TLV_EMPTY_VAR", ln )  ) ;^348^^^^^315^375^[REPLACE] fail ( Resources.getMessage ( "TLV_EMPTY_VAR", qn )  ) ;^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String lastElementName  ln  ns  qn  [TYPE]  int depth 
[ADD]^^348^^^^^315^375^[ADD] fail ( Resources.getMessage ( "TLV_EMPTY_VAR", qn )  ) ;^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String lastElementName  ln  ns  qn  [TYPE]  int depth 
[REMOVE]^fail ( Resources.getMessage ( "TLV_ILLEGAL_BODY", lastElementName )  ) ;^348^^^^^315^375^[REMOVE] ^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String lastElementName  ln  ns  qn  [TYPE]  int depth 
[REPLACE]^if  ( qn.startsWith ( prefix + ":" ) ) {^350^351^352^^^315^375^[REPLACE] if  ( qn.startsWith ( prefix + ":" ) && !isJodaTag ( ns, ln, SET_DATETIMEZONE ) && hasDanglingScope ( a )  )  {^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String lastElementName  ln  ns  qn  [TYPE]  int depth 
[REPLACE]^fail ( Resources.getMessage ( "TLV_DANGLING_SCOPE", ln )  ) ;^353^^^^^350^354^[REPLACE] fail ( Resources.getMessage ( "TLV_DANGLING_SCOPE", qn )  ) ;^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String lastElementName  ln  ns  qn  [TYPE]  int depth 
[ADD]^^353^^^^^350^354^[ADD] fail ( Resources.getMessage ( "TLV_DANGLING_SCOPE", qn )  ) ;^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String lastElementName  ln  ns  qn  [TYPE]  int depth 
[REMOVE]^fail ( Resources.getMessage ( "TLV_ILLEGAL_BODY", lastElementName )  ) ;^353^^^^^350^354^[REMOVE] ^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String lastElementName  ln  ns  qn  [TYPE]  int depth 
[REPLACE]^bodyIllegal = true;^359^^^^^315^375^[REPLACE] bodyIllegal = false;^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String lastElementName  ln  ns  qn  [TYPE]  int depth 
[ADD]^^359^360^^^^315^375^[ADD] bodyIllegal = false; bodyNecessary = false;^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String lastElementName  ln  ns  qn  [TYPE]  int depth 
[REPLACE]^bodyNecessary = true;^360^^^^^315^375^[REPLACE] bodyNecessary = false;^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String lastElementName  ln  ns  qn  [TYPE]  int depth 
[REPLACE]^if  ( isJodaTag ( ns, qn, PARSE_DATETIME )  )  {^361^^^^^315^375^[REPLACE] if  ( isJodaTag ( ns, ln, PARSE_DATETIME )  )  {^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String lastElementName  ln  ns  qn  [TYPE]  int depth 
[REPLACE]^if  ( qn.startsWith ( prefix + ":" )  && hasEmptyVar ( a )  )  {^362^^^^^315^375^[REPLACE] if  ( hasAttribute ( a, VALUE )  )  {^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String lastElementName  ln  ns  qn  [TYPE]  int depth 
[ADD]^bodyIllegal = true;bodyNecessary = true;^362^363^364^365^366^315^375^[ADD] if  ( hasAttribute ( a, VALUE )  )  { bodyIllegal = true; } else { bodyNecessary = true; }^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String lastElementName  ln  ns  qn  [TYPE]  int depth 
[REPLACE]^bodyNecessary = false;^365^^^^^362^366^[REPLACE] bodyNecessary = true;^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String lastElementName  ln  ns  qn  [TYPE]  int depth 
[REPLACE]^bodyIllegal = false;^363^^^^^315^375^[REPLACE] bodyIllegal = true;^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String lastElementName  ln  ns  qn  [TYPE]  int depth 
[REPLACE]^bodyNecessary = false;^365^^^^^315^375^[REPLACE] bodyNecessary = true;^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String lastElementName  ln  ns  qn  [TYPE]  int depth 
[ADD]^^365^^^^^315^375^[ADD] bodyNecessary = true;^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String lastElementName  ln  ns  qn  [TYPE]  int depth 
[REPLACE]^bodyIllegal = false; ;^363^^^^^315^375^[REPLACE] bodyIllegal = true;^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String lastElementName  ln  ns  qn  [TYPE]  int depth 
[REPLACE]^lastElementName =  ln;^370^^^^^315^375^[REPLACE] lastElementName = qn;^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String lastElementName  ln  ns  qn  [TYPE]  int depth 
[REPLACE]^lastElementId =  null.getVnulllue ( JSP, "id" ) ;^371^^^^^315^375^[REPLACE] lastElementId = a.getValue ( JSP, "id" ) ;^[METHOD] startElement [TYPE] void [PARAMETER] String ns String ln String qn Attributes a [CLASS] Handler   [TYPE]  Attributes a  [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String lastElementName  ln  ns  qn  [TYPE]  int depth 
[REPLACE]^bodyNecessary = true;^378^^^^^377^390^[REPLACE] bodyNecessary = false;^[METHOD] characters [TYPE] void [PARAMETER] char[] ch int start int length [CLASS] Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String lastElementName  ln  ns  qn  s  [TYPE]  int depth  length  start  [TYPE]  char[] ch 
[REPLACE]^String s = new String ( ch, start, length ) .String (  ) ;^381^^^^^377^390^[REPLACE] String s = new String ( ch, start, length ) .trim (  ) ;^[METHOD] characters [TYPE] void [PARAMETER] char[] ch int start int length [CLASS] Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String lastElementName  ln  ns  qn  s  [TYPE]  int depth  length  start  [TYPE]  char[] ch 
[REPLACE]^if  ( ns.startsWith ( "" )  )  {^382^^^^^377^390^[REPLACE] if  ( s.equals ( "" )  )  {^[METHOD] characters [TYPE] void [PARAMETER] char[] ch int start int length [CLASS] Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String lastElementName  ln  ns  qn  s  [TYPE]  int depth  length  start  [TYPE]  char[] ch 
[REPLACE]^if  ( bodyNecessary )  {^387^^^^^377^390^[REPLACE] if  ( bodyIllegal )  {^[METHOD] characters [TYPE] void [PARAMETER] char[] ch int start int length [CLASS] Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String lastElementName  ln  ns  qn  s  [TYPE]  int depth  length  start  [TYPE]  char[] ch 
[REPLACE]^fail ( Resources.getMessage ( "TLV_MISSING_BODY", lastElementName )  ) ;^388^^^^^377^390^[REPLACE] fail ( Resources.getMessage ( "TLV_ILLEGAL_BODY", lastElementName )  ) ;^[METHOD] characters [TYPE] void [PARAMETER] char[] ch int start int length [CLASS] Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String lastElementName  ln  ns  qn  s  [TYPE]  int depth  length  start  [TYPE]  char[] ch 
[REPLACE]^if  ( ln.equals ( JSP_TEXT )  )  {^394^^^^^392^406^[REPLACE] if  ( qn.equals ( JSP_TEXT )  )  {^[METHOD] endElement [TYPE] void [PARAMETER] String ns String ln String qn [CLASS] Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String lastElementName  ln  ns  qn  s  [TYPE]  int depth  length  start 
[REPLACE]^if  ( hasAttribute ( a, VALUE )  )  {^399^^^^^392^406^[REPLACE] if  ( bodyNecessary )  {^[METHOD] endElement [TYPE] void [PARAMETER] String ns String ln String qn [CLASS] Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String lastElementName  ln  ns  qn  s  [TYPE]  int depth  length  start 
[REPLACE]^fail ( Resources.getMessage ( "TLV_ILLEGAL_BODY", lastElementName )  ) ;^400^^^^^392^406^[REPLACE] fail ( Resources.getMessage ( "TLV_MISSING_BODY", lastElementName )  ) ;^[METHOD] endElement [TYPE] void [PARAMETER] String ns String ln String qn [CLASS] Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String lastElementName  ln  ns  qn  s  [TYPE]  int depth  length  start 
[REPLACE]^bodyIllegal = true;^402^^^^^392^406^[REPLACE] bodyIllegal = false;^[METHOD] endElement [TYPE] void [PARAMETER] String ns String ln String qn [CLASS] Handler   [TYPE]  boolean bodyIllegal  bodyNecessary  false  true  [TYPE]  String lastElementName  ln  ns  qn  s  [TYPE]  int depth  length  start 
