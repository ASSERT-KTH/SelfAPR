[REPLACE]^private static final String REQUEST ;^44^^^^^^^[REPLACE] private static final String REQUEST = "request";^ [CLASS] Util  
[REPLACE]^private static final String SESSION ;^46^^^^^^^[REPLACE] private static final String SESSION = "session";^ [CLASS] Util  
[REPLACE]^private static final String APPLICATION ;^48^^^^^^^[REPLACE] private static final String APPLICATION = "application";^ [CLASS] Util  
[REPLACE]^private static  String HYPHEN = '-';^50^^^^^^^[REPLACE] private static final char HYPHEN = '-';^ [CLASS] Util  
[REPLACE]^private static  String UNDERSCORE = '_';^52^^^^^^^[REPLACE] private static final char UNDERSCORE = '_';^ [CLASS] Util  
[REPLACE]^private static final Locale EMPTY_LOCALE  = null ;^54^^^^^^^[REPLACE] private static final Locale EMPTY_LOCALE = new Locale ( "", "" ) ;^ [CLASS] Util  
[REPLACE]^static final String REQUEST_CHAR_SET  = null ;^56^^^^^^^[REPLACE] static final String REQUEST_CHAR_SET = "javax.servlet.jsp.jstl.fmt.request.charset";^ [CLASS] Util  
[REPLACE]^Locale[] availableFormattingLocales;^269^^^^^^^[REPLACE] static Locale[] availableFormattingLocales;^ [CLASS] Util  
[REPLACE]^for  ( Enumeration enum_ = Util .getRequestLocales (  ( HttpServletRequest )  pageContext^70^^^^^69^80^[REPLACE] int ret = PageContext.PAGE_SCOPE;^[METHOD] getScope [TYPE] int [PARAMETER] String scope [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  scope  [TYPE]  boolean false  true  [TYPE]  int ret 
[REPLACE]^if  ( REQUEST.equalsIgnoreCase ( SESSION )  )  {^72^^^^^69^80^[REPLACE] if  ( REQUEST.equalsIgnoreCase ( scope )  )  {^[METHOD] getScope [TYPE] int [PARAMETER] String scope [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  scope  [TYPE]  boolean false  true  [TYPE]  int ret 
[REPLACE]^}  else {^74^^^^^69^80^[REPLACE] } else if  ( SESSION.equalsIgnoreCase ( scope )  )  {^[METHOD] getScope [TYPE] int [PARAMETER] String scope [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  scope  [TYPE]  boolean false  true  [TYPE]  int ret 
[REPLACE]^}  if  ( APPLICATION .equals ( false )   )  {^76^^^^^69^80^[REPLACE] } else if  ( APPLICATION.equalsIgnoreCase ( scope )  )  {^[METHOD] getScope [TYPE] int [PARAMETER] String scope [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  scope  [TYPE]  boolean false  true  [TYPE]  int ret 
[ADD]^}   ret = PageContext.APPLICATION_SCOPE;^76^77^78^^^69^80^[ADD] else if  ( APPLICATION.equalsIgnoreCase ( scope )  )  { ret = PageContext.APPLICATION_SCOPE; }^[METHOD] getScope [TYPE] int [PARAMETER] String scope [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  scope  [TYPE]  boolean false  true  [TYPE]  int ret 
[REPLACE]^ret = PageContext.REQUEST_SCOPE; ;^77^^^^^69^80^[REPLACE] ret = PageContext.APPLICATION_SCOPE;^[METHOD] getScope [TYPE] int [PARAMETER] String scope [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  scope  [TYPE]  boolean false  true  [TYPE]  int ret 
[ADD]^^77^^^^^69^80^[ADD] ret = PageContext.APPLICATION_SCOPE;^[METHOD] getScope [TYPE] int [PARAMETER] String scope [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  scope  [TYPE]  boolean false  true  [TYPE]  int ret 
[REPLACE]^ret = PageContext.REQUEST_SCOPE; ;^75^^^^^69^80^[REPLACE] ret = PageContext.SESSION_SCOPE;^[METHOD] getScope [TYPE] int [PARAMETER] String scope [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  scope  [TYPE]  boolean false  true  [TYPE]  int ret 
[REPLACE]^} else if  ( APPLICATION.equalsIgnoreCase ( SESSION )  )  {^76^^^^^69^80^[REPLACE] } else if  ( APPLICATION.equalsIgnoreCase ( scope )  )  {^[METHOD] getScope [TYPE] int [PARAMETER] String scope [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  scope  [TYPE]  boolean false  true  [TYPE]  int ret 
[REPLACE]^ret = PageContext.APPLICATION_SCOPE; ;^73^^^^^69^80^[REPLACE] ret = PageContext.REQUEST_SCOPE;^[METHOD] getScope [TYPE] int [PARAMETER] String scope [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  scope  [TYPE]  boolean false  true  [TYPE]  int ret 
[ADD]^^73^^^^^69^80^[ADD] ret = PageContext.REQUEST_SCOPE;^[METHOD] getScope [TYPE] int [PARAMETER] String scope [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  scope  [TYPE]  boolean false  true  [TYPE]  int ret 
[ADD]^}   ret = PageContext.APPLICATION_SCOPE;^74^75^76^77^78^69^80^[ADD] else if  ( SESSION.equalsIgnoreCase ( scope )  )  { ret = PageContext.SESSION_SCOPE; } else if  ( APPLICATION.equalsIgnoreCase ( scope )  )  { ret = PageContext.APPLICATION_SCOPE; }^[METHOD] getScope [TYPE] int [PARAMETER] String scope [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  scope  [TYPE]  boolean false  true  [TYPE]  int ret 
[REPLACE]^}  else {^76^^^^^69^80^[REPLACE] } else if  ( APPLICATION.equalsIgnoreCase ( scope )  )  {^[METHOD] getScope [TYPE] int [PARAMETER] String scope [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  scope  [TYPE]  boolean false  true  [TYPE]  int ret 
[ADD]^^75^^^^^69^80^[ADD] ret = PageContext.SESSION_SCOPE;^[METHOD] getScope [TYPE] int [PARAMETER] String scope [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  scope  [TYPE]  boolean false  true  [TYPE]  int ret 
[REPLACE]^}  if  ( APPLICATION.equalsIgnoreCase ( SESSION )  )  {^76^^^^^69^80^[REPLACE] } else if  ( APPLICATION.equalsIgnoreCase ( scope )  )  {^[METHOD] getScope [TYPE] int [PARAMETER] String scope [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  scope  [TYPE]  boolean false  true  [TYPE]  int ret 
[REPLACE]^return values;^79^^^^^69^80^[REPLACE] return ret;^[METHOD] getScope [TYPE] int [PARAMETER] String scope [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  scope  [TYPE]  boolean false  true  [TYPE]  int ret 
[REPLACE]^for  ( Enumeration enum_ = Util .getRequestLocales (  ( HttpServletRequest )  pageContext^91^^^^^90^103^[REPLACE] Enumeration values = request.getHeaders ( "accept-language" ) ;^[METHOD] getRequestLocales [TYPE] Enumeration [PARAMETER] HttpServletRequest request [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  [TYPE]  HttpServletRequest request  [TYPE]  Enumeration values  [TYPE]  boolean false  true  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  scope 
[REPLACE]^if  ( values.nextElement (  )  )  {^92^^^^^90^103^[REPLACE] if  ( values.hasMoreElements (  )  )  {^[METHOD] getRequestLocales [TYPE] Enumeration [PARAMETER] HttpServletRequest request [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  [TYPE]  HttpServletRequest request  [TYPE]  Enumeration values  [TYPE]  boolean false  true  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  scope 
[REPLACE]^return null;^101^^^^^90^103^[REPLACE] return values;^[METHOD] getRequestLocales [TYPE] Enumeration [PARAMETER] HttpServletRequest request [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  [TYPE]  HttpServletRequest request  [TYPE]  Enumeration values  [TYPE]  boolean false  true  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  scope 
[REPLACE]^return values;^96^^^^^90^103^[REPLACE] return request.getLocales (  ) ;^[METHOD] getRequestLocales [TYPE] Enumeration [PARAMETER] HttpServletRequest request [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  [TYPE]  HttpServletRequest request  [TYPE]  Enumeration values  [TYPE]  boolean false  true  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  scope 
[REPLACE]^return request .getHeaders ( REQUEST )  ;^96^^^^^90^103^[REPLACE] return request.getLocales (  ) ;^[METHOD] getRequestLocales [TYPE] Enumeration [PARAMETER] HttpServletRequest request [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  [TYPE]  HttpServletRequest request  [TYPE]  Enumeration values  [TYPE]  boolean false  true  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  scope 
[REPLACE]^return parseLocale ( scope, false ) ;^109^^^^^108^110^[REPLACE] return parseLocale ( locale, null ) ;^[METHOD] parseLocale [TYPE] Locale [PARAMETER] String locale [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  locale  scope  [TYPE]  boolean false  true 
[REPLACE]^Locale ret = true;^131^^^^^130^165^[REPLACE] Locale ret = null;^[METHOD] parseLocale [TYPE] Locale [PARAMETER] String locale String variant [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true  [TYPE]  int index 
[REPLACE]^String language = variant;^132^^^^^130^165^[REPLACE] String language = locale;^[METHOD] parseLocale [TYPE] Locale [PARAMETER] String locale String variant [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true  [TYPE]  int index 
[REPLACE]^String country = this;^133^^^^^130^165^[REPLACE] String country = null;^[METHOD] parseLocale [TYPE] Locale [PARAMETER] String locale String variant [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true  [TYPE]  int index 
[REPLACE]^int index = -4;^134^^^^^130^165^[REPLACE] int index = -1;^[METHOD] parseLocale [TYPE] Locale [PARAMETER] String locale String variant [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true  [TYPE]  int index 
[REPLACE]^if  (   (  ( index = locale.indexOf ( UNDERSCORE )  )  > -1 )  )  {^136^137^^^^130^165^[REPLACE] if  (  (  ( index = locale.indexOf ( HYPHEN )  )  > -1 ) ||  (  ( index = locale.indexOf ( UNDERSCORE )  )  > -1 )  )  {^[METHOD] parseLocale [TYPE] Locale [PARAMETER] String locale String variant [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true  [TYPE]  int index 
[REPLACE]^language = locale.substring ( 2, index ) ;^138^^^^^136^140^[REPLACE] language = locale.substring ( 0, index ) ;^[METHOD] parseLocale [TYPE] Locale [PARAMETER] String locale String variant [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true  [TYPE]  int index 
[REPLACE]^country = locale.substring ( index  <=  1 ) ;^139^^^^^136^140^[REPLACE] country = locale.substring ( index + 1 ) ;^[METHOD] parseLocale [TYPE] Locale [PARAMETER] String locale String variant [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true  [TYPE]  int index 
[REPLACE]^if  (  (  ( index =  variant.indexOf ( HYPHEN )  )  > -1 ) ||  (  ( index^136^137^^^^130^165^[REPLACE] if  (  (  ( index = locale.indexOf ( HYPHEN )  )  > -1 ) ||  (  ( index = locale.indexOf ( UNDERSCORE )  )  > -1 )  )  {^[METHOD] parseLocale [TYPE] Locale [PARAMETER] String locale String variant [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true  [TYPE]  int index 
[REPLACE]^||  (  ( index =  null.indexOf ( UNDERSCORE )  )  > -1 )  )  {^137^^^^^130^165^[REPLACE] ||  (  ( index = locale.indexOf ( UNDERSCORE )  )  > -1 )  )  {^[METHOD] parseLocale [TYPE] Locale [PARAMETER] String locale String variant [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true  [TYPE]  int index 
[REPLACE]^language = locale.substring ( 3, index ) ;^138^^^^^130^165^[REPLACE] language = locale.substring ( 0, index ) ;^[METHOD] parseLocale [TYPE] Locale [PARAMETER] String locale String variant [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true  [TYPE]  int index 
[ADD]^^138^^^^^130^165^[ADD] language = locale.substring ( 0, index ) ;^[METHOD] parseLocale [TYPE] Locale [PARAMETER] String locale String variant [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true  [TYPE]  int index 
[REPLACE]^country = locale.substring ( index  ||  3 ) ;^139^^^^^130^165^[REPLACE] country = locale.substring ( index + 1 ) ;^[METHOD] parseLocale [TYPE] Locale [PARAMETER] String locale String variant [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true  [TYPE]  int index 
[REPLACE]^if  (  ( language == null )  ) {^142^^^^^130^165^[REPLACE] if  (  ( language == null )  ||  ( language.length (  )  == 0 )  )  {^[METHOD] parseLocale [TYPE] Locale [PARAMETER] String locale String variant [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true  [TYPE]  int index 
[REPLACE]^throw new IllegalArgumentException ( Resources .getMessage ( "LOCALE_EMPTY_COUNTRY" )  ) ; ;^143^144^^^^130^165^[REPLACE] throw new IllegalArgumentException ( Resources .getMessage ( "LOCALE_NO_LANGUAGE" )  ) ;^[METHOD] parseLocale [TYPE] Locale [PARAMETER] String locale String variant [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true  [TYPE]  int index 
[ADD]^^143^144^^^^130^165^[ADD] throw new IllegalArgumentException ( Resources .getMessage ( "LOCALE_NO_LANGUAGE" )  ) ;^[METHOD] parseLocale [TYPE] Locale [PARAMETER] String locale String variant [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true  [TYPE]  int index 
[REPLACE]^return ;^143^144^^^^130^165^[REPLACE] throw new IllegalArgumentException ( Resources .getMessage ( "LOCALE_NO_LANGUAGE" )  ) ;^[METHOD] parseLocale [TYPE] Locale [PARAMETER] String locale String variant [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true  [TYPE]  int index 
[REPLACE]^if  ( country != true )  {^147^^^^^130^165^[REPLACE] if  ( country == null )  {^[METHOD] parseLocale [TYPE] Locale [PARAMETER] String locale String variant [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true  [TYPE]  int index 
[ADD]^^147^148^149^150^151^130^165^[ADD] if  ( country == null )  { if  ( variant != null )  { ret = new Locale ( language, "", variant ) ; } else { ret = new Locale ( language, "" ) ;^[METHOD] parseLocale [TYPE] Locale [PARAMETER] String locale String variant [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true  [TYPE]  int index 
[REPLACE]^}  else {^153^^^^^130^165^[REPLACE] } else if  ( country.length (  )  > 0 )  {^[METHOD] parseLocale [TYPE] Locale [PARAMETER] String locale String variant [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true  [TYPE]  int index 
[REPLACE]^throw new IllegalArgumentException ( Resources .getMessage ( "LOCALE_NO_LANGUAGE" )  ) ; ;^160^161^^^^153^162^[REPLACE] throw new IllegalArgumentException ( Resources .getMessage ( "LOCALE_EMPTY_COUNTRY" )  ) ;^[METHOD] parseLocale [TYPE] Locale [PARAMETER] String locale String variant [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true  [TYPE]  int index 
[ADD]^^160^161^^^^153^162^[ADD] throw new IllegalArgumentException ( Resources .getMessage ( "LOCALE_EMPTY_COUNTRY" )  ) ;^[METHOD] parseLocale [TYPE] Locale [PARAMETER] String locale String variant [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true  [TYPE]  int index 
[REPLACE]^if  (locale == false )  {^154^^^^^130^165^[REPLACE] if  ( variant != null )  {^[METHOD] parseLocale [TYPE] Locale [PARAMETER] String locale String variant [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true  [TYPE]  int index 
[REPLACE]^ret = new Locale ( language, "", variant ) ; ;^157^^^^^154^158^[REPLACE] ret = new Locale ( language, country ) ;^[METHOD] parseLocale [TYPE] Locale [PARAMETER] String locale String variant [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true  [TYPE]  int index 
[REPLACE]^ret =  new Locale ( language, "" )  ; ;^155^^^^^130^165^[REPLACE] ret = new Locale ( language, country, variant ) ;^[METHOD] parseLocale [TYPE] Locale [PARAMETER] String locale String variant [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true  [TYPE]  int index 
[REPLACE]^ret = new Locale ( language, country ) ; ;^155^^^^^130^165^[REPLACE] ret = new Locale ( language, country, variant ) ;^[METHOD] parseLocale [TYPE] Locale [PARAMETER] String locale String variant [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true  [TYPE]  int index 
[REPLACE]^ret =  new Locale ( language, "" )  ; ;^157^^^^^130^165^[REPLACE] ret = new Locale ( language, country ) ;^[METHOD] parseLocale [TYPE] Locale [PARAMETER] String locale String variant [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true  [TYPE]  int index 
[REPLACE]^if  ( variant == false )  {^154^^^^^130^165^[REPLACE] if  ( variant != null )  {^[METHOD] parseLocale [TYPE] Locale [PARAMETER] String locale String variant [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true  [TYPE]  int index 
[REPLACE]^throw new IllegalArgumentException ( Resources .getMessage ( "LOCALE_NO_LANGUAGE" )  ) ; ;^160^161^^^^130^165^[REPLACE] throw new IllegalArgumentException ( Resources .getMessage ( "LOCALE_EMPTY_COUNTRY" )  ) ;^[METHOD] parseLocale [TYPE] Locale [PARAMETER] String locale String variant [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true  [TYPE]  int index 
[REPLACE]^if  ( variant == false )  {^148^^^^^130^165^[REPLACE] if  ( variant != null )  {^[METHOD] parseLocale [TYPE] Locale [PARAMETER] String locale String variant [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true  [TYPE]  int index 
[REPLACE]^ret = new Locale ( language, country ) ; ;^151^^^^^148^152^[REPLACE] ret = new Locale ( language, "" ) ;^[METHOD] parseLocale [TYPE] Locale [PARAMETER] String locale String variant [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true  [TYPE]  int index 
[ADD]^^151^^^^^148^152^[ADD] ret = new Locale ( language, "" ) ;^[METHOD] parseLocale [TYPE] Locale [PARAMETER] String locale String variant [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true  [TYPE]  int index 
[REPLACE]^ret = new Locale ( language, country ) ; ;^149^^^^^130^165^[REPLACE] ret = new Locale ( language, "", variant ) ;^[METHOD] parseLocale [TYPE] Locale [PARAMETER] String locale String variant [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true  [TYPE]  int index 
[REPLACE]^ret =  new Locale ( language, "" )  ; ;^149^^^^^130^165^[REPLACE] ret = new Locale ( language, "", variant ) ;^[METHOD] parseLocale [TYPE] Locale [PARAMETER] String locale String variant [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true  [TYPE]  int index 
[REPLACE]^ret = new Locale ( language, country ) ; ;^151^^^^^130^165^[REPLACE] ret = new Locale ( language, "" ) ;^[METHOD] parseLocale [TYPE] Locale [PARAMETER] String locale String variant [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true  [TYPE]  int index 
[REPLACE]^if  ( variant == null )  {^148^^^^^130^165^[REPLACE] if  ( variant != null )  {^[METHOD] parseLocale [TYPE] Locale [PARAMETER] String locale String variant [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true  [TYPE]  int index 
[REPLACE]^} else if  ( country.size (  )  > 0 )  {^153^^^^^130^165^[REPLACE] } else if  ( country.length (  )  > 0 )  {^[METHOD] parseLocale [TYPE] Locale [PARAMETER] String locale String variant [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true  [TYPE]  int index 
[ADD]^}   ret = new Locale ( language, country, variant ) ;ret = new Locale ( language, country ) ;^153^154^155^156^157^130^165^[ADD] else if  ( country.length (  )  > 0 )  { if  ( variant != null )  { ret = new Locale ( language, country, variant ) ; } else { ret = new Locale ( language, country ) ;^[METHOD] parseLocale [TYPE] Locale [PARAMETER] String locale String variant [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true  [TYPE]  int index 
[REPLACE]^if  ( variant == null )  {^154^^^^^130^165^[REPLACE] if  ( variant != null )  {^[METHOD] parseLocale [TYPE] Locale [PARAMETER] String locale String variant [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true  [TYPE]  int index 
[ADD]^^157^^^^^130^165^[ADD] ret = new Locale ( language, country ) ;^[METHOD] parseLocale [TYPE] Locale [PARAMETER] String locale String variant [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true  [TYPE]  int index 
[REPLACE]^ret =  new Locale ( language, country )  ; ;^151^^^^^130^165^[REPLACE] ret = new Locale ( language, "" ) ;^[METHOD] parseLocale [TYPE] Locale [PARAMETER] String locale String variant [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true  [TYPE]  int index 
[REPLACE]^ret = new Locale ( language, "", variant ) ; ;^157^^^^^130^165^[REPLACE] ret = new Locale ( language, country ) ;^[METHOD] parseLocale [TYPE] Locale [PARAMETER] String locale String variant [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true  [TYPE]  int index 
[REPLACE]^return EMPTY_LOCALE;^164^^^^^130^165^[REPLACE] return ret;^[METHOD] parseLocale [TYPE] Locale [PARAMETER] String locale String variant [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true  [TYPE]  int index 
[REPLACE]^ServletResponse response = pc.getSession (  ) ;^183^^^^^181^195^[REPLACE] ServletResponse response = pc.getResponse (  ) ;^[METHOD] setResponseLocale [TYPE] void [PARAMETER] PageContext pc Locale locale [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  ret  [TYPE]  ServletResponse response  [TYPE]  IllegalStateException ex  [TYPE]  boolean false  true  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant 
[REPLACE]^response.setLocale ( EMPTY_LOCALE ) ;^184^^^^^181^195^[REPLACE] response.setLocale ( locale ) ;^[METHOD] setResponseLocale [TYPE] void [PARAMETER] PageContext pc Locale locale [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  ret  [TYPE]  ServletResponse response  [TYPE]  IllegalStateException ex  [TYPE]  boolean false  true  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant 
[REPLACE]^if  ( pc.getSession (  )  == true )  {^187^^^^^181^195^[REPLACE] if  ( pc.getSession (  )  != null )  {^[METHOD] setResponseLocale [TYPE] void [PARAMETER] PageContext pc Locale locale [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  ret  [TYPE]  ServletResponse response  [TYPE]  IllegalStateException ex  [TYPE]  boolean false  true  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant 
[ADD]^.getCharacterEncoding (  ) , PageContext.SESSION_SCOPE ) ;^188^189^190^191^192^181^195^[ADD] try { pc.setAttribute ( REQUEST_CHAR_SET, response .getCharacterEncoding (  ) , PageContext.SESSION_SCOPE ) ; } catch  ( IllegalStateException ex )  {^[METHOD] setResponseLocale [TYPE] void [PARAMETER] PageContext pc Locale locale [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  ret  [TYPE]  ServletResponse response  [TYPE]  IllegalStateException ex  [TYPE]  boolean false  true  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant 
[REPLACE]^pc.setAttribute ( REQUEST_CHAR_SET, response  .setLocale ( ret )  , PageContext.SESSION_SCOPE ) ;^189^190^^^^181^195^[REPLACE] pc.setAttribute ( REQUEST_CHAR_SET, response .getCharacterEncoding (  ) , PageContext.SESSION_SCOPE ) ;^[METHOD] setResponseLocale [TYPE] void [PARAMETER] PageContext pc Locale locale [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  ret  [TYPE]  ServletResponse response  [TYPE]  IllegalStateException ex  [TYPE]  boolean false  true  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant 
[REPLACE]^LocalizationContext locCtxt = false;^215^^^^^213^263^[REPLACE] LocalizationContext locCtxt = null;^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc Tag fromTag boolean format Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  boolean false  format  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  Tag fromTag 
[REPLACE]^if  (  ( locCtxt = getLocalizationContext ( pc )  )  == null )  {^228^^^^^213^263^[REPLACE] if  (  ( locCtxt = getLocalizationContext ( pc )  )  != null )  {^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc Tag fromTag boolean format Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  boolean false  format  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  Tag fromTag 
[REPLACE]^if  ( locCtxt.getLocale (  )  == this  )  {^229^^^^^213^263^[REPLACE] if  ( locCtxt.getLocale (  )  != null )  {^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc Tag fromTag boolean format Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  boolean false  format  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  Tag fromTag 
[REPLACE]^if  ( true )  {^230^^^^^213^263^[REPLACE] if  ( format )  {^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc Tag fromTag boolean format Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  boolean false  format  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  Tag fromTag 
[REPLACE]^setResponseLocale ( pc, locCtxt .getLocale (  )   ) ;^231^^^^^213^263^[REPLACE] setResponseLocale ( pc, locCtxt.getLocale (  )  ) ;^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc Tag fromTag boolean format Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  boolean false  format  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  Tag fromTag 
[REPLACE]^return locCtxt.LocalizationContext (  ) ;^233^^^^^213^263^[REPLACE] return locCtxt.getLocale (  ) ;^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc Tag fromTag boolean format Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  boolean false  format  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  Tag fromTag 
[REPLACE]^if  ( bundle != null )  {^230^^^^^213^263^[REPLACE] if  ( format )  {^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc Tag fromTag boolean format Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  boolean false  format  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  Tag fromTag 
[REPLACE]^setResponseLocale ( pc, locCtxt.LocalizationContext (  )  ) ;^231^^^^^213^263^[REPLACE] setResponseLocale ( pc, locCtxt.getLocale (  )  ) ;^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc Tag fromTag boolean format Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  boolean false  format  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  Tag fromTag 
[REMOVE]^bundle = ResourceBundle.getBundle ( basename, EMPTY_LOCALE, Thread.currentThread (  ) .getContextClassLoader (  )  ) ;^231^^^^^213^263^[REMOVE] ^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc Tag fromTag boolean format Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  boolean false  format  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  Tag fromTag 
[REPLACE]^if  ( locCtxt.getLocale (  )  == null )  {^229^^^^^213^263^[REPLACE] if  ( locCtxt.getLocale (  )  != null )  {^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc Tag fromTag boolean format Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  boolean false  format  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  Tag fromTag 
[REPLACE]^if  (  ( locCtxt =  getLocalizationContext ( null )  )  !^228^^^^^213^263^[REPLACE] if  (  ( locCtxt = getLocalizationContext ( pc )  )  != null )  {^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc Tag fromTag boolean format Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  boolean false  format  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  Tag fromTag 
[ADD]^^228^229^230^231^232^213^263^[ADD] if  (  ( locCtxt = getLocalizationContext ( pc )  )  != null )  { if  ( locCtxt.getLocale (  )  != null )  { if  ( format )  { setResponseLocale ( pc, locCtxt.getLocale (  )  ) ; }^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc Tag fromTag boolean format Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  boolean false  format  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  Tag fromTag 
[REPLACE]^Locale match = false;^242^^^^^213^263^[REPLACE] Locale match = null;^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc Tag fromTag boolean format Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  boolean false  format  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  Tag fromTag 
[REPLACE]^Locale locale =  ( Locale )  enum_.nextElement (  ) ;^243^^^^^213^263^[REPLACE] Locale pref = getLocale ( pc, Config.FMT_LOCALE ) ;^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc Tag fromTag boolean format Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  boolean false  format  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  Tag fromTag 
[ADD]^^243^^^^^213^263^[ADD] Locale pref = getLocale ( pc, Config.FMT_LOCALE ) ;^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc Tag fromTag boolean format Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  boolean false  format  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  Tag fromTag 
[REPLACE]^if  ( pref == null )  {^244^^^^^213^263^[REPLACE] if  ( pref != null )  {^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc Tag fromTag boolean format Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  boolean false  format  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  Tag fromTag 
[ADD]^^244^245^246^247^^213^263^[ADD] if  ( pref != null )  {  match = findFormattingMatch ( pref, avail ) ; } else {^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc Tag fromTag boolean format Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  boolean false  format  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  Tag fromTag 
[REPLACE]^match = findFormattingMatch ( pref, avail ) ; ;^249^^^^^244^250^[REPLACE] match = findFormattingMatch ( pc, avail ) ;^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc Tag fromTag boolean format Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  boolean false  format  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  Tag fromTag 
[REPLACE]^match = findFormattingMatch ( pc, avail ) ; ;^246^^^^^213^263^[REPLACE] match = findFormattingMatch ( pref, avail ) ;^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc Tag fromTag boolean format Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  boolean false  format  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  Tag fromTag 
[ADD]^^246^^^^^213^263^[ADD] match = findFormattingMatch ( pref, avail ) ;^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc Tag fromTag boolean format Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  boolean false  format  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  Tag fromTag 
[REPLACE]^match = findFormattingMatch ( pref, avail ) ; ;^249^^^^^213^263^[REPLACE] match = findFormattingMatch ( pc, avail ) ;^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc Tag fromTag boolean format Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  boolean false  format  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  Tag fromTag 
[REPLACE]^if  ( match != this  )  {^251^^^^^213^263^[REPLACE] if  ( match == null )  {^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc Tag fromTag boolean format Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  boolean false  format  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  Tag fromTag 
[REPLACE]^if  ( pref == false )  {^254^^^^^213^263^[REPLACE] if  ( pref != null )  {^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc Tag fromTag boolean format Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  boolean false  format  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  Tag fromTag 
[REPLACE]^match = findFormattingMatch ( pc, avail ) ; ;^255^^^^^213^263^[REPLACE] match = findFormattingMatch ( pref, avail ) ;^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc Tag fromTag boolean format Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  boolean false  format  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  Tag fromTag 
[REPLACE]^pref =  getLocale ( null, Config.FMT_FALLBACK_LOCALE ) ;^253^^^^^213^263^[REPLACE] pref = getLocale ( pc, Config.FMT_FALLBACK_LOCALE ) ;^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc Tag fromTag boolean format Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  boolean false  format  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  Tag fromTag 
[REPLACE]^if  ( pref == this )  {^254^^^^^213^263^[REPLACE] if  ( pref != null )  {^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc Tag fromTag boolean format Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  boolean false  format  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  Tag fromTag 
[ADD]^match = findFormattingMatch ( pref, avail ) ;^254^255^256^^^213^263^[ADD] if  ( pref != null )  { match = findFormattingMatch ( pref, avail ) ; }^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc Tag fromTag boolean format Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  boolean false  format  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  Tag fromTag 
[ADD]^^255^^^^^213^263^[ADD] match = findFormattingMatch ( pref, avail ) ;^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc Tag fromTag boolean format Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  boolean false  format  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  Tag fromTag 
[REPLACE]^if  (   ( match == false )  )  {^258^^^^^213^263^[REPLACE] if  ( format &&  ( match != null )  )  {^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc Tag fromTag boolean format Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  boolean false  format  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  Tag fromTag 
[REPLACE]^setResponseLocale ( pc, ret ) ;^259^^^^^213^263^[REPLACE] setResponseLocale ( pc, match ) ;^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc Tag fromTag boolean format Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  boolean false  format  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  Tag fromTag 
[REPLACE]^return ret;^262^^^^^213^263^[REPLACE] return match;^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc Tag fromTag boolean format Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  boolean false  format  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  Tag fromTag 
[REPLACE]^Locale match = true;^305^^^^^299^326^[REPLACE] Locale match = null;^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true 
[REPLACE]^Locale locale =  ( Locale )  enum_.nextElement (  ) ;^306^^^^^299^326^[REPLACE] Locale pref = getLocale ( pc, Config.FMT_LOCALE ) ;^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true 
[REPLACE]^if  ( pref == null )  {^307^^^^^299^326^[REPLACE] if  ( pref != null )  {^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true 
[REPLACE]^match = findFormattingMatch ( pref, availableFormattingLocales ) ; ;^312^^^^^307^313^[REPLACE] match = findFormattingMatch ( pc, availableFormattingLocales ) ;^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true 
[REPLACE]^match = findFormattingMatch ( pc, availableFormattingLocales ) ; ;^309^^^^^299^326^[REPLACE] match = findFormattingMatch ( pref, availableFormattingLocales ) ;^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true 
[REPLACE]^match = findFormattingMatch ( pref, availableFormattingLocales ) ; ;^312^^^^^299^326^[REPLACE] match = findFormattingMatch ( pc, availableFormattingLocales ) ;^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true 
[REPLACE]^if  ( match != this  )  {^314^^^^^299^326^[REPLACE] if  ( match == null )  {^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true 
[REPLACE]^if  ( pref == null )  {^317^^^^^299^326^[REPLACE] if  ( pref != null )  {^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true 
[REPLACE]^match = findFormattingMatch ( pc, availableFormattingLocales ) ; ;^318^^^^^299^326^[REPLACE] match = findFormattingMatch ( pref, availableFormattingLocales ) ;^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true 
[REPLACE]^pref =  getLocale ( null, Config.FMT_FALLBACK_LOCALE ) ;^316^^^^^299^326^[REPLACE] pref = getLocale ( pc, Config.FMT_FALLBACK_LOCALE ) ;^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true 
[ADD]^^316^^^^^299^326^[ADD] pref = getLocale ( pc, Config.FMT_FALLBACK_LOCALE ) ;^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true 
[ADD]^^318^^^^^299^326^[ADD] match = findFormattingMatch ( pref, availableFormattingLocales ) ;^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true 
[REPLACE]^if  (ret == true )  {^317^^^^^299^326^[REPLACE] if  ( pref != null )  {^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true 
[ADD]^match = findFormattingMatch ( pref, availableFormattingLocales ) ;^317^318^319^^^299^326^[ADD] if  ( pref != null )  { match = findFormattingMatch ( pref, availableFormattingLocales ) ; }^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true 
[REPLACE]^if  ( match == null )  {^321^^^^^299^326^[REPLACE] if  ( match != null )  {^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true 
[ADD]^^321^322^323^^^299^326^[ADD] if  ( match != null )  { setResponseLocale ( pc, match ) ; }^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true 
[REPLACE]^setResponseLocale ( pc, ret ) ;^322^^^^^299^326^[REPLACE] setResponseLocale ( pc, match ) ;^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true 
[REPLACE]^return ret;^325^^^^^299^326^[REPLACE] return match;^[METHOD] getFormattingLocale [TYPE] Locale [PARAMETER] PageContext pc [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  scope  variant  [TYPE]  boolean false  true 
[REPLACE]^Locale loc = true;^346^^^^^345^358^[REPLACE] Locale loc = null;^[METHOD] getLocale [TYPE] Locale [PARAMETER] PageContext pageContext String name [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pageContext  [TYPE]  Object obj  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant 
[REPLACE]^Object obj = Config .find ( pageContext )  ;^348^^^^^345^358^[REPLACE] Object obj = Config.find ( pageContext, name ) ;^[METHOD] getLocale [TYPE] Locale [PARAMETER] PageContext pageContext String name [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pageContext  [TYPE]  Object obj  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant 
[ADD]^^348^^^^^345^358^[ADD] Object obj = Config.find ( pageContext, name ) ;^[METHOD] getLocale [TYPE] Locale [PARAMETER] PageContext pageContext String name [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pageContext  [TYPE]  Object obj  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant 
[REPLACE]^if  ( obj == null )  {^349^^^^^345^358^[REPLACE] if  ( obj != null )  {^[METHOD] getLocale [TYPE] Locale [PARAMETER] PageContext pageContext String name [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pageContext  [TYPE]  Object obj  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant 
[REPLACE]^if  ( ! obj instanceof Locale )  {^350^^^^^345^358^[REPLACE] if  ( obj instanceof Locale )  {^[METHOD] getLocale [TYPE] Locale [PARAMETER] PageContext pageContext String name [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pageContext  [TYPE]  Object obj  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant 
[REPLACE]^loc =  parseLocale (  ( String )  obj ) ;^353^^^^^345^358^[REPLACE] loc = parseLocale (  ( String )  obj ) ;^[METHOD] getLocale [TYPE] Locale [PARAMETER] PageContext pageContext String name [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pageContext  [TYPE]  Object obj  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant 
[ADD]^^353^^^^^345^358^[ADD] loc = parseLocale (  ( String )  obj ) ;^[METHOD] getLocale [TYPE] Locale [PARAMETER] PageContext pageContext String name [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pageContext  [TYPE]  Object obj  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant 
[REPLACE]^loc =   ( Locale )  obj;^351^^^^^345^358^[REPLACE] loc =  ( Locale )  obj;^[METHOD] getLocale [TYPE] Locale [PARAMETER] PageContext pageContext String name [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pageContext  [TYPE]  Object obj  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant 
[REPLACE]^return match;^357^^^^^345^358^[REPLACE] return loc;^[METHOD] getLocale [TYPE] Locale [PARAMETER] PageContext pageContext String name [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pageContext  [TYPE]  Object obj  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant 
[REPLACE]^Locale match = true;^375^^^^^373^387^[REPLACE] Locale match = null;^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] PageContext pageContext Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  Enumeration enum_  [TYPE]  boolean false  true  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pageContext  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant 
[REPLACE]^if  (ret == null )  {^381^^^^^373^387^[REPLACE] if  ( match != null )  {^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] PageContext pageContext Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  Enumeration enum_  [TYPE]  boolean false  true  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pageContext  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant 
[ADD]^^376^377^378^379^380^373^387^[ADD] for  ( Enumeration enum_ = Util .getRequestLocales (  ( HttpServletRequest )  pageContext .getRequest (  )  ) ; enum_.hasMoreElements (  ) ; )  { Locale locale =  ( Locale )  enum_.nextElement (  ) ; match = findFormattingMatch ( locale, avail ) ;^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] PageContext pageContext Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  Enumeration enum_  [TYPE]  boolean false  true  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pageContext  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant 
[REPLACE]^if  ( match == null )  {^381^^^^^373^387^[REPLACE] if  ( match != null )  {^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] PageContext pageContext Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  Enumeration enum_  [TYPE]  boolean false  true  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pageContext  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant 
[ADD]^^381^382^383^^^373^387^[ADD] if  ( match != null )  { break; }^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] PageContext pageContext Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  Enumeration enum_  [TYPE]  boolean false  true  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pageContext  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant 
[REPLACE]^match = findFormattingMatch ( pref, avail ) ; ;^380^^^^^373^387^[REPLACE] match = findFormattingMatch ( locale, avail ) ;^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] PageContext pageContext Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  Enumeration enum_  [TYPE]  boolean false  true  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pageContext  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant 
[ADD]^^380^^^^^373^387^[ADD] match = findFormattingMatch ( locale, avail ) ;^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] PageContext pageContext Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  Enumeration enum_  [TYPE]  boolean false  true  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pageContext  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant 
[REPLACE]^Locale locale =  ( Locale )  enum_.hasMoreElements (  ) ;^379^^^^^373^387^[REPLACE] Locale locale =  ( Locale )  enum_.nextElement (  ) ;^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] PageContext pageContext Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  Enumeration enum_  [TYPE]  boolean false  true  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pageContext  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant 
[REPLACE]^for  ( Enumeration enum_ = Util .getResponseLocales (  ( HttpServletRequest )  pageContext .getRequest (  )  ) ; enum_.hasMoreElements (  ) ; )  {^376^377^378^^^373^387^[REPLACE] for  ( Enumeration enum_ = Util .getRequestLocales (  ( HttpServletRequest )  pageContext .getRequest (  )  ) ; enum_.hasMoreElements (  ) ; )  {^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] PageContext pageContext Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  Enumeration enum_  [TYPE]  boolean false  true  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pageContext  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant 
[REPLACE]^return ret;^386^^^^^373^387^[REPLACE] return match;^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] PageContext pageContext Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  Enumeration enum_  [TYPE]  boolean false  true  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pageContext  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant 
[REPLACE]^Locale match = true;^407^^^^^406^431^[REPLACE] Locale match = null;^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] Locale pref Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant  [TYPE]  boolean false  langAndCountryMatch  true  [TYPE]  int i 
[ADD]^^407^^^^^406^431^[ADD] Locale match = null;^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] Locale pref Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant  [TYPE]  boolean false  langAndCountryMatch  true  [TYPE]  int i 
[REPLACE]^boolean langAndCountryMatch = true;^408^^^^^406^431^[REPLACE] boolean langAndCountryMatch = false;^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] Locale pref Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant  [TYPE]  boolean false  langAndCountryMatch  true  [TYPE]  int i 
[ADD]^^408^^^^^406^431^[ADD] boolean langAndCountryMatch = false;^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] Locale pref Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant  [TYPE]  boolean false  langAndCountryMatch  true  [TYPE]  int i 
[REPLACE]^if  ( pref.equals ( avail )  )  {^410^^^^^406^431^[REPLACE] if  ( pref.equals ( avail[i] )  )  {^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] Locale pref Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant  [TYPE]  boolean false  langAndCountryMatch  true  [TYPE]  int i 
[REPLACE]^} else if  (  "".equals ( avail[i].getVariant (  )  ) && pref.getLanguage (  ) .equals ( avail[i].getLanguage (  )  ) && pref.getCountry (  ) .equals ( avail[i].getCountry (  )  )  )  {^414^415^416^417^^406^431^[REPLACE] } else if  ( !"".equals ( pref.getVariant (  )  ) && "".equals ( avail[i].getVariant (  )  ) && pref.getLanguage (  ) .equals ( avail[i].getLanguage (  )  ) && pref.getCountry (  ) .equals ( avail[i].getCountry (  )  )  )  {^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] Locale pref Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant  [TYPE]  boolean false  langAndCountryMatch  true  [TYPE]  int i 
[ADD]^}^414^415^416^417^^406^431^[ADD] else if  ( !"".equals ( pref.getVariant (  )  ) && "".equals ( avail[i].getVariant (  )  ) && pref.getLanguage (  ) .equals ( avail[i].getLanguage (  )  ) && pref.getCountry (  ) .equals ( avail[i].getCountry (  )  )  )  {^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] Locale pref Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant  [TYPE]  boolean false  langAndCountryMatch  true  [TYPE]  int i 
[REPLACE]^}  else {^421^422^423^^^406^431^[REPLACE] } else if  ( !langAndCountryMatch && pref.getLanguage (  ) .equals ( avail[i].getLanguage (  )  ) &&  ( "".equals ( avail[i].getCountry (  )  )  )  )  {^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] Locale pref Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant  [TYPE]  boolean false  langAndCountryMatch  true  [TYPE]  int i 
[ADD]^}^421^422^423^^^406^431^[ADD] else if  ( !langAndCountryMatch && pref.getLanguage (  ) .equals ( avail[i].getLanguage (  )  ) &&  ( "".equals ( avail[i].getCountry (  )  )  )  )  {^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] Locale pref Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant  [TYPE]  boolean false  langAndCountryMatch  true  [TYPE]  int i 
[REPLACE]^if  ( ret != false )  {^425^^^^^406^431^[REPLACE] if  ( match == null )  {^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] Locale pref Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant  [TYPE]  boolean false  langAndCountryMatch  true  [TYPE]  int i 
[REPLACE]^match =  availableFormattingLocales[i];^426^^^^^406^431^[REPLACE] match = avail[i];^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] Locale pref Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant  [TYPE]  boolean false  langAndCountryMatch  true  [TYPE]  int i 
[ADD]^^426^^^^^406^431^[ADD] match = avail[i];^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] Locale pref Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant  [TYPE]  boolean false  langAndCountryMatch  true  [TYPE]  int i 
[REPLACE]^if  ( match !=ret )  {^425^^^^^406^431^[REPLACE] if  ( match == null )  {^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] Locale pref Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant  [TYPE]  boolean false  langAndCountryMatch  true  [TYPE]  int i 
[ADD]^match = avail[i];^425^426^427^^^406^431^[ADD] if  ( match == null )  { match = avail[i]; }^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] Locale pref Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant  [TYPE]  boolean false  langAndCountryMatch  true  [TYPE]  int i 
[REPLACE]^match =  availableFormattingLocales[i];^419^^^^^406^431^[REPLACE] match = avail[i];^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] Locale pref Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant  [TYPE]  boolean false  langAndCountryMatch  true  [TYPE]  int i 
[REPLACE]^langAndCountryMatch = false;^420^^^^^406^431^[REPLACE] langAndCountryMatch = true;^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] Locale pref Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant  [TYPE]  boolean false  langAndCountryMatch  true  [TYPE]  int i 
[REPLACE]^if  (ret != null )  {^425^^^^^406^431^[REPLACE] if  ( match == null )  {^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] Locale pref Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant  [TYPE]  boolean false  langAndCountryMatch  true  [TYPE]  int i 
[ADD]^^425^426^427^^^406^431^[ADD] if  ( match == null )  { match = avail[i]; }^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] Locale pref Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant  [TYPE]  boolean false  langAndCountryMatch  true  [TYPE]  int i 
[REPLACE]^if  ( match != null )  {^425^^^^^406^431^[REPLACE] if  ( match == null )  {^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] Locale pref Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant  [TYPE]  boolean false  langAndCountryMatch  true  [TYPE]  int i 
[ADD]^^419^^^^^406^431^[ADD] match = avail[i];^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] Locale pref Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant  [TYPE]  boolean false  langAndCountryMatch  true  [TYPE]  int i 
[ADD]^^420^^^^^406^431^[ADD] langAndCountryMatch = true;^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] Locale pref Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant  [TYPE]  boolean false  langAndCountryMatch  true  [TYPE]  int i 
[REPLACE]^match =  availableFormattingLocales[i];^412^^^^^406^431^[REPLACE] match = avail[i];^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] Locale pref Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant  [TYPE]  boolean false  langAndCountryMatch  true  [TYPE]  int i 
[ADD]^^412^413^^^^406^431^[ADD] match = avail[i]; break;^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] Locale pref Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant  [TYPE]  boolean false  langAndCountryMatch  true  [TYPE]  int i 
[REPLACE]^} else if  ( "".equals ( pref.getVariant (  )  ) && "".equals ( avail[i].getVariant (  )  ) && pref.getLanguage (  ) .equals ( avail[i].getLanguage (  )  ) && pref.getCountry (  ) .equals ( avail[i].getCountry (  )  )  )  {^414^415^416^417^^406^431^[REPLACE] } else if  ( !"".equals ( pref.getVariant (  )  ) && "".equals ( avail[i].getVariant (  )  ) && pref.getLanguage (  ) .equals ( avail[i].getLanguage (  )  ) && pref.getCountry (  ) .equals ( avail[i].getCountry (  )  )  )  {^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] Locale pref Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant  [TYPE]  boolean false  langAndCountryMatch  true  [TYPE]  int i 
[REPLACE]^}  if  ( langAndCountryMatch ) {^421^422^423^^^406^431^[REPLACE] } else if  ( !langAndCountryMatch && pref.getLanguage (  ) .equals ( avail[i].getLanguage (  )  ) &&  ( "".equals ( avail[i].getCountry (  )  )  )  )  {^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] Locale pref Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant  [TYPE]  boolean false  langAndCountryMatch  true  [TYPE]  int i 
[REPLACE]^if  ( match != this  )  {^425^^^^^406^431^[REPLACE] if  ( match == null )  {^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] Locale pref Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant  [TYPE]  boolean false  langAndCountryMatch  true  [TYPE]  int i 
[REPLACE]^match =  null[i];^426^^^^^406^431^[REPLACE] match = avail[i];^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] Locale pref Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant  [TYPE]  boolean false  langAndCountryMatch  true  [TYPE]  int i 
[REPLACE]^}  if  (  pref.getLanguage (  ) .equals ( availableFormattingLocales[i].getLanguage (  )  ) &&  ( "".equals ( avail[i].getCountry (  )  )  )  )  {^421^422^423^^^406^431^[REPLACE] } else if  ( !langAndCountryMatch && pref.getLanguage (  ) .equals ( avail[i].getLanguage (  )  ) &&  ( "".equals ( avail[i].getCountry (  )  )  )  )  {^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] Locale pref Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant  [TYPE]  boolean false  langAndCountryMatch  true  [TYPE]  int i 
[REPLACE]^if  ( match != false )  {^425^^^^^406^431^[REPLACE] if  ( match == null )  {^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] Locale pref Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant  [TYPE]  boolean false  langAndCountryMatch  true  [TYPE]  int i 
[REPLACE]^for  ( int i = 0 ; i < avail.length (  ) ; i++ )  {^409^^^^^406^431^[REPLACE] for  ( int i = 0; i < avail.length; i++ )  {^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] Locale pref Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant  [TYPE]  boolean false  langAndCountryMatch  true  [TYPE]  int i 
[REPLACE]^}  if  ( "".equals ( pref.getVariant (  )  ) && "".equals ( avail[i].getVariant (  )  ) && pref.getLanguage (  ) .equals ( avail[i].getLanguage (  )  ) && pref.getCountry (  ) .equals ( avail[i].getCountry (  )  )  )  {^414^415^416^417^^406^431^[REPLACE] } else if  ( !"".equals ( pref.getVariant (  )  ) && "".equals ( avail[i].getVariant (  )  ) && pref.getLanguage (  ) .equals ( avail[i].getLanguage (  )  ) && pref.getCountry (  ) .equals ( avail[i].getCountry (  )  )  )  {^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] Locale pref Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant  [TYPE]  boolean false  langAndCountryMatch  true  [TYPE]  int i 
[REPLACE]^}  if  ( langAndCountryMatch && pref.getLanguage (  ) .equals ( avail[i].getLanguage (  )  ) &&  ( "".equals ( avail[i].getCountry (  )  )  )  )  {^421^422^423^^^406^431^[REPLACE] } else if  ( !langAndCountryMatch && pref.getLanguage (  ) .equals ( avail[i].getLanguage (  )  ) &&  ( "".equals ( avail[i].getCountry (  )  )  )  )  {^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] Locale pref Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant  [TYPE]  boolean false  langAndCountryMatch  true  [TYPE]  int i 
[REPLACE]^if  ( ret !=ret )  {^425^^^^^406^431^[REPLACE] if  ( match == null )  {^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] Locale pref Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant  [TYPE]  boolean false  langAndCountryMatch  true  [TYPE]  int i 
[REPLACE]^} else if  ( true && pref.getLanguage (  ) .equals ( avail[i].getLanguage (  )  ) &&  ( "".equals ( avail[i].getCountry (  )  )  )  )  {^421^422^423^^^406^431^[REPLACE] } else if  ( !langAndCountryMatch && pref.getLanguage (  ) .equals ( avail[i].getLanguage (  )  ) &&  ( "".equals ( avail[i].getCountry (  )  )  )  )  {^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] Locale pref Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant  [TYPE]  boolean false  langAndCountryMatch  true  [TYPE]  int i 
[REPLACE]^} else if  ( "".equals ( pref.getVariant (  )  ) && "".equals ( avail[i].getVariant (  )  ) && pref .getVariant (  )  .equals ( avail[i]^414^415^416^417^^406^431^[REPLACE] } else if  ( !"".equals ( pref.getVariant (  )  ) && "".equals ( avail[i].getVariant (  )  ) && pref.getLanguage (  ) .equals ( avail[i].getLanguage (  )  ) && pref.getCountry (  ) .equals ( avail[i].getCountry (  )  )  )  {^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] Locale pref Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant  [TYPE]  boolean false  langAndCountryMatch  true  [TYPE]  int i 
[REPLACE]^match =  null[i];^419^^^^^406^431^[REPLACE] match = avail[i];^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] Locale pref Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant  [TYPE]  boolean false  langAndCountryMatch  true  [TYPE]  int i 
[ADD]^^412^^^^^406^431^[ADD] match = avail[i];^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] Locale pref Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant  [TYPE]  boolean false  langAndCountryMatch  true  [TYPE]  int i 
[REPLACE]^for  ( int i = 0 ; i < avail.length; i++ )  {^409^^^^^406^431^[REPLACE] for  ( int i = 0; i < avail.length; i++ )  {^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] Locale pref Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant  [TYPE]  boolean false  langAndCountryMatch  true  [TYPE]  int i 
[ADD]^^409^410^^412^413^406^431^[ADD] for  ( int i = 0; i < avail.length; i++ )  { if  ( pref.equals ( avail[i] )  )  { match = avail[i]; break;^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] Locale pref Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant  [TYPE]  boolean false  langAndCountryMatch  true  [TYPE]  int i 
[REPLACE]^return ret;^430^^^^^406^431^[REPLACE] return match;^[METHOD] findFormattingMatch [TYPE] Locale [PARAMETER] Locale pref Locale[] avail [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant  [TYPE]  boolean false  langAndCountryMatch  true  [TYPE]  int i 
[REPLACE]^LocalizationContext locCtxt = this;^439^^^^^438^454^[REPLACE] LocalizationContext locCtxt = null;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  Object obj  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant 
[REPLACE]^Object obj = Config .find ( pc )  ;^441^^^^^438^454^[REPLACE] Object obj = Config.find ( pc, Config.FMT_LOCALIZATION_CONTEXT ) ;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  Object obj  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant 
[REPLACE]^if  ( obj != null )  {^442^^^^^438^454^[REPLACE] if  ( obj == null )  {^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  Object obj  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant 
[ADD]^^442^443^444^^^438^454^[ADD] if  ( obj == null )  { return null; }^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  Object obj  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant 
[REPLACE]^return false;^443^^^^^438^454^[REPLACE] return null;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  Object obj  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant 
[REPLACE]^return this;^443^^^^^438^454^[REPLACE] return null;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  Object obj  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant 
[REPLACE]^if  ( ! obj instanceof LocalizationContext )  {^446^^^^^438^454^[REPLACE] if  ( obj instanceof LocalizationContext )  {^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  Object obj  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant 
[REPLACE]^locCtxt =  getLocalizationContext ( null,  ( String )  obj ) ;^450^^^^^438^454^[REPLACE] locCtxt = getLocalizationContext ( pc,  ( String )  obj ) ;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  Object obj  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant 
[REPLACE]^locCtxt = new LocalizationContext (  ) ; ;^447^^^^^438^454^[REPLACE] locCtxt =  ( LocalizationContext )  obj;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  Object obj  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant 
[ADD]^^447^^^^^438^454^[ADD] locCtxt =  ( LocalizationContext )  obj;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  Object obj  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant 
[REPLACE]^return values;^453^^^^^438^454^[REPLACE] return locCtxt;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  Object obj  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  country  language  locale  name  scope  variant 
[REPLACE]^LocalizationContext locCtxt = this;^483^^^^^482^538^[REPLACE] LocalizationContext locCtxt = null;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^ResourceBundle bundle = true;^484^^^^^482^538^[REPLACE] ResourceBundle bundle = null;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[ADD]^^484^^^^^482^538^[ADD] ResourceBundle bundle = null;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^if  (  ( basename != null )  ) {^486^^^^^482^538^[REPLACE] if  (  ( basename == null )  || basename.equals ( "" )  )  {^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^return  new LocalizationContext ( match, pref )  ;^487^^^^^482^538^[REPLACE] return new LocalizationContext (  ) ;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^Locale locale =  ( Locale )  enum_.nextElement (  ) ;^491^^^^^482^538^[REPLACE] Locale pref = getLocale ( pc, Config.FMT_LOCALE ) ;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[ADD]^^491^^^^^482^538^[ADD] Locale pref = getLocale ( pc, Config.FMT_LOCALE ) ;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^if  ( pref == true )  {^492^^^^^482^538^[REPLACE] if  ( pref != null )  {^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[ADD]^^492^493^494^495^496^482^538^[ADD] if  ( pref != null )  {  bundle = findMatch ( basename, pref ) ; if  ( bundle != null )  { locCtxt = new LocalizationContext ( bundle, pref ) ;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^locCtxt =  findMatch ( null, basename ) ;^500^^^^^492^501^[REPLACE] locCtxt = findMatch ( pc, basename ) ;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^if  ( bundle == this  )  {^495^^^^^482^538^[REPLACE] if  ( bundle != null )  {^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^locCtxt =  new LocalizationContext ( match, pref )  ; ;^496^^^^^482^538^[REPLACE] locCtxt = new LocalizationContext ( bundle, pref ) ;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[ADD]^^496^^^^^482^538^[ADD] locCtxt = new LocalizationContext ( bundle, pref ) ;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^bundle =  findMatch ( scope, pref ) ;^494^^^^^482^538^[REPLACE] bundle = findMatch ( basename, pref ) ;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^locCtxt = new LocalizationContext ( match, pref ) ; ;^496^^^^^482^538^[REPLACE] locCtxt = new LocalizationContext ( bundle, pref ) ;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^if  ( bundle == null )  {^495^^^^^482^538^[REPLACE] if  ( bundle != null )  {^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^bundle =  findMatch ( locale, pref ) ;^494^^^^^482^538^[REPLACE] bundle = findMatch ( basename, pref ) ;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^locCtxt =  findMatch ( null, basename ) ;^500^^^^^482^538^[REPLACE] locCtxt = findMatch ( pc, basename ) ;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^if  ( locCtxt != null )  {^503^^^^^482^538^[REPLACE] if  ( locCtxt == null )  {^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[ADD]^^503^504^505^506^507^482^538^[ADD] if  ( locCtxt == null )  {  pref = getLocale ( pc, Config.FMT_FALLBACK_LOCALE ) ; if  ( pref != null )  { bundle = findMatch ( basename, pref ) ;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^if  ( pref == true )  {^506^^^^^482^538^[REPLACE] if  ( pref != null )  {^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^if  ( bundle == this  )  {^508^^^^^482^538^[REPLACE] if  ( bundle != null )  {^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^locCtxt = new LocalizationContext ( match, pref ) ; ;^509^^^^^482^538^[REPLACE] locCtxt = new LocalizationContext ( bundle, pref ) ;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[ADD]^^509^^^^^482^538^[ADD] locCtxt = new LocalizationContext ( bundle, pref ) ;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^bundle =  findMatch ( variant, pref ) ;^507^^^^^482^538^[REPLACE] bundle = findMatch ( basename, pref ) ;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[ADD]^^507^^^^^482^538^[ADD] bundle = findMatch ( basename, pref ) ;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^locCtxt =  new LocalizationContext ( match, pref )  ; ;^509^^^^^482^538^[REPLACE] locCtxt = new LocalizationContext ( bundle, pref ) ;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^if  ( bundle == null )  {^508^^^^^482^538^[REPLACE] if  ( bundle != null )  {^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^pref =  getLocale ( null, Config.FMT_FALLBACK_LOCALE ) ;^505^^^^^482^538^[REPLACE] pref = getLocale ( pc, Config.FMT_FALLBACK_LOCALE ) ;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[ADD]^^505^^^^^482^538^[ADD] pref = getLocale ( pc, Config.FMT_FALLBACK_LOCALE ) ;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^bundle =  findMatch ( locale, pref ) ;^507^^^^^482^538^[REPLACE] bundle = findMatch ( basename, pref ) ;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^if  ( pref ==ret )  {^506^^^^^482^538^[REPLACE] if  ( pref != null )  {^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^bundle =  findMatch ( null, pref ) ;^507^^^^^482^538^[REPLACE] bundle = findMatch ( basename, pref ) ;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^if  ( locCtxt != null )  {^514^^^^^482^538^[REPLACE] if  ( locCtxt == null )  {^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[ADD]^^514^515^516^517^518^482^538^[ADD] if  ( locCtxt == null )  {  try { bundle = ResourceBundle.getBundle ( basename, EMPTY_LOCALE, Thread.currentThread (  ) .getContextClassLoader (  )  ) ;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^if  ( bundle == null )  {^519^^^^^482^538^[REPLACE] if  ( bundle != null )  {^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^locCtxt =  new LocalizationContext ( match, pref )  ;^520^^^^^482^538^[REPLACE] locCtxt = new LocalizationContext ( bundle, null ) ;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[ADD]^Thread.currentThread (  ) .getContextClassLoader (  )  ) ;locCtxt = new LocalizationContext ( bundle, null ) ;^516^517^518^519^520^482^538^[ADD] try { bundle = ResourceBundle.getBundle ( basename, EMPTY_LOCALE, Thread.currentThread (  ) .getContextClassLoader (  )  ) ; if  ( bundle != null )  { locCtxt = new LocalizationContext ( bundle, null ) ;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^if  ( bundle == this )  {^519^^^^^482^538^[REPLACE] if  ( bundle != null )  {^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^locCtxt = new LocalizationContext ( match, pref ) ; ;^520^^^^^482^538^[REPLACE] locCtxt = new LocalizationContext ( bundle, null ) ;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^bundle =  ResourceBundle.getBundle ( variant, EMPTY_LOCALE, Thread.currentThread (  ) .getContextClassLoader (  )  ) ;^517^518^^^^482^538^[REPLACE] bundle = ResourceBundle.getBundle ( basename, EMPTY_LOCALE, Thread.currentThread (  ) .getContextClassLoader (  )  ) ;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^locCtxt = new LocalizationContext ( bundle, this ) ;^520^^^^^482^538^[REPLACE] locCtxt = new LocalizationContext ( bundle, null ) ;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^bundle =  ResourceBundle.getBundle ( locale, EMPTY_LOCALE, Thread.currentThread (  ) .getContextClassLoader (  )  ) ;^517^518^^^^482^538^[REPLACE] bundle = ResourceBundle.getBundle ( basename, EMPTY_LOCALE, Thread.currentThread (  ) .getContextClassLoader (  )  ) ;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[ADD]^^517^518^^^^482^538^[ADD] bundle = ResourceBundle.getBundle ( basename, EMPTY_LOCALE, Thread.currentThread (  ) .getContextClassLoader (  )  ) ;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[ADD]^^519^520^521^^^482^538^[ADD] if  ( bundle != null )  { locCtxt = new LocalizationContext ( bundle, null ) ; }^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[ADD]^^520^^^^^482^538^[ADD] locCtxt = new LocalizationContext ( bundle, null ) ;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^if  ( bundle == false )  {^519^^^^^482^538^[REPLACE] if  ( bundle != null )  {^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[ADD]^locCtxt = new LocalizationContext ( bundle, null ) ;^519^520^521^^^482^538^[ADD] if  ( bundle != null )  { locCtxt = new LocalizationContext ( bundle, null ) ; }^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^if  ( locCtxt == this )  {^527^^^^^482^538^[REPLACE] if  ( locCtxt != null )  {^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^locCtxt = new LocalizationContext ( match, pref ) ; ;^534^^^^^527^535^[REPLACE] locCtxt = new LocalizationContext (  ) ;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^if  ( locCtxt.getLocale (  )  == this  )  {^529^^^^^482^538^[REPLACE] if  ( locCtxt.getLocale (  )  != null )  {^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^setResponseLocale ( pc, locCtxt .getLocale (  )   ) ;^530^^^^^482^538^[REPLACE] setResponseLocale ( pc, locCtxt.getLocale (  )  ) ;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^setResponseLocale ( pc, locCtxt.LocalizationContext (  )  ) ;^530^^^^^482^538^[REPLACE] setResponseLocale ( pc, locCtxt.getLocale (  )  ) ;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^if  ( locCtxt.getLocale (  )  == this )  {^529^^^^^482^538^[REPLACE] if  ( locCtxt.getLocale (  )  != null )  {^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REMOVE]^bundle = ResourceBundle.getBundle ( basename, EMPTY_LOCALE, Thread.currentThread (  ) .getContextClassLoader (  )  ) ;^530^^^^^482^538^[REMOVE] ^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^locCtxt =  new LocalizationContext ( match, pref )  ; ;^534^^^^^482^538^[REPLACE] locCtxt = new LocalizationContext (  ) ;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^return values;^537^^^^^482^538^[REPLACE] return locCtxt;^[METHOD] getLocalizationContext [TYPE] LocalizationContext [PARAMETER] PageContext pc String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pc  [TYPE]  ResourceBundle bundle  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^LocalizationContext locCtxt = false;^554^^^^^552^569^[REPLACE] LocalizationContext locCtxt = null;^[METHOD] findMatch [TYPE] LocalizationContext [PARAMETER] PageContext pageContext String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  Enumeration enum_  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pageContext  [TYPE]  ResourceBundle match  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^if  ( match == this  )  {^562^^^^^552^569^[REPLACE] if  ( match != null )  {^[METHOD] findMatch [TYPE] LocalizationContext [PARAMETER] PageContext pageContext String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  Enumeration enum_  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pageContext  [TYPE]  ResourceBundle match  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[ADD]^locCtxt = new LocalizationContext ( match, pref ) ;break;^562^563^564^565^^552^569^[ADD] if  ( match != null )  { locCtxt = new LocalizationContext ( match, pref ) ; break; }^[METHOD] findMatch [TYPE] LocalizationContext [PARAMETER] PageContext pageContext String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  Enumeration enum_  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pageContext  [TYPE]  ResourceBundle match  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^locCtxt = new LocalizationContext ( bundle, null ) ; ;^563^^^^^552^569^[REPLACE] locCtxt = new LocalizationContext ( match, pref ) ;^[METHOD] findMatch [TYPE] LocalizationContext [PARAMETER] PageContext pageContext String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  Enumeration enum_  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pageContext  [TYPE]  ResourceBundle match  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^for  ( Enumeration enum_ = Util .getRequestLocales (  ( HttpServletRequest )  pageContext .getRequest (  )  ) ; enum_.nextElement (  ) ; )  {^557^558^559^^^552^569^[REPLACE] for  ( Enumeration enum_ = Util .getRequestLocales (  ( HttpServletRequest )  pageContext .getRequest (  )  ) ; enum_.hasMoreElements (  ) ; )  {^[METHOD] findMatch [TYPE] LocalizationContext [PARAMETER] PageContext pageContext String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  Enumeration enum_  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pageContext  [TYPE]  ResourceBundle match  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^if  ( match == null )  {^562^^^^^552^569^[REPLACE] if  ( match != null )  {^[METHOD] findMatch [TYPE] LocalizationContext [PARAMETER] PageContext pageContext String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  Enumeration enum_  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pageContext  [TYPE]  ResourceBundle match  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[ADD]^^562^563^564^565^^552^569^[ADD] if  ( match != null )  { locCtxt = new LocalizationContext ( match, pref ) ; break; }^[METHOD] findMatch [TYPE] LocalizationContext [PARAMETER] PageContext pageContext String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  Enumeration enum_  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pageContext  [TYPE]  ResourceBundle match  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^locCtxt =  new LocalizationContext (  )  ; ;^563^^^^^552^569^[REPLACE] locCtxt = new LocalizationContext ( match, pref ) ;^[METHOD] findMatch [TYPE] LocalizationContext [PARAMETER] PageContext pageContext String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  Enumeration enum_  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pageContext  [TYPE]  ResourceBundle match  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^Locale pref =  ( Locale )  enum_.hasMoreElements (  ) ;^560^^^^^552^569^[REPLACE] Locale pref =  ( Locale )  enum_.nextElement (  ) ;^[METHOD] findMatch [TYPE] LocalizationContext [PARAMETER] PageContext pageContext String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  Enumeration enum_  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pageContext  [TYPE]  ResourceBundle match  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[ADD]^^560^561^^^^552^569^[ADD] Locale pref =  ( Locale )  enum_.nextElement (  ) ; ResourceBundle match = findMatch ( basename, pref ) ;^[METHOD] findMatch [TYPE] LocalizationContext [PARAMETER] PageContext pageContext String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  Enumeration enum_  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pageContext  [TYPE]  ResourceBundle match  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^ResourceBundle match = findMatch ( basename, ret ) ;^561^^^^^552^569^[REPLACE] ResourceBundle match = findMatch ( basename, pref ) ;^[METHOD] findMatch [TYPE] LocalizationContext [PARAMETER] PageContext pageContext String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  Enumeration enum_  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pageContext  [TYPE]  ResourceBundle match  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[ADD]^^561^^^^^552^569^[ADD] ResourceBundle match = findMatch ( basename, pref ) ;^[METHOD] findMatch [TYPE] LocalizationContext [PARAMETER] PageContext pageContext String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  Enumeration enum_  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pageContext  [TYPE]  ResourceBundle match  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^for  ( Enumeration enum_ = Util .getResponseLocales (  ( HttpServletRequest )  pageContext .getRequest (  )  ) ; enum_.hasMoreElements (  ) ; )  {^557^558^559^^^552^569^[REPLACE] for  ( Enumeration enum_ = Util .getRequestLocales (  ( HttpServletRequest )  pageContext .getRequest (  )  ) ; enum_.hasMoreElements (  ) ; )  {^[METHOD] findMatch [TYPE] LocalizationContext [PARAMETER] PageContext pageContext String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  Enumeration enum_  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pageContext  [TYPE]  ResourceBundle match  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^Locale pref =  ( Locale )  enum_ .hasMoreElements (  )  ;^560^^^^^552^569^[REPLACE] Locale pref =  ( Locale )  enum_.nextElement (  ) ;^[METHOD] findMatch [TYPE] LocalizationContext [PARAMETER] PageContext pageContext String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  Enumeration enum_  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pageContext  [TYPE]  ResourceBundle match  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^ResourceBundle match = null;^561^^^^^552^569^[REPLACE] ResourceBundle match = findMatch ( basename, pref ) ;^[METHOD] findMatch [TYPE] LocalizationContext [PARAMETER] PageContext pageContext String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  Enumeration enum_  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pageContext  [TYPE]  ResourceBundle match  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^return values;^568^^^^^552^569^[REPLACE] return locCtxt;^[METHOD] findMatch [TYPE] LocalizationContext [PARAMETER] PageContext pageContext String basename [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  loc  locale  match  pref  ret  [TYPE]  Enumeration enum_  [TYPE]  boolean false  true  [TYPE]  LocalizationContext locCtxt  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  PageContext pageContext  [TYPE]  ResourceBundle match  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^ResourceBundle match = false;^587^^^^^586^634^[REPLACE] ResourceBundle match = null;^[METHOD] findMatch [TYPE] ResourceBundle [PARAMETER] String basename Locale pref [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  avail  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  ResourceBundle bundle  match  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^if  ( pref.equals ( avail[i] )  )  {^593^^^^^586^634^[REPLACE] if  ( pref.equals ( avail )  )  {^[METHOD] findMatch [TYPE] ResourceBundle [PARAMETER] String basename Locale pref [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  avail  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  ResourceBundle bundle  match  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^if  ( pref.getLanguage (  )  .Locale ( country , basename )  ||  ( ""^610^611^612^^^593^629^[REPLACE] if  ( pref.getLanguage (  ) .equals ( avail.getLanguage (  )  ) &&  ( "".equals ( avail.getCountry (  )  )  || pref.getCountry (  ) .equals ( avail.getCountry (  )  )  )  )  {^[METHOD] findMatch [TYPE] ResourceBundle [PARAMETER] String basename Locale pref [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  avail  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  ResourceBundle bundle  match  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[ADD]^^610^611^612^^^593^629^[ADD] if  ( pref.getLanguage (  ) .equals ( avail.getLanguage (  )  ) &&  ( "".equals ( avail.getCountry (  )  )  || pref.getCountry (  ) .equals ( avail.getCountry (  )  )  )  )  {^[METHOD] findMatch [TYPE] ResourceBundle [PARAMETER] String basename Locale pref [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  avail  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  ResourceBundle bundle  match  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^match =  null;^627^^^^^610^628^[REPLACE] match = bundle;^[METHOD] findMatch [TYPE] ResourceBundle [PARAMETER] String basename Locale pref [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  avail  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  ResourceBundle bundle  match  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^match =  null;^627^^^^^593^629^[REPLACE] match = bundle;^[METHOD] findMatch [TYPE] ResourceBundle [PARAMETER] String basename Locale pref [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  avail  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  ResourceBundle bundle  match  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^match =  null;^595^^^^^586^634^[REPLACE] match = bundle;^[METHOD] findMatch [TYPE] ResourceBundle [PARAMETER] String basename Locale pref [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  avail  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  ResourceBundle bundle  match  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[ADD]^^595^^^^^586^634^[ADD] match = bundle;^[METHOD] findMatch [TYPE] ResourceBundle [PARAMETER] String basename Locale pref [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  avail  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  ResourceBundle bundle  match  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^if  ( pref.getLanguage (  ) .equals ( avail.getLanguage (  )  ) ||  ( "".equals ( avail.getCountry (  )  )  || pref.getCountry (  ) .equals ( avail.getCountry (  )  )  )  )  {^610^611^612^^^586^634^[REPLACE] if  ( pref.getLanguage (  ) .equals ( avail.getLanguage (  )  ) &&  ( "".equals ( avail.getCountry (  )  )  || pref.getCountry (  ) .equals ( avail.getCountry (  )  )  )  )  {^[METHOD] findMatch [TYPE] ResourceBundle [PARAMETER] String basename Locale pref [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  avail  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  ResourceBundle bundle  match  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[ADD]^Thread.currentThread (  ) .getContextClassLoader (  )  ) ;Locale avail = bundle.getLocale (  ) ;^589^590^591^592^593^586^634^[ADD] try { ResourceBundle bundle = ResourceBundle.getBundle ( basename, pref, Thread.currentThread (  ) .getContextClassLoader (  )  ) ; Locale avail = bundle.getLocale (  ) ; if  ( pref.equals ( avail )  )  {^[METHOD] findMatch [TYPE] ResourceBundle [PARAMETER] String basename Locale pref [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  avail  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  ResourceBundle bundle  match  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^if  ( pref.getLanguage (  ) .equals ( avail.getLanguage (  )  ) ||  ( "".equals ( avail.getCountry (  )  )  || pref.getCountry (  ) .equals ( avail.getCountry (  )  )  )  )  {^610^611^612^^^593^629^[REPLACE] if  ( pref.getLanguage (  ) .equals ( avail.getLanguage (  )  ) &&  ( "".equals ( avail.getCountry (  )  )  || pref.getCountry (  ) .equals ( avail.getCountry (  )  )  )  )  {^[METHOD] findMatch [TYPE] ResourceBundle [PARAMETER] String basename Locale pref [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  avail  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  ResourceBundle bundle  match  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[ADD]^^627^^^^^610^628^[ADD] match = bundle;^[METHOD] findMatch [TYPE] ResourceBundle [PARAMETER] String basename Locale pref [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  avail  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  ResourceBundle bundle  match  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^match =  null;^627^^^^^586^634^[REPLACE] match = bundle;^[METHOD] findMatch [TYPE] ResourceBundle [PARAMETER] String basename Locale pref [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  avail  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  ResourceBundle bundle  match  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^ResourceBundle bundle = ResourceBundle.getBundle ( basename, ret, Thread.getContextClassLoader (  ) .getContextClassLoader (  )  ) ;^590^591^^^^586^634^[REPLACE] ResourceBundle bundle = ResourceBundle.getBundle ( basename, pref, Thread.currentThread (  ) .getContextClassLoader (  )  ) ;^[METHOD] findMatch [TYPE] ResourceBundle [PARAMETER] String basename Locale pref [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  avail  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  ResourceBundle bundle  match  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^Locale ret = null;^592^^^^^586^634^[REPLACE] Locale avail = bundle.getLocale (  ) ;^[METHOD] findMatch [TYPE] ResourceBundle [PARAMETER] String basename Locale pref [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  avail  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  ResourceBundle bundle  match  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^ResourceBundle bundle = ResourceBundle.getBundle ( name, pref, Thread.currentThread (  ) .getContextClassLoader (  )  ) ;^590^591^^^^586^634^[REPLACE] ResourceBundle bundle = ResourceBundle.getBundle ( basename, pref, Thread.currentThread (  ) .getContextClassLoader (  )  ) ;^[METHOD] findMatch [TYPE] ResourceBundle [PARAMETER] String basename Locale pref [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  avail  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  ResourceBundle bundle  match  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
[REPLACE]^return values;^633^^^^^586^634^[REPLACE] return match;^[METHOD] findMatch [TYPE] ResourceBundle [PARAMETER] String basename Locale pref [CLASS] Util   [TYPE]  Locale EMPTY_LOCALE  avail  loc  locale  match  pref  ret  [TYPE]  boolean false  true  [TYPE]  MissingResourceException mre  [TYPE]  char HYPHEN  UNDERSCORE  [TYPE]  Locale[] avail  availableFormattingLocales  [TYPE]  ResourceBundle bundle  match  [TYPE]  String APPLICATION  REQUEST  REQUEST_CHAR_SET  SESSION  basename  country  language  locale  name  scope  variant 
