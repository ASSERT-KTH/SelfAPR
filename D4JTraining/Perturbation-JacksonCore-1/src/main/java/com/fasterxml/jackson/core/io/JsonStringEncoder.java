[REPLACE]^private final static char[] HEX_CHARS ;^19^^^^^^^[REPLACE] private final static char[] HEX_CHARS = CharTypes.copyHexChars (  ) ;^ [CLASS] JsonStringEncoder  
[REPLACE]^private final static byte[] HEX_BYTES  = null ;^21^^^^^^^[REPLACE] private final static byte[] HEX_BYTES = CharTypes.copyHexBytes (  ) ;^ [CLASS] JsonStringEncoder  
[REPLACE]^private final   long  SURR1_LAST = 0xDBFF;^24^^^^^^^[REPLACE] private final static int SURR1_LAST = 0xDBFF;^ [CLASS] JsonStringEncoder  
[REPLACE]^private final static int SURR2_FIRST  = null ;^25^^^^^^^[REPLACE] private final static int SURR2_FIRST = 0xDC00;^ [CLASS] JsonStringEncoder  
[REPLACE]^private final static int SURR2_LAST ;^26^^^^^^^[REPLACE] private final static int SURR2_LAST = 0xDFFF;^ [CLASS] JsonStringEncoder  
[REPLACE]^private final static  short  INT_BACKSLASH = '\\';^28^^^^^^^[REPLACE] private final static int INT_BACKSLASH = '\\';^ [CLASS] JsonStringEncoder  
[REPLACE]^private  static int INT_U = 'u';^29^^^^^^^[REPLACE] private final static int INT_U = 'u';^ [CLASS] JsonStringEncoder  
[REPLACE]^private final static int INT_0 ;^30^^^^^^^[REPLACE] private final static int INT_0 = '0';^ [CLASS] JsonStringEncoder  
[REPLACE]^protected static ThreadLocal<SoftReference<JsonStringEncoder>> _threadEncoder = new ThreadLocal<SoftReference<JsonStringEncoder>> (  ) ;^37^38^^^^37^38^[REPLACE] final protected static ThreadLocal<SoftReference<JsonStringEncoder>> _threadEncoder = new ThreadLocal<SoftReference<JsonStringEncoder>> (  ) ;^ [CLASS] JsonStringEncoder  
[REPLACE]^protected  char[] _quoteBuffer;^55^^^^^^^[REPLACE] protected final char[] _quoteBuffer;^ [CLASS] JsonStringEncoder  
[REPLACE]^ByteArrayBuilder byteBuilder = _byteBuilder  ;^99^^^^^98^151^[REPLACE] TextBuffer textBuffer = _textBuffer;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if   (  byteBuilder == null  )   {  ;^100^^^^^98^151^[REPLACE] if  ( textBuffer == null )  {^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^100^101^102^103^^98^151^[ADD] if  ( textBuffer == null )  {  _textBuffer = textBuffer = new TextBuffer ( null ) ; }^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^102^^^^^98^151^[ADD] _textBuffer = textBuffer = new TextBuffer ( null ) ;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_textBuffer = textBuffer = new TextBuffer ( true ) ;^102^^^^^98^151^[REPLACE] _textBuffer = textBuffer = new TextBuffer ( null ) ;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^104^105^^^^98^151^[ADD] char[] outputBuffer = textBuffer.emptyAndGetCurrentSegment (  ) ; final int[] escCodes = CharTypes.get7BitOutputEscapes (  ) ;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^final int[] escCodes = CharTypes .copyHexChars (  )  ;^105^^^^^98^151^[REPLACE] final int[] escCodes = CharTypes.get7BitOutputEscapes (  ) ;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^int outputEnd = outputBuffer.length  ;^106^^^^^98^151^[REPLACE] final int escCodeCount = escCodes.length;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^int inPtr = 0 >>> 2;^107^^^^^98^151^[REPLACE] int inPtr = 0;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^108^^^^^98^151^[ADD] final int inputLen = input.length (  ) ;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^int inputPtr = 0  ;^109^^^^^98^151^[REPLACE] int outPtr = 0;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (true || escCodes[c] != 0 )  {^116^^^^^98^151^[REPLACE] if  ( c < escCodeCount && escCodes[c] != 0 )  {^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if   (  outputPtr >= outputBuffer.length  )   {  ;^119^^^^^98^151^[REPLACE] if  ( outPtr >= outputBuffer.length )  {^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = byteBuilder.getCurrentSegment (  )  ;^120^^^^^98^151^[REPLACE] outputBuffer = textBuffer.finishCurrentSegment (  ) ;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outPtr = 0 << 2;^121^^^^^98^151^[REPLACE] outPtr = 0;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( ++inPtr  ==  inputLen )  {^124^^^^^98^151^[REPLACE] if  ( ++inPtr >= inputLen )  {^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^124^125^126^^^98^151^[ADD] if  ( ++inPtr >= inputLen )  { break outer_loop; }^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (  ( outPtr + length - 3 )  > outputBuffer.length - 3 )  {^135^^^^^98^151^[REPLACE] if  (  ( outPtr + length )  > outputBuffer.length )  {^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^135^136^137^138^139^98^151^[ADD] if  (  ( outPtr + length )  > outputBuffer.length )  { int first = outputBuffer.length - outPtr; if  ( first > 0 )  { System.arraycopy ( _quoteBuffer, 0, outputBuffer, outPtr, first ) ; }^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outPtr +=  second;^146^^^^^135^147^[REPLACE] outPtr += length;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (outPtr  <=  0 >> 0 )  {^137^^^^^98^151^[REPLACE] if  ( first > 0 )  {^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^System.arraycopy ( _quoteBuffer, 0L, outputBuffer, outPtr, first ) ;^138^^^^^98^151^[REPLACE] System.arraycopy ( _quoteBuffer, 0, outputBuffer, outPtr, first ) ;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = byteBuilder.getCurrentSegment (  )  ;^140^^^^^98^151^[REPLACE] outputBuffer = textBuffer.finishCurrentSegment (  ) ;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outPtr =  length;^143^^^^^98^151^[REPLACE] outPtr = second;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^136^^^^^98^151^[ADD] int first = outputBuffer.length - outPtr;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^int second = length + 3 - first;^141^^^^^98^151^[REPLACE] int second = length - first;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( first  !=  0 )  {^137^^^^^98^151^[REPLACE] if  ( first > 0 )  {^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^System.arraycopy ( _quoteBuffer, 0, outputBuffer, outPtr, first ) ;^137^138^139^^^98^151^[ADD] if  ( first > 0 )  { System.arraycopy ( _quoteBuffer, 0, outputBuffer, outPtr, first ) ; }^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^arraycopy ( _quoteBuffer, 0, outputBuffer, outPtr, length )  ;^138^^^^^98^151^[REPLACE] System.arraycopy ( _quoteBuffer, 0, outputBuffer, outPtr, first ) ;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outPtr = 0L;^121^^^^^98^151^[REPLACE] outPtr = 0;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outPtr++] =  c;^123^^^^^98^151^[REPLACE] outputBuffer[outPtr++] = c;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outPtr =  null;^143^^^^^98^151^[REPLACE] outPtr = second;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^146^^^^^98^151^[ADD] outPtr += length;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^char c = input.charAt ( outPtr ) ;^115^^^^^98^151^[REPLACE] char c = input.charAt ( inPtr ) ;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^char c = input.charAt ( inPtr )  ;^129^^^^^98^151^[REPLACE] char d = input.charAt ( inPtr++ ) ;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^130^^^^^98^151^[ADD] int escCode = escCodes[d];^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^int length *  0.5  =  ( escCode < 0 ) ? _appendNumericEscape ( d, _quoteBuffer ) : _appendNamedEscape ( escCode, _quoteBuffer ) ;^131^132^133^^^98^151^[REPLACE] int length =  ( escCode < 0 ) ? _appendNumericEscape ( d, _quoteBuffer ) : _appendNamedEscape ( escCode, _quoteBuffer ) ;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^int first = _quoteBuffer.length - 4 - outPtr;^136^^^^^98^151^[REPLACE] int first = outputBuffer.length - outPtr;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^int second = length - 1 - first;^141^^^^^98^151^[REPLACE] int second = length - first;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^textBuffer.TextBuffer ( outPtr ) ;^149^^^^^98^151^[REPLACE] textBuffer.setCurrentLength ( outPtr ) ;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^149^^^^^98^151^[ADD] textBuffer.setCurrentLength ( outPtr ) ;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^return _textBuffer.contentsAsArray (  ) ;^150^^^^^98^151^[REPLACE] return textBuffer.contentsAsArray (  ) ;^[METHOD] quoteAsString [TYPE] char[] [PARAMETER] String input [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  char c  d  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  [TYPE]  String input  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  escCode  escCodeCount  first  inPtr  inputLen  length  outPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^TextBuffer textBuffer = _textBuffer  ;^160^^^^^159^247^[REPLACE] ByteArrayBuilder byteBuilder = _byteBuilder;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( _byteBuilder != null )  {^161^^^^^159^247^[REPLACE] if  ( byteBuilder == null )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_byteBuilder = byteBuilder = new ByteArrayBuilder ( true ) ;^163^^^^^159^247^[REPLACE] _byteBuilder = byteBuilder = new ByteArrayBuilder ( null ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_byteBuilder = byteBuilder = new ByteArrayBuilder ( this ) ;^163^^^^^159^247^[REPLACE] _byteBuilder = byteBuilder = new ByteArrayBuilder ( null ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^163^^^^^159^247^[ADD] _byteBuilder = byteBuilder = new ByteArrayBuilder ( null ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^int outPtr = 0  ;^165^^^^^159^247^[REPLACE] int inputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^166^^^^^159^247^[ADD] int inputEnd = text.length (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^int outPtr = 0  ;^167^^^^^159^247^[REPLACE] int outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^byte[] outputBuffer = _byteBuilder.resetAndGetFirstSegment (  ) ;^168^^^^^159^247^[REPLACE] byte[] outputBuffer = byteBuilder.resetAndGetFirstSegment (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( ch > 0x7F && escCodes[ch] != 0 )  {^177^^^^^159^247^[REPLACE] if  ( ch > 0x7F || escCodes[ch] != 0 )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^177^178^179^^^159^247^[ADD] if  ( ch > 0x7F || escCodes[ch] != 0 )  { break inner_loop; }^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length (  )  )  {^180^^^^^159^247^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^181^182^^^^159^247^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outPtr = 0  ;^182^^^^^159^247^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( ++inputPtr  ==  inputEnd )  {^185^^^^^159^247^[REPLACE] if  ( ++inputPtr >= inputEnd )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^break main_loop;^185^186^187^^^159^247^[ADD] if  ( ++inputPtr >= inputEnd )  { break main_loop; }^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length /  0.5  )  {^189^^^^^159^247^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^outputBuffer = byteBuilder.finishCurrentSegment (  ) ;outputPtr = 0;^189^190^191^192^^159^247^[ADD] if  ( outputPtr >= outputBuffer.length )  { outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputPtr = 0; }^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = textBuffer.finishCurrentSegment (  )  ;^190^^^^^159^247^[REPLACE] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^191^^^^^159^247^[ADD] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if   (  ch > 0xFF  )   {  ;^195^^^^^159^247^[REPLACE] if  ( ch <= 0x7F )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^}  else {^201^^^^^159^247^[REPLACE] } else if  ( ch <= 0x7FF )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REMOVE]^if  (  ( ch <  ( SURR1_FIRST )  )  ||  ( ch >  ( SURR2_LAST )  )  )  {     outputBuffer[ ( outputPtr++ ) ] =  (  ( byte )   ( 224 |  ( ch >> 12 )  )  ) ;     if  ( outputPtr >=  ( outputBuffer.length )  )  {         outputBuffer = byteBuilder.finishCurrentSegment (  ) ;         outputPtr = 0;     }     outputBuffer[ ( outputPtr++ ) ] =  (  ( byte )   ( 128 |  (  ( ch >> 6 )  & 63 )  )  ) ;     ch = 128 |  ( ch & 63 ) ; }else {     if  ( ch >  ( SURR1_LAST )  )  {         _illegalSurrogate ( ch ) ;     }     if  ( inputPtr >= inputEnd )  {         _illegalSurrogate ( ch ) ;     }     ch = _convertSurrogate ( ch, text.charAt (  ( inputPtr++ )  )  ) ;     if  ( ch > 1114111 )  {         _illegalSurrogate ( ch ) ;     }     outputBuffer[ ( outputPtr++ ) ] =  (  ( byte )   ( 240 |  ( ch >> 18 )  )  ) ;     if  ( outputPtr >=  ( outputBuffer.length )  )  {         outputBuffer = byteBuilder.finishCurrentSegment (  ) ;         outputPtr = 0;     }     outputBuffer[ ( outputPtr++ ) ] =  (  ( byte )   ( 128 |  (  ( ch >> 12 )  & 63 )  )  ) ;     if  ( outputPtr >=  ( outputBuffer.length )  )  {         outputBuffer = byteBuilder.finishCurrentSegment (  ) ;         outputPtr = 0;     }     outputBuffer[ ( outputPtr++ ) ] =  (  ( byte )   ( 128 |  (  ( ch >> 6 )  & 63 )  )  ) ;     ch = 128 |  ( ch & 63 ) ; }^201^^^^^159^247^[REMOVE] ^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( ch < SURR1_FIRST ) {^206^^^^^201^239^[REPLACE] if  ( ch < SURR1_FIRST || ch > SURR2_LAST )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( ch  ==  SURR1_LAST )  {^215^^^^^206^238^[REPLACE] if  ( ch > SURR1_LAST )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^215^216^217^^^206^238^[ADD] if  ( ch > SURR1_LAST )  { _illegalSurrogate ( ch ) ; }^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_illegalSurrogate ( second ) ;^216^^^^^206^238^[REPLACE] _illegalSurrogate ( ch ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if   (  ++inPtr >= inputLen  )   {  ;^219^^^^^206^238^[REPLACE] if  ( inputPtr >= inputEnd )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^_illegalSurrogate ( ch ) ;^219^220^221^^^206^238^[ADD] if  ( inputPtr >= inputEnd )  { _illegalSurrogate ( ch ) ; }^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^get (  )  ;^220^^^^^206^238^[REPLACE] _illegalSurrogate ( ch ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( second  <=  0x10FFFF )  {^223^^^^^206^238^[REPLACE] if  ( ch > 0x10FFFF )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^get (  )  ;^224^^^^^206^238^[REPLACE] _illegalSurrogate ( ch ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length /  2 )  {^227^^^^^206^238^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^outputBuffer = byteBuilder.finishCurrentSegment (  ) ;outputPtr = 0;^227^228^229^230^^206^238^[ADD] if  ( outputPtr >= outputBuffer.length )  { outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputPtr = 0; }^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = textBuffer.finishCurrentSegment (  )  ;^228^^^^^206^238^[REPLACE] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 3;^229^^^^^206^238^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length - 3 )  {^232^^^^^206^238^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^232^233^234^235^^206^238^[ADD] if  ( outputPtr >= outputBuffer.length )  { outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputPtr = 0; }^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = textBuffer.finishCurrentSegment (  )  ;^233^^^^^206^238^[REPLACE] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 2;^234^^^^^206^238^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^c = _convertSurrogate ( c, text.charAt (  ( inputPtr++ )  )  )  ;^222^^^^^206^238^[REPLACE] ch = _convertSurrogate ( ch, text.charAt ( inputPtr++ )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0xf0 &  ( ch >> 18 )  ) ;^226^^^^^206^238^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0xf0 |  ( ch >> 18 )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 * 0;^229^^^^^206^238^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[ ( outputPtr++ ) ] =  (  ( byte )   ( 240 |  ( ch >> 18 )  )  )  ;^231^^^^^206^238^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 12 )  & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^234^^^^^206^238^[ADD] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^236^^^^^206^238^[ADD] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 6 )  & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^237^^^^^206^238^[ADD] ch =  ( 0x80 |  ( ch & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length (  )  )  {^208^^^^^201^239^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REMOVE]^if  ( outPtr >=  ( outputBuffer.length )  )  {     outputBuffer = textBuffer.finishCurrentSegment (  ) ;     outPtr = 0; }^208^^^^^201^239^[REMOVE] ^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = textBuffer.finishCurrentSegment (  )  ;^209^^^^^201^239^[REPLACE] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 4;^210^^^^^201^239^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0xe0 &  ( ch >> 12 )  ) ;^207^^^^^201^239^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0xe0 |  ( ch >> 12 )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outPtr = 0  ;^210^^^^^201^239^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 &  (  ( ch >> 6 )  & 0x3f )  ) ;^212^^^^^201^239^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 6 )  & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^ch =  ( 0x80 &  ( ch & 0x3f )  ) ;^213^^^^^201^239^[REPLACE] ch =  ( 0x80 |  ( ch & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^outputBuffer = byteBuilder.finishCurrentSegment (  ) ;outputPtr = 0;^208^209^210^211^^201^239^[ADD] if  ( outputPtr >= outputBuffer.length )  { outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputPtr = 0; }^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 1;^210^^^^^201^239^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( ch  <  SURR1_LAST )  {^215^^^^^201^239^[REPLACE] if  ( ch > SURR1_LAST )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_illegalSurrogate ( second ) ;^216^^^^^201^239^[REPLACE] _illegalSurrogate ( ch ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( inputPtr  <  inputEnd )  {^219^^^^^201^239^[REPLACE] if  ( inputPtr >= inputEnd )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_illegalSurrogate ( second ) ;^220^^^^^201^239^[REPLACE] _illegalSurrogate ( ch ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( ch  >=  0x10FFFF )  {^223^^^^^201^239^[REPLACE] if  ( ch > 0x10FFFF )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_illegalSurrogate ( second ) ;^224^^^^^201^239^[REPLACE] _illegalSurrogate ( ch ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length - 4 )  {^227^^^^^201^239^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^outputPtr = 0;^228^229^^^^201^239^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 1;^229^^^^^201^239^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length /  2 )  {^232^^^^^201^239^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = textBuffer.finishCurrentSegment (  )  ;^233^^^^^201^239^[REPLACE] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^234^^^^^201^239^[ADD] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^210^^^^^201^239^[ADD] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^212^^^^^201^239^[ADD] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 6 )  & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^c = _convertSurrogate ( c, text.charAt (  ( inputPtr++ )  )  )  ;^222^^^^^201^239^[REPLACE] ch = _convertSurrogate ( ch, text.charAt ( inputPtr++ )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0xf0 &  ( ch >> 18 )  ) ;^226^^^^^201^239^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0xf0 |  ( ch >> 18 )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 % 4;^229^^^^^201^239^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^231^^^^^201^239^[ADD] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 12 )  & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outPtr = 0  ;^234^^^^^201^239^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[ ( outputPtr++ ) ] =  (  ( byte )   ( ch )  )  ;^236^^^^^201^239^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 6 )  & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^237^^^^^201^239^[ADD] ch =  ( 0x80 |  ( ch & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^202^^^^^159^247^[ADD] outputBuffer[outputPtr++] =  ( byte )   ( 0xc0 |  ( ch >> 6 )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^ch =  ( 0x80 &  ( ch & 0x3f )  ) ;^203^^^^^159^247^[REPLACE] ch =  ( 0x80 |  ( ch & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( ch < SURR1_FIRST && ch > SURR2_LAST )  {^206^^^^^159^247^[REPLACE] if  ( ch < SURR1_FIRST || ch > SURR2_LAST )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( ch  <=  SURR1_LAST )  {^215^^^^^206^238^[REPLACE] if  ( ch > SURR1_LAST )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^219^220^221^^^206^238^[ADD] if  ( inputPtr >= inputEnd )  { _illegalSurrogate ( ch ) ; }^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^220^^^^^206^238^[ADD] _illegalSurrogate ( ch ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( ch  <  0x10FFFF )  {^223^^^^^206^238^[REPLACE] if  ( ch > 0x10FFFF )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REMOVE]^if  ( inputPtr >= inputEnd )  {     _illegalSurrogate ( c ) ; }^223^^^^^206^238^[REMOVE] ^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_illegalSurrogate ( second ) ;^224^^^^^206^238^[REPLACE] _illegalSurrogate ( ch ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^224^^^^^206^238^[ADD] _illegalSurrogate ( ch ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length *  2 )  {^227^^^^^206^238^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^229^^^^^206^238^[ADD] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length *  0.5  )  {^232^^^^^206^238^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^outputPtr = 0;^233^234^^^^206^238^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^222^^^^^206^238^[ADD] ch = _convertSurrogate ( ch, text.charAt ( inputPtr++ )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 &  (  ( ch >> 12 )  & 0x3f )  ) ;^231^^^^^206^238^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 12 )  & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 1;^234^^^^^206^238^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 &  (  ( ch >> 6 )  & 0x3f )  ) ;^236^^^^^206^238^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 6 )  & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^ch =  ( 0x80 &  ( ch & 0x3f )  ) ;^237^^^^^206^238^[REPLACE] ch =  ( 0x80 |  ( ch & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length /  2 )  {^208^^^^^159^247^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^209^^^^^159^247^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^210^^^^^159^247^[ADD] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[ ( outputPtr++ ) ] =  (  ( byte )   ( ch )  )  ;^207^^^^^159^247^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0xe0 |  ( ch >> 12 )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = textBuffer.finishCurrentSegment (  )  ;^209^^^^^159^247^[REPLACE] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0L;^210^^^^^159^247^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^212^213^^^^159^247^[ADD] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 6 )  & 0x3f )  ) ; ch =  ( 0x80 |  ( ch & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^ch =  ( 0x80 &  ( ch & 0x3f )  ) ;^213^^^^^159^247^[REPLACE] ch =  ( 0x80 |  ( ch & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length (  )  )  {^208^^^^^159^247^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 % 2;^210^^^^^159^247^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( ch  >=  SURR1_LAST )  {^215^^^^^159^247^[REPLACE] if  ( ch > SURR1_LAST )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^_illegalSurrogate ( ch ) ;^215^216^217^^^159^247^[ADD] if  ( ch > SURR1_LAST )  { _illegalSurrogate ( ch ) ; }^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_illegalSurrogate ( second ) ;^216^^^^^159^247^[REPLACE] _illegalSurrogate ( ch ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if   (  ++inPtr >= inputLen  )   {  ;^219^^^^^159^247^[REPLACE] if  ( inputPtr >= inputEnd )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^_illegalSurrogate ( ch ) ;^219^220^221^^^159^247^[ADD] if  ( inputPtr >= inputEnd )  { _illegalSurrogate ( ch ) ; }^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_illegalSurrogate ( second ) ;^220^^^^^159^247^[REPLACE] _illegalSurrogate ( ch ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( ch  !=  0x10FFFF )  {^223^^^^^159^247^[REPLACE] if  ( ch > 0x10FFFF )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REMOVE]^if  ( inputPtr >= inputEnd )  {     _illegalSurrogate ( c ) ; }^223^^^^^159^247^[REMOVE] ^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^get (  )  ;^224^^^^^159^247^[REPLACE] _illegalSurrogate ( ch ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length (  )  )  {^227^^^^^159^247^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = textBuffer.finishCurrentSegment (  )  ;^228^^^^^159^247^[REPLACE] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0L;^229^^^^^159^247^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if   (  outPtr >= outputBuffer.length  )   {  ;^232^^^^^159^247^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^outputPtr = 0;^233^234^^^^159^247^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outPtr = 0  ;^234^^^^^159^247^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0xc0 &  ( ch >> 6 )  ) ;^202^^^^^159^247^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0xc0 |  ( ch >> 6 )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^203^^^^^159^247^[ADD] ch =  ( 0x80 |  ( ch & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^207^^^^^159^247^[ADD] outputBuffer[outputPtr++] =  ( byte )   ( 0xe0 |  ( ch >> 12 )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[ ( outputPtr++ ) ] =  (  ( byte )   ( 240 |  ( ch >> 18 )  )  )  ;^212^^^^^159^247^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 6 )  & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^c = _convertSurrogate ( c, text.charAt (  ( inputPtr++ )  )  )  ;^222^^^^^159^247^[REPLACE] ch = _convertSurrogate ( ch, text.charAt ( inputPtr++ )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^226^^^^^159^247^[ADD] outputBuffer[outputPtr++] =  ( byte )   ( 0xf0 |  ( ch >> 18 )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^229^^^^^159^247^[ADD] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^231^^^^^159^247^[ADD] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 12 )  & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = textBuffer.finishCurrentSegment (  )  ;^233^^^^^159^247^[REPLACE] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^234^^^^^159^247^[ADD] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^236^237^^^^159^247^[ADD] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 6 )  & 0x3f )  ) ; ch =  ( 0x80 |  ( ch & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^ch =  ( 0x80 &  ( ch & 0x3f )  ) ;^237^^^^^159^247^[REPLACE] ch =  ( 0x80 |  ( ch & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr =  _appendByteEscape ( second, escape, byteBuilder, outputPtr ) ;^198^^^^^159^247^[REPLACE] outputPtr = _appendByteEscape ( ch, escape, byteBuilder, outputPtr ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = textBuffer.finishCurrentSegment (  )  ;^199^^^^^159^247^[REPLACE] outputBuffer = byteBuilder.getCurrentSegment (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^int escCode = escCodes[d]  ;^196^^^^^159^247^[REPLACE] int escape = escCodes[ch];^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^}   outputBuffer[outputPtr++] =  ( byte )   ( 0xc0 |  ( ch >> 6 )  ) ;ch =  ( 0x80 |  ( ch & 0x3f )  ) ;^201^202^203^204^^159^247^[ADD] else if  ( ch <= 0x7FF )  { outputBuffer[outputPtr++] =  ( byte )   ( 0xc0 |  ( ch >> 6 )  ) ; ch =  ( 0x80 |  ( ch & 0x3f )  ) ; } else {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( ch < true && ch > true )  {^206^^^^^201^239^[REPLACE] if  ( ch < SURR1_FIRST || ch > SURR2_LAST )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( second  ==  second )  {^215^^^^^206^238^[REPLACE] if  ( ch > SURR1_LAST )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^get (  )  ;^216^^^^^206^238^[REPLACE] _illegalSurrogate ( ch ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REMOVE]^get7BitOutputEscapes (  )  ;^216^^^^^206^238^[REMOVE] ^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (outputPtr  >  inputEnd )  {^219^^^^^206^238^[REPLACE] if  ( inputPtr >= inputEnd )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_illegalSurrogate ( second ) ;^220^^^^^206^238^[REPLACE] _illegalSurrogate ( ch ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if   (  ch > 0xFF  )   {  ;^223^^^^^206^238^[REPLACE] if  ( ch > 0x10FFFF )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^223^224^225^^^206^238^[ADD] if  ( ch > 0x10FFFF )  { _illegalSurrogate ( ch ) ; }^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length + 5 )  {^227^^^^^206^238^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if   (  outPtr >= outputBuffer.length  )   {  ;^232^^^^^206^238^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^226^^^^^206^238^[ADD] outputBuffer[outputPtr++] =  ( byte )   ( 0xf0 |  ( ch >> 18 )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outPtr = 0  ;^229^^^^^206^238^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( inPtr >= outputBuffer.length /  0 .5  )  {^208^^^^^201^239^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 - 0;^210^^^^^201^239^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length /  2 )  {^208^^^^^201^239^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^209^^^^^201^239^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 >> 3;^210^^^^^201^239^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if   (  c > SURR1_LAST  )   {  ;^215^^^^^201^239^[REPLACE] if  ( ch > SURR1_LAST )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^get (  )  ;^216^^^^^201^239^[REPLACE] _illegalSurrogate ( ch ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( inputPtr  ==  inputEnd )  {^219^^^^^201^239^[REPLACE] if  ( inputPtr >= inputEnd )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^219^220^221^^^201^239^[ADD] if  ( inputPtr >= inputEnd )  { _illegalSurrogate ( ch ) ; }^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^get (  )  ;^220^^^^^201^239^[REPLACE] _illegalSurrogate ( ch ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if   (  ch > 0xFF  )   {  ;^223^^^^^201^239^[REPLACE] if  ( ch > 0x10FFFF )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^_illegalSurrogate ( ch ) ;^223^224^225^^^201^239^[ADD] if  ( ch > 0x10FFFF )  { _illegalSurrogate ( ch ) ; }^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^get (  )  ;^224^^^^^201^239^[REPLACE] _illegalSurrogate ( ch ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^224^^^^^201^239^[ADD] _illegalSurrogate ( ch ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length - 5 )  {^227^^^^^201^239^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REMOVE]^if  ( outPtr >=  ( outputBuffer.length )  )  {     outputBuffer = textBuffer.finishCurrentSegment (  ) ;     outPtr = 0; }^227^^^^^201^239^[REMOVE] ^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = textBuffer.finishCurrentSegment (  )  ;^228^^^^^201^239^[REPLACE] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 3;^229^^^^^201^239^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length + 1 )  {^232^^^^^201^239^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 + 1;^234^^^^^201^239^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^213^^^^^201^239^[ADD] ch =  ( 0x80 |  ( ch & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^222^^^^^201^239^[ADD] ch = _convertSurrogate ( ch, text.charAt ( inputPtr++ )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 >> 0;^229^^^^^201^239^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 &  (  ( ch >> 12 )  & 0x3f )  ) ;^231^^^^^201^239^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 12 )  & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 2;^234^^^^^201^239^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^ch =  ( 0x80 &  ( ch & 0x3f )  ) ;^237^^^^^201^239^[REPLACE] ch =  ( 0x80 |  ( ch & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^outputBuffer[outputPtr++] =  ( byte )   ( 0xe0 |  ( ch >> 12 )  ) ;outputBuffer = byteBuilder.finishCurrentSegment (  ) ;outputPtr = 0;^206^207^208^209^210^159^247^[ADD] if  ( ch < SURR1_FIRST || ch > SURR2_LAST )  { outputBuffer[outputPtr++] =  ( byte )   ( 0xe0 |  ( ch >> 12 )  ) ; if  ( outputPtr >= outputBuffer.length )  { outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^_illegalSurrogate ( ch ) ;^215^216^217^^^206^238^[ADD] if  ( ch > SURR1_LAST )  { _illegalSurrogate ( ch ) ; }^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^216^^^^^206^238^[ADD] _illegalSurrogate ( ch ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( length  <  inputEnd )  {^219^^^^^206^238^[REPLACE] if  ( inputPtr >= inputEnd )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (second  <=  0x10FFFF )  {^223^^^^^206^238^[REPLACE] if  ( ch > 0x10FFFF )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REMOVE]^if  ( outPtr >=  ( outputBuffer.length )  )  {     outputBuffer = textBuffer.finishCurrentSegment (  ) ;     outPtr = 0; }^227^^^^^206^238^[REMOVE] ^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 - 3;^229^^^^^206^238^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= HEX_BYTES.length /  2 )  {^232^^^^^206^238^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 3;^234^^^^^206^238^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= HEX_BYTES.length (  )  )  {^208^^^^^159^247^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^outputBuffer = byteBuilder.finishCurrentSegment (  ) ;outputPtr = 0;^208^209^210^211^^159^247^[ADD] if  ( outputPtr >= outputBuffer.length )  { outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputPtr = 0; }^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0xe0 &  ( ch >> 12 )  ) ;^207^^^^^159^247^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0xe0 |  ( ch >> 12 )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 &  (  ( ch >> 6 )  & 0x3f )  ) ;^212^^^^^159^247^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 6 )  & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length %  0.5  )  {^208^^^^^159^247^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^209^210^^^^159^247^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( second  ==  SURR1_LAST )  {^215^^^^^159^247^[REPLACE] if  ( ch > SURR1_LAST )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REMOVE]^if  ( inputPtr >= inputEnd )  {     _illegalSurrogate ( c ) ; }^215^^^^^159^247^[REMOVE] ^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (outputPtr  ==  outPtr )  {^219^^^^^159^247^[REPLACE] if  ( inputPtr >= inputEnd )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^get (  )  ;^220^^^^^159^247^[REPLACE] _illegalSurrogate ( ch ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( second  <=  0x10FFFF )  {^223^^^^^159^247^[REPLACE] if  ( ch > 0x10FFFF )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^224^^^^^159^247^[ADD] _illegalSurrogate ( ch ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= HEX_BYTES.length (  )  )  {^227^^^^^159^247^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^227^228^229^230^^159^247^[ADD] if  ( outputPtr >= outputBuffer.length )  { outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputPtr = 0; }^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 1;^229^^^^^159^247^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( inPtr >= outputBuffer.length (  )  )  {^232^^^^^159^247^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr >= outputBuffer.length /  2 )  {^240^^^^^159^247^[REPLACE] if  ( outputPtr >= outputBuffer.length )  {^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^240^241^242^243^^159^247^[ADD] if  ( outputPtr >= outputBuffer.length )  { outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputPtr = 0; }^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^241^242^^^^159^247^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 >> 4;^242^^^^^159^247^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^181^^^^^159^247^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0L;^182^^^^^159^247^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^184^^^^^159^247^[ADD] outputBuffer[outputPtr++] =  ( byte )  ch;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 - 1;^191^^^^^159^247^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[ ( outputPtr++ ) ] =  (  ( byte )   ( ch )  )  ;^202^^^^^159^247^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0xc0 |  ( ch >> 6 )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outPtr = 0  ;^210^^^^^159^247^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^212^^^^^159^247^[ADD] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 6 )  & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outPtr = 0  ;^229^^^^^159^247^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 &  (  ( ch >> 12 )  & 0x3f )  ) ;^231^^^^^159^247^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 12 )  & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 &  (  ( ch >> 6 )  & 0x3f )  ) ;^236^^^^^159^247^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( ch >> 6 )  & 0x3f )  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = textBuffer.finishCurrentSegment (  )  ;^241^^^^^159^247^[REPLACE] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outPtr = 0  ;^242^^^^^159^247^[REPLACE] outputPtr = 0;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^244^^^^^159^247^[ADD] outputBuffer[outputPtr++] =  ( byte )  ch;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^final int[] escCodes = CharTypes.copyHexBytes (  ) ;^172^^^^^159^247^[REPLACE] final int[] escCodes = CharTypes.get7BitOutputEscapes (  ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^176^^^^^159^247^[ADD] int ch = text.charAt ( inputPtr ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^194^^^^^159^247^[ADD] int ch =  ( int )  text.charAt ( inputPtr++ ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^return _byteBuilder .append ( SURR1_FIRST )  ;^246^^^^^159^247^[REPLACE] return _byteBuilder.completeAndCoalesce ( outputPtr ) ;^[METHOD] quoteAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  int[] escCodes  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^TextBuffer textBuffer = _textBuffer  ;^256^^^^^255^338^[REPLACE] ByteArrayBuilder byteBuilder = _byteBuilder;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( byteBuilder != null )  {^257^^^^^255^338^[REPLACE] if  ( byteBuilder == null )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_byteBuilder = byteBuilder = new ByteArrayBuilder ( this ) ;^259^^^^^255^338^[REPLACE] _byteBuilder = byteBuilder = new ByteArrayBuilder ( null ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^259^^^^^255^338^[ADD] _byteBuilder = byteBuilder = new ByteArrayBuilder ( null ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_byteBuilder = byteBuilder = new ByteArrayBuilder ( true ) ;^259^^^^^255^338^[REPLACE] _byteBuilder = byteBuilder = new ByteArrayBuilder ( null ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^int inputPtr = 0L;^261^^^^^255^338^[REPLACE] int inputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^final int inputLen = input.length (  )  ;^262^^^^^255^338^[REPLACE] int inputEnd = text.length (  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^int outputPtr = 0L;^263^^^^^255^338^[REPLACE] int outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^byte[] outputBuffer = _byteBuilder.resetAndGetFirstSegment (  ) ;^264^^^^^255^338^[REPLACE] byte[] outputBuffer = byteBuilder.resetAndGetFirstSegment (  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^int outputEnd = HEX_BYTES.length;^265^^^^^255^338^[REPLACE] int outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr  < outPtr )  {^273^^^^^255^338^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^273^274^275^276^277^255^338^[ADD] if  ( outputPtr >= outputEnd )  { outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputEnd = outputBuffer.length; outputPtr = 0; }^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = textBuffer.finishCurrentSegment (  )  ;^274^^^^^255^338^[REPLACE] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputEnd =  null.length;^275^^^^^255^338^[REPLACE] outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 << 4;^276^^^^^255^338^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( inputPtr  <  inputEnd )  {^279^^^^^255^338^[REPLACE] if  ( inputPtr >= inputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (outPtr  ==  outputEnd )  {^286^^^^^255^338^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^outputBuffer = byteBuilder.finishCurrentSegment (  ) ;outputEnd = outputBuffer.length;outputPtr = 0;^286^287^288^289^290^255^338^[ADD] if  ( outputPtr >= outputEnd )  { outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputEnd = outputBuffer.length; outputPtr = 0; }^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^287^^^^^255^338^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputEnd =  null.length;^288^^^^^255^338^[REPLACE] outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^289^^^^^255^338^[ADD] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( c  >=  0x800 )  {^291^^^^^255^338^[REPLACE] if  ( c < 0x800 )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REMOVE]^if  ( ch <= 2047 )  {     outputBuffer[ ( outputPtr++ ) ] =  (  ( byte )   ( 192 |  ( ch >> 6 )  )  ) ;     ch = 128 |  ( ch & 63 ) ; }else {     if  (  ( ch <  ( SURR1_FIRST )  )  ||  ( ch >  ( SURR2_LAST )  )  )  {         outputBuffer[ ( outputPtr++ ) ] =  (  ( byte )   ( 224 |  ( ch >> 12 )  )  ) ;         if  ( outputPtr >=  ( outputBuffer.length )  )  {             outputBuffer = byteBuilder.finishCurrentSegment (  ) ;             outputPtr = 0;         }         outputBuffer[ ( outputPtr++ ) ] =  (  ( byte )   ( 128 |  (  ( ch >> 6 )  & 63 )  )  ) ;         ch = 128 |  ( ch & 63 ) ;     }else {         if  ( ch >  ( SURR1_LAST )  )  {             _illegalSurrogate ( ch ) ;         }         if  ( inputPtr >= inputEnd )  {             _illegalSurrogate ( ch ) ;         }         ch = _convertSurrogate ( ch, text.charAt (  ( inputPtr++ )  )  ) ;         if  ( ch > 1114111 )  {             _illegalSurrogate ( ch ) ;         }         outputBuffer[ ( outputPtr++ ) ] =  (  ( byte )   ( 240 |  ( ch >> 18 )  )  ) ;         if  ( outputPtr >=  ( outputBuffer.length )  )  {             outputBuffer = byteBuilder.finishCurrentSegment (  ) ;             outputPtr = 0;         }         outputBuffer[ ( outputPtr++ ) ] =  (  ( byte )   ( 128 |  (  ( ch >> 12 )  & 63 )  )  ) ;         if  ( outputPtr >=  ( outputBuffer.length )  )  {             outputBuffer = byteBuilder.finishCurrentSegment (  ) ;             outputPtr = 0;         }         outputBuffer[ ( outputPtr++ ) ] =  (  ( byte )   ( 128 |  (  ( ch >> 6 )  & 63 )  )  ) ;         ch = 128 |  ( ch & 63 ) ;     } }^291^^^^^255^338^[REMOVE] ^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( c < SURR1_FIRST && c >true )  {^295^^^^^291^329^[REPLACE] if  ( c < SURR1_FIRST || c > SURR2_LAST )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( c  <  SURR1_LAST )  {^304^^^^^295^328^[REPLACE] if  ( c > SURR1_LAST )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^get (  )  ;^305^^^^^295^328^[REPLACE] _illegalSurrogate ( c ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( inputPtr  <  inputEnd )  {^308^^^^^295^328^[REPLACE] if  ( inputPtr >= inputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^get (  )  ;^309^^^^^295^328^[REPLACE] _illegalSurrogate ( c ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( c  ==  0x10FFFF )  {^312^^^^^295^328^[REPLACE] if  ( c > 0x10FFFF )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^312^313^314^^^295^328^[ADD] if  ( c > 0x10FFFF )  { _illegalSurrogate ( c ) ; }^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_illegalSurrogate ( second ) ;^313^^^^^295^328^[REPLACE] _illegalSurrogate ( c ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr  <=  outputEnd )  {^316^^^^^295^328^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = textBuffer.finishCurrentSegment (  )  ;^317^^^^^295^328^[REPLACE] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^318^319^^^^295^328^[ADD] outputEnd = outputBuffer.length; outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outPtr = 0  ;^319^^^^^295^328^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (inputLen  >  outputEnd )  {^322^^^^^295^328^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = textBuffer.finishCurrentSegment (  )  ;^323^^^^^295^328^[REPLACE] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputEnd =  null.length;^324^^^^^295^328^[REPLACE] outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^325^^^^^295^328^[ADD] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^ch = _convertSurrogate ( ch, text.charAt (  ( inputPtr++ )  )  )  ;^311^^^^^295^328^[REPLACE] c = _convertSurrogate ( c, text.charAt ( inputPtr++ )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0xf0 &  ( escCodeCount )  ) ;^315^^^^^295^328^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0xf0 |  ( c >> 18 )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 3;^319^^^^^295^328^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 &  (  ( c >> 12 )  & 0x3f )  ) ;^321^^^^^295^328^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( c >> 12 )  & 0x3f )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputEnd =  HEX_BYTES.length;^324^^^^^295^328^[REPLACE] outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 4;^325^^^^^295^328^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^327^^^^^295^328^[ADD] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( c >> 6 )  & 0x3f )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (outPtr  ==  inPtr )  {^297^^^^^291^329^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = textBuffer.finishCurrentSegment (  )  ;^298^^^^^291^329^[REPLACE] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^299^^^^^291^329^[ADD] outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0L;^300^^^^^291^329^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^296^^^^^291^329^[ADD] outputBuffer[outputPtr++] =  ( byte )   ( 0xe0 |  ( c >> 12 )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputEnd =  HEX_BYTES.length;^299^^^^^291^329^[REPLACE] outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outPtr = 0  ;^300^^^^^291^329^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[ ( outputPtr++ ) ] =  (  ( byte )   ( 240 |  ( ch >> 18 )  )  )  ;^302^^^^^291^329^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( c >> 6 )  & 0x3f )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr  ==  outputEnd )  {^297^^^^^291^329^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^300^^^^^291^329^[ADD] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( c  != second )  {^304^^^^^291^329^[REPLACE] if  ( c > SURR1_LAST )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^get (  )  ;^305^^^^^291^329^[REPLACE] _illegalSurrogate ( c ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^305^^^^^291^329^[ADD] _illegalSurrogate ( c ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if   (  ++inPtr >= inputLen  )   {  ;^308^^^^^291^329^[REPLACE] if  ( inputPtr >= inputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_illegalSurrogate ( second ) ;^309^^^^^291^329^[REPLACE] _illegalSurrogate ( c ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^309^^^^^291^329^[ADD] _illegalSurrogate ( c ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (second  >=  0x10FFFF )  {^312^^^^^291^329^[REPLACE] if  ( c > 0x10FFFF )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_illegalSurrogate ( second ) ;^313^^^^^291^329^[REPLACE] _illegalSurrogate ( c ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr  >  outputEnd )  {^316^^^^^291^329^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = textBuffer.finishCurrentSegment (  )  ;^317^^^^^291^329^[REPLACE] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputEnd =  HEX_BYTES.length;^318^^^^^291^329^[REPLACE] outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^319^^^^^291^329^[ADD] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (inputEnd  <  outputEnd )  {^322^^^^^291^329^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^323^^^^^291^329^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputEnd =  HEX_BYTES.length;^324^^^^^291^329^[REPLACE] outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 3;^325^^^^^291^329^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[ ( outputPtr++ ) ] =  (  ( byte )   ( ch )  )  ;^296^^^^^291^329^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0xe0 |  ( c >> 12 )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 3;^300^^^^^291^329^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[ ( outputPtr++ ) ] =  (  ( byte )   ( ch )  )  ;^302^^^^^291^329^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( c >> 6 )  & 0x3f )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^ch = _convertSurrogate ( ch, text.charAt (  ( inputPtr++ )  )  )  ;^311^^^^^291^329^[REPLACE] c = _convertSurrogate ( c, text.charAt ( inputPtr++ )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0xf0 &  ( c >> 18 )  ) ;^315^^^^^291^329^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0xf0 |  ( c >> 18 )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputEnd =  null.length;^318^^^^^291^329^[REPLACE] outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 2;^319^^^^^291^329^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 &  (  ( c >> 12 )  & 0x3f )  ) ;^321^^^^^291^329^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( c >> 12 )  & 0x3f )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = textBuffer.finishCurrentSegment (  )  ;^323^^^^^291^329^[REPLACE] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 << 3;^325^^^^^291^329^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 &  (  ( c >> 6 )  & 0x3f )  ) ;^327^^^^^291^329^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( c >> 6 )  & 0x3f )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0xc0 &  ( c >> 6 )  ) ;^292^^^^^255^338^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0xc0 |  ( c >> 6 )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if   (  ch < SURR1_FIRST || ch > SURR2_LAST  )   {  ;^295^^^^^255^338^[REPLACE] if  ( c < SURR1_FIRST || c > SURR2_LAST )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^295^296^297^298^299^255^338^[ADD] if  ( c < SURR1_FIRST || c > SURR2_LAST )  { outputBuffer[outputPtr++] =  ( byte )   ( 0xe0 |  ( c >> 12 )  ) ; if  ( outputPtr >= outputEnd )  { outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if   (  ch > SURR1_LAST  )   {  ;^304^^^^^295^328^[REPLACE] if  ( c > SURR1_LAST )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^305^^^^^295^328^[ADD] _illegalSurrogate ( c ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REMOVE]^if  ( c > 1114111 )  {     _illegalSurrogate ( c ) ; }^308^^^^^295^328^[REMOVE] ^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_illegalSurrogate ( second ) ;^309^^^^^295^328^[REPLACE] _illegalSurrogate ( c ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( second  <=  0x10FFFF )  {^312^^^^^295^328^[REPLACE] if  ( c > 0x10FFFF )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^_illegalSurrogate ( c ) ;^312^313^314^^^295^328^[ADD] if  ( c > 0x10FFFF )  { _illegalSurrogate ( c ) ; }^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^get (  )  ;^313^^^^^295^328^[REPLACE] _illegalSurrogate ( c ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outPtr  ==  inputPtr )  {^316^^^^^295^328^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^317^^^^^295^328^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputEnd =  HEX_BYTES.length;^318^^^^^295^328^[REPLACE] outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 * 1;^319^^^^^295^328^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outPtr  !=  inputLen )  {^322^^^^^295^328^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^322^323^324^325^326^295^328^[ADD] if  ( outputPtr >= outputEnd )  { outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputEnd = outputBuffer.length; outputPtr = 0; }^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^324^325^^^^295^328^[ADD] outputEnd = outputBuffer.length; outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0xf0 &  ( c >> 18 )  ) ;^315^^^^^295^328^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0xf0 |  ( c >> 18 )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^outputEnd = outputBuffer.length;^317^318^^^^295^328^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0L;^319^^^^^295^328^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^321^^^^^295^328^[ADD] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( c >> 12 )  & 0x3f )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 1;^325^^^^^295^328^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 &  (  ( c >> 6 )  & 0x3f )  ) ;^327^^^^^295^328^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( c >> 6 )  & 0x3f )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr  !=  outputEnd )  {^297^^^^^255^338^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^298^^^^^255^338^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^299^^^^^255^338^[ADD] outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^300^^^^^255^338^[ADD] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[ ( outputPtr++ ) ] =  (  ( byte )   ( ch )  )  ;^296^^^^^255^338^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0xe0 |  ( c >> 12 )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^298^299^^^^255^338^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputEnd =  HEX_BYTES.length;^299^^^^^255^338^[REPLACE] outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outPtr = 0  ;^300^^^^^255^338^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[ ( outputPtr++ ) ] =  (  ( byte )   ( 240 |  ( ch >> 18 )  )  )  ;^302^^^^^255^338^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( c >> 6 )  & 0x3f )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr  <=  outputEnd )  {^297^^^^^255^338^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = textBuffer.finishCurrentSegment (  )  ;^298^^^^^255^338^[REPLACE] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if   (  ch > SURR1_LAST  )   {  ;^304^^^^^255^338^[REPLACE] if  ( c > SURR1_LAST )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^304^305^306^^^255^338^[ADD] if  ( c > SURR1_LAST )  { _illegalSurrogate ( c ) ; }^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_illegalSurrogate ( second ) ;^305^^^^^255^338^[REPLACE] _illegalSurrogate ( c ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REMOVE]^get7BitOutputEscapes (  )  ;^305^^^^^255^338^[REMOVE] ^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  (outputEnd  <  second )  {^308^^^^^255^338^[REPLACE] if  ( inputPtr >= inputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^308^309^310^^^255^338^[ADD] if  ( inputPtr >= inputEnd )  { _illegalSurrogate ( c ) ; }^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^get (  )  ;^309^^^^^255^338^[REPLACE] _illegalSurrogate ( c ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( c  ==  0x10FFFF )  {^312^^^^^255^338^[REPLACE] if  ( c > 0x10FFFF )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^_illegalSurrogate ( c ) ;^312^313^314^^^255^338^[ADD] if  ( c > 0x10FFFF )  { _illegalSurrogate ( c ) ; }^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^_illegalSurrogate ( second ) ;^313^^^^^255^338^[REPLACE] _illegalSurrogate ( c ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr  <=  outputEnd )  {^316^^^^^255^338^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = textBuffer.finishCurrentSegment (  )  ;^317^^^^^255^338^[REPLACE] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputEnd =  HEX_BYTES.length;^318^^^^^255^338^[REPLACE] outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 - 0;^319^^^^^255^338^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr  !=  outputEnd )  {^322^^^^^255^338^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^323^324^^^^255^338^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputEnd =  HEX_BYTES.length;^324^^^^^255^338^[REPLACE] outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 / 1;^325^^^^^255^338^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^if  ( outputPtr  <  inputPtr )  {^330^^^^^255^338^[REPLACE] if  ( outputPtr >= outputEnd )  {^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^outputBuffer = byteBuilder.finishCurrentSegment (  ) ;outputEnd = outputBuffer.length;outputPtr = 0;^330^331^332^333^334^255^338^[ADD] if  ( outputPtr >= outputEnd )  { outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputEnd = outputBuffer.length; outputPtr = 0; }^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = textBuffer.finishCurrentSegment (  )  ;^331^^^^^255^338^[REPLACE] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputEnd =  HEX_BYTES.length;^332^^^^^255^338^[REPLACE] outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0L;^333^^^^^255^338^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputEnd =  HEX_BYTES.length;^275^^^^^255^338^[REPLACE] outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outPtr = 0  ;^276^^^^^255^338^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[ ( outputPtr++ ) ] =  (  ( byte )   ( ch )  )  ;^278^^^^^255^338^[REPLACE] outputBuffer[outputPtr++] =  ( byte )  c;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^c =  null.charAt ( inputPtr++ ) ;^282^^^^^255^338^[REPLACE] c = text.charAt ( inputPtr++ ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^287^288^^^^255^338^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ; outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputEnd =  HEX_BYTES.length;^288^^^^^255^338^[REPLACE] outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0L;^289^^^^^255^338^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^292^^^^^255^338^[ADD] outputBuffer[outputPtr++] =  ( byte )   ( 0xc0 |  ( c >> 6 )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^296^^^^^255^338^[ADD] outputBuffer[outputPtr++] =  ( byte )   ( 0xe0 |  ( c >> 12 )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 &  (  ( c >> 6 )  & 0x3f )  ) ;^302^^^^^255^338^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( c >> 6 )  & 0x3f )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^ch = _convertSurrogate ( ch, text.charAt (  ( inputPtr++ )  )  )  ;^311^^^^^255^338^[REPLACE] c = _convertSurrogate ( c, text.charAt ( inputPtr++ )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0xf0 &  ( c >> 18 )  ) ;^315^^^^^255^338^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0xf0 |  ( c >> 18 )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^318^^^^^255^338^[ADD] outputEnd = outputBuffer.length;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 0 << 4;^319^^^^^255^338^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[ ( outputPtr++ ) ] =  (  ( byte )   ( ch )  )  ;^321^^^^^255^338^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( c >> 12 )  & 0x3f )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer = textBuffer.finishCurrentSegment (  )  ;^323^^^^^255^338^[REPLACE] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputPtr = 1;^325^^^^^255^338^[REPLACE] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 &  (  ( c >> 6 )  & 0x3f )  ) ;^327^^^^^255^338^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  (  ( c >> 6 )  & 0x3f )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^331^^^^^255^338^[ADD] outputBuffer = byteBuilder.finishCurrentSegment (  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^333^^^^^255^338^[ADD] outputPtr = 0;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^outputBuffer[outputPtr++] =  ( byte )   ( 0x80 &  ( c & 0x3f )  ) ;^335^^^^^255^338^[REPLACE] outputBuffer[outputPtr++] =  ( byte )   ( 0x80 |  ( c & 0x3f )  ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[ADD]^^269^^^^^255^338^[ADD] int c = text.charAt ( inputPtr++ ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^return _byteBuilder.completeAndCoalesce  (  outputPtr  )  ;  ;^337^^^^^255^338^[REPLACE] return _byteBuilder.completeAndCoalesce ( outputPtr ) ;^[METHOD] encodeAsUTF8 [TYPE] byte[] [PARAMETER] String text [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  String text  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  second  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer 
[REPLACE]^byteBuilder.getCurrentSegment (  )  ;^363^^^^^362^382^[REPLACE] byteBuilder.setCurrentSegmentLength ( ptr ) ;^[METHOD] _appendByteEscape [TYPE] int [PARAMETER] int ch int escCode ByteArrayBuilder byteBuilder int ptr [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  hi  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  ptr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[REPLACE]^byteBuilder.append ( HEX_BYTES[ ( ch & 15 ) ] )  ;^364^^^^^362^382^[REPLACE] byteBuilder.append ( INT_BACKSLASH ) ;^[METHOD] _appendByteEscape [TYPE] int [PARAMETER] int ch int escCode ByteArrayBuilder byteBuilder int ptr [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  hi  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  ptr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[REPLACE]^if  ( escCode  >=  3 )  {^365^^^^^362^382^[REPLACE] if  ( escCode < 0 )  {^[METHOD] _appendByteEscape [TYPE] int [PARAMETER] int ch int escCode ByteArrayBuilder byteBuilder int ptr [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  hi  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  ptr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[REPLACE]^byteBuilder.getCurrentSegment (  ( byte )  escCode ) ;^379^^^^^365^380^[REPLACE] byteBuilder.append (  ( byte )  escCode ) ;^[METHOD] _appendByteEscape [TYPE] int [PARAMETER] int ch int escCode ByteArrayBuilder byteBuilder int ptr [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  hi  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  ptr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[REPLACE]^if   (  ch <= 0x7F  )   {  ;^367^^^^^362^382^[REPLACE] if  ( ch > 0xFF )  {^[METHOD] _appendByteEscape [TYPE] int [PARAMETER] int ch int escCode ByteArrayBuilder byteBuilder int ptr [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  hi  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  ptr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[ADD]^int hi =  ( ch >> 8 ) ;byteBuilder.append ( HEX_BYTES[hi >> 4] ) ;byteBuilder.append ( HEX_BYTES[hi & 0xF] ) ;ch &= 0xFF;^367^368^369^370^371^362^382^[ADD] if  ( ch > 0xFF )  { int hi =  ( ch >> 8 ) ; byteBuilder.append ( HEX_BYTES[hi >> 4] ) ; byteBuilder.append ( HEX_BYTES[hi & 0xF] ) ; ch &= 0xFF;^[METHOD] _appendByteEscape [TYPE] int [PARAMETER] int ch int escCode ByteArrayBuilder byteBuilder int ptr [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  hi  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  ptr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[REPLACE]^byteBuilder.append ( INT_BACKSLASH )  ;^373^^^^^367^375^[REPLACE] byteBuilder.append ( INT_0 ) ;^[METHOD] _appendByteEscape [TYPE] int [PARAMETER] int ch int escCode ByteArrayBuilder byteBuilder int ptr [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  hi  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  ptr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[REMOVE]^byteBuilder.resetAndGetFirstSegment (  )  ;^373^^^^^367^375^[REMOVE] ^[METHOD] _appendByteEscape [TYPE] int [PARAMETER] int ch int escCode ByteArrayBuilder byteBuilder int ptr [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  hi  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  ptr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[REPLACE]^byteBuilder.append ( INT_BACKSLASH )  ;^374^^^^^367^375^[REPLACE] byteBuilder.append ( INT_0 ) ;^[METHOD] _appendByteEscape [TYPE] int [PARAMETER] int ch int escCode ByteArrayBuilder byteBuilder int ptr [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  hi  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  ptr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[REPLACE]^outputBuffer = textBuffer.finishCurrentSegment (  )  ;^371^^^^^362^382^[REPLACE] ch &= 0xFF;^[METHOD] _appendByteEscape [TYPE] int [PARAMETER] int ch int escCode ByteArrayBuilder byteBuilder int ptr [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  hi  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  ptr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[REPLACE]^int hi =  ( second  >=  8 ) ;^368^^^^^362^382^[REPLACE] int hi =  ( ch >> 8 ) ;^[METHOD] _appendByteEscape [TYPE] int [PARAMETER] int ch int escCode ByteArrayBuilder byteBuilder int ptr [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  hi  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  ptr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[REPLACE]^int hi =  ( ch  >= second ) ;^368^^^^^362^382^[REPLACE] int hi =  ( ch >> 8 ) ;^[METHOD] _appendByteEscape [TYPE] int [PARAMETER] int ch int escCode ByteArrayBuilder byteBuilder int ptr [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  hi  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  ptr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[REPLACE]^if  ( ch  ==  0xFF )  {^367^^^^^362^382^[REPLACE] if  ( ch > 0xFF )  {^[METHOD] _appendByteEscape [TYPE] int [PARAMETER] int ch int escCode ByteArrayBuilder byteBuilder int ptr [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  hi  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  ptr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[ADD]^byteBuilder.append ( INT_0 ) ;^373^374^^^^367^375^[ADD] byteBuilder.append ( INT_0 ) ; byteBuilder.append ( INT_0 ) ;^[METHOD] _appendByteEscape [TYPE] int [PARAMETER] int ch int escCode ByteArrayBuilder byteBuilder int ptr [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  hi  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  ptr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[ADD]^^374^^^^^367^375^[ADD] byteBuilder.append ( INT_0 ) ;^[METHOD] _appendByteEscape [TYPE] int [PARAMETER] int ch int escCode ByteArrayBuilder byteBuilder int ptr [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  hi  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  ptr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[REPLACE]^int hi =  ( ch  <=  8 ) ;^368^^^^^362^382^[REPLACE] int hi =  ( ch >> 8 ) ;^[METHOD] _appendByteEscape [TYPE] int [PARAMETER] int ch int escCode ByteArrayBuilder byteBuilder int ptr [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  hi  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  ptr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
[REPLACE]^return _byteBuilder .setCurrentSegmentLength ( SURR1_LAST )  ;^381^^^^^362^382^[REPLACE] return byteBuilder.getCurrentSegmentLength (  ) ;^[METHOD] _appendByteEscape [TYPE] int [PARAMETER] int ch int escCode ByteArrayBuilder byteBuilder int ptr [CLASS] JsonStringEncoder   [TYPE]  byte[] HEX_BYTES  outputBuffer  [TYPE]  boolean false  true  [TYPE]  TextBuffer _textBuffer  textBuffer  [TYPE]  ThreadLocal _threadEncoder  [TYPE]  ByteArrayBuilder _byteBuilder  byteBuilder  [TYPE]  int INT_0  INT_BACKSLASH  INT_U  SURR1_FIRST  SURR1_LAST  SURR2_FIRST  SURR2_LAST  c  ch  escCode  escCodeCount  escape  first  hi  inPtr  inputEnd  inputLen  inputPtr  length  outPtr  outputEnd  outputPtr  ptr  second  value  [TYPE]  char[] HEX_CHARS  _quoteBuffer  outputBuffer  quoteBuffer 
