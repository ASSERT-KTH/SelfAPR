[REPLACE]^private int position ;^38^^^^^^^[REPLACE] private int position = 0;^ [CLASS] DOMNamespaceIterator  
[ADD]^^47^^^^^46^67^[ADD] Node parent = node.getParentNode (  ) ;^[METHOD] collectNamespaces [TYPE] void [PARAMETER] List attributes Node node [CLASS] DOMNamespaceIterator   [TYPE]  NamedNodeMap map  [TYPE]  boolean false  true  [TYPE]  Node node  parent  [TYPE]  List attributes  [TYPE]  NodePointer parent  [TYPE]  String name  prefix  [TYPE]  int count  i  position  [TYPE]  Attr attr 
[REPLACE]^if  ( parent ==node )  {^48^^^^^46^67^[REPLACE] if  ( parent != null )  {^[METHOD] collectNamespaces [TYPE] void [PARAMETER] List attributes Node node [CLASS] DOMNamespaceIterator   [TYPE]  NamedNodeMap map  [TYPE]  boolean false  true  [TYPE]  Node node  parent  [TYPE]  List attributes  [TYPE]  NodePointer parent  [TYPE]  String name  prefix  [TYPE]  int count  i  position  [TYPE]  Attr attr 
[ADD]^collectNamespaces ( attributes, parent ) ;^48^49^50^^^46^67^[ADD] if  ( parent != null )  { collectNamespaces ( attributes, parent ) ; }^[METHOD] collectNamespaces [TYPE] void [PARAMETER] List attributes Node node [CLASS] DOMNamespaceIterator   [TYPE]  NamedNodeMap map  [TYPE]  boolean false  true  [TYPE]  Node node  parent  [TYPE]  List attributes  [TYPE]  NodePointer parent  [TYPE]  String name  prefix  [TYPE]  int count  i  position  [TYPE]  Attr attr 
[REPLACE]^collectNamespaces ( attributes, node ) ;^49^^^^^46^67^[REPLACE] collectNamespaces ( attributes, parent ) ;^[METHOD] collectNamespaces [TYPE] void [PARAMETER] List attributes Node node [CLASS] DOMNamespaceIterator   [TYPE]  NamedNodeMap map  [TYPE]  boolean false  true  [TYPE]  Node node  parent  [TYPE]  List attributes  [TYPE]  NodePointer parent  [TYPE]  String name  prefix  [TYPE]  int count  i  position  [TYPE]  Attr attr 
[REPLACE]^if  ( node.getNodeType (  )   !=  Node.DOCUMENT_NODE )  {^51^^^^^46^67^[REPLACE] if  ( node.getNodeType (  )  == Node.DOCUMENT_NODE )  {^[METHOD] collectNamespaces [TYPE] void [PARAMETER] List attributes Node node [CLASS] DOMNamespaceIterator   [TYPE]  NamedNodeMap map  [TYPE]  boolean false  true  [TYPE]  Node node  parent  [TYPE]  List attributes  [TYPE]  NodePointer parent  [TYPE]  String name  prefix  [TYPE]  int count  i  position  [TYPE]  Attr attr 
[ADD]^^52^^^^^46^67^[ADD] node =  (  ( Document )  node ) .getDocumentElement (  ) ;^[METHOD] collectNamespaces [TYPE] void [PARAMETER] List attributes Node node [CLASS] DOMNamespaceIterator   [TYPE]  NamedNodeMap map  [TYPE]  boolean false  true  [TYPE]  Node node  parent  [TYPE]  List attributes  [TYPE]  NodePointer parent  [TYPE]  String name  prefix  [TYPE]  int count  i  position  [TYPE]  Attr attr 
[REPLACE]^node =   (  ( Document )  node ) .getDocumentElement (  ) ;^52^^^^^46^67^[REPLACE] node =  (  ( Document )  node ) .getDocumentElement (  ) ;^[METHOD] collectNamespaces [TYPE] void [PARAMETER] List attributes Node node [CLASS] DOMNamespaceIterator   [TYPE]  NamedNodeMap map  [TYPE]  boolean false  true  [TYPE]  Node node  parent  [TYPE]  List attributes  [TYPE]  NodePointer parent  [TYPE]  String name  prefix  [TYPE]  int count  i  position  [TYPE]  Attr attr 
[REPLACE]^if  (   Node.ELEMENT_NODE )  {^54^^^^^46^67^[REPLACE] if  ( node.getNodeType (  )  == Node.ELEMENT_NODE )  {^[METHOD] collectNamespaces [TYPE] void [PARAMETER] List attributes Node node [CLASS] DOMNamespaceIterator   [TYPE]  NamedNodeMap map  [TYPE]  boolean false  true  [TYPE]  Node node  parent  [TYPE]  List attributes  [TYPE]  NodePointer parent  [TYPE]  String name  prefix  [TYPE]  int count  i  position  [TYPE]  Attr attr 
[REPLACE]^if  (   ( prefix != true && name.equals ( "xmlns" )  )  )  {^61^62^^^^46^67^[REPLACE] if  (  ( prefix != null && prefix.equals ( "xmlns" )  ) ||  ( prefix == null && name.equals ( "xmlns" )  )  )  {^[METHOD] collectNamespaces [TYPE] void [PARAMETER] List attributes Node node [CLASS] DOMNamespaceIterator   [TYPE]  NamedNodeMap map  [TYPE]  boolean false  true  [TYPE]  Node node  parent  [TYPE]  List attributes  [TYPE]  NodePointer parent  [TYPE]  String name  prefix  [TYPE]  int count  i  position  [TYPE]  Attr attr 
[REPLACE]^attributes.get ( attr ) ;^63^^^^^61^64^[REPLACE] attributes.add ( attr ) ;^[METHOD] collectNamespaces [TYPE] void [PARAMETER] List attributes Node node [CLASS] DOMNamespaceIterator   [TYPE]  NamedNodeMap map  [TYPE]  boolean false  true  [TYPE]  Node node  parent  [TYPE]  List attributes  [TYPE]  NodePointer parent  [TYPE]  String name  prefix  [TYPE]  int count  i  position  [TYPE]  Attr attr 
[ADD]^^55^^^^^46^67^[ADD] NamedNodeMap map = node.getAttributes (  ) ;^[METHOD] collectNamespaces [TYPE] void [PARAMETER] List attributes Node node [CLASS] DOMNamespaceIterator   [TYPE]  NamedNodeMap map  [TYPE]  boolean false  true  [TYPE]  Node node  parent  [TYPE]  List attributes  [TYPE]  NodePointer parent  [TYPE]  String name  prefix  [TYPE]  int count  i  position  [TYPE]  Attr attr 
[REPLACE]^int count = map .item ( count )  ;^56^^^^^46^67^[REPLACE] int count = map.getLength (  ) ;^[METHOD] collectNamespaces [TYPE] void [PARAMETER] List attributes Node node [CLASS] DOMNamespaceIterator   [TYPE]  NamedNodeMap map  [TYPE]  boolean false  true  [TYPE]  Node node  parent  [TYPE]  List attributes  [TYPE]  NodePointer parent  [TYPE]  String name  prefix  [TYPE]  int count  i  position  [TYPE]  Attr attr 
[ADD]^^57^58^59^60^61^46^67^[ADD] for  ( int i = 0; i < count; i++ )  { Attr attr =  ( Attr )  map.item ( i ) ; String prefix = DOMNodePointer.getPrefix ( attr ) ; String name = DOMNodePointer.getLocalName ( attr ) ; if  (  ( prefix != null && prefix.equals ( "xmlns" )  )^[METHOD] collectNamespaces [TYPE] void [PARAMETER] List attributes Node node [CLASS] DOMNamespaceIterator   [TYPE]  NamedNodeMap map  [TYPE]  boolean false  true  [TYPE]  Node node  parent  [TYPE]  List attributes  [TYPE]  NodePointer parent  [TYPE]  String name  prefix  [TYPE]  int count  i  position  [TYPE]  Attr attr 
[REPLACE]^Attr attr =  ( Attr )  map .getLength (  )  ;^58^^^^^46^67^[REPLACE] Attr attr =  ( Attr )  map.item ( i ) ;^[METHOD] collectNamespaces [TYPE] void [PARAMETER] List attributes Node node [CLASS] DOMNamespaceIterator   [TYPE]  NamedNodeMap map  [TYPE]  boolean false  true  [TYPE]  Node node  parent  [TYPE]  List attributes  [TYPE]  NodePointer parent  [TYPE]  String name  prefix  [TYPE]  int count  i  position  [TYPE]  Attr attr 
[REPLACE]^String prefix = DOMNodePointer.getLocalName ( attr ) ;^59^^^^^46^67^[REPLACE] String prefix = DOMNodePointer.getPrefix ( attr ) ;^[METHOD] collectNamespaces [TYPE] void [PARAMETER] List attributes Node node [CLASS] DOMNamespaceIterator   [TYPE]  NamedNodeMap map  [TYPE]  boolean false  true  [TYPE]  Node node  parent  [TYPE]  List attributes  [TYPE]  NodePointer parent  [TYPE]  String name  prefix  [TYPE]  int count  i  position  [TYPE]  Attr attr 
[REPLACE]^String name = DOMNodePointer .getPrefix ( attr )  ;^60^^^^^46^67^[REPLACE] String name = DOMNodePointer.getLocalName ( attr ) ;^[METHOD] collectNamespaces [TYPE] void [PARAMETER] List attributes Node node [CLASS] DOMNamespaceIterator   [TYPE]  NamedNodeMap map  [TYPE]  boolean false  true  [TYPE]  Node node  parent  [TYPE]  List attributes  [TYPE]  NodePointer parent  [TYPE]  String name  prefix  [TYPE]  int count  i  position  [TYPE]  Attr attr 
[REPLACE]^if  (  ( prefix != null && prefix.equals ( "xmlns" )  ) ||  ( prefix != null && name.equals ( "xmlns" )  )  )  {^61^62^^^^46^67^[REPLACE] if  (  ( prefix != null && prefix.equals ( "xmlns" )  ) ||  ( prefix == null && name.equals ( "xmlns" )  )  )  {^[METHOD] collectNamespaces [TYPE] void [PARAMETER] List attributes Node node [CLASS] DOMNamespaceIterator   [TYPE]  NamedNodeMap map  [TYPE]  boolean false  true  [TYPE]  Node node  parent  [TYPE]  List attributes  [TYPE]  NodePointer parent  [TYPE]  String name  prefix  [TYPE]  int count  i  position  [TYPE]  Attr attr 
[REPLACE]^NamedNodeMap map = parent.getParentNode (  ) ;^55^^^^^46^67^[REPLACE] NamedNodeMap map = node.getAttributes (  ) ;^[METHOD] collectNamespaces [TYPE] void [PARAMETER] List attributes Node node [CLASS] DOMNamespaceIterator   [TYPE]  NamedNodeMap map  [TYPE]  boolean false  true  [TYPE]  Node node  parent  [TYPE]  List attributes  [TYPE]  NodePointer parent  [TYPE]  String name  prefix  [TYPE]  int count  i  position  [TYPE]  Attr attr 
[REPLACE]^for  ( int i = 0L; i < count; i++ )  {^57^^^^^46^67^[REPLACE] for  ( int i = 0; i < count; i++ )  {^[METHOD] collectNamespaces [TYPE] void [PARAMETER] List attributes Node node [CLASS] DOMNamespaceIterator   [TYPE]  NamedNodeMap map  [TYPE]  boolean false  true  [TYPE]  Node node  parent  [TYPE]  List attributes  [TYPE]  NodePointer parent  [TYPE]  String name  prefix  [TYPE]  int count  i  position  [TYPE]  Attr attr 
[REPLACE]^Attr attr =  (  ( Attr )   ( attributes.get ( index )  )  )  ;^58^^^^^46^67^[REPLACE] Attr attr =  ( Attr )  map.item ( i ) ;^[METHOD] collectNamespaces [TYPE] void [PARAMETER] List attributes Node node [CLASS] DOMNamespaceIterator   [TYPE]  NamedNodeMap map  [TYPE]  boolean false  true  [TYPE]  Node node  parent  [TYPE]  List attributes  [TYPE]  NodePointer parent  [TYPE]  String name  prefix  [TYPE]  int count  i  position  [TYPE]  Attr attr 
[ADD]^^60^^^^^46^67^[ADD] String name = DOMNodePointer.getLocalName ( attr ) ;^[METHOD] collectNamespaces [TYPE] void [PARAMETER] List attributes Node node [CLASS] DOMNamespaceIterator   [TYPE]  NamedNodeMap map  [TYPE]  boolean false  true  [TYPE]  Node node  parent  [TYPE]  List attributes  [TYPE]  NodePointer parent  [TYPE]  String name  prefix  [TYPE]  int count  i  position  [TYPE]  Attr attr 
[REPLACE]^if  ( position  !=  0 )  {^70^^^^^69^87^[REPLACE] if  ( position == 0 )  {^[METHOD] getNodePointer [TYPE] NodePointer [PARAMETER] [CLASS] DOMNamespaceIterator   [TYPE]  List attributes  [TYPE]  NodePointer parent  [TYPE]  String name  prefix  [TYPE]  boolean false  true  [TYPE]  int count  i  index  position  [TYPE]  Attr attr 
[REPLACE]^if  ( !setPosition ( 3 )  )  {^71^^^^^69^87^[REPLACE] if  ( !setPosition ( 1 )  )  {^[METHOD] getNodePointer [TYPE] NodePointer [PARAMETER] [CLASS] DOMNamespaceIterator   [TYPE]  List attributes  [TYPE]  NodePointer parent  [TYPE]  String name  prefix  [TYPE]  boolean false  true  [TYPE]  int count  i  index  position  [TYPE]  Attr attr 
[REPLACE]^return this;^72^^^^^69^87^[REPLACE] return null;^[METHOD] getNodePointer [TYPE] NodePointer [PARAMETER] [CLASS] DOMNamespaceIterator   [TYPE]  List attributes  [TYPE]  NodePointer parent  [TYPE]  String name  prefix  [TYPE]  boolean false  true  [TYPE]  int count  i  index  position  [TYPE]  Attr attr 
[ADD]^^74^^^^^69^87^[ADD] position = 0;^[METHOD] getNodePointer [TYPE] NodePointer [PARAMETER] [CLASS] DOMNamespaceIterator   [TYPE]  List attributes  [TYPE]  NodePointer parent  [TYPE]  String name  prefix  [TYPE]  boolean false  true  [TYPE]  int count  i  index  position  [TYPE]  Attr attr 
[REPLACE]^return true;^72^^^^^69^87^[REPLACE] return null;^[METHOD] getNodePointer [TYPE] NodePointer [PARAMETER] [CLASS] DOMNamespaceIterator   [TYPE]  List attributes  [TYPE]  NodePointer parent  [TYPE]  String name  prefix  [TYPE]  boolean false  true  [TYPE]  int count  i  index  position  [TYPE]  Attr attr 
[REPLACE]^if  ( !setPosition ( 2 )  )  {^71^^^^^69^87^[REPLACE] if  ( !setPosition ( 1 )  )  {^[METHOD] getNodePointer [TYPE] NodePointer [PARAMETER] [CLASS] DOMNamespaceIterator   [TYPE]  List attributes  [TYPE]  NodePointer parent  [TYPE]  String name  prefix  [TYPE]  boolean false  true  [TYPE]  int count  i  index  position  [TYPE]  Attr attr 
[REPLACE]^return null;  ;^72^^^^^69^87^[REPLACE] return null;^[METHOD] getNodePointer [TYPE] NodePointer [PARAMETER] [CLASS] DOMNamespaceIterator   [TYPE]  List attributes  [TYPE]  NodePointer parent  [TYPE]  String name  prefix  [TYPE]  boolean false  true  [TYPE]  int count  i  index  position  [TYPE]  Attr attr 
[REPLACE]^position = 0 + 4;^74^^^^^69^87^[REPLACE] position = 0;^[METHOD] getNodePointer [TYPE] NodePointer [PARAMETER] [CLASS] DOMNamespaceIterator   [TYPE]  List attributes  [TYPE]  NodePointer parent  [TYPE]  String name  prefix  [TYPE]  boolean false  true  [TYPE]  int count  i  index  position  [TYPE]  Attr attr 
[REPLACE]^int index = position  1;^76^^^^^69^87^[REPLACE] int index = position - 1;^[METHOD] getNodePointer [TYPE] NodePointer [PARAMETER] [CLASS] DOMNamespaceIterator   [TYPE]  List attributes  [TYPE]  NodePointer parent  [TYPE]  String name  prefix  [TYPE]  boolean false  true  [TYPE]  int count  i  index  position  [TYPE]  Attr attr 
[REPLACE]^if  (position  <=  0 )  {^77^^^^^69^87^[REPLACE] if  ( index < 0 )  {^[METHOD] getNodePointer [TYPE] NodePointer [PARAMETER] [CLASS] DOMNamespaceIterator   [TYPE]  List attributes  [TYPE]  NodePointer parent  [TYPE]  String name  prefix  [TYPE]  boolean false  true  [TYPE]  int count  i  index  position  [TYPE]  Attr attr 
[REPLACE]^index = 0 - 4;^78^^^^^69^87^[REPLACE] index = 0;^[METHOD] getNodePointer [TYPE] NodePointer [PARAMETER] [CLASS] DOMNamespaceIterator   [TYPE]  List attributes  [TYPE]  NodePointer parent  [TYPE]  String name  prefix  [TYPE]  boolean false  true  [TYPE]  int count  i  index  position  [TYPE]  Attr attr 
[REPLACE]^index = 4;^78^^^^^69^87^[REPLACE] index = 0;^[METHOD] getNodePointer [TYPE] NodePointer [PARAMETER] [CLASS] DOMNamespaceIterator   [TYPE]  List attributes  [TYPE]  NodePointer parent  [TYPE]  String name  prefix  [TYPE]  boolean false  true  [TYPE]  int count  i  index  position  [TYPE]  Attr attr 
[ADD]^^80^^^^^69^87^[ADD] String prefix = "";^[METHOD] getNodePointer [TYPE] NodePointer [PARAMETER] [CLASS] DOMNamespaceIterator   [TYPE]  List attributes  [TYPE]  NodePointer parent  [TYPE]  String name  prefix  [TYPE]  boolean false  true  [TYPE]  int count  i  index  position  [TYPE]  Attr attr 
[REPLACE]^Attr attr =  ( Attr )  attributes.get ( position ) ;^81^^^^^69^87^[REPLACE] Attr attr =  ( Attr )  attributes.get ( index ) ;^[METHOD] getNodePointer [TYPE] NodePointer [PARAMETER] [CLASS] DOMNamespaceIterator   [TYPE]  List attributes  [TYPE]  NodePointer parent  [TYPE]  String name  prefix  [TYPE]  boolean false  true  [TYPE]  int count  i  index  position  [TYPE]  Attr attr 
[REPLACE]^String name = attr.getParentNode (  ) ;^82^^^^^69^87^[REPLACE] String name = attr.getPrefix (  ) ;^[METHOD] getNodePointer [TYPE] NodePointer [PARAMETER] [CLASS] DOMNamespaceIterator   [TYPE]  List attributes  [TYPE]  NodePointer parent  [TYPE]  String name  prefix  [TYPE]  boolean false  true  [TYPE]  int count  i  index  position  [TYPE]  Attr attr 
[REPLACE]^if  ( name == null ) {^83^^^^^69^87^[REPLACE] if  ( name != null && name.equals ( "xmlns" )  )  {^[METHOD] getNodePointer [TYPE] NodePointer [PARAMETER] [CLASS] DOMNamespaceIterator   [TYPE]  List attributes  [TYPE]  NodePointer parent  [TYPE]  String name  prefix  [TYPE]  boolean false  true  [TYPE]  int count  i  index  position  [TYPE]  Attr attr 
[REPLACE]^prefix =  DOMNodePointer.getLocalName ( null ) ;^84^^^^^69^87^[REPLACE] prefix = DOMNodePointer.getLocalName ( attr ) ;^[METHOD] getNodePointer [TYPE] NodePointer [PARAMETER] [CLASS] DOMNamespaceIterator   [TYPE]  List attributes  [TYPE]  NodePointer parent  [TYPE]  String name  prefix  [TYPE]  boolean false  true  [TYPE]  int count  i  index  position  [TYPE]  Attr attr 
[ADD]^^84^^^^^69^87^[ADD] prefix = DOMNodePointer.getLocalName ( attr ) ;^[METHOD] getNodePointer [TYPE] NodePointer [PARAMETER] [CLASS] DOMNamespaceIterator   [TYPE]  List attributes  [TYPE]  NodePointer parent  [TYPE]  String name  prefix  [TYPE]  boolean false  true  [TYPE]  int count  i  index  position  [TYPE]  Attr attr 
[REPLACE]^return null;  ;^86^^^^^69^87^[REPLACE] return new NamespacePointer ( parent, prefix, attr.getValue (  )  ) ;^[METHOD] getNodePointer [TYPE] NodePointer [PARAMETER] [CLASS] DOMNamespaceIterator   [TYPE]  List attributes  [TYPE]  NodePointer parent  [TYPE]  String name  prefix  [TYPE]  boolean false  true  [TYPE]  int count  i  index  position  [TYPE]  Attr attr 
