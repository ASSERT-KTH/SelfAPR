[REPLACE]^static final  long  ESCAPED_VAR_TOKEN = 1;^174^^^^^^^[REPLACE] static final short ESCAPED_VAR_TOKEN = 3;^ [CLASS] VariableFormatter MapVariableResolver VariableParser  
[REPLACE]^static  short TEXT_TOKEN = 2;^177^^^^^^^[REPLACE] static final short TEXT_TOKEN = 1;^ [CLASS] VariableFormatter MapVariableResolver VariableParser  
[REPLACE]^static final short VARIABLE_TOKEN ;^180^^^^^^^[REPLACE] static final short VARIABLE_TOKEN = 2;^ [CLASS] VariableFormatter MapVariableResolver VariableParser  
[REPLACE]^private  short  length;^246^^^^^^^[REPLACE] private int length;^ [CLASS] VariableFormatter MapVariableResolver VariableParser  
[REPLACE]^public static final String DEFAULT_ESCAPE = '$';^484^^^^^^^[REPLACE] public static final char DEFAULT_ESCAPE = '$';^ [CLASS] VariableFormatter MapVariableResolver VariableParser  
[REPLACE]^public static final String DEFAULT_PREFIX  = null ;^487^^^^^^^[REPLACE] public static final String DEFAULT_PREFIX = "${";^ [CLASS] VariableFormatter MapVariableResolver VariableParser  
[REPLACE]^public static final String DEFAULT_SUFFIX  = null ;^490^^^^^^^[REPLACE] public static final String DEFAULT_SUFFIX = "}";^ [CLASS] VariableFormatter MapVariableResolver VariableParser  
[REPLACE]^private String escapeCharacter;^538^^^^^^^[REPLACE] private char escapeCharacter;^ [CLASS] VariableFormatter MapVariableResolver VariableParser  
[REPLACE]^if   (  priorVariables.contains  (  variable  )    )   {  ;^364^^^^^363^401^[REPLACE] if  ( getTokenList (  ) .isEmpty (  )  )  {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^if   (  it.hasNext  (    )    )   {  ;^365^^^^^363^401^[REPLACE] if  ( !hasNext (  )  )  {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[ADD]^^365^366^367^368^^363^401^[ADD] if  ( !hasNext (  )  )  {  return null; }^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^return true;^367^^^^^363^401^[REPLACE] return null;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^} else if   (    (  tokenLen = getVarStartMatcher  (    )  .isMatch  (  data, getPos  (    )  , 0, getLength  (    )    )    )   > 0  )   {  ;^372^^^^^363^401^[REPLACE] if  (  ( tokenLen = getEscVarMatcher (  ) .isMatch ( data, getPos (  ) , 0, getLength (  )  )  )  > 0 )  {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^}  else {^376^^^^^363^401^[REPLACE] } else if  (  ( tokenLen = getVarStartMatcher (  ) .isMatch ( data, getPos (  ) , 0, getLength (  )  )  )  > 0 )  {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^setPos (  (  ( getPos (  )  )  + endLen )  )  ;^393^^^^^376^394^[REPLACE] setPos ( getPos (  )  + 1 ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^getPos (  )  ;^393^^^^^376^394^[REPLACE] setPos ( getPos (  )  + 1 ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[ADD]^^393^^^^^376^394^[ADD] setPos ( getPos (  )  + 1 ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^if  ( endLen  >=  0 )  {^386^^^^^363^401^[REPLACE] if  ( endLen <= 0 )  {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^getTokenList (  ) .addLast ( VariableParser.newEscapedVariableToken ( varStart, getPos (  )   varStart )  ) ;^389^^^^^386^391^[REPLACE] getTokenList (  ) .addLast ( VariableParser.newVariableToken ( varStart, getPos (  )  - varStart )  ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^checkTextToken ( startPos )  ;^389^^^^^386^391^[REPLACE] getTokenList (  ) .addLast ( VariableParser.newVariableToken ( varStart, getPos (  )  - varStart )  ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^getTokenList (  ) .addLast ( VariableParser.newVariableToken ( type, getPos (  )   varStart )  ) ;^389^^^^^386^391^[REPLACE] getTokenList (  ) .addLast ( VariableParser.newVariableToken ( varStart, getPos (  )  - varStart )  ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[ADD]^^389^390^^^^386^391^[ADD] getTokenList (  ) .addLast ( VariableParser.newVariableToken ( varStart, getPos (  )  - varStart )  ) ; setPos ( getPos (  )  + endLen ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^getPos (  )  ;^389^^^^^386^391^[REPLACE] getTokenList (  ) .addLast ( VariableParser.newVariableToken ( varStart, getPos (  )  - varStart )  ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^setPos ( getPos (  )   type ) ;^390^^^^^386^391^[REPLACE] setPos ( getPos (  )  + endLen ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[ADD]^^390^^^^^386^391^[ADD] setPos ( getPos (  )  + endLen ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^getPos (  )  ;^390^^^^^386^391^[REPLACE] setPos ( getPos (  )  + endLen ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REMOVE]^( getEndIndex (  )  )  ;^390^^^^^386^391^[REMOVE] ^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^checkTextToken (type  tokenLen ) ;^387^^^^^363^401^[REPLACE] checkTextToken ( varStart - tokenLen ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[ADD]^^387^^^^^363^401^[ADD] checkTextToken ( varStart - tokenLen ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^( endLen = getVarEndMatcher (  ) .isMatch ( data, getPos (  ) , 4, getLength (  )  )  )  <= 4 ) {^381^382^383^^^363^401^[REPLACE] ( endLen = getVarEndMatcher (  ) .isMatch ( data, getPos (  ) , 0, getLength (  )  )  )  <= 0 ) {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^int startPos = getPos (  )  ;^379^^^^^363^401^[REPLACE] int varStart = getPos (  ) , endLen = 0;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^int varStart = getPos (  ) , endLen = 0 >> 0;^379^^^^^363^401^[REPLACE] int varStart = getPos (  ) , endLen = 0;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^if  ( type  == type )  {^386^^^^^363^401^[REPLACE] if  ( endLen <= 0 )  {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[ADD]^checkTextToken ( varStart - tokenLen ) ;getTokenList (  ) .addLast ( VariableParser.newVariableToken ( varStart, getPos (  )  - varStart )  ) ;setPos ( getPos (  )  + endLen ) ;^386^387^388^389^390^363^401^[ADD] if  ( endLen <= 0 )  { checkTextToken ( varStart - tokenLen ) ; } else { getTokenList (  ) .addLast ( VariableParser.newVariableToken ( varStart, getPos (  )  - varStart )  ) ; setPos ( getPos (  )  + endLen ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^getTokenList (  ) .addLast ( VariableParser.newVariableToken ( type, type (  )   varStart )  ) ;^389^^^^^386^391^[REPLACE] getTokenList (  ) .addLast ( VariableParser.newVariableToken ( varStart, getPos (  )  - varStart )  ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^getTokenList (  ) .addLast ( newTextToken ( startPos,  (  ( getPos (  )  )  - startPos )  )  )  ;^389^^^^^386^391^[REPLACE] getTokenList (  ) .addLast ( VariableParser.newVariableToken ( varStart, getPos (  )  - varStart )  ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^setPos ( getPos (  )   endLen ) ;^390^^^^^386^391^[REPLACE] setPos ( getPos (  )  + endLen ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^} else if  (  ( tokenLen = getVarStartMatcher (  ) .isMatch ( data, getPos (  ) , 1, getLength (  )  )  )  > 1 )  {^376^^^^^363^401^[REPLACE] } else if  (  ( tokenLen = getVarStartMatcher (  ) .isMatch ( data, getPos (  ) , 0, getLength (  )  )  )  > 0 )  {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[ADD]^^381^382^383^^^363^401^[ADD] ( endLen = getVarEndMatcher (  ) .isMatch ( data, getPos (  ) , 0, getLength (  )  )  )  <= 0 ) {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[ADD]^^379^^^^^363^401^[ADD] int varStart = getPos (  ) , endLen = 0;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^getVarEndMatcher (  ) .isMatch ( data, getPos (  ) , 0, getLength (  )  )  ;^373^^^^^363^401^[REPLACE] checkTextToken ( startPos ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^getTokenList (  ) .addLast ( VariableParser.newEscapedVariableToken ( getPos (  ) , type )  ) ;^374^^^^^363^401^[REPLACE] getTokenList (  ) .addLast ( VariableParser.newEscapedVariableToken ( getPos (  ) , tokenLen )  ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REMOVE]^stringMatcher ( getVariableSuffix (  )  )  ;^374^^^^^363^401^[REMOVE] ^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^checkTextToken ( startPos )  ;^374^^^^^363^401^[REPLACE] getTokenList (  ) .addLast ( VariableParser.newEscapedVariableToken ( getPos (  ) , tokenLen )  ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^( getPos (  )  )  ;^374^^^^^363^401^[REPLACE] getTokenList (  ) .addLast ( VariableParser.newEscapedVariableToken ( getPos (  ) , tokenLen )  ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^setPos (startPos (  )   tokenLen ) ;^375^^^^^363^401^[REPLACE] setPos ( getPos (  )  + tokenLen ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[ADD]^^375^^^^^363^401^[ADD] setPos ( getPos (  )  + tokenLen ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^getPos (  )  ;^375^^^^^363^401^[REPLACE] setPos ( getPos (  )  + tokenLen ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REMOVE]^( getEndIndex (  )  )  ;^375^^^^^363^401^[REMOVE] ^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^if   (    (  tokenLen = getEscVarMatcher  (    )  .isMatch  (  data, getPos  (    )  , 0, getLength  (    )    )    )   > 0  )   {  ;^376^^^^^363^401^[REPLACE] } else if  (  ( tokenLen = getVarStartMatcher (  ) .isMatch ( data, getPos (  ) , 0, getLength (  )  )  )  > 0 )  {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^setPos ( getPos (  )  varStart ) ;^393^^^^^376^394^[REPLACE] setPos ( getPos (  )  + 1 ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^if  ( endLen  >  0 )  {^386^^^^^363^401^[REPLACE] if  ( endLen <= 0 )  {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[ADD]^^386^387^388^389^390^363^401^[ADD] if  ( endLen <= 0 )  { checkTextToken ( varStart - tokenLen ) ; } else { getTokenList (  ) .addLast ( VariableParser.newVariableToken ( varStart, getPos (  )  - varStart )  ) ; setPos ( getPos (  )  + endLen ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[ADD]^^389^^^^^386^391^[ADD] getTokenList (  ) .addLast ( VariableParser.newVariableToken ( varStart, getPos (  )  - varStart )  ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^checkTextToken (type  pos ) ;^387^^^^^363^401^[REPLACE] checkTextToken ( varStart - tokenLen ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^( endLen = getVarEndMatcher (  ) .isMatch ( data, getPos (  ) , 0 << 0, getLength (  )  )  )  <= 0 << 0 ) {^381^382^383^^^363^401^[REPLACE] ( endLen = getVarEndMatcher (  ) .isMatch ( data, getPos (  ) , 0, getLength (  )  )  )  <= 0 ) {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^int varStart = getPos (  ) , endLen = 2;^379^^^^^363^401^[REPLACE] int varStart = getPos (  ) , endLen = 0;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^if  (type  ==  0 )  {^386^^^^^363^401^[REPLACE] if  ( endLen <= 0 )  {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^getTokenList (  ) .addLast ( VariableParser.newVariableToken ( varStart, getPos (  )   varStart )  ) ;^389^^^^^386^391^[REPLACE] getTokenList (  ) .addLast ( VariableParser.newVariableToken ( varStart, getPos (  )  - varStart )  ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^getTokenList (  ) .addLast ( VariableParser.newVariableToken ( varStart,type (  )   varStart )  ) ;^389^^^^^386^391^[REPLACE] getTokenList (  ) .addLast ( VariableParser.newVariableToken ( varStart, getPos (  )  - varStart )  ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^checkTextToken ( type type ) ;^387^^^^^363^401^[REPLACE] checkTextToken ( varStart - tokenLen ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^if   (  priorVariables.contains  (  variable  )    )   {  ;^396^^^^^363^401^[REPLACE] if  ( getTokenList (  ) .isEmpty (  )  )  {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^checkTextToken ( varStart ) ;^397^^^^^363^401^[REPLACE] checkTextToken ( startPos ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^if  (  ( tokenLen = getEscVarMatcher (  ) .isMatch ( data, getPos (  ) , 2, getLength (  )  )  )  > 2 )  {^372^^^^^363^401^[REPLACE] if  (  ( tokenLen = getEscVarMatcher (  ) .isMatch ( data, getPos (  ) , 0, getLength (  )  )  )  > 0 )  {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^} else if  (  ( tokenLen = getVarStartMatcher (  ) .isMatch ( data, getPos (  ) , 3, getLength (  )  )  )  > 3 )  {^376^^^^^363^401^[REPLACE] } else if  (  ( tokenLen = getVarStartMatcher (  ) .isMatch ( data, getPos (  ) , 0, getLength (  )  )  )  > 0 )  {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^( endLen = getVarEndMatcher (  ) .isMatch ( data, getPos (  ) , 3, getLength (  )  )  )  <= 3 ) {^381^382^383^^^363^401^[REPLACE] ( endLen = getVarEndMatcher (  ) .isMatch ( data, getPos (  ) , 0, getLength (  )  )  )  <= 0 ) {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^int varStart = getPos (  )  ;^369^^^^^363^401^[REPLACE] int startPos = getPos (  ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^FieldPosition tok  ;^370^^^^^363^401^[REPLACE] int tokenLen;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^if  ( hasNext (  )  )  {^365^^^^^363^401^[REPLACE] if  ( !hasNext (  )  )  {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^if  (  ( tokenLen = getEscVarMatcher (  ) .isMatch ( data, getPos (  ) , 0, getLength (  )  )  )   <=  0 )  {^372^^^^^363^401^[REPLACE] if  (  ( tokenLen = getEscVarMatcher (  ) .isMatch ( data, getPos (  ) , 0, getLength (  )  )  )  > 0 )  {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[ADD]^}   checkTextToken ( startPos ) ;setPos ( getPos (  )  + tokenLen ) ;int varStart = getPos (  ) , endLen = 0;^376^377^378^379^380^363^401^[ADD] else if  (  ( tokenLen = getVarStartMatcher (  ) .isMatch ( data, getPos (  ) , 0, getLength (  )  )  )  > 0 )  { checkTextToken ( startPos ) ; setPos ( getPos (  )  + tokenLen ) ; int varStart = getPos (  ) , endLen = 0; while  (  hasNext (  )  &&^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^setPos ( getPos (  )   1 ) ;^393^^^^^376^394^[REPLACE] setPos ( getPos (  )  + 1 ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^if  ( endLen  ==  1 )  {^386^^^^^363^401^[REPLACE] if  ( endLen <= 0 )  {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^setPos (  (  ( getPos (  )  )  + 1 )  )  ;^390^^^^^386^391^[REPLACE] setPos ( getPos (  )  + endLen ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REMOVE]^getVarEndMatcher (  ) .isMatch ( data, getPos (  ) , 0, getLength (  )  )  ;^390^^^^^386^391^[REMOVE] ^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^checkTextToken ( varStart  tokenLen ) ;^387^^^^^363^401^[REPLACE] checkTextToken ( varStart - tokenLen ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^int varStart = getPos (  ) , endLen = 1;^379^^^^^363^401^[REPLACE] int varStart = getPos (  ) , endLen = 0;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^if  ( endLen  >=  0 + 3 )  {^386^^^^^363^401^[REPLACE] if  ( endLen <= 0 )  {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^getTokenList (  ) .addLast ( VariableParser.newVariableToken ( varStart,startPos (  )   varStart )  ) ;^389^^^^^386^391^[REPLACE] getTokenList (  ) .addLast ( VariableParser.newVariableToken ( varStart, getPos (  )  - varStart )  ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REMOVE]^stringMatcher ( getVariableSuffix (  )  )  ;^389^^^^^386^391^[REMOVE] ^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^} else if  (  ( tokenLen = getVarStartMatcher (  ) .isMatch ( data, getPos (  ) , 0 % 4, getLength (  )  )  )  > 0 % 4 )  {^376^^^^^363^401^[REPLACE] } else if  (  ( tokenLen = getVarStartMatcher (  ) .isMatch ( data, getPos (  ) , 0, getLength (  )  )  )  > 0 )  {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^int varStart = getPos (  ) , endLen = 0 - 4;^379^^^^^363^401^[REPLACE] int varStart = getPos (  ) , endLen = 0;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^checkTextToken ( varStart ) ;^373^^^^^363^401^[REPLACE] checkTextToken ( startPos ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^getTokenList (  ) .addLast ( newTextToken ( startPos,  (  ( getPos (  )  )  - startPos )  )  )  ;^374^^^^^363^401^[REPLACE] getTokenList (  ) .addLast ( VariableParser.newEscapedVariableToken ( getPos (  ) , tokenLen )  ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[ADD]^^374^^^^^363^401^[ADD] getTokenList (  ) .addLast ( VariableParser.newEscapedVariableToken ( getPos (  ) , tokenLen )  ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[ADD]^^374^375^^^^363^401^[ADD] getTokenList (  ) .addLast ( VariableParser.newEscapedVariableToken ( getPos (  ) , tokenLen )  ) ; setPos ( getPos (  )  + tokenLen ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^getTokenList (  ) .addLast ( newEscapedVariableToken ( getPos (  ) , tokenLen )  )  ;^374^^^^^363^401^[REPLACE] getTokenList (  ) .addLast ( VariableParser.newEscapedVariableToken ( getPos (  ) , tokenLen )  ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^setPos (  (  ( getPos (  )  )  + endLen )  )  ;^375^^^^^363^401^[REPLACE] setPos ( getPos (  )  + tokenLen ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^} else if  (  ( tokenLen = getVarStartMatcher (  ) .isMatch ( data, getPos (  ) , 0, getLength (  )  )  )   ==  0 )  {^376^^^^^363^401^[REPLACE] } else if  (  ( tokenLen = getVarStartMatcher (  ) .isMatch ( data, getPos (  ) , 0, getLength (  )  )  )  > 0 )  {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^if  ( endLen  > type )  {^386^^^^^363^401^[REPLACE] if  ( endLen <= 0 )  {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^getTokenList (  ) .addLast ( VariableParser.newVariableToken (startPos, getPos (  )  startPos )  ) ;^389^^^^^386^391^[REPLACE] getTokenList (  ) .addLast ( VariableParser.newVariableToken ( varStart, getPos (  )  - varStart )  ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^setPos ( getPos (  )  varStart ) ;^390^^^^^386^391^[REPLACE] setPos ( getPos (  )  + endLen ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^checkTextToken (type  length ) ;^387^^^^^363^401^[REPLACE] checkTextToken ( varStart - tokenLen ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^int varStart = getPos (  ) , endLen = 0L;^379^^^^^363^401^[REPLACE] int varStart = getPos (  ) , endLen = 0;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^getTokenList (  ) .addLast ( VariableParser.newVariableToken (type, getPos (  )  type )  ) ;^389^^^^^386^391^[REPLACE] getTokenList (  ) .addLast ( VariableParser.newVariableToken ( varStart, getPos (  )  - varStart )  ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REMOVE]^( getEndIndex (  )  )  ;^389^^^^^386^391^[REMOVE] ^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[ADD]^^372^373^374^375^^363^401^[ADD] if  (  ( tokenLen = getEscVarMatcher (  ) .isMatch ( data, getPos (  ) , 0, getLength (  )  )  )  > 0 )  { checkTextToken ( startPos ) ; getTokenList (  ) .addLast ( VariableParser.newEscapedVariableToken ( getPos (  ) , tokenLen )  ) ; setPos ( getPos (  )  + tokenLen ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^( endLen = getVarEndMatcher (  ) .isMatch ( data, getPos (  ) , 0 >> 3, getLength (  )  )  )  <= 0 >> 3 ) {^381^382^383^^^363^401^[REPLACE] ( endLen = getVarEndMatcher (  ) .isMatch ( data, getPos (  ) , 0, getLength (  )  )  )  <= 0 ) {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^return this;^367^^^^^363^401^[REPLACE] return null;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^int varStart = getPos (  ) , endLen = 3;^379^^^^^363^401^[REPLACE] int varStart = getPos (  ) , endLen = 0;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^return buf.toString  (    )  ;  ;^400^^^^^363^401^[REPLACE] return  ( FieldPosition )  getTokenList (  ) .removeFirst (  ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  prefix  suffix  varName  variablePrefix  variableSuffix  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^if  ( data != false )  {^718^^^^^717^795^[REPLACE] if  ( data == null )  {^[METHOD] doReplace [TYPE] Object [PARAMETER] char[] data int offset int length Object ref List priorVariables [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  VariableParser parser  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  initialBase  prefix  suffix  varName  variable  variablePrefix  variableSuffix  [TYPE]  FieldPosition tok  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  offset  pos  startPos  tokenCnt  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data  [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  Iterator it  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  Object ref  resultObj  [TYPE]  List priorVariables  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  StrBuilder buf  priorVariableSb 
[REPLACE]^return this;^719^^^^^717^795^[REPLACE] return null;^[METHOD] doReplace [TYPE] Object [PARAMETER] char[] data int offset int length Object ref List priorVariables [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  VariableParser parser  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  initialBase  prefix  suffix  varName  variable  variablePrefix  variableSuffix  [TYPE]  FieldPosition tok  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  offset  pos  startPos  tokenCnt  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data  [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  Iterator it  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  Object ref  resultObj  [TYPE]  List priorVariables  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  StrBuilder buf  priorVariableSb 
[REPLACE]^return false;^719^^^^^717^795^[REPLACE] return null;^[METHOD] doReplace [TYPE] Object [PARAMETER] char[] data int offset int length Object ref List priorVariables [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  VariableParser parser  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  initialBase  prefix  suffix  varName  variable  variablePrefix  variableSuffix  [TYPE]  FieldPosition tok  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  offset  pos  startPos  tokenCnt  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data  [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  Iterator it  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  Object ref  resultObj  [TYPE]  List priorVariables  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  StrBuilder buf  priorVariableSb 
[REPLACE]^Object resultObj = resultObj;^722^^^^^717^795^[REPLACE] Object resultObj = ref;^[METHOD] doReplace [TYPE] Object [PARAMETER] char[] data int offset int length Object ref List priorVariables [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  VariableParser parser  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  initialBase  prefix  suffix  varName  variable  variablePrefix  variableSuffix  [TYPE]  FieldPosition tok  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  offset  pos  startPos  tokenCnt  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data  [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  Iterator it  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  Object ref  resultObj  [TYPE]  List priorVariables  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  StrBuilder buf  priorVariableSb 
[ADD]^^723^^^^^717^795^[ADD] int tokenCnt = 0;^[METHOD] doReplace [TYPE] Object [PARAMETER] char[] data int offset int length Object ref List priorVariables [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  VariableParser parser  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  initialBase  prefix  suffix  varName  variable  variablePrefix  variableSuffix  [TYPE]  FieldPosition tok  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  offset  pos  startPos  tokenCnt  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data  [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  Iterator it  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  Object ref  resultObj  [TYPE]  List priorVariables  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  StrBuilder buf  priorVariableSb 
[REPLACE]^StrBuilder buf = new StrBuilder ( varStart ) ;^724^^^^^717^795^[REPLACE] StrBuilder buf = new StrBuilder ( length ) ;^[METHOD] doReplace [TYPE] Object [PARAMETER] char[] data int offset int length Object ref List priorVariables [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  VariableParser parser  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  initialBase  prefix  suffix  varName  variable  variablePrefix  variableSuffix  [TYPE]  FieldPosition tok  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  offset  pos  startPos  tokenCnt  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data  [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  Iterator it  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  Object ref  resultObj  [TYPE]  List priorVariables  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  StrBuilder buf  priorVariableSb 
[REPLACE]^if  ( priorVariables != null )  {^727^^^^^717^795^[REPLACE] if  ( priorVariables == null )  {^[METHOD] doReplace [TYPE] Object [PARAMETER] char[] data int offset int length Object ref List priorVariables [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  VariableParser parser  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  initialBase  prefix  suffix  varName  variable  variablePrefix  variableSuffix  [TYPE]  FieldPosition tok  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  offset  pos  startPos  tokenCnt  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data  [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  Iterator it  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  Object ref  resultObj  [TYPE]  List priorVariables  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  StrBuilder buf  priorVariableSb 
[ADD]^priorVariables.add ( new String ( data, offset, length )  ) ;^728^729^^^^717^795^[ADD] priorVariables = new ArrayList (  ) ; priorVariables.add ( new String ( data, offset, length )  ) ;^[METHOD] doReplace [TYPE] Object [PARAMETER] char[] data int offset int length Object ref List priorVariables [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  VariableParser parser  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  initialBase  prefix  suffix  varName  variable  variablePrefix  variableSuffix  [TYPE]  FieldPosition tok  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  offset  pos  startPos  tokenCnt  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data  [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  Iterator it  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  Object ref  resultObj  [TYPE]  List priorVariables  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  StrBuilder buf  priorVariableSb 
[ADD]^^728^^^^^717^795^[ADD] priorVariables = new ArrayList (  ) ;^[METHOD] doReplace [TYPE] Object [PARAMETER] char[] data int offset int length Object ref List priorVariables [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  VariableParser parser  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  initialBase  prefix  suffix  varName  variable  variablePrefix  variableSuffix  [TYPE]  FieldPosition tok  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  offset  pos  startPos  tokenCnt  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data  [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  Iterator it  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  Object ref  resultObj  [TYPE]  List priorVariables  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  StrBuilder buf  priorVariableSb 
[REPLACE]^int tokenLen  ;^732^^^^^717^795^[REPLACE] VariableParser parser = createParser ( data, offset, length ) ;^[METHOD] doReplace [TYPE] Object [PARAMETER] char[] data int offset int length Object ref List priorVariables [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  VariableParser parser  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  initialBase  prefix  suffix  varName  variable  variablePrefix  variableSuffix  [TYPE]  FieldPosition tok  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  offset  pos  startPos  tokenCnt  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data  [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  Iterator it  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  Object ref  resultObj  [TYPE]  List priorVariables  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  StrBuilder buf  priorVariableSb 
[REPLACE]^int tokenLen  ;^733^^^^^717^795^[REPLACE] FieldPosition tok;^[METHOD] doReplace [TYPE] Object [PARAMETER] char[] data int offset int length Object ref List priorVariables [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  VariableParser parser  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  initialBase  prefix  suffix  varName  variable  variablePrefix  variableSuffix  [TYPE]  FieldPosition tok  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  offset  pos  startPos  tokenCnt  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data  [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  Iterator it  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  Object ref  resultObj  [TYPE]  List priorVariables  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  StrBuilder buf  priorVariableSb 
[REPLACE]^if   (  !hasNext  (    )    )   {  ;^750^^^^^717^795^[REPLACE] if  ( priorVariables.contains ( variable )  )  {^[METHOD] doReplace [TYPE] Object [PARAMETER] char[] data int offset int length Object ref List priorVariables [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  VariableParser parser  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  initialBase  prefix  suffix  varName  variable  variablePrefix  variableSuffix  [TYPE]  FieldPosition tok  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  offset  pos  startPos  tokenCnt  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data  [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  Iterator it  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  Object ref  resultObj  [TYPE]  List priorVariables  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  StrBuilder buf  priorVariableSb 
[REPLACE]^if  ( it.next (  )  )  {^759^^^^^717^795^[REPLACE] if  ( it.hasNext (  )  )  {^[METHOD] doReplace [TYPE] Object [PARAMETER] char[] data int offset int length Object ref List priorVariables [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  VariableParser parser  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  initialBase  prefix  suffix  varName  variable  variablePrefix  variableSuffix  [TYPE]  FieldPosition tok  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  offset  pos  startPos  tokenCnt  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data  [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  Iterator it  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  Object ref  resultObj  [TYPE]  List priorVariables  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  StrBuilder buf  priorVariableSb 
[ADD]^priorVariableSb.append ( "->" ) ;^759^760^761^^^717^795^[ADD] if  ( it.hasNext (  )  )  { priorVariableSb.append ( "->" ) ; }^[METHOD] doReplace [TYPE] Object [PARAMETER] char[] data int offset int length Object ref List priorVariables [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  VariableParser parser  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  initialBase  prefix  suffix  varName  variable  variablePrefix  variableSuffix  [TYPE]  FieldPosition tok  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  offset  pos  startPos  tokenCnt  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data  [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  Iterator it  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  Object ref  resultObj  [TYPE]  List priorVariables  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  StrBuilder buf  priorVariableSb 
[REPLACE]^priorVariableSb.append ( it.next (  )  )  ;^760^^^^^717^795^[REPLACE] priorVariableSb.append ( "->" ) ;^[METHOD] doReplace [TYPE] Object [PARAMETER] char[] data int offset int length Object ref List priorVariables [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  VariableParser parser  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  initialBase  prefix  suffix  varName  variable  variablePrefix  variableSuffix  [TYPE]  FieldPosition tok  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  offset  pos  startPos  tokenCnt  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data  [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  Iterator it  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  Object ref  resultObj  [TYPE]  List priorVariables  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  StrBuilder buf  priorVariableSb 
[ADD]^^760^^^^^717^795^[ADD] priorVariableSb.append ( "->" ) ;^[METHOD] doReplace [TYPE] Object [PARAMETER] char[] data int offset int length Object ref List priorVariables [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  VariableParser parser  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  initialBase  prefix  suffix  varName  variable  variablePrefix  variableSuffix  [TYPE]  FieldPosition tok  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  offset  pos  startPos  tokenCnt  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data  [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  Iterator it  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  Object ref  resultObj  [TYPE]  List priorVariables  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  StrBuilder buf  priorVariableSb 
[REPLACE]^String initialBase = priorVariables.remove ( 1 ) .toString (  ) ;^751^^^^^717^795^[REPLACE] String initialBase = priorVariables.remove ( 0 ) .toString (  ) ;^[METHOD] doReplace [TYPE] Object [PARAMETER] char[] data int offset int length Object ref List priorVariables [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  VariableParser parser  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  initialBase  prefix  suffix  varName  variable  variablePrefix  variableSuffix  [TYPE]  FieldPosition tok  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  offset  pos  startPos  tokenCnt  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data  [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  Iterator it  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  Object ref  resultObj  [TYPE]  List priorVariables  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  StrBuilder buf  priorVariableSb 
[ADD]^^753^^^^^717^795^[ADD] StrBuilder priorVariableSb = new StrBuilder (  ) ;^[METHOD] doReplace [TYPE] Object [PARAMETER] char[] data int offset int length Object ref List priorVariables [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  VariableParser parser  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  initialBase  prefix  suffix  varName  variable  variablePrefix  variableSuffix  [TYPE]  FieldPosition tok  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  offset  pos  startPos  tokenCnt  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data  [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  Iterator it  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  Object ref  resultObj  [TYPE]  List priorVariables  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  StrBuilder buf  priorVariableSb 
[REPLACE]^for  ( Iterator it = priorVariables.size (  ) ; it.hasNext (  ) ; )  {^757^^^^^717^795^[REPLACE] for  ( Iterator it = priorVariables.iterator (  ) ; it.hasNext (  ) ; )  {^[METHOD] doReplace [TYPE] Object [PARAMETER] char[] data int offset int length Object ref List priorVariables [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  VariableParser parser  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  initialBase  prefix  suffix  varName  variable  variablePrefix  variableSuffix  [TYPE]  FieldPosition tok  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  offset  pos  startPos  tokenCnt  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data  [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  Iterator it  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  Object ref  resultObj  [TYPE]  List priorVariables  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  StrBuilder buf  priorVariableSb 
[REPLACE]^return ;^763^764^765^766^^717^795^[REPLACE] throw new IllegalStateException ( "Infinite loop in property interpolation of " + initialBase + ": " + priorVariableSb.toString (  )  ) ;^[METHOD] doReplace [TYPE] Object [PARAMETER] char[] data int offset int length Object ref List priorVariables [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  VariableParser parser  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  initialBase  prefix  suffix  varName  variable  variablePrefix  variableSuffix  [TYPE]  FieldPosition tok  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  offset  pos  startPos  tokenCnt  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data  [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  Iterator it  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  Object ref  resultObj  [TYPE]  List priorVariables  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  StrBuilder buf  priorVariableSb 
[REPLACE]^if   (  !hasNext  (    )    )   {  ;^759^^^^^717^795^[REPLACE] if  ( it.hasNext (  )  )  {^[METHOD] doReplace [TYPE] Object [PARAMETER] char[] data int offset int length Object ref List priorVariables [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  VariableParser parser  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  initialBase  prefix  suffix  varName  variable  variablePrefix  variableSuffix  [TYPE]  FieldPosition tok  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  offset  pos  startPos  tokenCnt  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data  [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  Iterator it  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  Object ref  resultObj  [TYPE]  List priorVariables  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  StrBuilder buf  priorVariableSb 
[ADD]^^759^760^761^^^717^795^[ADD] if  ( it.hasNext (  )  )  { priorVariableSb.append ( "->" ) ; }^[METHOD] doReplace [TYPE] Object [PARAMETER] char[] data int offset int length Object ref List priorVariables [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  VariableParser parser  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  initialBase  prefix  suffix  varName  variable  variablePrefix  variableSuffix  [TYPE]  FieldPosition tok  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  offset  pos  startPos  tokenCnt  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data  [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  Iterator it  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  Object ref  resultObj  [TYPE]  List priorVariables  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  StrBuilder buf  priorVariableSb 
[REPLACE]^if  ( resultObj == true )  {^772^^^^^717^795^[REPLACE] if  ( resultObj != null )  {^[METHOD] doReplace [TYPE] Object [PARAMETER] char[] data int offset int length Object ref List priorVariables [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  VariableParser parser  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  initialBase  prefix  suffix  varName  variable  variablePrefix  variableSuffix  [TYPE]  FieldPosition tok  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  offset  pos  startPos  tokenCnt  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data  [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  Iterator it  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  Object ref  resultObj  [TYPE]  List priorVariables  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  StrBuilder buf  priorVariableSb 
[REPLACE]^buf.append ( getVariablePrefix (  )  ) .append ( variableSuffix ) .append ( getVariableSuffix (  )  ) ;^777^^^^^772^778^[REPLACE] buf.append ( getVariablePrefix (  )  ) .append ( variable ) .append ( getVariableSuffix (  )  ) ;^[METHOD] doReplace [TYPE] Object [PARAMETER] char[] data int offset int length Object ref List priorVariables [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  VariableParser parser  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  initialBase  prefix  suffix  varName  variable  variablePrefix  variableSuffix  [TYPE]  FieldPosition tok  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  offset  pos  startPos  tokenCnt  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data  [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  Iterator it  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  Object ref  resultObj  [TYPE]  List priorVariables  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  StrBuilder buf  priorVariableSb 
[REPLACE]^checkTextToken ( startPos )  ;^777^^^^^772^778^[REPLACE] buf.append ( getVariablePrefix (  )  ) .append ( variable ) .append ( getVariableSuffix (  )  ) ;^[METHOD] doReplace [TYPE] Object [PARAMETER] char[] data int offset int length Object ref List priorVariables [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  VariableParser parser  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  initialBase  prefix  suffix  varName  variable  variablePrefix  variableSuffix  [TYPE]  FieldPosition tok  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  offset  pos  startPos  tokenCnt  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data  [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  Iterator it  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  Object ref  resultObj  [TYPE]  List priorVariables  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  StrBuilder buf  priorVariableSb 
[REPLACE]^( getVariablePrefix (  )  )  ;^777^^^^^772^778^[REPLACE] buf.append ( getVariablePrefix (  )  ) .append ( variable ) .append ( getVariableSuffix (  )  ) ;^[METHOD] doReplace [TYPE] Object [PARAMETER] char[] data int offset int length Object ref List priorVariables [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  VariableParser parser  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  initialBase  prefix  suffix  varName  variable  variablePrefix  variableSuffix  [TYPE]  FieldPosition tok  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  offset  pos  startPos  tokenCnt  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data  [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  Iterator it  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  Object ref  resultObj  [TYPE]  List priorVariables  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  StrBuilder buf  priorVariableSb 
[REMOVE]^stringMatcher ( getVariableSuffix (  )  )  ;^777^^^^^772^778^[REMOVE] ^[METHOD] doReplace [TYPE] Object [PARAMETER] char[] data int offset int length Object ref List priorVariables [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  VariableParser parser  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  initialBase  prefix  suffix  varName  variable  variablePrefix  variableSuffix  [TYPE]  FieldPosition tok  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  offset  pos  startPos  tokenCnt  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data  [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  Iterator it  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  Object ref  resultObj  [TYPE]  List priorVariables  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  StrBuilder buf  priorVariableSb 
[REPLACE]^getVariableSuffix (  )  ;^777^^^^^772^778^[REPLACE] buf.append ( getVariablePrefix (  )  ) .append ( variable ) .append ( getVariableSuffix (  )  ) ;^[METHOD] doReplace [TYPE] Object [PARAMETER] char[] data int offset int length Object ref List priorVariables [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  VariableParser parser  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  initialBase  prefix  suffix  varName  variable  variablePrefix  variableSuffix  [TYPE]  FieldPosition tok  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  offset  pos  startPos  tokenCnt  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data  [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  Iterator it  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  Object ref  resultObj  [TYPE]  List priorVariables  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  StrBuilder buf  priorVariableSb 
[ADD]^^777^^^^^772^778^[ADD] buf.append ( getVariablePrefix (  )  ) .append ( variable ) .append ( getVariableSuffix (  )  ) ;^[METHOD] doReplace [TYPE] Object [PARAMETER] char[] data int offset int length Object ref List priorVariables [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  VariableParser parser  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  initialBase  prefix  suffix  varName  variable  variablePrefix  variableSuffix  [TYPE]  FieldPosition tok  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  offset  pos  startPos  tokenCnt  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data  [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  Iterator it  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  Object ref  resultObj  [TYPE]  List priorVariables  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  StrBuilder buf  priorVariableSb 
[REPLACE]^getVariablePrefix (  )  ;^777^^^^^772^778^[REPLACE] buf.append ( getVariablePrefix (  )  ) .append ( variable ) .append ( getVariableSuffix (  )  ) ;^[METHOD] doReplace [TYPE] Object [PARAMETER] char[] data int offset int length Object ref List priorVariables [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  VariableParser parser  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  initialBase  prefix  suffix  varName  variable  variablePrefix  variableSuffix  [TYPE]  FieldPosition tok  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  offset  pos  startPos  tokenCnt  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data  [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  Iterator it  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  Object ref  resultObj  [TYPE]  List priorVariables  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  StrBuilder buf  priorVariableSb 
[REMOVE]^getVarStartMatcher (  )  ;^777^^^^^772^778^[REMOVE] ^[METHOD] doReplace [TYPE] Object [PARAMETER] char[] data int offset int length Object ref List priorVariables [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  VariableParser parser  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  initialBase  prefix  suffix  varName  variable  variablePrefix  variableSuffix  [TYPE]  FieldPosition tok  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  offset  pos  startPos  tokenCnt  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data  [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  Iterator it  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  Object ref  resultObj  [TYPE]  List priorVariables  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  StrBuilder buf  priorVariableSb 
[REPLACE]^resultObj =  doReplace ( ref, priorVariables ) ;^773^^^^^717^795^[REPLACE] resultObj = doReplace ( resultObj, priorVariables ) ;^[METHOD] doReplace [TYPE] Object [PARAMETER] char[] data int offset int length Object ref List priorVariables [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  VariableParser parser  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  initialBase  prefix  suffix  varName  variable  variablePrefix  variableSuffix  [TYPE]  FieldPosition tok  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  offset  pos  startPos  tokenCnt  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data  [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  Iterator it  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  Object ref  resultObj  [TYPE]  List priorVariables  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  StrBuilder buf  priorVariableSb 
[ADD]^^734^735^736^^^717^795^[ADD] while  (  ( tok = parser.nextToken ( data )  )  != null )  { switch  ( tok.getField (  )  )  { case VariableParser.TEXT_TOKEN :^[METHOD] doReplace [TYPE] Object [PARAMETER] char[] data int offset int length Object ref List priorVariables [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  VariableParser parser  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  initialBase  prefix  suffix  varName  variable  variablePrefix  variableSuffix  [TYPE]  FieldPosition tok  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  offset  pos  startPos  tokenCnt  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data  [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  Iterator it  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  Object ref  resultObj  [TYPE]  List priorVariables  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  StrBuilder buf  priorVariableSb 
[REPLACE]^resultObj =  resolveVariable ( variableSuffix ) ;^771^^^^^717^795^[REPLACE] resultObj = resolveVariable ( variable ) ;^[METHOD] doReplace [TYPE] Object [PARAMETER] char[] data int offset int length Object ref List priorVariables [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  VariableParser parser  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  initialBase  prefix  suffix  varName  variable  variablePrefix  variableSuffix  [TYPE]  FieldPosition tok  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  offset  pos  startPos  tokenCnt  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data  [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  Iterator it  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  Object ref  resultObj  [TYPE]  List priorVariables  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  StrBuilder buf  priorVariableSb 
[ADD]^^773^^^^^717^795^[ADD] resultObj = doReplace ( resultObj, priorVariables ) ;^[METHOD] doReplace [TYPE] Object [PARAMETER] char[] data int offset int length Object ref List priorVariables [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  VariableParser parser  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  initialBase  prefix  suffix  varName  variable  variablePrefix  variableSuffix  [TYPE]  FieldPosition tok  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  offset  pos  startPos  tokenCnt  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data  [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  Iterator it  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  Object ref  resultObj  [TYPE]  List priorVariables  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  StrBuilder buf  priorVariableSb 
[REPLACE]^String variable = new String ( data, tok.getEndIndex (  ) , getLength ( tok )  ) ;^746^^^^^717^795^[REPLACE] String variable = new String ( data, tok.getBeginIndex (  ) , getLength ( tok )  ) ;^[METHOD] doReplace [TYPE] Object [PARAMETER] char[] data int offset int length Object ref List priorVariables [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  VariableParser parser  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  initialBase  prefix  suffix  varName  variable  variablePrefix  variableSuffix  [TYPE]  FieldPosition tok  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  offset  pos  startPos  tokenCnt  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data  [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  Iterator it  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  Object ref  resultObj  [TYPE]  List priorVariables  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  StrBuilder buf  priorVariableSb 
[REPLACE]^String initialBase = priorVariables.remove ( 0L ) .toString (  ) ;^751^^^^^717^795^[REPLACE] String initialBase = priorVariables.remove ( 0 ) .toString (  ) ;^[METHOD] doReplace [TYPE] Object [PARAMETER] char[] data int offset int length Object ref List priorVariables [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  VariableParser parser  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  initialBase  prefix  suffix  varName  variable  variablePrefix  variableSuffix  [TYPE]  FieldPosition tok  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  offset  pos  startPos  tokenCnt  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data  [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  Iterator it  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  Object ref  resultObj  [TYPE]  List priorVariables  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  StrBuilder buf  priorVariableSb 
[REPLACE]^StrBuilder buf = new StrBuilder ( length )  ;^753^^^^^717^795^[REPLACE] StrBuilder priorVariableSb = new StrBuilder (  ) ;^[METHOD] doReplace [TYPE] Object [PARAMETER] char[] data int offset int length Object ref List priorVariables [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  VariableParser parser  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  initialBase  prefix  suffix  varName  variable  variablePrefix  variableSuffix  [TYPE]  FieldPosition tok  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  offset  pos  startPos  tokenCnt  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data  [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  Iterator it  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  Object ref  resultObj  [TYPE]  List priorVariables  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  StrBuilder buf  priorVariableSb 
[ADD]^^763^764^765^^^717^795^[ADD] throw new IllegalStateException ( "Infinite loop in property interpolation of " + initialBase + ": "^[METHOD] doReplace [TYPE] Object [PARAMETER] char[] data int offset int length Object ref List priorVariables [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  VariableParser parser  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  initialBase  prefix  suffix  varName  variable  variablePrefix  variableSuffix  [TYPE]  FieldPosition tok  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  offset  pos  startPos  tokenCnt  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data  [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  Iterator it  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  Object ref  resultObj  [TYPE]  List priorVariables  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  StrBuilder buf  priorVariableSb 
[REPLACE]^if  ( resultObj != null && tokenCnt != 1 )  {^790^^^^^717^795^[REPLACE] if  ( resultObj != null && tokenCnt == 1 )  {^[METHOD] doReplace [TYPE] Object [PARAMETER] char[] data int offset int length Object ref List priorVariables [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  VariableParser parser  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  initialBase  prefix  suffix  varName  variable  variablePrefix  variableSuffix  [TYPE]  FieldPosition tok  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  offset  pos  startPos  tokenCnt  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data  [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  Iterator it  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  Object ref  resultObj  [TYPE]  List priorVariables  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  StrBuilder buf  priorVariableSb 
[REPLACE]^return ref;^792^^^^^717^795^[REPLACE] return resultObj;^[METHOD] doReplace [TYPE] Object [PARAMETER] char[] data int offset int length Object ref List priorVariables [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  VariableParser parser  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  initialBase  prefix  suffix  varName  variable  variablePrefix  variableSuffix  [TYPE]  FieldPosition tok  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  offset  pos  startPos  tokenCnt  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data  [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  Iterator it  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  Object ref  resultObj  [TYPE]  List priorVariables  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  StrBuilder buf  priorVariableSb 
[REPLACE]^return buf.toString  (    )  ;  ;^794^^^^^717^795^[REPLACE] return buf.toString (  ) ;^[METHOD] doReplace [TYPE] Object [PARAMETER] char[] data int offset int length Object ref List priorVariables [CLASS] VariableFormatter MapVariableResolver VariableParser   [TYPE]  VariableParser parser  [TYPE]  String DEFAULT_PREFIX  DEFAULT_SUFFIX  initialBase  prefix  suffix  varName  variable  variablePrefix  variableSuffix  [TYPE]  FieldPosition tok  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  offset  pos  startPos  tokenCnt  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data  [TYPE]  boolean false  true  [TYPE]  char DEFAULT_ESCAPE  escape  escapeCharacter  [TYPE]  Iterator it  [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  Object ref  resultObj  [TYPE]  List priorVariables  [TYPE]  VariableResolver variableResolver  [TYPE]  Map map  valueMap  [TYPE]  StrBuilder buf  priorVariableSb 
[REPLACE]^static final short ESCAPED_VAR_TOKEN = 1;^174^^^^^^^[REPLACE] static final short ESCAPED_VAR_TOKEN = 3;^[METHOD] setMap [TYPE] void [PARAMETER] Map map [CLASS] VariableParser   [TYPE]  Map map  [TYPE]  boolean false  true 
[REPLACE]^static final short TEXT_TOKEN ;^177^^^^^^^[REPLACE] static final short TEXT_TOKEN = 1;^[METHOD] setMap [TYPE] void [PARAMETER] Map map [CLASS] VariableParser   [TYPE]  Map map  [TYPE]  boolean false  true 
[REPLACE]^static final short VARIABLE_TOKEN ;^180^^^^^^^[REPLACE] static final short VARIABLE_TOKEN = 2;^[METHOD] setMap [TYPE] void [PARAMETER] Map map [CLASS] VariableParser   [TYPE]  Map map  [TYPE]  boolean false  true 
[REPLACE]^private  long  length;^246^^^^^^^[REPLACE] private int length;^[METHOD] setMap [TYPE] void [PARAMETER] Map map [CLASS] VariableParser   [TYPE]  Map map  [TYPE]  boolean false  true 
[REPLACE]^private  short  pos;^249^^^^^^^[REPLACE] private int pos;^[METHOD] setMap [TYPE] void [PARAMETER] Map map [CLASS] VariableParser   [TYPE]  Map map  [TYPE]  boolean false  true 
[REPLACE]^if   (  !hasNext  (    )    )   {  ;^364^^^^^363^401^[REPLACE] if  ( getTokenList (  ) .isEmpty (  )  )  {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^if  ( hasNext (  )  )  {^365^^^^^363^401^[REPLACE] if  ( !hasNext (  )  )  {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^return this;^367^^^^^363^401^[REPLACE] return null;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^if  (  ( tokenLen = getEscVarMatcher (  ) .isMatch ( data, getPos (  ) , 0, getLength (  )  )  )   <  0 )  {^372^^^^^363^401^[REPLACE] if  (  ( tokenLen = getEscVarMatcher (  ) .isMatch ( data, getPos (  ) , 0, getLength (  )  )  )  > 0 )  {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^}  else {^376^^^^^363^401^[REPLACE] } else if  (  ( tokenLen = getVarStartMatcher (  ) .isMatch ( data, getPos (  ) , 0, getLength (  )  )  )  > 0 )  {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[ADD]^}   checkTextToken ( startPos ) ;setPos ( getPos (  )  + tokenLen ) ;int varStart = getPos (  ) , endLen = 0;^376^377^378^379^380^363^401^[ADD] else if  (  ( tokenLen = getVarStartMatcher (  ) .isMatch ( data, getPos (  ) , 0, getLength (  )  )  )  > 0 )  { checkTextToken ( startPos ) ; setPos ( getPos (  )  + tokenLen ) ; int varStart = getPos (  ) , endLen = 0; while  (  hasNext (  )  &&^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^setPos ( getPos (  )   1 ) ;^393^^^^^376^394^[REPLACE] setPos ( getPos (  )  + 1 ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[ADD]^^393^^^^^376^394^[ADD] setPos ( getPos (  )  + 1 ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^getPos (  )  ;^393^^^^^376^394^[REPLACE] setPos ( getPos (  )  + 1 ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^if  ( type  >  0 )  {^386^^^^^363^401^[REPLACE] if  ( endLen <= 0 )  {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^getTokenList (  ) .addLast ( VariableParser.newVariableToken ( type, getPos (  )   varStart )  ) ;^389^^^^^386^391^[REPLACE] getTokenList (  ) .addLast ( VariableParser.newVariableToken ( varStart, getPos (  )  - varStart )  ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^fp.setBeginIndex ( beginIndex )  ;^389^^^^^386^391^[REPLACE] getTokenList (  ) .addLast ( VariableParser.newVariableToken ( varStart, getPos (  )  - varStart )  ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^getTokenList (  ) .addLast ( newTextToken ( startPos,  (  ( getPos (  )  )  - startPos )  )  )  ;^389^^^^^386^391^[REPLACE] getTokenList (  ) .addLast ( VariableParser.newVariableToken ( varStart, getPos (  )  - varStart )  ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[ADD]^^389^390^^^^386^391^[ADD] getTokenList (  ) .addLast ( VariableParser.newVariableToken ( varStart, getPos (  )  - varStart )  ) ; setPos ( getPos (  )  + endLen ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^getPos (  )  ;^389^^^^^386^391^[REPLACE] getTokenList (  ) .addLast ( VariableParser.newVariableToken ( varStart, getPos (  )  - varStart )  ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^setPos (varStart (  )   endLen ) ;^390^^^^^386^391^[REPLACE] setPos ( getPos (  )  + endLen ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^getPos (  )  ;^390^^^^^386^391^[REPLACE] setPos ( getPos (  )  + endLen ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[ADD]^^390^^^^^386^391^[ADD] setPos ( getPos (  )  + endLen ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^checkTextToken ( varStart  tokenLen ) ;^387^^^^^363^401^[REPLACE] checkTextToken ( varStart - tokenLen ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^( endLen = getVarEndMatcher (  ) .isMatch ( data, getPos (  ) , 1, getLength (  )  )  )  <= 1 ) {^381^382^383^^^363^401^[REPLACE] ( endLen = getVarEndMatcher (  ) .isMatch ( data, getPos (  ) , 0, getLength (  )  )  )  <= 0 ) {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^int startPos = getPos (  )  ;^379^^^^^363^401^[REPLACE] int varStart = getPos (  ) , endLen = 0;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^int varStart = getPos (  ) , endLen = 0 - 3;^379^^^^^363^401^[REPLACE] int varStart = getPos (  ) , endLen = 0;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^if  ( endLen  !=  0 )  {^386^^^^^363^401^[REPLACE] if  ( endLen <= 0 )  {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^getTokenList (  ) .addLast ( VariableParser.newVariableToken ( varStart, getPos (  )   varStart )  ) ;^389^^^^^386^391^[REPLACE] getTokenList (  ) .addLast ( VariableParser.newVariableToken ( varStart, getPos (  )  - varStart )  ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[ADD]^^389^^^^^386^391^[ADD] getTokenList (  ) .addLast ( VariableParser.newVariableToken ( varStart, getPos (  )  - varStart )  ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^setPos ( getPos (  )   type ) ;^390^^^^^386^391^[REPLACE] setPos ( getPos (  )  + endLen ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^} else if  (  ( tokenLen = getVarStartMatcher (  ) .isMatch ( data, getPos (  ) , 3, getLength (  )  )  )  > 3 )  {^376^^^^^363^401^[REPLACE] } else if  (  ( tokenLen = getVarStartMatcher (  ) .isMatch ( data, getPos (  ) , 0, getLength (  )  )  )  > 0 )  {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[ADD]^^381^382^383^^^363^401^[ADD] ( endLen = getVarEndMatcher (  ) .isMatch ( data, getPos (  ) , 0, getLength (  )  )  )  <= 0 ) {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^int varStart = getPos (  ) , endLen = 3;^379^^^^^363^401^[REPLACE] int varStart = getPos (  ) , endLen = 0;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^checkTextToken ( varStart ) ;^373^^^^^363^401^[REPLACE] checkTextToken ( startPos ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^getTokenList (  ) .addLast ( VariableParser.newEscapedVariableToken ( getPos (  ) , type )  ) ;^374^^^^^363^401^[REPLACE] getTokenList (  ) .addLast ( VariableParser.newEscapedVariableToken ( getPos (  ) , tokenLen )  ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^fp.setBeginIndex ( beginIndex )  ;^374^^^^^363^401^[REPLACE] getTokenList (  ) .addLast ( VariableParser.newEscapedVariableToken ( getPos (  ) , tokenLen )  ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^newTextToken ( startPos,  (  ( getPos (  )  )  - startPos )  )  ;^374^^^^^363^401^[REPLACE] getTokenList (  ) .addLast ( VariableParser.newEscapedVariableToken ( getPos (  ) , tokenLen )  ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^( getPos (  )  )  ;^374^^^^^363^401^[REPLACE] getTokenList (  ) .addLast ( VariableParser.newEscapedVariableToken ( getPos (  ) , tokenLen )  ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^setPos (  (  ( getPos (  )  )  + endLen )  )  ;^375^^^^^363^401^[REPLACE] setPos ( getPos (  )  + tokenLen ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[ADD]^^375^^^^^363^401^[ADD] setPos ( getPos (  )  + tokenLen ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^getPos (  )  ;^375^^^^^363^401^[REPLACE] setPos ( getPos (  )  + tokenLen ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^}  if  (  ( tokenLen = getVarStartMatcher (  ) .isMatch ( data, getPos (  ) , 0, getLength (  )  )  )   >=  0 )  {^376^^^^^363^401^[REPLACE] } else if  (  ( tokenLen = getVarStartMatcher (  ) .isMatch ( data, getPos (  ) , 0, getLength (  )  )  )  > 0 )  {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[ADD]^}   setPos ( getPos (  )  + tokenLen ) ;int varStart = getPos (  ) , endLen = 0;^376^377^378^379^380^363^401^[ADD] else if  (  ( tokenLen = getVarStartMatcher (  ) .isMatch ( data, getPos (  ) , 0, getLength (  )  )  )  > 0 )  { checkTextToken ( startPos ) ; setPos ( getPos (  )  + tokenLen ) ; int varStart = getPos (  ) , endLen = 0; while  (  hasNext (  )  &&^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^if  ( type  <  0L )  {^386^^^^^363^401^[REPLACE] if  ( endLen <= 0 )  {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^setPos ( getPos (  )   endLen ) ;^390^^^^^386^391^[REPLACE] setPos ( getPos (  )  + endLen ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^checkTextToken ( type  tokenLen ) ;^387^^^^^363^401^[REPLACE] checkTextToken ( varStart - tokenLen ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^( endLen = getVarEndMatcher (  ) .isMatch ( data, getPos (  ) , 0L, getLength (  )  )  )  <= 0L ) {^381^382^383^^^363^401^[REPLACE] ( endLen = getVarEndMatcher (  ) .isMatch ( data, getPos (  ) , 0, getLength (  )  )  )  <= 0 ) {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[ADD]^^379^^^^^363^401^[ADD] int varStart = getPos (  ) , endLen = 0;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^int varStart = getPos (  ) , endLen = 2;^379^^^^^363^401^[REPLACE] int varStart = getPos (  ) , endLen = 0;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^if  ( endLen  ==  0 )  {^386^^^^^363^401^[REPLACE] if  ( endLen <= 0 )  {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^setPos ( varStart (  )   endLen ) ;^390^^^^^386^391^[REPLACE] setPos ( getPos (  )  + endLen ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^if   (  !hasNext  (    )    )   {  ;^396^^^^^363^401^[REPLACE] if  ( getTokenList (  ) .isEmpty (  )  )  {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^checkTextToken ( varStart ) ;^397^^^^^363^401^[REPLACE] checkTextToken ( startPos ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^( endLen = getVarEndMatcher (  ) .isMatch ( data, getPos (  ) , 0, getLength (  )  )  )  ;^372^^^^^363^401^[REPLACE] if  (  ( tokenLen = getEscVarMatcher (  ) .isMatch ( data, getPos (  ) , 0, getLength (  )  )  )  > 0 )  {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^} else if  (  ( tokenLen = getVarStartMatcher (  ) .isMatch ( data, getPos (  ) , 2, getLength (  )  )  )  > 2 )  {^376^^^^^363^401^[REPLACE] } else if  (  ( tokenLen = getVarStartMatcher (  ) .isMatch ( data, getPos (  ) , 0, getLength (  )  )  )  > 0 )  {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^( endLen = getVarEndMatcher (  ) .isMatch ( data, getPos (  ) , 0 - 4, getLength (  )  )  )  <= 0 - 4 ) {^381^382^383^^^363^401^[REPLACE] ( endLen = getVarEndMatcher (  ) .isMatch ( data, getPos (  ) , 0, getLength (  )  )  )  <= 0 ) {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^return null;  ;^367^^^^^363^401^[REPLACE] return null;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^int varStart = getPos (  )  ;^369^^^^^363^401^[REPLACE] int startPos = getPos (  ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^int varStart = getPos (  )  ;^370^^^^^363^401^[REPLACE] int tokenLen;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^if  (  ( type = getEscVarMatcher (  ) .isMatch ( data, getPos (  ) , 0, getLength (  )  )  )   <=  0 )  {^372^^^^^363^401^[REPLACE] if  (  ( tokenLen = getEscVarMatcher (  ) .isMatch ( data, getPos (  ) , 0, getLength (  )  )  )  > 0 )  {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[ADD]^^372^373^374^375^^363^401^[ADD] if  (  ( tokenLen = getEscVarMatcher (  ) .isMatch ( data, getPos (  ) , 0, getLength (  )  )  )  > 0 )  { checkTextToken ( startPos ) ; getTokenList (  ) .addLast ( VariableParser.newEscapedVariableToken ( getPos (  ) , tokenLen )  ) ; setPos ( getPos (  )  + tokenLen ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^if   (    (  tokenLen = getEscVarMatcher  (    )  .isMatch  (  data, getPos  (    )  , 0, getLength  (    )    )    )   > 0  )   {  ;^376^^^^^363^401^[REPLACE] } else if  (  ( tokenLen = getVarStartMatcher (  ) .isMatch ( data, getPos (  ) , 0, getLength (  )  )  )  > 0 )  {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^if  (tokenLen  <  0 )  {^386^^^^^363^401^[REPLACE] if  ( endLen <= 0 )  {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[ADD]^checkTextToken ( varStart - tokenLen ) ;getTokenList (  ) .addLast ( VariableParser.newVariableToken ( varStart, getPos (  )  - varStart )  ) ;setPos ( getPos (  )  + endLen ) ;^386^387^388^389^390^363^401^[ADD] if  ( endLen <= 0 )  { checkTextToken ( varStart - tokenLen ) ; } else { getTokenList (  ) .addLast ( VariableParser.newVariableToken ( varStart, getPos (  )  - varStart )  ) ; setPos ( getPos (  )  + endLen ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REMOVE]^this.setPos ( startPos )  ;^390^^^^^386^391^[REMOVE] ^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^checkTextToken ( varStart type ) ;^387^^^^^363^401^[REPLACE] checkTextToken ( varStart - tokenLen ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^int varStart = getPos (  ) , endLen = 1;^379^^^^^363^401^[REPLACE] int varStart = getPos (  ) , endLen = 0;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^if  ( endLen  >  0 )  {^386^^^^^363^401^[REPLACE] if  ( endLen <= 0 )  {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REMOVE]^checkTextToken ( startPos )  ;^389^^^^^386^391^[REMOVE] ^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^( endLen = getVarEndMatcher (  ) .isMatch ( data, getPos (  ) , 0, getLength (  )  )  )  ;^376^^^^^363^401^[REPLACE] } else if  (  ( tokenLen = getVarStartMatcher (  ) .isMatch ( data, getPos (  ) , 0, getLength (  )  )  )  > 0 )  {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^( endLen = getVarEndMatcher (  ) .isMatch ( data, getPos (  ) , 3, getLength (  )  )  )  <= 3 ) {^381^382^383^^^363^401^[REPLACE] ( endLen = getVarEndMatcher (  ) .isMatch ( data, getPos (  ) , 0, getLength (  )  )  )  <= 0 ) {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[ADD]^^374^^^^^363^401^[ADD] getTokenList (  ) .addLast ( VariableParser.newEscapedVariableToken ( getPos (  ) , tokenLen )  ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[ADD]^^374^375^^^^363^401^[ADD] getTokenList (  ) .addLast ( VariableParser.newEscapedVariableToken ( getPos (  ) , tokenLen )  ) ; setPos ( getPos (  )  + tokenLen ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^} else if  (  ( tokenLen = getVarStartMatcher (  ) .isMatch ( data, getPos (  ) ,varStart, getLength (  )  )  )   >= varStart )  {^376^^^^^363^401^[REPLACE] } else if  (  ( tokenLen = getVarStartMatcher (  ) .isMatch ( data, getPos (  ) , 0, getLength (  )  )  )  > 0 )  {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^setPos (  (  ( getPos (  )  )  + tokenLen )  )  ;^393^^^^^376^394^[REPLACE] setPos ( getPos (  )  + 1 ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[ADD]^setPos ( getPos (  )  + endLen ) ;^389^390^^^^386^391^[ADD] getTokenList (  ) .addLast ( VariableParser.newVariableToken ( varStart, getPos (  )  - varStart )  ) ; setPos ( getPos (  )  + endLen ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REMOVE]^getVarEndMatcher (  ) .isMatch ( data, getPos (  ) , 0, getLength (  )  )  ;^390^^^^^386^391^[REMOVE] ^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[ADD]^^387^^^^^363^401^[ADD] checkTextToken ( varStart - tokenLen ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^if  (type  !=  0 )  {^386^^^^^363^401^[REPLACE] if  ( endLen <= 0 )  {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^getTokenList (  ) .addLast ( VariableParser.newVariableToken ( type,type (  )   varStart )  ) ;^389^^^^^386^391^[REPLACE] getTokenList (  ) .addLast ( VariableParser.newVariableToken ( varStart, getPos (  )  - varStart )  ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^setPos (  (  ( getPos (  )  )  + tokenLen )  )  ;^390^^^^^386^391^[REPLACE] setPos ( getPos (  )  + endLen ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^checkTextToken (type  tokenLen ) ;^387^^^^^363^401^[REPLACE] checkTextToken ( varStart - tokenLen ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^( endLen = getVarEndMatcher (  ) .isMatch ( data, getPos (  ) , 0 * 1, getLength (  )  )  )  <= 0 * 1 ) {^381^382^383^^^363^401^[REPLACE] ( endLen = getVarEndMatcher (  ) .isMatch ( data, getPos (  ) , 0, getLength (  )  )  )  <= 0 ) {^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^return false;^367^^^^^363^401^[REPLACE] return null;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^int varStart = getPos (  ) , endLen = 0L;^379^^^^^363^401^[REPLACE] int varStart = getPos (  ) , endLen = 0;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
[REPLACE]^return  ( FieldPosition )  getTokenList (  )  .LinkedList (  )  ;^400^^^^^363^401^[REPLACE] return  ( FieldPosition )  getTokenList (  ) .removeFirst (  ) ;^[METHOD] nextToken [TYPE] FieldPosition [PARAMETER] char[] data [CLASS] VariableParser   [TYPE]  short ESCAPED_VAR_TOKEN  TEXT_TOKEN  VARIABLE_TOKEN  [TYPE]  boolean false  true  [TYPE]  int aLength  aStartIndex  beginIndex  endIndex  endLen  length  pos  startPos  tokenLen  type  varStart  [TYPE]  StrMatcher endMatcher  escMatcher  escVarMatcher  startMatcher  varEndMatcher  varStartMatcher  [TYPE]  LinkedList tokenList  [TYPE]  char[] data 
