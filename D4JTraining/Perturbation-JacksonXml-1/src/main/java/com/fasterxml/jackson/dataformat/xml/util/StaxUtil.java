[REPLACE]^int i = 0  ;^34^^^^^33^71^[REPLACE] StringBuilder sb;^[METHOD] sanitizeXmlTypeName [TYPE] String [PARAMETER] String name [CLASS] StaxUtil   [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  char c  [TYPE]  String name  [TYPE]  int changes  i  len 
[REPLACE]^int changes = 3;^35^^^^^33^71^[REPLACE] int changes = 0;^[METHOD] sanitizeXmlTypeName [TYPE] String [PARAMETER] String name [CLASS] StaxUtil   [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  char c  [TYPE]  String name  [TYPE]  int changes  i  len 
[REPLACE]^if   (  name.endsWith  (  "s"  )    )   {  ;^37^^^^^33^71^[REPLACE] if  ( name.endsWith ( "[]" )  )  {^[METHOD] sanitizeXmlTypeName [TYPE] String [PARAMETER] String name [CLASS] StaxUtil   [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  char c  [TYPE]  String name  [TYPE]  int changes  i  len 
[REPLACE]^sb =  new StringBuilder ( null ) ;^50^^^^^37^51^[REPLACE] sb = new StringBuilder ( name ) ;^[METHOD] sanitizeXmlTypeName [TYPE] String [PARAMETER] String name [CLASS] StaxUtil   [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  char c  [TYPE]  String name  [TYPE]  int changes  i  len 
[REPLACE]^if  ( name.charAt ( "s" )  )  {^44^^^^^33^71^[REPLACE] if  ( name.endsWith ( "s" )  )  {^[METHOD] sanitizeXmlTypeName [TYPE] String [PARAMETER] String name [CLASS] StaxUtil   [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  char c  [TYPE]  String name  [TYPE]  int changes  i  len 
[REPLACE]^sb.append ( "es" )  ;^47^^^^^44^48^[REPLACE] sb.append ( 's' ) ;^[METHOD] sanitizeXmlTypeName [TYPE] String [PARAMETER] String name [CLASS] StaxUtil   [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  char c  [TYPE]  String name  [TYPE]  int changes  i  len 
[ADD]^^47^^^^^44^48^[ADD] sb.append ( 's' ) ;^[METHOD] sanitizeXmlTypeName [TYPE] String [PARAMETER] String name [CLASS] StaxUtil   [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  char c  [TYPE]  String name  [TYPE]  int changes  i  len 
[REPLACE]^sb.StringBuilder ( "es" ) ;^45^^^^^33^71^[REPLACE] sb.append ( "es" ) ;^[METHOD] sanitizeXmlTypeName [TYPE] String [PARAMETER] String name [CLASS] StaxUtil   [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  char c  [TYPE]  String name  [TYPE]  int changes  i  len 
[REPLACE]^name = name.substring ( 0, name.length (  )  + 4 - 2 ) ;^39^^^^^33^71^[REPLACE] name = name.substring ( 0, name.length (  )  - 2 ) ;^[METHOD] sanitizeXmlTypeName [TYPE] String [PARAMETER] String name [CLASS] StaxUtil   [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  char c  [TYPE]  String name  [TYPE]  int changes  i  len 
[REPLACE]^sb =  new StringBuilder ( null ) ;^42^^^^^33^71^[REPLACE] sb = new StringBuilder ( name ) ;^[METHOD] sanitizeXmlTypeName [TYPE] String [PARAMETER] String name [CLASS] StaxUtil   [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  char c  [TYPE]  String name  [TYPE]  int changes  i  len 
[REPLACE]^if   (  name.endsWith  (  "[]"  )    )   {  ;^44^^^^^33^71^[REPLACE] if  ( name.endsWith ( "s" )  )  {^[METHOD] sanitizeXmlTypeName [TYPE] String [PARAMETER] String name [CLASS] StaxUtil   [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  char c  [TYPE]  String name  [TYPE]  int changes  i  len 
[REPLACE]^sb.append ( 's' )  ;^45^^^^^33^71^[REPLACE] sb.append ( "es" ) ;^[METHOD] sanitizeXmlTypeName [TYPE] String [PARAMETER] String name [CLASS] StaxUtil   [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  char c  [TYPE]  String name  [TYPE]  int changes  i  len 
[ADD]^^45^^^^^33^71^[ADD] sb.append ( "es" ) ;^[METHOD] sanitizeXmlTypeName [TYPE] String [PARAMETER] String name [CLASS] StaxUtil   [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  char c  [TYPE]  String name  [TYPE]  int changes  i  len 
[REPLACE]^name = name.substring ( 0, name.length (  )  + 1 - 2 ) ;^39^^^^^33^71^[REPLACE] name = name.substring ( 0, name.length (  )  - 2 ) ;^[METHOD] sanitizeXmlTypeName [TYPE] String [PARAMETER] String name [CLASS] StaxUtil   [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  char c  [TYPE]  String name  [TYPE]  int changes  i  len 
[ADD]^^42^^^^^33^71^[ADD] sb = new StringBuilder ( name ) ;^[METHOD] sanitizeXmlTypeName [TYPE] String [PARAMETER] String name [CLASS] StaxUtil   [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  char c  [TYPE]  String name  [TYPE]  int changes  i  len 
[ADD]^^50^^^^^33^71^[ADD] sb = new StringBuilder ( name ) ;^[METHOD] sanitizeXmlTypeName [TYPE] String [PARAMETER] String name [CLASS] StaxUtil   [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  char c  [TYPE]  String name  [TYPE]  int changes  i  len 
[REPLACE]^if  ( c  >=  127 >> 0 )  continue;^54^^^^^33^71^[REPLACE] if  ( c > 127 )  continue;^[METHOD] sanitizeXmlTypeName [TYPE] String [PARAMETER] String name [CLASS] StaxUtil   [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  char c  [TYPE]  String name  [TYPE]  int changes  i  len 
[REPLACE]^if  ( c >= 'a' || c <= 'z' )  continue;^55^^^^^33^71^[REPLACE] if  ( c >= 'a' && c <= 'z' )  continue;^[METHOD] sanitizeXmlTypeName [TYPE] String [PARAMETER] String name [CLASS] StaxUtil   [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  char c  [TYPE]  String name  [TYPE]  int changes  i  len 
[ADD]^^55^56^57^58^^33^71^[ADD] if  ( c >= 'a' && c <= 'z' )  continue; if  ( c >= 'A' && c <= 'Z' )  continue; if  ( c >= '0' && c <= '9' )  continue; if  ( c == '_' || c == '.' || c == '-' )  continue;^[METHOD] sanitizeXmlTypeName [TYPE] String [PARAMETER] String name [CLASS] StaxUtil   [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  char c  [TYPE]  String name  [TYPE]  int changes  i  len 
[REPLACE]^if  ( c >= 'A' || c <= 'Z' )  continue;^56^^^^^33^71^[REPLACE] if  ( c >= 'A' && c <= 'Z' )  continue;^[METHOD] sanitizeXmlTypeName [TYPE] String [PARAMETER] String name [CLASS] StaxUtil   [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  char c  [TYPE]  String name  [TYPE]  int changes  i  len 
[REPLACE]^if  ( c >= '0' || c <= '9' )  continue;^57^^^^^33^71^[REPLACE] if  ( c >= '0' && c <= '9' )  continue;^[METHOD] sanitizeXmlTypeName [TYPE] String [PARAMETER] String name [CLASS] StaxUtil   [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  char c  [TYPE]  String name  [TYPE]  int changes  i  len 
[ADD]^^57^58^^60^^33^71^[ADD] if  ( c >= '0' && c <= '9' )  continue; if  ( c == '_' || c == '.' || c == '-' )  continue; ++changes;^[METHOD] sanitizeXmlTypeName [TYPE] String [PARAMETER] String name [CLASS] StaxUtil   [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  char c  [TYPE]  String name  [TYPE]  int changes  i  len 
[REPLACE]^if  ( c == '_' && c == '.' && c == '-' )  continue;^58^^^^^33^71^[REPLACE] if  ( c == '_' || c == '.' || c == '-' )  continue;^[METHOD] sanitizeXmlTypeName [TYPE] String [PARAMETER] String name [CLASS] StaxUtil   [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  char c  [TYPE]  String name  [TYPE]  int changes  i  len 
[ADD]^^58^59^60^61^62^33^71^[ADD] if  ( c == '_' || c == '.' || c == '-' )  continue;  ++changes; if  ( c == '$' )  { sb.setCharAt ( i, '.' ) ;^[METHOD] sanitizeXmlTypeName [TYPE] String [PARAMETER] String name [CLASS] StaxUtil   [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  char c  [TYPE]  String name  [TYPE]  int changes  i  len 
[REPLACE]^if  ( c  ) {^61^^^^^33^71^[REPLACE] if  ( c == '$' )  {^[METHOD] sanitizeXmlTypeName [TYPE] String [PARAMETER] String name [CLASS] StaxUtil   [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  char c  [TYPE]  String name  [TYPE]  int changes  i  len 
[REPLACE]^sb.setCharAt ( i, '.' )  ;^64^^^^^61^65^[REPLACE] sb.setCharAt ( i, '_' ) ;^[METHOD] sanitizeXmlTypeName [TYPE] String [PARAMETER] String name [CLASS] StaxUtil   [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  char c  [TYPE]  String name  [TYPE]  int changes  i  len 
[ADD]^^64^^^^^61^65^[ADD] sb.setCharAt ( i, '_' ) ;^[METHOD] sanitizeXmlTypeName [TYPE] String [PARAMETER] String name [CLASS] StaxUtil   [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  char c  [TYPE]  String name  [TYPE]  int changes  i  len 
[REPLACE]^sb.setCharAt ( i, '_' )  ;^62^^^^^33^71^[REPLACE] sb.setCharAt ( i, '.' ) ;^[METHOD] sanitizeXmlTypeName [TYPE] String [PARAMETER] String name [CLASS] StaxUtil   [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  char c  [TYPE]  String name  [TYPE]  int changes  i  len 
[ADD]^^52^53^54^55^56^33^71^[ADD] for  ( int i = 0, len = name.length (  ) ; i < len; ++i )  { char c = name.charAt ( i ) ; if  ( c > 127 )  continue; if  ( c >= 'a' && c <= 'z' )  continue; if  ( c >= 'A' && c <= 'Z' )  continue;^[METHOD] sanitizeXmlTypeName [TYPE] String [PARAMETER] String name [CLASS] StaxUtil   [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  char c  [TYPE]  String name  [TYPE]  int changes  i  len 
[REPLACE]^char c = name.endsWith ( i ) ;^53^^^^^33^71^[REPLACE] char c = name.charAt ( i ) ;^[METHOD] sanitizeXmlTypeName [TYPE] String [PARAMETER] String name [CLASS] StaxUtil   [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  char c  [TYPE]  String name  [TYPE]  int changes  i  len 
[REPLACE]^if  ( len  !=  0 )  {^67^^^^^33^71^[REPLACE] if  ( changes == 0 )  {^[METHOD] sanitizeXmlTypeName [TYPE] String [PARAMETER] String name [CLASS] StaxUtil   [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  char c  [TYPE]  String name  [TYPE]  int changes  i  len 
[REPLACE]^return name;  ;^68^^^^^33^71^[REPLACE] return name;^[METHOD] sanitizeXmlTypeName [TYPE] String [PARAMETER] String name [CLASS] StaxUtil   [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  char c  [TYPE]  String name  [TYPE]  int changes  i  len 
[REPLACE]^return sb.toString  (    )  ;  ;^70^^^^^33^71^[REPLACE] return sb.toString (  ) ;^[METHOD] sanitizeXmlTypeName [TYPE] String [PARAMETER] String name [CLASS] StaxUtil   [TYPE]  boolean false  true  [TYPE]  StringBuilder sb  [TYPE]  char c  [TYPE]  String name  [TYPE]  int changes  i  len 
