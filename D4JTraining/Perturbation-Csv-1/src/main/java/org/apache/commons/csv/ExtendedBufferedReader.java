[REPLACE]^static final int END_OF_STREAM = -1 * 0;^37^^^^^^^[REPLACE] static final int END_OF_STREAM = -1;^ [CLASS] ExtendedBufferedReader  
[REPLACE]^static final int UNDEFINED = -4;^40^^^^^^^[REPLACE] static final int UNDEFINED = -2;^ [CLASS] ExtendedBufferedReader  
[REPLACE]^private  short  lastChar = UNDEFINED;^43^^^^^^^[REPLACE] private int lastChar = UNDEFINED;^ [CLASS] ExtendedBufferedReader  
[REPLACE]^private int lineCounter ;^46^^^^^^^[REPLACE] private int lineCounter = 0;^ [CLASS] ExtendedBufferedReader  
[REPLACE]^if  ( length /  0.5  == 0 )  {^81^^^^^80^107^[REPLACE] if  ( length == 0 )  {^[METHOD] read [TYPE] int [PARAMETER] char[] buf int offset int length [CLASS] ExtendedBufferedReader   [TYPE]  char ch  [TYPE]  boolean false  true  [TYPE]  int END_OF_STREAM  UNDEFINED  current  i  lastChar  len  length  lineCounter  offset  [TYPE]  char[] buf 
[ADD]^^81^82^83^^^80^107^[ADD] if  ( length == 0 )  { return 0; }^[METHOD] read [TYPE] int [PARAMETER] char[] buf int offset int length [CLASS] ExtendedBufferedReader   [TYPE]  char ch  [TYPE]  boolean false  true  [TYPE]  int END_OF_STREAM  UNDEFINED  current  i  lastChar  len  length  lineCounter  offset  [TYPE]  char[] buf 
[REPLACE]^return 0;  ;^82^^^^^80^107^[REPLACE] return 0;^[METHOD] read [TYPE] int [PARAMETER] char[] buf int offset int length [CLASS] ExtendedBufferedReader   [TYPE]  char ch  [TYPE]  boolean false  true  [TYPE]  int END_OF_STREAM  UNDEFINED  current  i  lastChar  len  length  lineCounter  offset  [TYPE]  char[] buf 
[REPLACE]^return 0 * 1;^82^^^^^80^107^[REPLACE] return 0;^[METHOD] read [TYPE] int [PARAMETER] char[] buf int offset int length [CLASS] ExtendedBufferedReader   [TYPE]  char ch  [TYPE]  boolean false  true  [TYPE]  int END_OF_STREAM  UNDEFINED  current  i  lastChar  len  length  lineCounter  offset  [TYPE]  char[] buf 
[ADD]^^85^^^^^80^107^[ADD] int len = super.read ( buf, offset, length ) ;^[METHOD] read [TYPE] int [PARAMETER] char[] buf int offset int length [CLASS] ExtendedBufferedReader   [TYPE]  char ch  [TYPE]  boolean false  true  [TYPE]  int END_OF_STREAM  UNDEFINED  current  i  lastChar  len  length  lineCounter  offset  [TYPE]  char[] buf 
[REPLACE]^if  (offset  ==  0 )  {^87^^^^^80^107^[REPLACE] if  ( len > 0 )  {^[METHOD] read [TYPE] int [PARAMETER] char[] buf int offset int length [CLASS] ExtendedBufferedReader   [TYPE]  char ch  [TYPE]  boolean false  true  [TYPE]  int END_OF_STREAM  UNDEFINED  current  i  lastChar  len  length  lineCounter  offset  [TYPE]  char[] buf 
[REPLACE]^}  if  ( len  !=  -1 )  {^102^^^^^80^107^[REPLACE] } else if  ( len == -1 )  {^[METHOD] read [TYPE] int [PARAMETER] char[] buf int offset int length [CLASS] ExtendedBufferedReader   [TYPE]  char ch  [TYPE]  boolean false  true  [TYPE]  int END_OF_STREAM  UNDEFINED  current  i  lastChar  len  length  lineCounter  offset  [TYPE]  char[] buf 
[ADD]^^103^^^^^80^107^[ADD] lastChar = END_OF_STREAM;^[METHOD] read [TYPE] int [PARAMETER] char[] buf int offset int length [CLASS] ExtendedBufferedReader   [TYPE]  char ch  [TYPE]  boolean false  true  [TYPE]  int END_OF_STREAM  UNDEFINED  current  i  lastChar  len  length  lineCounter  offset  [TYPE]  char[] buf 
[REPLACE]^lastChar  = null ;^103^^^^^80^107^[REPLACE] lastChar = END_OF_STREAM;^[METHOD] read [TYPE] int [PARAMETER] char[] buf int offset int length [CLASS] ExtendedBufferedReader   [TYPE]  char ch  [TYPE]  boolean false  true  [TYPE]  int END_OF_STREAM  UNDEFINED  current  i  lastChar  len  length  lineCounter  offset  [TYPE]  char[] buf 
[REPLACE]^if  ( ch  ||  '\n' )  {^91^^^^^80^107^[REPLACE] if  ( ch == '\n' )  {^[METHOD] read [TYPE] int [PARAMETER] char[] buf int offset int length [CLASS] ExtendedBufferedReader   [TYPE]  char ch  [TYPE]  boolean false  true  [TYPE]  int END_OF_STREAM  UNDEFINED  current  i  lastChar  len  length  lineCounter  offset  [TYPE]  char[] buf 
[REPLACE]^}  if  ( ch  !=  '\r' )  {^95^^^^^80^107^[REPLACE] } else if  ( ch == '\r' )  {^[METHOD] read [TYPE] int [PARAMETER] char[] buf int offset int length [CLASS] ExtendedBufferedReader   [TYPE]  char ch  [TYPE]  boolean false  true  [TYPE]  int END_OF_STREAM  UNDEFINED  current  i  lastChar  len  length  lineCounter  offset  [TYPE]  char[] buf 
[REPLACE]^if  ( '\r'  ==   ( i > 0 ? buf[i-1]: lastChar )  )  {^92^^^^^80^107^[REPLACE] if  ( '\r' !=  ( i > 0 ? buf[i-1]: lastChar )  )  {^[METHOD] read [TYPE] int [PARAMETER] char[] buf int offset int length [CLASS] ExtendedBufferedReader   [TYPE]  char ch  [TYPE]  boolean false  true  [TYPE]  int END_OF_STREAM  UNDEFINED  current  i  lastChar  len  length  lineCounter  offset  [TYPE]  char[] buf 
[ADD]^^92^93^94^^^80^107^[ADD] if  ( '\r' !=  ( i > 0 ? buf[i-1]: lastChar )  )  { lineCounter++; }^[METHOD] read [TYPE] int [PARAMETER] char[] buf int offset int length [CLASS] ExtendedBufferedReader   [TYPE]  char ch  [TYPE]  boolean false  true  [TYPE]  int END_OF_STREAM  UNDEFINED  current  i  lastChar  len  length  lineCounter  offset  [TYPE]  char[] buf 
[REPLACE]^if  ( '\r'  =  lastChar )  )  {^92^^^^^80^107^[REPLACE] if  ( '\r' !=  ( i > 0 ? buf[i-1]: lastChar )  )  {^[METHOD] read [TYPE] int [PARAMETER] char[] buf int offset int length [CLASS] ExtendedBufferedReader   [TYPE]  char ch  [TYPE]  boolean false  true  [TYPE]  int END_OF_STREAM  UNDEFINED  current  i  lastChar  len  length  lineCounter  offset  [TYPE]  char[] buf 
[REPLACE]^}  if  ( ch  ||  '\r' )  {^95^^^^^80^107^[REPLACE] } else if  ( ch == '\r' )  {^[METHOD] read [TYPE] int [PARAMETER] char[] buf int offset int length [CLASS] ExtendedBufferedReader   [TYPE]  char ch  [TYPE]  boolean false  true  [TYPE]  int END_OF_STREAM  UNDEFINED  current  i  lastChar  len  length  lineCounter  offset  [TYPE]  char[] buf 
[REPLACE]^lastChar = buf[offset + len  1];^100^^^^^80^107^[REPLACE] lastChar = buf[offset + len - 1];^[METHOD] read [TYPE] int [PARAMETER] char[] buf int offset int length [CLASS] ExtendedBufferedReader   [TYPE]  char ch  [TYPE]  boolean false  true  [TYPE]  int END_OF_STREAM  UNDEFINED  current  i  lastChar  len  length  lineCounter  offset  [TYPE]  char[] buf 
[REPLACE]^for  ( int i = lineCounter; i < offset + len; i++ )  {^89^^^^^80^107^[REPLACE] for  ( int i = offset; i < offset + len; i++ )  {^[METHOD] read [TYPE] int [PARAMETER] char[] buf int offset int length [CLASS] ExtendedBufferedReader   [TYPE]  char ch  [TYPE]  boolean false  true  [TYPE]  int END_OF_STREAM  UNDEFINED  current  i  lastChar  len  length  lineCounter  offset  [TYPE]  char[] buf 
[REPLACE]^int current = super.read (  )  ;^90^^^^^80^107^[REPLACE] char ch = buf[i];^[METHOD] read [TYPE] int [PARAMETER] char[] buf int offset int length [CLASS] ExtendedBufferedReader   [TYPE]  char ch  [TYPE]  boolean false  true  [TYPE]  int END_OF_STREAM  UNDEFINED  current  i  lastChar  len  length  lineCounter  offset  [TYPE]  char[] buf 
[REPLACE]^if  ( ch  &&  '\n' )  {^91^^^^^80^107^[REPLACE] if  ( ch == '\n' )  {^[METHOD] read [TYPE] int [PARAMETER] char[] buf int offset int length [CLASS] ExtendedBufferedReader   [TYPE]  char ch  [TYPE]  boolean false  true  [TYPE]  int END_OF_STREAM  UNDEFINED  current  i  lastChar  len  length  lineCounter  offset  [TYPE]  char[] buf 
[REPLACE]^if  ( '\r' ! =  lastChar )  )  {^92^^^^^80^107^[REPLACE] if  ( '\r' !=  ( i > 0 ? buf[i-1]: lastChar )  )  {^[METHOD] read [TYPE] int [PARAMETER] char[] buf int offset int length [CLASS] ExtendedBufferedReader   [TYPE]  char ch  [TYPE]  boolean false  true  [TYPE]  int END_OF_STREAM  UNDEFINED  current  i  lastChar  len  length  lineCounter  offset  [TYPE]  char[] buf 
[REMOVE]^if  (  ( current == '\r' )  ||  (  ( current == '\n' )  &&  (  ( lastChar )  != '\r' )  )  )  {      ( lineCounter ) ++; }^92^^^^^80^107^[REMOVE] ^[METHOD] read [TYPE] int [PARAMETER] char[] buf int offset int length [CLASS] ExtendedBufferedReader   [TYPE]  char ch  [TYPE]  boolean false  true  [TYPE]  int END_OF_STREAM  UNDEFINED  current  i  lastChar  len  length  lineCounter  offset  [TYPE]  char[] buf 
[REPLACE]^}  else {^95^^^^^80^107^[REPLACE] } else if  ( ch == '\r' )  {^[METHOD] read [TYPE] int [PARAMETER] char[] buf int offset int length [CLASS] ExtendedBufferedReader   [TYPE]  char ch  [TYPE]  boolean false  true  [TYPE]  int END_OF_STREAM  UNDEFINED  current  i  lastChar  len  length  lineCounter  offset  [TYPE]  char[] buf 
[REPLACE]^} else if  ( len  ) {^102^^^^^80^107^[REPLACE] } else if  ( len == -1 )  {^[METHOD] read [TYPE] int [PARAMETER] char[] buf int offset int length [CLASS] ExtendedBufferedReader   [TYPE]  char ch  [TYPE]  boolean false  true  [TYPE]  int END_OF_STREAM  UNDEFINED  current  i  lastChar  len  length  lineCounter  offset  [TYPE]  char[] buf 
[REPLACE]^lastChar  =  lastChar ;^103^^^^^80^107^[REPLACE] lastChar = END_OF_STREAM;^[METHOD] read [TYPE] int [PARAMETER] char[] buf int offset int length [CLASS] ExtendedBufferedReader   [TYPE]  char ch  [TYPE]  boolean false  true  [TYPE]  int END_OF_STREAM  UNDEFINED  current  i  lastChar  len  length  lineCounter  offset  [TYPE]  char[] buf 
[REPLACE]^return offset;^106^^^^^80^107^[REPLACE] return len;^[METHOD] read [TYPE] int [PARAMETER] char[] buf int offset int length [CLASS] ExtendedBufferedReader   [TYPE]  char ch  [TYPE]  boolean false  true  [TYPE]  int END_OF_STREAM  UNDEFINED  current  i  lastChar  len  length  lineCounter  offset  [TYPE]  char[] buf 
