[REPLACE]^tagNames =  new Protocol> (  )  ;^170^^^^^169^174^[REPLACE] tagNames = new HashSet<TagName> (  ) ;^[METHOD] <init> [TYPE] Whitelist() [PARAMETER] [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set tagNames  [TYPE]  String value  [TYPE]  boolean false  true  [TYPE]  Map attributes  enforcedAttributes  protocols 
[ADD]^^170^^^^^169^174^[ADD] tagNames = new HashSet<TagName> (  ) ;^[METHOD] <init> [TYPE] Whitelist() [PARAMETER] [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set tagNames  [TYPE]  String value  [TYPE]  boolean false  true  [TYPE]  Map attributes  enforcedAttributes  protocols 
[REPLACE]^attributes =  new AttributeKey, AttributeValue> (  )  ;^171^^^^^169^174^[REPLACE] attributes = new HashMap<TagName, Set<AttributeKey>> (  ) ;^[METHOD] <init> [TYPE] Whitelist() [PARAMETER] [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set tagNames  [TYPE]  String value  [TYPE]  boolean false  true  [TYPE]  Map attributes  enforcedAttributes  protocols 
[REPLACE]^enforcedAttributes =  new AttributeKey, AttributeValue> (  )  ;^172^^^^^169^174^[REPLACE] enforcedAttributes = new HashMap<TagName, Map<AttributeKey, AttributeValue>> (  ) ;^[METHOD] <init> [TYPE] Whitelist() [PARAMETER] [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set tagNames  [TYPE]  String value  [TYPE]  boolean false  true  [TYPE]  Map attributes  enforcedAttributes  protocols 
[REPLACE]^protocols =  new TagName, AttributeKey>> (  )  ;^173^^^^^169^174^[REPLACE] protocols = new HashMap<TagName, Map<AttributeKey, Set<Protocol>>> (  ) ;^[METHOD] <init> [TYPE] Whitelist() [PARAMETER] [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set tagNames  [TYPE]  String value  [TYPE]  boolean false  true  [TYPE]  Map attributes  enforcedAttributes  protocols 
[REPLACE]^attr.setValue ( value ) ;^348^^^^^347^349^[REPLACE] super ( value ) ;^[METHOD] <init> [TYPE] String) [PARAMETER] String value [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set tagNames  [TYPE]  String value  [TYPE]  boolean false  true  [TYPE]  Map attributes  enforcedAttributes  protocols 
[REPLACE]^attr.setValue ( value ) ;^358^^^^^357^359^[REPLACE] super ( value ) ;^[METHOD] <init> [TYPE] String) [PARAMETER] String value [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set tagNames  [TYPE]  String value  [TYPE]  boolean false  true  [TYPE]  Map attributes  enforcedAttributes  protocols 
[REPLACE]^attr.setValue ( value ) ;^368^^^^^367^369^[REPLACE] super ( value ) ;^[METHOD] <init> [TYPE] String) [PARAMETER] String value [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set tagNames  [TYPE]  String value  [TYPE]  boolean false  true  [TYPE]  Map attributes  enforcedAttributes  protocols 
[REPLACE]^attr.setValue ( value ) ;^378^^^^^377^379^[REPLACE] super ( value ) ;^[METHOD] <init> [TYPE] String) [PARAMETER] String value [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set tagNames  [TYPE]  String value  [TYPE]  boolean false  true  [TYPE]  Map attributes  enforcedAttributes  protocols 
[REMOVE]^protSet.add ( prot ) ;^378^^^^^377^379^[REMOVE] ^[METHOD] <init> [TYPE] String) [PARAMETER] String value [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set tagNames  [TYPE]  String value  [TYPE]  boolean false  true  [TYPE]  Map attributes  enforcedAttributes  protocols 
[REPLACE]^Validate.notNull ( tags ) ;^390^^^^^389^392^[REPLACE] Validate.notNull ( value ) ;^[METHOD] <init> [TYPE] String) [PARAMETER] String value [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set tagNames  [TYPE]  String value  [TYPE]  boolean false  true  [TYPE]  Map attributes  enforcedAttributes  protocols 
[REPLACE]^this.value =  null;^391^^^^^389^392^[REPLACE] this.value = value;^[METHOD] <init> [TYPE] String) [PARAMETER] String value [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set tagNames  [TYPE]  String value  [TYPE]  boolean false  true  [TYPE]  Map attributes  enforcedAttributes  protocols 
[REPLACE]^return  new TagName ( value )  ;^62^^^^^61^63^[REPLACE] return new Whitelist (  ) ;^[METHOD] none [TYPE] Whitelist [PARAMETER] [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set tagNames  [TYPE]  String value  [TYPE]  boolean false  true  [TYPE]  Map attributes  enforcedAttributes  protocols 
[REPLACE]^return new Whitelist (  )  .addProtocols ( value , value , false )  ;^72^73^74^^^71^75^[REPLACE] return new Whitelist (  ) .addTags ( "b", "em", "i", "strong", "u" ) ;^[METHOD] simpleText [TYPE] Whitelist [PARAMETER] [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set tagNames  [TYPE]  String value  [TYPE]  boolean false  true  [TYPE]  Map attributes  enforcedAttributes  protocols 
[REPLACE]^return  new TagName ( value )  .addTags ( "a", "b", "blockquote", "br", "cite", "code", "dd", "dl", "dt", "em", "i", "li", "ol", "p", "pre", "q", "small", "strike", "strong", "sub",^89^90^91^92^^88^106^[REPLACE] return new Whitelist (  ) .addTags ( "a", "b", "blockquote", "br", "cite", "code", "dd", "dl", "dt", "em", "i", "li", "ol", "p", "pre", "q", "small", "strike", "strong", "sub",^[METHOD] basic [TYPE] Whitelist [PARAMETER] [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set tagNames  [TYPE]  String value  [TYPE]  boolean false  true  [TYPE]  Map attributes  enforcedAttributes  protocols 
[REPLACE]^return basic (  ) .addTags ( "img" ) .addAttributes ( "img", "align", "alt", "height", "src", "title", "width" ) .addTags ( "img", "src", "http", "https" )^115^116^117^118^^114^120^[REPLACE] return basic (  ) .addTags ( "img" ) .addAttributes ( "img", "align", "alt", "height", "src", "title", "width" ) .addProtocols ( "img", "src", "http", "https" )^[METHOD] basicWithImages [TYPE] Whitelist [PARAMETER] [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set tagNames  [TYPE]  String value  [TYPE]  boolean false  true  [TYPE]  Map attributes  enforcedAttributes  protocols 
[REPLACE]^return  new TagName ( value )  .addTags ( "a", "b", "blockquote", "br", "caption", "cite", "code", "col", "colgroup", "dd", "div", "dl", "dt", "em", "h1", "h2", "h3", "h4", "h5", "h6",^132^133^134^135^^131^159^[REPLACE] return new Whitelist (  ) .addTags ( "a", "b", "blockquote", "br", "caption", "cite", "code", "col", "colgroup", "dd", "div", "dl", "dt", "em", "h1", "h2", "h3", "h4", "h5", "h6",^[METHOD] relaxed [TYPE] Whitelist [PARAMETER] [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set tagNames  [TYPE]  String value  [TYPE]  boolean false  true  [TYPE]  Map attributes  enforcedAttributes  protocols 
[REPLACE]^Validate.notNull ( value ) ;^183^^^^^182^190^[REPLACE] Validate.notNull ( tags ) ;^[METHOD] addTags [TYPE] Whitelist [PARAMETER]  tags [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set tagNames  [TYPE]  String tagName  value  [TYPE]  String[] tags  [TYPE]  boolean false  true  [TYPE]  Map attributes  enforcedAttributes  protocols 
[REPLACE]^TagName tag = TagName.valueOf ( tagName ) ;^185^^^^^182^190^[REPLACE] for  ( String tagName : tags )  {^[METHOD] addTags [TYPE] Whitelist [PARAMETER]  tags [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set tagNames  [TYPE]  String tagName  value  [TYPE]  String[] tags  [TYPE]  boolean false  true  [TYPE]  Map attributes  enforcedAttributes  protocols 
[REPLACE]^return null;^189^^^^^182^190^[REPLACE] return this;^[METHOD] addTags [TYPE] Whitelist [PARAMETER]  tags [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set tagNames  [TYPE]  String tagName  value  [TYPE]  String[] tags  [TYPE]  boolean false  true  [TYPE]  Map attributes  enforcedAttributes  protocols 
[REPLACE]^Validate.notEmpty ( value ) ;^203^^^^^202^219^[REPLACE] Validate.notEmpty ( tag ) ;^[METHOD] addAttributes [TYPE] Whitelist [PARAMETER] String tag  keys [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set attributeSet  currentSet  tagNames  [TYPE]  String key  tag  tagName  value  [TYPE]  String[] keys  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  Map attributes  enforcedAttributes  protocols 
[REPLACE]^Validate.notNull ( tags ) ;^204^^^^^202^219^[REPLACE] Validate.notNull ( keys ) ;^[METHOD] addAttributes [TYPE] Whitelist [PARAMETER] String tag  keys [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set attributeSet  currentSet  tagNames  [TYPE]  String key  tag  tagName  value  [TYPE]  String[] keys  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  Map attributes  enforcedAttributes  protocols 
[REPLACE]^TagName valueName = TagName.TagName ( tag ) ;^206^^^^^202^219^[REPLACE] TagName tagName = TagName.valueOf ( tag ) ;^[METHOD] addAttributes [TYPE] Whitelist [PARAMETER] String tag  keys [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set attributeSet  currentSet  tagNames  [TYPE]  String key  tag  tagName  value  [TYPE]  String[] keys  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  Map attributes  enforcedAttributes  protocols 
[REPLACE]^AttributeKey attrKey = AttributeKey.valueOf ( key ) ;^207^^^^^202^219^[REPLACE] Set<AttributeKey> attributeSet = new HashSet<AttributeKey> (  ) ;^[METHOD] addAttributes [TYPE] Whitelist [PARAMETER] String tag  keys [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set attributeSet  currentSet  tagNames  [TYPE]  String key  tag  tagName  value  [TYPE]  String[] keys  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  Map attributes  enforcedAttributes  protocols 
[REPLACE]^for  ( String key : keys )  { Validate.notEmpty ( key ) ;^208^^^^^202^219^[REPLACE] for  ( String key : keys )  {^[METHOD] addAttributes [TYPE] Whitelist [PARAMETER] String tag  keys [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set attributeSet  currentSet  tagNames  [TYPE]  String key  tag  tagName  value  [TYPE]  String[] keys  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  Map attributes  enforcedAttributes  protocols 
[ADD]^^208^209^210^211^^202^219^[ADD] for  ( String key : keys )  { Validate.notEmpty ( key ) ; attributeSet.add ( AttributeKey.valueOf ( key )  ) ; }^[METHOD] addAttributes [TYPE] Whitelist [PARAMETER] String tag  keys [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set attributeSet  currentSet  tagNames  [TYPE]  String key  tag  tagName  value  [TYPE]  String[] keys  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  Map attributes  enforcedAttributes  protocols 
[REPLACE]^if  ( enforcedAttributes.containsKey ( tagName )  )  {^212^^^^^202^219^[REPLACE] if  ( attributes.containsKey ( tagName )  )  {^[METHOD] addAttributes [TYPE] Whitelist [PARAMETER] String tag  keys [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set attributeSet  currentSet  tagNames  [TYPE]  String key  tag  tagName  value  [TYPE]  String[] keys  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  Map attributes  enforcedAttributes  protocols 
[REPLACE]^attributes .get ( null )  ;^216^^^^^202^219^[REPLACE] attributes.put ( tagName, attributeSet ) ;^[METHOD] addAttributes [TYPE] Whitelist [PARAMETER] String tag  keys [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set attributeSet  currentSet  tagNames  [TYPE]  String key  tag  tagName  value  [TYPE]  String[] keys  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  Map attributes  enforcedAttributes  protocols 
[ADD]^^216^^^^^202^219^[ADD] attributes.put ( tagName, attributeSet ) ;^[METHOD] addAttributes [TYPE] Whitelist [PARAMETER] String tag  keys [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set attributeSet  currentSet  tagNames  [TYPE]  String key  tag  tagName  value  [TYPE]  String[] keys  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  Map attributes  enforcedAttributes  protocols 
[REPLACE]^Set<AttributeKey> currentSet = attributes.containsKey ( tagName ) ;^213^^^^^202^219^[REPLACE] Set<AttributeKey> currentSet = attributes.get ( tagName ) ;^[METHOD] addAttributes [TYPE] Whitelist [PARAMETER] String tag  keys [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set attributeSet  currentSet  tagNames  [TYPE]  String key  tag  tagName  value  [TYPE]  String[] keys  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  Map attributes  enforcedAttributes  protocols 
[ADD]^^213^214^^^^202^219^[ADD] Set<AttributeKey> currentSet = attributes.get ( tagName ) ; currentSet.addAll ( attributeSet ) ;^[METHOD] addAttributes [TYPE] Whitelist [PARAMETER] String tag  keys [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set attributeSet  currentSet  tagNames  [TYPE]  String key  tag  tagName  value  [TYPE]  String[] keys  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  Map attributes  enforcedAttributes  protocols 
[REPLACE]^return null;^218^^^^^202^219^[REPLACE] return this;^[METHOD] addAttributes [TYPE] Whitelist [PARAMETER] String tag  keys [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set attributeSet  currentSet  tagNames  [TYPE]  String key  tag  tagName  value  [TYPE]  String[] keys  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  Map attributes  enforcedAttributes  protocols 
[REPLACE]^Validate .notNull ( null )  ;^234^^^^^233^250^[REPLACE] Validate.notEmpty ( tag ) ;^[METHOD] addEnforcedAttribute [TYPE] Whitelist [PARAMETER] String tag String key String value [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey attrKey  [TYPE]  AttributeValue attrVal  [TYPE]  Set attributeSet  currentSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  String key  tag  tagName  value  [TYPE]  Map attrMap  attributes  enforcedAttributes  protocols 
[REPLACE]^Validate.notNull ( key ) ;^235^^^^^233^250^[REPLACE] Validate.notEmpty ( key ) ;^[METHOD] addEnforcedAttribute [TYPE] Whitelist [PARAMETER] String tag String key String value [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey attrKey  [TYPE]  AttributeValue attrVal  [TYPE]  Set attributeSet  currentSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  String key  tag  tagName  value  [TYPE]  Map attrMap  attributes  enforcedAttributes  protocols 
[ADD]^^235^^^^^233^250^[ADD] Validate.notEmpty ( key ) ;^[METHOD] addEnforcedAttribute [TYPE] Whitelist [PARAMETER] String tag String key String value [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey attrKey  [TYPE]  AttributeValue attrVal  [TYPE]  Set attributeSet  currentSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  String key  tag  tagName  value  [TYPE]  Map attrMap  attributes  enforcedAttributes  protocols 
[REPLACE]^Validate.notNull ( tagName ) ;^236^^^^^233^250^[REPLACE] Validate.notEmpty ( value ) ;^[METHOD] addEnforcedAttribute [TYPE] Whitelist [PARAMETER] String tag String key String value [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey attrKey  [TYPE]  AttributeValue attrVal  [TYPE]  Set attributeSet  currentSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  String key  tag  tagName  value  [TYPE]  Map attrMap  attributes  enforcedAttributes  protocols 
[REPLACE]^TagName valueName = TagName.valueOf ( tag ) ;^238^^^^^233^250^[REPLACE] TagName tagName = TagName.valueOf ( tag ) ;^[METHOD] addEnforcedAttribute [TYPE] Whitelist [PARAMETER] String tag String key String value [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey attrKey  [TYPE]  AttributeValue attrVal  [TYPE]  Set attributeSet  currentSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  String key  tag  tagName  value  [TYPE]  Map attrMap  attributes  enforcedAttributes  protocols 
[REPLACE]^AttributeKey attrKey = AttributeKey.AttributeKey ( key ) ;^239^^^^^233^250^[REPLACE] AttributeKey attrKey = AttributeKey.valueOf ( key ) ;^[METHOD] addEnforcedAttribute [TYPE] Whitelist [PARAMETER] String tag String key String value [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey attrKey  [TYPE]  AttributeValue attrVal  [TYPE]  Set attributeSet  currentSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  String key  tag  tagName  value  [TYPE]  Map attrMap  attributes  enforcedAttributes  protocols 
[ADD]^^239^240^^^^233^250^[ADD] AttributeKey attrKey = AttributeKey.valueOf ( key ) ; AttributeValue attrVal = AttributeValue.valueOf ( value ) ;^[METHOD] addEnforcedAttribute [TYPE] Whitelist [PARAMETER] String tag String key String value [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey attrKey  [TYPE]  AttributeValue attrVal  [TYPE]  Set attributeSet  currentSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  String key  tag  tagName  value  [TYPE]  Map attrMap  attributes  enforcedAttributes  protocols 
[REPLACE]^AttributeValue attrVal = AttributeValue.AttributeValue ( tagName ) ;^240^^^^^233^250^[REPLACE] AttributeValue attrVal = AttributeValue.valueOf ( value ) ;^[METHOD] addEnforcedAttribute [TYPE] Whitelist [PARAMETER] String tag String key String value [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey attrKey  [TYPE]  AttributeValue attrVal  [TYPE]  Set attributeSet  currentSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  String key  tag  tagName  value  [TYPE]  Map attrMap  attributes  enforcedAttributes  protocols 
[REPLACE]^if  ( enforcedAttributes .entrySet (  )   )  {^242^^^^^233^250^[REPLACE] if  ( enforcedAttributes.containsKey ( tagName )  )  {^[METHOD] addEnforcedAttribute [TYPE] Whitelist [PARAMETER] String tag String key String value [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey attrKey  [TYPE]  AttributeValue attrVal  [TYPE]  Set attributeSet  currentSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  String key  tag  tagName  value  [TYPE]  Map attrMap  attributes  enforcedAttributes  protocols 
[REPLACE]^AttributeKey attrKey = AttributeKey.valueOf ( key ) ;^245^^^^^233^250^[REPLACE] Map<AttributeKey, AttributeValue> attrMap = new HashMap<AttributeKey, AttributeValue> (  ) ;^[METHOD] addEnforcedAttribute [TYPE] Whitelist [PARAMETER] String tag String key String value [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey attrKey  [TYPE]  AttributeValue attrVal  [TYPE]  Set attributeSet  currentSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  String key  tag  tagName  value  [TYPE]  Map attrMap  attributes  enforcedAttributes  protocols 
[ADD]^^245^^^^^233^250^[ADD] Map<AttributeKey, AttributeValue> attrMap = new HashMap<AttributeKey, AttributeValue> (  ) ;^[METHOD] addEnforcedAttribute [TYPE] Whitelist [PARAMETER] String tag String key String value [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey attrKey  [TYPE]  AttributeValue attrVal  [TYPE]  Set attributeSet  currentSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  String key  tag  tagName  value  [TYPE]  Map attrMap  attributes  enforcedAttributes  protocols 
[REPLACE]^enforcedAttributes.get ( tagName ) .get ( attrKey, attrVal ) ;^243^^^^^233^250^[REPLACE] enforcedAttributes.get ( tagName ) .put ( attrKey, attrVal ) ;^[METHOD] addEnforcedAttribute [TYPE] Whitelist [PARAMETER] String tag String key String value [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey attrKey  [TYPE]  AttributeValue attrVal  [TYPE]  Set attributeSet  currentSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  String key  tag  tagName  value  [TYPE]  Map attrMap  attributes  enforcedAttributes  protocols 
[REPLACE]^enforcedAttributes .put ( null , null )  .put ( attrKey, attrVal ) ;^243^^^^^233^250^[REPLACE] enforcedAttributes.get ( tagName ) .put ( attrKey, attrVal ) ;^[METHOD] addEnforcedAttribute [TYPE] Whitelist [PARAMETER] String tag String key String value [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey attrKey  [TYPE]  AttributeValue attrVal  [TYPE]  Set attributeSet  currentSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  String key  tag  tagName  value  [TYPE]  Map attrMap  attributes  enforcedAttributes  protocols 
[REPLACE]^return null;^249^^^^^233^250^[REPLACE] return this;^[METHOD] addEnforcedAttribute [TYPE] Whitelist [PARAMETER] String tag String key String value [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey attrKey  [TYPE]  AttributeValue attrVal  [TYPE]  Set attributeSet  currentSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  String key  tag  tagName  value  [TYPE]  Map attrMap  attributes  enforcedAttributes  protocols 
[REPLACE]^Validate.notNull ( tag ) ;^264^^^^^263^291^[REPLACE] Validate.notEmpty ( tag ) ;^[METHOD] addProtocols [TYPE] Whitelist [PARAMETER] String tag String key  protocols [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey attrKey  [TYPE]  Set attributeSet  currentSet  protSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  String key  protocol  tag  tagName  value  [TYPE]  String[] protocols  [TYPE]  Protocol prot  [TYPE]  Map attrMap  attributes  enforcedAttributes  protocols 
[REPLACE]^Validate.notNull ( key ) ;^265^^^^^263^291^[REPLACE] Validate.notEmpty ( key ) ;^[METHOD] addProtocols [TYPE] Whitelist [PARAMETER] String tag String key  protocols [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey attrKey  [TYPE]  Set attributeSet  currentSet  protSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  String key  protocol  tag  tagName  value  [TYPE]  String[] protocols  [TYPE]  Protocol prot  [TYPE]  Map attrMap  attributes  enforcedAttributes  protocols 
[REPLACE]^protSet.add ( prot ) ;^266^^^^^263^291^[REPLACE] Validate.notNull ( protocols ) ;^[METHOD] addProtocols [TYPE] Whitelist [PARAMETER] String tag String key  protocols [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey attrKey  [TYPE]  Set attributeSet  currentSet  protSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  String key  protocol  tag  tagName  value  [TYPE]  String[] protocols  [TYPE]  Protocol prot  [TYPE]  Map attrMap  attributes  enforcedAttributes  protocols 
[REPLACE]^TagName valueName = TagName.TagName ( tag ) ;^268^^^^^263^291^[REPLACE] TagName tagName = TagName.valueOf ( tag ) ;^[METHOD] addProtocols [TYPE] Whitelist [PARAMETER] String tag String key  protocols [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey attrKey  [TYPE]  Set attributeSet  currentSet  protSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  String key  protocol  tag  tagName  value  [TYPE]  String[] protocols  [TYPE]  Protocol prot  [TYPE]  Map attrMap  attributes  enforcedAttributes  protocols 
[ADD]^^268^269^^^^263^291^[ADD] TagName tagName = TagName.valueOf ( tag ) ; AttributeKey attrKey = AttributeKey.valueOf ( key ) ;^[METHOD] addProtocols [TYPE] Whitelist [PARAMETER] String tag String key  protocols [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey attrKey  [TYPE]  Set attributeSet  currentSet  protSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  String key  protocol  tag  tagName  value  [TYPE]  String[] protocols  [TYPE]  Protocol prot  [TYPE]  Map attrMap  attributes  enforcedAttributes  protocols 
[REPLACE]^AttributeKey attrKey = AttributeKey .TagName ( key )  ;^269^^^^^263^291^[REPLACE] AttributeKey attrKey = AttributeKey.valueOf ( key ) ;^[METHOD] addProtocols [TYPE] Whitelist [PARAMETER] String tag String key  protocols [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey attrKey  [TYPE]  Set attributeSet  currentSet  protSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  String key  protocol  tag  tagName  value  [TYPE]  String[] protocols  [TYPE]  Protocol prot  [TYPE]  Map attrMap  attributes  enforcedAttributes  protocols 
[REPLACE]^Set<AttributeKey> currentSet = attributes.get ( tagName ) ;^270^^^^^263^291^[REPLACE] Map<AttributeKey, Set<Protocol>> attrMap;^[METHOD] addProtocols [TYPE] Whitelist [PARAMETER] String tag String key  protocols [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey attrKey  [TYPE]  Set attributeSet  currentSet  protSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  String key  protocol  tag  tagName  value  [TYPE]  String[] protocols  [TYPE]  Protocol prot  [TYPE]  Map attrMap  attributes  enforcedAttributes  protocols 
[REPLACE]^Map<AttributeKey, Set<Protocol>> attrMap;^271^^^^^263^291^[REPLACE] Set<Protocol> protSet;^[METHOD] addProtocols [TYPE] Whitelist [PARAMETER] String tag String key  protocols [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey attrKey  [TYPE]  Set attributeSet  currentSet  protSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  String key  protocol  tag  tagName  value  [TYPE]  String[] protocols  [TYPE]  Protocol prot  [TYPE]  Map attrMap  attributes  enforcedAttributes  protocols 
[REPLACE]^if  ( this.protocols.get ( tagName )  )  {^273^^^^^263^291^[REPLACE] if  ( this.protocols.containsKey ( tagName )  )  {^[METHOD] addProtocols [TYPE] Whitelist [PARAMETER] String tag String key  protocols [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey attrKey  [TYPE]  Set attributeSet  currentSet  protSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  String key  protocol  tag  tagName  value  [TYPE]  String[] protocols  [TYPE]  Protocol prot  [TYPE]  Map attrMap  attributes  enforcedAttributes  protocols 
[REPLACE]^attrMap =  new AttributeKey, AttributeValue> (  )  ;^276^^^^^273^278^[REPLACE] attrMap = new HashMap<AttributeKey, Set<Protocol>> (  ) ;^[METHOD] addProtocols [TYPE] Whitelist [PARAMETER] String tag String key  protocols [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey attrKey  [TYPE]  Set attributeSet  currentSet  protSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  String key  protocol  tag  tagName  value  [TYPE]  String[] protocols  [TYPE]  Protocol prot  [TYPE]  Map attrMap  attributes  enforcedAttributes  protocols 
[REPLACE]^attrMap =  this.protocols.get ( null ) ;^274^^^^^263^291^[REPLACE] attrMap = this.protocols.get ( tagName ) ;^[METHOD] addProtocols [TYPE] Whitelist [PARAMETER] String tag String key  protocols [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey attrKey  [TYPE]  Set attributeSet  currentSet  protSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  String key  protocol  tag  tagName  value  [TYPE]  String[] protocols  [TYPE]  Protocol prot  [TYPE]  Map attrMap  attributes  enforcedAttributes  protocols 
[REPLACE]^attrMap =  new AttributeKey, AttributeValue> (  )  ;^276^^^^^263^291^[REPLACE] attrMap = new HashMap<AttributeKey, Set<Protocol>> (  ) ;^[METHOD] addProtocols [TYPE] Whitelist [PARAMETER] String tag String key  protocols [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey attrKey  [TYPE]  Set attributeSet  currentSet  protSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  String key  protocol  tag  tagName  value  [TYPE]  String[] protocols  [TYPE]  Protocol prot  [TYPE]  Map attrMap  attributes  enforcedAttributes  protocols 
[REPLACE]^if  ( attrMap .entrySet (  )   )  {^279^^^^^263^291^[REPLACE] if  ( attrMap.containsKey ( attrKey )  )  {^[METHOD] addProtocols [TYPE] Whitelist [PARAMETER] String tag String key  protocols [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey attrKey  [TYPE]  Set attributeSet  currentSet  protSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  String key  protocol  tag  tagName  value  [TYPE]  String[] protocols  [TYPE]  Protocol prot  [TYPE]  Map attrMap  attributes  enforcedAttributes  protocols 
[REPLACE]^protSet =  new TagName> (  )  ;^282^^^^^279^284^[REPLACE] protSet = new HashSet<Protocol> (  ) ;^[METHOD] addProtocols [TYPE] Whitelist [PARAMETER] String tag String key  protocols [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey attrKey  [TYPE]  Set attributeSet  currentSet  protSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  String key  protocol  tag  tagName  value  [TYPE]  String[] protocols  [TYPE]  Protocol prot  [TYPE]  Map attrMap  attributes  enforcedAttributes  protocols 
[REPLACE]^protSet =  this.get ( attrKey ) ;^280^^^^^263^291^[REPLACE] protSet = attrMap.get ( attrKey ) ;^[METHOD] addProtocols [TYPE] Whitelist [PARAMETER] String tag String key  protocols [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey attrKey  [TYPE]  Set attributeSet  currentSet  protSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  String key  protocol  tag  tagName  value  [TYPE]  String[] protocols  [TYPE]  Protocol prot  [TYPE]  Map attrMap  attributes  enforcedAttributes  protocols 
[ADD]^^280^^^^^263^291^[ADD] protSet = attrMap.get ( attrKey ) ;^[METHOD] addProtocols [TYPE] Whitelist [PARAMETER] String tag String key  protocols [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey attrKey  [TYPE]  Set attributeSet  currentSet  protSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  String key  protocol  tag  tagName  value  [TYPE]  String[] protocols  [TYPE]  Protocol prot  [TYPE]  Map attrMap  attributes  enforcedAttributes  protocols 
[REPLACE]^protSet =  null.get ( attrKey ) ;^280^^^^^263^291^[REPLACE] protSet = attrMap.get ( attrKey ) ;^[METHOD] addProtocols [TYPE] Whitelist [PARAMETER] String tag String key  protocols [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey attrKey  [TYPE]  Set attributeSet  currentSet  protSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  String key  protocol  tag  tagName  value  [TYPE]  String[] protocols  [TYPE]  Protocol prot  [TYPE]  Map attrMap  attributes  enforcedAttributes  protocols 
[REPLACE]^protSet =  new TagName> (  )  ;^282^^^^^263^291^[REPLACE] protSet = new HashSet<Protocol> (  ) ;^[METHOD] addProtocols [TYPE] Whitelist [PARAMETER] String tag String key  protocols [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey attrKey  [TYPE]  Set attributeSet  currentSet  protSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  String key  protocol  tag  tagName  value  [TYPE]  String[] protocols  [TYPE]  Protocol prot  [TYPE]  Map attrMap  attributes  enforcedAttributes  protocols 
[REPLACE]^for  ( String key : keys )  { Validate.notEmpty ( key ) ;^285^^^^^263^291^[REPLACE] for  ( String protocol : protocols )  {^[METHOD] addProtocols [TYPE] Whitelist [PARAMETER] String tag String key  protocols [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey attrKey  [TYPE]  Set attributeSet  currentSet  protSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  String key  protocol  tag  tagName  value  [TYPE]  String[] protocols  [TYPE]  Protocol prot  [TYPE]  Map attrMap  attributes  enforcedAttributes  protocols 
[REPLACE]^Protocol prot = Protocol.valueOf ( tag ) ;^287^^^^^263^291^[REPLACE] Protocol prot = Protocol.valueOf ( protocol ) ;^[METHOD] addProtocols [TYPE] Whitelist [PARAMETER] String tag String key  protocols [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey attrKey  [TYPE]  Set attributeSet  currentSet  protSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  String key  protocol  tag  tagName  value  [TYPE]  String[] protocols  [TYPE]  Protocol prot  [TYPE]  Map attrMap  attributes  enforcedAttributes  protocols 
[ADD]^^287^^^^^263^291^[ADD] Protocol prot = Protocol.valueOf ( protocol ) ;^[METHOD] addProtocols [TYPE] Whitelist [PARAMETER] String tag String key  protocols [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey attrKey  [TYPE]  Set attributeSet  currentSet  protSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  String key  protocol  tag  tagName  value  [TYPE]  String[] protocols  [TYPE]  Protocol prot  [TYPE]  Map attrMap  attributes  enforcedAttributes  protocols 
[REPLACE]^return null;^290^^^^^263^291^[REPLACE] return this;^[METHOD] addProtocols [TYPE] Whitelist [PARAMETER] String tag String key  protocols [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey attrKey  [TYPE]  Set attributeSet  currentSet  protSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tagName  [TYPE]  String key  protocol  tag  tagName  value  [TYPE]  String[] protocols  [TYPE]  Protocol prot  [TYPE]  Map attrMap  attributes  enforcedAttributes  protocols 
[REPLACE]^return tagNames.addAll ( TagName.valueOf ( tag )  ) ;^294^^^^^293^295^[REPLACE] return tagNames.contains ( TagName.valueOf ( tag )  ) ;^[METHOD] isSafeTag [TYPE] boolean [PARAMETER] String tag [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set attributeSet  currentSet  protSet  tagNames  [TYPE]  String key  protocol  tag  tagName  value  [TYPE]  boolean false  true  [TYPE]  Map attrMap  attributes  enforcedAttributes  protocols 
[REPLACE]^TagName tag = TagName.valueOf ( value ) ;^298^^^^^297^315^[REPLACE] TagName tag = TagName.valueOf ( tagName ) ;^[METHOD] isSafeAttribute [TYPE] boolean [PARAMETER] String tagName Element el Attribute attr [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey key  [TYPE]  Set attributeSet  currentSet  protSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tag  [TYPE]  Attribute attr  [TYPE]  Element el  [TYPE]  String key  protocol  tag  tagName  value  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  protocols 
[REPLACE]^AttributeKey key = AttributeKey .TagName ( tag )  ;^299^^^^^297^315^[REPLACE] AttributeKey key = AttributeKey.valueOf ( attr.getKey (  )  ) ;^[METHOD] isSafeAttribute [TYPE] boolean [PARAMETER] String tagName Element el Attribute attr [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey key  [TYPE]  Set attributeSet  currentSet  protSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tag  [TYPE]  Attribute attr  [TYPE]  Element el  [TYPE]  String key  protocol  tag  tagName  value  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  protocols 
[REPLACE]^if  ( enforcedAttributes.containsKey ( tagName )  )  {^301^^^^^297^315^[REPLACE] if  ( attributes.containsKey ( tag )  )  {^[METHOD] isSafeAttribute [TYPE] boolean [PARAMETER] String tagName Element el Attribute attr [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey key  [TYPE]  Set attributeSet  currentSet  protSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tag  [TYPE]  Attribute attr  [TYPE]  Element el  [TYPE]  String key  protocol  tag  tagName  value  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  protocols 
[REPLACE]^return !tagName.equals ( ":all" )  || isSafeAttribute ( ":all", el, attr ) ;^312^^^^^297^315^[REPLACE] return !tagName.equals ( ":all" )  && isSafeAttribute ( ":all", el, attr ) ;^[METHOD] isSafeAttribute [TYPE] boolean [PARAMETER] String tagName Element el Attribute attr [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey key  [TYPE]  Set attributeSet  currentSet  protSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tag  [TYPE]  Attribute attr  [TYPE]  Element el  [TYPE]  String key  protocol  tag  tagName  value  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  protocols 
[REPLACE]^if  ( attributes.get ( tag ) .addAll ( key )  )  {^302^^^^^297^315^[REPLACE] if  ( attributes.get ( tag ) .contains ( key )  )  {^[METHOD] isSafeAttribute [TYPE] boolean [PARAMETER] String tagName Element el Attribute attr [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey key  [TYPE]  Set attributeSet  currentSet  protSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tag  [TYPE]  Attribute attr  [TYPE]  Element el  [TYPE]  String key  protocol  tag  tagName  value  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  protocols 
[REPLACE]^if  ( attributes.containsKey ( tag )  )  {^303^^^^^297^315^[REPLACE] if  ( protocols.containsKey ( tag )  )  {^[METHOD] isSafeAttribute [TYPE] boolean [PARAMETER] String tagName Element el Attribute attr [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey key  [TYPE]  Set attributeSet  currentSet  protSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tag  [TYPE]  Attribute attr  [TYPE]  Element el  [TYPE]  String key  protocol  tag  tagName  value  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  protocols 
[REPLACE]^return false;^308^^^^^297^315^[REPLACE] return true;^[METHOD] isSafeAttribute [TYPE] boolean [PARAMETER] String tagName Element el Attribute attr [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey key  [TYPE]  Set attributeSet  currentSet  protSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tag  [TYPE]  Attribute attr  [TYPE]  Element el  [TYPE]  String key  protocol  tag  tagName  value  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  protocols 
[REPLACE]^return !attrProts.containsKey ( key )  ;^306^^^^^297^315^[REPLACE] return !attrProts.containsKey ( key )  || testValidProtocol ( el, attr, attrProts.get ( key )  ) ;^[METHOD] isSafeAttribute [TYPE] boolean [PARAMETER] String tagName Element el Attribute attr [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey key  [TYPE]  Set attributeSet  currentSet  protSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tag  [TYPE]  Attribute attr  [TYPE]  Element el  [TYPE]  String key  protocol  tag  tagName  value  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  protocols 
[REPLACE]^Map<AttributeKey, Set<Protocol>> attrProts = protocols.containsKey ( tag ) ;^304^^^^^297^315^[REPLACE] Map<AttributeKey, Set<Protocol>> attrProts = protocols.get ( tag ) ;^[METHOD] isSafeAttribute [TYPE] boolean [PARAMETER] String tagName Element el Attribute attr [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey key  [TYPE]  Set attributeSet  currentSet  protSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tag  [TYPE]  Attribute attr  [TYPE]  Element el  [TYPE]  String key  protocol  tag  tagName  value  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  protocols 
[ADD]^^304^^^^^297^315^[ADD] Map<AttributeKey, Set<Protocol>> attrProts = protocols.get ( tag ) ;^[METHOD] isSafeAttribute [TYPE] boolean [PARAMETER] String tagName Element el Attribute attr [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey key  [TYPE]  Set attributeSet  currentSet  protSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tag  [TYPE]  Attribute attr  [TYPE]  Element el  [TYPE]  String key  protocol  tag  tagName  value  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  protocols 
[REPLACE]^return !attrProts.get ( key )  && testValidProtocol ( el, attr, attrProts.get ( key )  ) ;^306^^^^^297^315^[REPLACE] return !attrProts.containsKey ( key )  || testValidProtocol ( el, attr, attrProts.get ( key )  ) ;^[METHOD] isSafeAttribute [TYPE] boolean [PARAMETER] String tagName Element el Attribute attr [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey key  [TYPE]  Set attributeSet  currentSet  protSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tag  [TYPE]  Attribute attr  [TYPE]  Element el  [TYPE]  String key  protocol  tag  tagName  value  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  protocols 
[REPLACE]^Map<AttributeKey, Set<Protocol>> attrProts = protocols .put ( null , 1 )  ;^304^^^^^297^315^[REPLACE] Map<AttributeKey, Set<Protocol>> attrProts = protocols.get ( tag ) ;^[METHOD] isSafeAttribute [TYPE] boolean [PARAMETER] String tagName Element el Attribute attr [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey key  [TYPE]  Set attributeSet  currentSet  protSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tag  [TYPE]  Attribute attr  [TYPE]  Element el  [TYPE]  String key  protocol  tag  tagName  value  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  protocols 
[REPLACE]^return !attrProts.get ( key )  || testValidProtocol ( el, attr, attrProts.get ( key )  ) ;^306^^^^^297^315^[REPLACE] return !attrProts.containsKey ( key )  || testValidProtocol ( el, attr, attrProts.get ( key )  ) ;^[METHOD] isSafeAttribute [TYPE] boolean [PARAMETER] String tagName Element el Attribute attr [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey key  [TYPE]  Set attributeSet  currentSet  protSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tag  [TYPE]  Attribute attr  [TYPE]  Element el  [TYPE]  String key  protocol  tag  tagName  value  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  protocols 
[REPLACE]^return !attrProts .entrySet (  )   || testValidProtocol ( el, attr, attrProts.get ( key )  ) ;^306^^^^^297^315^[REPLACE] return !attrProts.containsKey ( key )  || testValidProtocol ( el, attr, attrProts.get ( key )  ) ;^[METHOD] isSafeAttribute [TYPE] boolean [PARAMETER] String tagName Element el Attribute attr [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey key  [TYPE]  Set attributeSet  currentSet  protSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tag  [TYPE]  Attribute attr  [TYPE]  Element el  [TYPE]  String key  protocol  tag  tagName  value  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  protocols 
[REPLACE]^if  ( value.toString (  ) .toLowerCase (  ) .startsWith ( prot )  )  {^302^^^^^297^315^[REPLACE] if  ( attributes.get ( tag ) .contains ( key )  )  {^[METHOD] isSafeAttribute [TYPE] boolean [PARAMETER] String tagName Element el Attribute attr [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey key  [TYPE]  Set attributeSet  currentSet  protSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tag  [TYPE]  Attribute attr  [TYPE]  Element el  [TYPE]  String key  protocol  tag  tagName  value  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  protocols 
[ADD]^^303^304^^306^^297^315^[ADD] if  ( protocols.containsKey ( tag )  )  { Map<AttributeKey, Set<Protocol>> attrProts = protocols.get ( tag ) ; return !attrProts.containsKey ( key )  || testValidProtocol ( el, attr, attrProts.get ( key )  ) ;^[METHOD] isSafeAttribute [TYPE] boolean [PARAMETER] String tagName Element el Attribute attr [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey key  [TYPE]  Set attributeSet  currentSet  protSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tag  [TYPE]  Attribute attr  [TYPE]  Element el  [TYPE]  String key  protocol  tag  tagName  value  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  protocols 
[REPLACE]^return   testValidProtocol ( el, attr, attrProts.get ( key )  ) ;^306^^^^^297^315^[REPLACE] return !attrProts.containsKey ( key )  || testValidProtocol ( el, attr, attrProts.get ( key )  ) ;^[METHOD] isSafeAttribute [TYPE] boolean [PARAMETER] String tagName Element el Attribute attr [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey key  [TYPE]  Set attributeSet  currentSet  protSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tag  [TYPE]  Attribute attr  [TYPE]  Element el  [TYPE]  String key  protocol  tag  tagName  value  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  protocols 
[REPLACE]^return attrProts.containsKey ( key )  ;^306^^^^^297^315^[REPLACE] return !attrProts.containsKey ( key )  || testValidProtocol ( el, attr, attrProts.get ( key )  ) ;^[METHOD] isSafeAttribute [TYPE] boolean [PARAMETER] String tagName Element el Attribute attr [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey key  [TYPE]  Set attributeSet  currentSet  protSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tag  [TYPE]  Attribute attr  [TYPE]  Element el  [TYPE]  String key  protocol  tag  tagName  value  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  protocols 
[ADD]^Map<AttributeKey, Set<Protocol>> attrProts = protocols.get ( tag ) ;return !attrProts.containsKey ( key )  || testValidProtocol ( el, attr, attrProts.get ( key )  ) ;^303^304^^306^^297^315^[ADD] if  ( protocols.containsKey ( tag )  )  { Map<AttributeKey, Set<Protocol>> attrProts = protocols.get ( tag ) ; return !attrProts.containsKey ( key )  || testValidProtocol ( el, attr, attrProts.get ( key )  ) ;^[METHOD] isSafeAttribute [TYPE] boolean [PARAMETER] String tagName Element el Attribute attr [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey key  [TYPE]  Set attributeSet  currentSet  protSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tag  [TYPE]  Attribute attr  [TYPE]  Element el  [TYPE]  String key  protocol  tag  tagName  value  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  protocols 
[REPLACE]^return !tagName .toLowerCase (  )   && isSafeAttribute ( ":all", el, attr ) ;^312^^^^^297^315^[REPLACE] return !tagName.equals ( ":all" )  && isSafeAttribute ( ":all", el, attr ) ;^[METHOD] isSafeAttribute [TYPE] boolean [PARAMETER] String tagName Element el Attribute attr [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey key  [TYPE]  Set attributeSet  currentSet  protSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tag  [TYPE]  Attribute attr  [TYPE]  Element el  [TYPE]  String key  protocol  tag  tagName  value  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  protocols 
[REPLACE]^return true;^314^^^^^297^315^[REPLACE] return false;^[METHOD] isSafeAttribute [TYPE] boolean [PARAMETER] String tagName Element el Attribute attr [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  AttributeKey key  [TYPE]  Set attributeSet  currentSet  protSet  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tag  [TYPE]  Attribute attr  [TYPE]  Element el  [TYPE]  String key  protocol  tag  tagName  value  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  protocols 
[REPLACE]^String value = el.absUrl ( attr .setValue ( protocol )   ) ;^320^^^^^317^330^[REPLACE] String value = el.absUrl ( attr.getKey (  )  ) ;^[METHOD] testValidProtocol [TYPE] boolean [PARAMETER] Element el Attribute attr Protocol> protocols [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set attributeSet  currentSet  protSet  protocols  tagNames  [TYPE]  boolean false  true  [TYPE]  Attribute attr  [TYPE]  Element el  [TYPE]  String key  prot  protocol  tag  tagName  value  [TYPE]  Protocol protocol  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  protocols 
[ADD]^^320^321^^^^317^330^[ADD] String value = el.absUrl ( attr.getKey (  )  ) ; attr.setValue ( value ) ;^[METHOD] testValidProtocol [TYPE] boolean [PARAMETER] Element el Attribute attr Protocol> protocols [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set attributeSet  currentSet  protSet  protocols  tagNames  [TYPE]  boolean false  true  [TYPE]  Attribute attr  [TYPE]  Element el  [TYPE]  String key  prot  protocol  tag  tagName  value  [TYPE]  Protocol protocol  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  protocols 
[REPLACE]^attr .getKey (  )  ;^321^^^^^317^330^[REPLACE] attr.setValue ( value ) ;^[METHOD] testValidProtocol [TYPE] boolean [PARAMETER] Element el Attribute attr Protocol> protocols [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set attributeSet  currentSet  protSet  protocols  tagNames  [TYPE]  boolean false  true  [TYPE]  Attribute attr  [TYPE]  Element el  [TYPE]  String key  prot  protocol  tag  tagName  value  [TYPE]  Protocol protocol  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  protocols 
[REPLACE]^if  ( value .TypedValue ( key )  .toLowerCase (  ) .startsWith ( protocol )  )  {^325^^^^^317^330^[REPLACE] if  ( value.toString (  ) .toLowerCase (  ) .startsWith ( prot )  )  {^[METHOD] testValidProtocol [TYPE] boolean [PARAMETER] Element el Attribute attr Protocol> protocols [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set attributeSet  currentSet  protSet  protocols  tagNames  [TYPE]  boolean false  true  [TYPE]  Attribute attr  [TYPE]  Element el  [TYPE]  String key  prot  protocol  tag  tagName  value  [TYPE]  Protocol protocol  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  protocols 
[REPLACE]^return false;^326^^^^^317^330^[REPLACE] return true;^[METHOD] testValidProtocol [TYPE] boolean [PARAMETER] Element el Attribute attr Protocol> protocols [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set attributeSet  currentSet  protSet  protocols  tagNames  [TYPE]  boolean false  true  [TYPE]  Attribute attr  [TYPE]  Element el  [TYPE]  String key  prot  protocol  tag  tagName  value  [TYPE]  Protocol protocol  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  protocols 
[REPLACE]^for  ( Protocol protocol : protocols )  { String prot = protocol.toString (  )  + ":";^323^^^^^317^330^[REPLACE] for  ( Protocol protocol : protocols )  {^[METHOD] testValidProtocol [TYPE] boolean [PARAMETER] Element el Attribute attr Protocol> protocols [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set attributeSet  currentSet  protSet  protocols  tagNames  [TYPE]  boolean false  true  [TYPE]  Attribute attr  [TYPE]  Element el  [TYPE]  String key  prot  protocol  tag  tagName  value  [TYPE]  Protocol protocol  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  protocols 
[REPLACE]^String prot =value (  )  + ":";^324^^^^^317^330^[REPLACE] String prot = protocol.toString (  )  + ":";^[METHOD] testValidProtocol [TYPE] boolean [PARAMETER] Element el Attribute attr Protocol> protocols [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set attributeSet  currentSet  protSet  protocols  tagNames  [TYPE]  boolean false  true  [TYPE]  Attribute attr  [TYPE]  Element el  [TYPE]  String key  prot  protocol  tag  tagName  value  [TYPE]  Protocol protocol  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  protocols 
[REPLACE]^return true;^329^^^^^317^330^[REPLACE] return false;^[METHOD] testValidProtocol [TYPE] boolean [PARAMETER] Element el Attribute attr Protocol> protocols [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set attributeSet  currentSet  protSet  protocols  tagNames  [TYPE]  boolean false  true  [TYPE]  Attribute attr  [TYPE]  Element el  [TYPE]  String key  prot  protocol  tag  tagName  value  [TYPE]  Protocol protocol  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  protocols 
[REPLACE]^AttributeKey attrKey = AttributeKey.valueOf ( key ) ;^333^^^^^332^342^[REPLACE] Attributes attrs = new Attributes (  ) ;^[METHOD] getEnforcedAttributes [TYPE] Attributes [PARAMETER] String tagName [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Entry entry  [TYPE]  Set attributeSet  currentSet  protSet  protocols  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tag  [TYPE]  Attributes attrs  [TYPE]  String key  prot  protocol  tag  tagName  value  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  keyVals  protocols 
[REPLACE]^TagName tag = TagName.valueOf ( value ) ;^334^^^^^332^342^[REPLACE] TagName tag = TagName.valueOf ( tagName ) ;^[METHOD] getEnforcedAttributes [TYPE] Attributes [PARAMETER] String tagName [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Entry entry  [TYPE]  Set attributeSet  currentSet  protSet  protocols  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tag  [TYPE]  Attributes attrs  [TYPE]  String key  prot  protocol  tag  tagName  value  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  keyVals  protocols 
[ADD]^^334^^^^^332^342^[ADD] TagName tag = TagName.valueOf ( tagName ) ;^[METHOD] getEnforcedAttributes [TYPE] Attributes [PARAMETER] String tagName [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Entry entry  [TYPE]  Set attributeSet  currentSet  protSet  protocols  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tag  [TYPE]  Attributes attrs  [TYPE]  String key  prot  protocol  tag  tagName  value  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  keyVals  protocols 
[REPLACE]^if  ( enforcedAttributes.containsKey ( tagName )  )  {^335^^^^^332^342^[REPLACE] if  ( enforcedAttributes.containsKey ( tag )  )  {^[METHOD] getEnforcedAttributes [TYPE] Attributes [PARAMETER] String tagName [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Entry entry  [TYPE]  Set attributeSet  currentSet  protSet  protocols  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tag  [TYPE]  Attributes attrs  [TYPE]  String key  prot  protocol  tag  tagName  value  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  keyVals  protocols 
[REPLACE]^Map<AttributeKey, AttributeValue> keyVals = enforcedAttributes.containsKey ( tag ) ;^336^^^^^332^342^[REPLACE] Map<AttributeKey, AttributeValue> keyVals = enforcedAttributes.get ( tag ) ;^[METHOD] getEnforcedAttributes [TYPE] Attributes [PARAMETER] String tagName [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Entry entry  [TYPE]  Set attributeSet  currentSet  protSet  protocols  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tag  [TYPE]  Attributes attrs  [TYPE]  String key  prot  protocol  tag  tagName  value  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  keyVals  protocols 
[REPLACE]^AttributeKey attrKey = AttributeKey.valueOf ( key ) ;^337^^^^^332^342^[REPLACE] for  ( Map.Entry<AttributeKey, AttributeValue> entry : keyVals.entrySet (  )  )  {^[METHOD] getEnforcedAttributes [TYPE] Attributes [PARAMETER] String tagName [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Entry entry  [TYPE]  Set attributeSet  currentSet  protSet  protocols  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tag  [TYPE]  Attributes attrs  [TYPE]  String key  prot  protocol  tag  tagName  value  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  keyVals  protocols 
[REPLACE]^Map<AttributeKey, AttributeValue> keyVals = enforcedAttributes .put ( null , false )  ;^336^^^^^332^342^[REPLACE] Map<AttributeKey, AttributeValue> keyVals = enforcedAttributes.get ( tag ) ;^[METHOD] getEnforcedAttributes [TYPE] Attributes [PARAMETER] String tagName [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Entry entry  [TYPE]  Set attributeSet  currentSet  protSet  protocols  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tag  [TYPE]  Attributes attrs  [TYPE]  String key  prot  protocol  tag  tagName  value  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  keyVals  protocols 
[REPLACE]^return new AttributeValue ( value ) ;^341^^^^^332^342^[REPLACE] return attrs;^[METHOD] getEnforcedAttributes [TYPE] Attributes [PARAMETER] String tagName [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Entry entry  [TYPE]  Set attributeSet  currentSet  protSet  protocols  tagNames  [TYPE]  boolean false  true  [TYPE]  TagName tag  [TYPE]  Attributes attrs  [TYPE]  String key  prot  protocol  tag  tagName  value  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  keyVals  protocols 
[REPLACE]^return  new AttributeKey ( tagName )  ;^352^^^^^351^353^[REPLACE] return new TagName ( value ) ;^[METHOD] valueOf [TYPE] Whitelist$TagName [PARAMETER] String value [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set attributeSet  currentSet  protSet  protocols  tagNames  [TYPE]  String key  prot  protocol  tag  tagName  value  [TYPE]  boolean false  true  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  keyVals  protocols 
[REPLACE]^return  new TagName ( value )  ;^362^^^^^361^363^[REPLACE] return new AttributeKey ( value ) ;^[METHOD] valueOf [TYPE] Whitelist$AttributeKey [PARAMETER] String value [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set attributeSet  currentSet  protSet  protocols  tagNames  [TYPE]  String key  prot  protocol  tag  tagName  value  [TYPE]  boolean false  true  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  keyVals  protocols 
[REPLACE]^return new AttributeKey ( value ) ;^372^^^^^371^373^[REPLACE] return new AttributeValue ( value ) ;^[METHOD] valueOf [TYPE] Whitelist$AttributeValue [PARAMETER] String value [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set attributeSet  currentSet  protSet  protocols  tagNames  [TYPE]  String key  prot  protocol  tag  tagName  value  [TYPE]  boolean false  true  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  keyVals  protocols 
[REPLACE]^return  new TagName ( value )  ;^382^^^^^381^383^[REPLACE] return new Protocol ( value ) ;^[METHOD] valueOf [TYPE] Whitelist$Protocol [PARAMETER] String value [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set attributeSet  currentSet  protSet  protocols  tagNames  [TYPE]  String key  prot  protocol  tag  tagName  value  [TYPE]  boolean false  true  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  keyVals  protocols 
[REPLACE]^final int prime = 30;^396^^^^^395^400^[REPLACE] final int prime = 31;^[METHOD] hashCode [TYPE] int [PARAMETER] [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set attributeSet  currentSet  protSet  protocols  tagNames  [TYPE]  String key  prot  protocol  tag  tagName  value  [TYPE]  boolean false  true  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  keyVals  protocols  [TYPE]  int prime  result 
[REPLACE]^int result = 3;^397^^^^^395^400^[REPLACE] int result = 1;^[METHOD] hashCode [TYPE] int [PARAMETER] [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set attributeSet  currentSet  protSet  protocols  tagNames  [TYPE]  String key  prot  protocol  tag  tagName  value  [TYPE]  boolean false  true  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  keyVals  protocols  [TYPE]  int prime  result 
[REPLACE]^result  =  0 ;^398^^^^^395^400^[REPLACE] result = prime * result +  (  ( value == null )  ? 0 : value.hashCode (  )  ) ;^[METHOD] hashCode [TYPE] int [PARAMETER] [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set attributeSet  currentSet  protSet  protocols  tagNames  [TYPE]  String key  prot  protocol  tag  tagName  value  [TYPE]  boolean false  true  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  keyVals  protocols  [TYPE]  int prime  result 
[REPLACE]^return new Protocol ( value ) ;^399^^^^^395^400^[REPLACE] return result;^[METHOD] hashCode [TYPE] int [PARAMETER] [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set attributeSet  currentSet  protSet  protocols  tagNames  [TYPE]  String key  prot  protocol  tag  tagName  value  [TYPE]  boolean false  true  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  keyVals  protocols  [TYPE]  int prime  result 
[REPLACE]^if  ( this  &&  obj )  return false;^404^^^^^403^412^[REPLACE] if  ( this == obj )  return true;^[METHOD] equals [TYPE] boolean [PARAMETER] Object obj [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Object obj  [TYPE]  Set attributeSet  currentSet  protSet  protocols  tagNames  [TYPE]  String key  prot  protocol  tag  tagName  value  [TYPE]  boolean false  true  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  keyVals  protocols  [TYPE]  TypedValue other 
[REPLACE]^if  ( this == obj )  return false;^404^^^^^403^412^[REPLACE] if  ( this == obj )  return true;^[METHOD] equals [TYPE] boolean [PARAMETER] Object obj [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Object obj  [TYPE]  Set attributeSet  currentSet  protSet  protocols  tagNames  [TYPE]  String key  prot  protocol  tag  tagName  value  [TYPE]  boolean false  true  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  keyVals  protocols  [TYPE]  TypedValue other 
[REPLACE]^if  ( obj != null )  return false;^405^^^^^403^412^[REPLACE] if  ( obj == null )  return false;^[METHOD] equals [TYPE] boolean [PARAMETER] Object obj [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Object obj  [TYPE]  Set attributeSet  currentSet  protSet  protocols  tagNames  [TYPE]  String key  prot  protocol  tag  tagName  value  [TYPE]  boolean false  true  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  keyVals  protocols  [TYPE]  TypedValue other 
[ADD]^^405^406^407^408^409^403^412^[ADD] if  ( obj == null )  return false; if  ( getClass (  )  != obj.getClass (  )  )  return false; TypedValue other =  ( TypedValue )  obj; if  ( value == null )  { if  ( other.value != null )  return false;^[METHOD] equals [TYPE] boolean [PARAMETER] Object obj [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Object obj  [TYPE]  Set attributeSet  currentSet  protSet  protocols  tagNames  [TYPE]  String key  prot  protocol  tag  tagName  value  [TYPE]  boolean false  true  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  keyVals  protocols  [TYPE]  TypedValue other 
[REPLACE]^if  ( obj == null )  return true;^405^^^^^403^412^[REPLACE] if  ( obj == null )  return false;^[METHOD] equals [TYPE] boolean [PARAMETER] Object obj [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Object obj  [TYPE]  Set attributeSet  currentSet  protSet  protocols  tagNames  [TYPE]  String key  prot  protocol  tag  tagName  value  [TYPE]  boolean false  true  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  keyVals  protocols  [TYPE]  TypedValue other 
[REPLACE]^if  ( 0 (  )   ==  obj.getClass (  )  )  return false;^406^^^^^403^412^[REPLACE] if  ( getClass (  )  != obj.getClass (  )  )  return false;^[METHOD] equals [TYPE] boolean [PARAMETER] Object obj [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Object obj  [TYPE]  Set attributeSet  currentSet  protSet  protocols  tagNames  [TYPE]  String key  prot  protocol  tag  tagName  value  [TYPE]  boolean false  true  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  keyVals  protocols  [TYPE]  TypedValue other 
[REPLACE]^if  ( getClass (  )  != obj.getClass (  )  )  return true;^406^^^^^403^412^[REPLACE] if  ( getClass (  )  != obj.getClass (  )  )  return false;^[METHOD] equals [TYPE] boolean [PARAMETER] Object obj [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Object obj  [TYPE]  Set attributeSet  currentSet  protSet  protocols  tagNames  [TYPE]  String key  prot  protocol  tag  tagName  value  [TYPE]  boolean false  true  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  keyVals  protocols  [TYPE]  TypedValue other 
[REPLACE]^AttributeValue attrVal = AttributeValue.valueOf ( value ) ;^407^^^^^403^412^[REPLACE] TypedValue other =  ( TypedValue )  obj;^[METHOD] equals [TYPE] boolean [PARAMETER] Object obj [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Object obj  [TYPE]  Set attributeSet  currentSet  protSet  protocols  tagNames  [TYPE]  String key  prot  protocol  tag  tagName  value  [TYPE]  boolean false  true  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  keyVals  protocols  [TYPE]  TypedValue other 
[REPLACE]^if  (tagName != null )  {^408^^^^^403^412^[REPLACE] if  ( value == null )  {^[METHOD] equals [TYPE] boolean [PARAMETER] Object obj [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Object obj  [TYPE]  Set attributeSet  currentSet  protSet  protocols  tagNames  [TYPE]  String key  prot  protocol  tag  tagName  value  [TYPE]  boolean false  true  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  keyVals  protocols  [TYPE]  TypedValue other 
[REPLACE]^}  if  ( !value.equals ( other.value )  )  return true;^410^^^^^403^412^[REPLACE] } else if  ( !value.equals ( other.value )  )  return false;^[METHOD] equals [TYPE] boolean [PARAMETER] Object obj [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Object obj  [TYPE]  Set attributeSet  currentSet  protSet  protocols  tagNames  [TYPE]  String key  prot  protocol  tag  tagName  value  [TYPE]  boolean false  true  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  keyVals  protocols  [TYPE]  TypedValue other 
[REPLACE]^} else if  ( !value.equals ( other.value )  )  return true;^410^^^^^403^412^[REPLACE] } else if  ( !value.equals ( other.value )  )  return false;^[METHOD] equals [TYPE] boolean [PARAMETER] Object obj [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Object obj  [TYPE]  Set attributeSet  currentSet  protSet  protocols  tagNames  [TYPE]  String key  prot  protocol  tag  tagName  value  [TYPE]  boolean false  true  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  keyVals  protocols  [TYPE]  TypedValue other 
[REPLACE]^if  ( other.value ==value )  return false;^409^^^^^403^412^[REPLACE] if  ( other.value != null )  return false;^[METHOD] equals [TYPE] boolean [PARAMETER] Object obj [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Object obj  [TYPE]  Set attributeSet  currentSet  protSet  protocols  tagNames  [TYPE]  String key  prot  protocol  tag  tagName  value  [TYPE]  boolean false  true  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  keyVals  protocols  [TYPE]  TypedValue other 
[REPLACE]^if  ( other.value != null )  return true;^409^^^^^403^412^[REPLACE] if  ( other.value != null )  return false;^[METHOD] equals [TYPE] boolean [PARAMETER] Object obj [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Object obj  [TYPE]  Set attributeSet  currentSet  protSet  protocols  tagNames  [TYPE]  String key  prot  protocol  tag  tagName  value  [TYPE]  boolean false  true  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  keyVals  protocols  [TYPE]  TypedValue other 
[REPLACE]^if  ( other.value ==tag )  return false;^409^^^^^403^412^[REPLACE] if  ( other.value != null )  return false;^[METHOD] equals [TYPE] boolean [PARAMETER] Object obj [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Object obj  [TYPE]  Set attributeSet  currentSet  protSet  protocols  tagNames  [TYPE]  String key  prot  protocol  tag  tagName  value  [TYPE]  boolean false  true  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  keyVals  protocols  [TYPE]  TypedValue other 
[ADD]^^409^410^411^412^^403^412^[ADD] if  ( other.value != null )  return false; } else if  ( !value.equals ( other.value )  )  return false; return true; }^[METHOD] equals [TYPE] boolean [PARAMETER] Object obj [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Object obj  [TYPE]  Set attributeSet  currentSet  protSet  protocols  tagNames  [TYPE]  String key  prot  protocol  tag  tagName  value  [TYPE]  boolean false  true  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  keyVals  protocols  [TYPE]  TypedValue other 
[REPLACE]^return false;^411^^^^^403^412^[REPLACE] return true;^[METHOD] equals [TYPE] boolean [PARAMETER] Object obj [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Object obj  [TYPE]  Set attributeSet  currentSet  protSet  protocols  tagNames  [TYPE]  String key  prot  protocol  tag  tagName  value  [TYPE]  boolean false  true  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  keyVals  protocols  [TYPE]  TypedValue other 
[REPLACE]^return false;^416^^^^^415^417^[REPLACE] return value;^[METHOD] toString [TYPE] String [PARAMETER] [CLASS] Whitelist TagName AttributeKey AttributeValue Protocol TypedValue   [TYPE]  Set attributeSet  currentSet  protSet  protocols  tagNames  [TYPE]  String key  prot  protocol  tag  tagName  value  [TYPE]  boolean false  true  [TYPE]  Map attrMap  attrProts  attributes  enforcedAttributes  keyVals  protocols 
[ADD]^^348^^^^^347^349^[ADD] super ( value ) ;^[METHOD] <init> [TYPE] String) [PARAMETER] String value [CLASS] TagName   [TYPE]  boolean false  true  [TYPE]  String value 
[REPLACE]^value   ;^390^^^^^389^392^[REPLACE] Validate.notNull ( value ) ;^[METHOD] <init> [TYPE] String) [PARAMETER] String value [CLASS] TypedValue   [TYPE]  String value  [TYPE]  boolean false  true 
[ADD]^^390^^^^^389^392^[ADD] Validate.notNull ( value ) ;^[METHOD] <init> [TYPE] String) [PARAMETER] String value [CLASS] TypedValue   [TYPE]  String value  [TYPE]  boolean false  true 
[REPLACE]^this.value =  null;^391^^^^^389^392^[REPLACE] this.value = value;^[METHOD] <init> [TYPE] String) [PARAMETER] String value [CLASS] TypedValue   [TYPE]  String value  [TYPE]  boolean false  true 
[ADD]^^391^^^^^389^392^[ADD] this.value = value;^[METHOD] <init> [TYPE] String) [PARAMETER] String value [CLASS] TypedValue   [TYPE]  String value  [TYPE]  boolean false  true 
[REPLACE]^final int prime = 31 >>> 1;^396^^^^^395^400^[REPLACE] final int prime = 31;^[METHOD] hashCode [TYPE] int [PARAMETER] [CLASS] TypedValue   [TYPE]  int prime  result  [TYPE]  String value  [TYPE]  boolean false  true 
[REPLACE]^int result = 1L;^397^^^^^395^400^[REPLACE] int result = 1;^[METHOD] hashCode [TYPE] int [PARAMETER] [CLASS] TypedValue   [TYPE]  int prime  result  [TYPE]  String value  [TYPE]  boolean false  true 
[REPLACE]^result = prime * result +  (  ( value != this )  ? 0 : value.hashCode (  )  ) ;^398^^^^^395^400^[REPLACE] result = prime * result +  (  ( value == null )  ? 0 : value.hashCode (  )  ) ;^[METHOD] hashCode [TYPE] int [PARAMETER] [CLASS] TypedValue   [TYPE]  int prime  result  [TYPE]  String value  [TYPE]  boolean false  true 
[REPLACE]^return value;^399^^^^^395^400^[REPLACE] return result;^[METHOD] hashCode [TYPE] int [PARAMETER] [CLASS] TypedValue   [TYPE]  int prime  result  [TYPE]  String value  [TYPE]  boolean false  true 
[REPLACE]^if  ( this  &&  obj )  return false;^404^^^^^403^412^[REPLACE] if  ( this == obj )  return true;^[METHOD] equals [TYPE] boolean [PARAMETER] Object obj [CLASS] TypedValue   [TYPE]  Object obj  [TYPE]  String value  [TYPE]  boolean false  true  [TYPE]  TypedValue other 
[ADD]^^404^405^406^407^^403^412^[ADD] if  ( this == obj )  return true; if  ( obj == null )  return false; if  ( getClass (  )  != obj.getClass (  )  )  return false; TypedValue other =  ( TypedValue )  obj;^[METHOD] equals [TYPE] boolean [PARAMETER] Object obj [CLASS] TypedValue   [TYPE]  Object obj  [TYPE]  String value  [TYPE]  boolean false  true  [TYPE]  TypedValue other 
[REPLACE]^if  ( this == obj )  return false;^404^^^^^403^412^[REPLACE] if  ( this == obj )  return true;^[METHOD] equals [TYPE] boolean [PARAMETER] Object obj [CLASS] TypedValue   [TYPE]  Object obj  [TYPE]  String value  [TYPE]  boolean false  true  [TYPE]  TypedValue other 
[REPLACE]^if  ( obj != null )  return false;^405^^^^^403^412^[REPLACE] if  ( obj == null )  return false;^[METHOD] equals [TYPE] boolean [PARAMETER] Object obj [CLASS] TypedValue   [TYPE]  Object obj  [TYPE]  String value  [TYPE]  boolean false  true  [TYPE]  TypedValue other 
[ADD]^^405^406^407^408^409^403^412^[ADD] if  ( obj == null )  return false; if  ( getClass (  )  != obj.getClass (  )  )  return false; TypedValue other =  ( TypedValue )  obj; if  ( value == null )  { if  ( other.value != null )  return false;^[METHOD] equals [TYPE] boolean [PARAMETER] Object obj [CLASS] TypedValue   [TYPE]  Object obj  [TYPE]  String value  [TYPE]  boolean false  true  [TYPE]  TypedValue other 
[REPLACE]^if  ( obj == null )  return true;^405^^^^^403^412^[REPLACE] if  ( obj == null )  return false;^[METHOD] equals [TYPE] boolean [PARAMETER] Object obj [CLASS] TypedValue   [TYPE]  Object obj  [TYPE]  String value  [TYPE]  boolean false  true  [TYPE]  TypedValue other 
[REPLACE]^if  ( getClass (  )   ==  obj.getClass (  )  )  return true;^406^^^^^403^412^[REPLACE] if  ( getClass (  )  != obj.getClass (  )  )  return false;^[METHOD] equals [TYPE] boolean [PARAMETER] Object obj [CLASS] TypedValue   [TYPE]  Object obj  [TYPE]  String value  [TYPE]  boolean false  true  [TYPE]  TypedValue other 
[REPLACE]^if  ( getClass (  )  != obj.getClass (  )  )  return true;^406^^^^^403^412^[REPLACE] if  ( getClass (  )  != obj.getClass (  )  )  return false;^[METHOD] equals [TYPE] boolean [PARAMETER] Object obj [CLASS] TypedValue   [TYPE]  Object obj  [TYPE]  String value  [TYPE]  boolean false  true  [TYPE]  TypedValue other 
[REPLACE]^int result = 1;^407^^^^^403^412^[REPLACE] TypedValue other =  ( TypedValue )  obj;^[METHOD] equals [TYPE] boolean [PARAMETER] Object obj [CLASS] TypedValue   [TYPE]  Object obj  [TYPE]  String value  [TYPE]  boolean false  true  [TYPE]  TypedValue other 
[ADD]^^407^^^^^403^412^[ADD] TypedValue other =  ( TypedValue )  obj;^[METHOD] equals [TYPE] boolean [PARAMETER] Object obj [CLASS] TypedValue   [TYPE]  Object obj  [TYPE]  String value  [TYPE]  boolean false  true  [TYPE]  TypedValue other 
[REPLACE]^if  ( value != this  )  {^408^^^^^403^412^[REPLACE] if  ( value == null )  {^[METHOD] equals [TYPE] boolean [PARAMETER] Object obj [CLASS] TypedValue   [TYPE]  Object obj  [TYPE]  String value  [TYPE]  boolean false  true  [TYPE]  TypedValue other 
[REPLACE]^} else if  ( !value.equals ( other.value )  )  return true;^410^^^^^403^412^[REPLACE] } else if  ( !value.equals ( other.value )  )  return false;^[METHOD] equals [TYPE] boolean [PARAMETER] Object obj [CLASS] TypedValue   [TYPE]  Object obj  [TYPE]  String value  [TYPE]  boolean false  true  [TYPE]  TypedValue other 
[ADD]^}^410^411^412^^^403^412^[ADD] else if  ( !value.equals ( other.value )  )  return false; return true; }^[METHOD] equals [TYPE] boolean [PARAMETER] Object obj [CLASS] TypedValue   [TYPE]  Object obj  [TYPE]  String value  [TYPE]  boolean false  true  [TYPE]  TypedValue other 
[REPLACE]^if  ( other.value == null )  return false;^409^^^^^403^412^[REPLACE] if  ( other.value != null )  return false;^[METHOD] equals [TYPE] boolean [PARAMETER] Object obj [CLASS] TypedValue   [TYPE]  Object obj  [TYPE]  String value  [TYPE]  boolean false  true  [TYPE]  TypedValue other 
[REPLACE]^if  ( other.value != null )  return true;^409^^^^^403^412^[REPLACE] if  ( other.value != null )  return false;^[METHOD] equals [TYPE] boolean [PARAMETER] Object obj [CLASS] TypedValue   [TYPE]  Object obj  [TYPE]  String value  [TYPE]  boolean false  true  [TYPE]  TypedValue other 
[REMOVE]^if  (  ( getClass (  )  )  !=  ( obj.getClass (  )  )  )      return false;^409^^^^^403^412^[REMOVE] ^[METHOD] equals [TYPE] boolean [PARAMETER] Object obj [CLASS] TypedValue   [TYPE]  Object obj  [TYPE]  String value  [TYPE]  boolean false  true  [TYPE]  TypedValue other 
[REPLACE]^return false;^411^^^^^403^412^[REPLACE] return true;^[METHOD] equals [TYPE] boolean [PARAMETER] Object obj [CLASS] TypedValue   [TYPE]  Object obj  [TYPE]  String value  [TYPE]  boolean false  true  [TYPE]  TypedValue other 
[REPLACE]^if  ( obj == null )  return false;^416^^^^^415^417^[REPLACE] return value;^[METHOD] toString [TYPE] String [PARAMETER] [CLASS] TypedValue   [TYPE]  String value  [TYPE]  boolean false  true 
