[REPLACE]^private  Gson gson;^38^^^^^^^[REPLACE] private final Gson gson;^ [CLASS] RequestSender  
[REPLACE]^private  Level logLevel;^40^^^^^^^[REPLACE] private final Level logLevel;^ [CLASS] RequestSender  
[REPLACE]^this ( gson, true ) ;^43^^^^^42^44^[REPLACE] this ( gson, null ) ;^[METHOD] <init> [TYPE] Gson) [PARAMETER] Gson gson [CLASS] RequestSender   [TYPE]  Gson gson  [TYPE]  Level logLevel  [TYPE]  boolean false  true  [TYPE]  Logger logger 
[REMOVE]^String json = gson.toJson ( value, type ) ;^43^^^^^42^44^[REMOVE] ^[METHOD] <init> [TYPE] Gson) [PARAMETER] Gson gson [CLASS] RequestSender   [TYPE]  Gson gson  [TYPE]  Level logLevel  [TYPE]  boolean false  true  [TYPE]  Logger logger 
[REPLACE]^this.gson =  null;^47^^^^^46^50^[REPLACE] this.gson = gson;^[METHOD] <init> [TYPE] Level) [PARAMETER] Gson gson Level logLevel [CLASS] RequestSender   [TYPE]  Gson gson  [TYPE]  Level logLevel  [TYPE]  boolean false  true  [TYPE]  Logger logger 
[REPLACE]^logger  =  Logger.getLogger ( RequestSender.class.getName (  )  ) ;^48^^^^^46^50^[REPLACE] logger = logLevel == null ? null : Logger.getLogger ( RequestSender.class.getName (  )  ) ;^[METHOD] <init> [TYPE] Level) [PARAMETER] Gson gson Level logLevel [CLASS] RequestSender   [TYPE]  Gson gson  [TYPE]  Level logLevel  [TYPE]  boolean false  true  [TYPE]  Logger logger 
[REPLACE]^this.logLevel =  null;^49^^^^^46^50^[REPLACE] this.logLevel = logLevel;^[METHOD] <init> [TYPE] Level) [PARAMETER] Gson gson Level logLevel [CLASS] RequestSender   [TYPE]  Gson gson  [TYPE]  Level logLevel  [TYPE]  boolean false  true  [TYPE]  Logger logger 
[REPLACE]^if  ( requestBody.getSpec (  ) .length (  )  > 0  )  {^66^^^^^52^79^[REPLACE] if  ( requestBody.getSpec (  ) .size (  )  > 0 )  {^[METHOD] send [TYPE] void [PARAMETER] HttpURLConnection conn WebServiceRequest request [CLASS] RequestSender   [TYPE]  HttpURLConnection conn  [TYPE]  boolean false  true  [TYPE]  WebServiceRequest request  [TYPE]  Gson gson  [TYPE]  Level logLevel  [TYPE]  String contentLength  requestBodyContents  [TYPE]  IOException e  [TYPE]  Logger logger  [TYPE]  RequestBody requestBody 
[ADD]^requestBodyContents = gson.toJson ( requestBody ) ;^66^67^68^^^52^79^[ADD] if  ( requestBody.getSpec (  ) .size (  )  > 0 )  { requestBodyContents = gson.toJson ( requestBody ) ; }^[METHOD] send [TYPE] void [PARAMETER] HttpURLConnection conn WebServiceRequest request [CLASS] RequestSender   [TYPE]  HttpURLConnection conn  [TYPE]  boolean false  true  [TYPE]  WebServiceRequest request  [TYPE]  Gson gson  [TYPE]  Level logLevel  [TYPE]  String contentLength  requestBodyContents  [TYPE]  IOException e  [TYPE]  Logger logger  [TYPE]  RequestBody requestBody 
[REPLACE]^requestBodyContents =  gson.toJson ( null ) ;^67^^^^^52^79^[REPLACE] requestBodyContents = gson.toJson ( requestBody ) ;^[METHOD] send [TYPE] void [PARAMETER] HttpURLConnection conn WebServiceRequest request [CLASS] RequestSender   [TYPE]  HttpURLConnection conn  [TYPE]  boolean false  true  [TYPE]  WebServiceRequest request  [TYPE]  Gson gson  [TYPE]  Level logLevel  [TYPE]  String contentLength  requestBodyContents  [TYPE]  IOException e  [TYPE]  Logger logger  [TYPE]  RequestBody requestBody 
[ADD]^conn.setRequestMethod ( request.getHttpMethod (  ) .toString (  )  ) ;setHeader ( conn, "Content-Type", request.getContentType (  ) , true ) ;^53^54^55^^57^52^79^[ADD] try { conn.setRequestMethod ( request.getHttpMethod (  ) .toString (  )  ) ; setHeader ( conn, "Content-Type", request.getContentType (  ) , true ) ;^[METHOD] send [TYPE] void [PARAMETER] HttpURLConnection conn WebServiceRequest request [CLASS] RequestSender   [TYPE]  HttpURLConnection conn  [TYPE]  boolean false  true  [TYPE]  WebServiceRequest request  [TYPE]  Gson gson  [TYPE]  Level logLevel  [TYPE]  String contentLength  requestBodyContents  [TYPE]  IOException e  [TYPE]  Logger logger  [TYPE]  RequestBody requestBody 
[REPLACE]^if  ( requestBody.getSpec (  ) .length (  )  > 0 )  {^66^^^^^52^79^[REPLACE] if  ( requestBody.getSpec (  ) .size (  )  > 0 )  {^[METHOD] send [TYPE] void [PARAMETER] HttpURLConnection conn WebServiceRequest request [CLASS] RequestSender   [TYPE]  HttpURLConnection conn  [TYPE]  boolean false  true  [TYPE]  WebServiceRequest request  [TYPE]  Gson gson  [TYPE]  Level logLevel  [TYPE]  String contentLength  requestBodyContents  [TYPE]  IOException e  [TYPE]  Logger logger  [TYPE]  RequestBody requestBody 
[REPLACE]^RequestBody requestBody = request.getHeaders (  ) ;^62^^^^^52^79^[REPLACE] RequestBody requestBody = request.getBody (  ) ;^[METHOD] send [TYPE] void [PARAMETER] HttpURLConnection conn WebServiceRequest request [CLASS] RequestSender   [TYPE]  HttpURLConnection conn  [TYPE]  boolean false  true  [TYPE]  WebServiceRequest request  [TYPE]  Gson gson  [TYPE]  Level logLevel  [TYPE]  String contentLength  requestBodyContents  [TYPE]  IOException e  [TYPE]  Logger logger  [TYPE]  RequestBody requestBody 
[REPLACE]^String contentLength = String.valueOf ( requestBodyContents.length (  )  ) ;^63^^^^^52^79^[REPLACE] String requestBodyContents = "";^[METHOD] send [TYPE] void [PARAMETER] HttpURLConnection conn WebServiceRequest request [CLASS] RequestSender   [TYPE]  HttpURLConnection conn  [TYPE]  boolean false  true  [TYPE]  WebServiceRequest request  [TYPE]  Gson gson  [TYPE]  Level logLevel  [TYPE]  String contentLength  requestBodyContents  [TYPE]  IOException e  [TYPE]  Logger logger  [TYPE]  RequestBody requestBody 
[ADD]^^63^^^^^52^79^[ADD] String requestBodyContents = "";^[METHOD] send [TYPE] void [PARAMETER] HttpURLConnection conn WebServiceRequest request [CLASS] RequestSender   [TYPE]  HttpURLConnection conn  [TYPE]  boolean false  true  [TYPE]  WebServiceRequest request  [TYPE]  Gson gson  [TYPE]  Level logLevel  [TYPE]  String contentLength  requestBodyContents  [TYPE]  IOException e  [TYPE]  Logger logger  [TYPE]  RequestBody requestBody 
[REPLACE]^requestBodyContents.length (  )  ;^69^^^^^52^79^[REPLACE] String contentLength = String.valueOf ( requestBodyContents.length (  )  ) ;^[METHOD] send [TYPE] void [PARAMETER] HttpURLConnection conn WebServiceRequest request [CLASS] RequestSender   [TYPE]  HttpURLConnection conn  [TYPE]  boolean false  true  [TYPE]  WebServiceRequest request  [TYPE]  Gson gson  [TYPE]  Level logLevel  [TYPE]  String contentLength  requestBodyContents  [TYPE]  IOException e  [TYPE]  Logger logger  [TYPE]  RequestBody requestBody 
[ADD]^^69^^^^^52^79^[ADD] String contentLength = String.valueOf ( requestBodyContents.length (  )  ) ;^[METHOD] send [TYPE] void [PARAMETER] HttpURLConnection conn WebServiceRequest request [CLASS] RequestSender   [TYPE]  HttpURLConnection conn  [TYPE]  boolean false  true  [TYPE]  WebServiceRequest request  [TYPE]  Gson gson  [TYPE]  Level logLevel  [TYPE]  String contentLength  requestBodyContents  [TYPE]  IOException e  [TYPE]  Logger logger  [TYPE]  RequestBody requestBody 
[ADD]^^62^63^^^^52^79^[ADD] RequestBody requestBody = request.getBody (  ) ; String requestBodyContents = "";^[METHOD] send [TYPE] void [PARAMETER] HttpURLConnection conn WebServiceRequest request [CLASS] RequestSender   [TYPE]  HttpURLConnection conn  [TYPE]  boolean false  true  [TYPE]  WebServiceRequest request  [TYPE]  Gson gson  [TYPE]  Level logLevel  [TYPE]  String contentLength  requestBodyContents  [TYPE]  IOException e  [TYPE]  Logger logger  [TYPE]  RequestBody requestBody 
[REPLACE]^String contentLength = String.valueOf ( contentLength.length (  )  ) ;^69^^^^^52^79^[REPLACE] String contentLength = String.valueOf ( requestBodyContents.length (  )  ) ;^[METHOD] send [TYPE] void [PARAMETER] HttpURLConnection conn WebServiceRequest request [CLASS] RequestSender   [TYPE]  HttpURLConnection conn  [TYPE]  boolean false  true  [TYPE]  WebServiceRequest request  [TYPE]  Gson gson  [TYPE]  Level logLevel  [TYPE]  String contentLength  requestBodyContents  [TYPE]  IOException e  [TYPE]  Logger logger  [TYPE]  RequestBody requestBody 
[REPLACE]^return ;^77^^^^^52^79^[REPLACE] throw new WebServiceSystemException  (" ")  ;^[METHOD] send [TYPE] void [PARAMETER] HttpURLConnection conn WebServiceRequest request [CLASS] RequestSender   [TYPE]  HttpURLConnection conn  [TYPE]  boolean false  true  [TYPE]  WebServiceRequest request  [TYPE]  Gson gson  [TYPE]  Level logLevel  [TYPE]  String contentLength  requestBodyContents  [TYPE]  IOException e  [TYPE]  Logger logger  [TYPE]  RequestBody requestBody 
[REPLACE]^RequestBody requestBody = request.getBody (  ) ;^82^^^^^81^90^[REPLACE] HeaderMapSpec spec = requestParams.getSpec (  ) ;^[METHOD] addRequestParams [TYPE] void [PARAMETER] HttpURLConnection conn HeaderMap requestParams [CLASS] RequestSender   [TYPE]  Entry entry  [TYPE]  Type type  [TYPE]  HttpURLConnection conn  [TYPE]  boolean false  true  [TYPE]  HeaderMap requestParams  [TYPE]  Gson gson  [TYPE]  Level logLevel  [TYPE]  Object value  [TYPE]  String json  paramName  [TYPE]  Logger logger  [TYPE]  HeaderMapSpec spec 
[REPLACE]^for  ( Map.Entry<String, Object> entry : requestParams.entrySet (  )  )  { String paramName = entry.getKey (  ) ;^83^^^^^81^90^[REPLACE] for  ( Map.Entry<String, Object> entry : requestParams.entrySet (  )  )  {^[METHOD] addRequestParams [TYPE] void [PARAMETER] HttpURLConnection conn HeaderMap requestParams [CLASS] RequestSender   [TYPE]  Entry entry  [TYPE]  Type type  [TYPE]  HttpURLConnection conn  [TYPE]  boolean false  true  [TYPE]  HeaderMap requestParams  [TYPE]  Gson gson  [TYPE]  Level logLevel  [TYPE]  Object value  [TYPE]  String json  paramName  [TYPE]  Logger logger  [TYPE]  HeaderMapSpec spec 
[REPLACE]^String paramName = null.getKey (  ) ;^84^^^^^81^90^[REPLACE] String paramName = entry.getKey (  ) ;^[METHOD] addRequestParams [TYPE] void [PARAMETER] HttpURLConnection conn HeaderMap requestParams [CLASS] RequestSender   [TYPE]  Entry entry  [TYPE]  Type type  [TYPE]  HttpURLConnection conn  [TYPE]  boolean false  true  [TYPE]  HeaderMap requestParams  [TYPE]  Gson gson  [TYPE]  Level logLevel  [TYPE]  Object value  [TYPE]  String json  paramName  [TYPE]  Logger logger  [TYPE]  HeaderMapSpec spec 
[REPLACE]^Type type = spec.getTypeFor ( json ) ;^85^^^^^81^90^[REPLACE] Type type = spec.getTypeFor ( paramName ) ;^[METHOD] addRequestParams [TYPE] void [PARAMETER] HttpURLConnection conn HeaderMap requestParams [CLASS] RequestSender   [TYPE]  Entry entry  [TYPE]  Type type  [TYPE]  HttpURLConnection conn  [TYPE]  boolean false  true  [TYPE]  HeaderMap requestParams  [TYPE]  Gson gson  [TYPE]  Level logLevel  [TYPE]  Object value  [TYPE]  String json  paramName  [TYPE]  Logger logger  [TYPE]  HeaderMapSpec spec 
[REPLACE]^Object value = false.getKey (  ) ;^86^^^^^81^90^[REPLACE] Object value = entry.getValue (  ) ;^[METHOD] addRequestParams [TYPE] void [PARAMETER] HttpURLConnection conn HeaderMap requestParams [CLASS] RequestSender   [TYPE]  Entry entry  [TYPE]  Type type  [TYPE]  HttpURLConnection conn  [TYPE]  boolean false  true  [TYPE]  HeaderMap requestParams  [TYPE]  Gson gson  [TYPE]  Level logLevel  [TYPE]  Object value  [TYPE]  String json  paramName  [TYPE]  Logger logger  [TYPE]  HeaderMapSpec spec 
[REPLACE]^for  ( Map.Entry<String, Object> entry : requestParams.entrySet (  )  )  { String paramName = entry.getKey (  ) ;^87^^^^^81^90^[REPLACE] String json = gson.toJson ( value, type ) ;^[METHOD] addRequestParams [TYPE] void [PARAMETER] HttpURLConnection conn HeaderMap requestParams [CLASS] RequestSender   [TYPE]  Entry entry  [TYPE]  Type type  [TYPE]  HttpURLConnection conn  [TYPE]  boolean false  true  [TYPE]  HeaderMap requestParams  [TYPE]  Gson gson  [TYPE]  Level logLevel  [TYPE]  Object value  [TYPE]  String json  paramName  [TYPE]  Logger logger  [TYPE]  HeaderMapSpec spec 
[REPLACE]^if  ( logger == false )  {^93^^^^^92^101^[REPLACE] if  ( logger != null )  {^[METHOD] setHeader [TYPE] void [PARAMETER] HttpURLConnection conn String name String value boolean overwrite [CLASS] RequestSender   [TYPE]  Gson gson  [TYPE]  Level logLevel  [TYPE]  HttpURLConnection conn  [TYPE]  String name  value  [TYPE]  boolean false  overwrite  true  [TYPE]  Logger logger 
[REPLACE]^logger = logLevel == null ? null : Logger.getLogger ( RequestSender.class.getName (  )  ) ;^94^^^^^92^101^[REPLACE] logger.log ( logLevel, String.format ( "Request param: %s:%s", name, value )  ) ;^[METHOD] setHeader [TYPE] void [PARAMETER] HttpURLConnection conn String name String value boolean overwrite [CLASS] RequestSender   [TYPE]  Gson gson  [TYPE]  Level logLevel  [TYPE]  HttpURLConnection conn  [TYPE]  String name  value  [TYPE]  boolean false  overwrite  true  [TYPE]  Logger logger 
[REPLACE]^if  ( true )  {^96^^^^^92^101^[REPLACE] if  ( overwrite )  {^[METHOD] setHeader [TYPE] void [PARAMETER] HttpURLConnection conn String name String value boolean overwrite [CLASS] RequestSender   [TYPE]  Gson gson  [TYPE]  Level logLevel  [TYPE]  HttpURLConnection conn  [TYPE]  String name  value  [TYPE]  boolean false  overwrite  true  [TYPE]  Logger logger 
[REPLACE]^conn.setRequestProperty ( name, value ) ;^99^^^^^92^101^[REPLACE] conn.addRequestProperty ( name, value ) ;^[METHOD] setHeader [TYPE] void [PARAMETER] HttpURLConnection conn String name String value boolean overwrite [CLASS] RequestSender   [TYPE]  Gson gson  [TYPE]  Level logLevel  [TYPE]  HttpURLConnection conn  [TYPE]  String name  value  [TYPE]  boolean false  overwrite  true  [TYPE]  Logger logger 
[REPLACE]^conn.setRequestProperty ( name, name ) ;^97^^^^^92^101^[REPLACE] conn.setRequestProperty ( name, value ) ;^[METHOD] setHeader [TYPE] void [PARAMETER] HttpURLConnection conn String name String value boolean overwrite [CLASS] RequestSender   [TYPE]  Gson gson  [TYPE]  Level logLevel  [TYPE]  HttpURLConnection conn  [TYPE]  String name  value  [TYPE]  boolean false  overwrite  true  [TYPE]  Logger logger 
