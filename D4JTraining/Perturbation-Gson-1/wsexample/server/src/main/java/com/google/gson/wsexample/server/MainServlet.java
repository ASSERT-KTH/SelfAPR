[REPLACE]^ResponseSpec responseSpec = spec.getResponseSpec (  )  ;^50^^^^^49^75^[REPLACE] WebServiceCallSpec spec = SampleJsonService.PLACE_ORDER;^[METHOD] service [TYPE] void [PARAMETER] HttpServletRequest req HttpServletResponse res [CLASS] MainServlet   [TYPE]  Order order  [TYPE]  WebServiceCallSpec spec  [TYPE]  HttpServletResponse res  [TYPE]  Gson gson  [TYPE]  String authToken  [TYPE]  ResponseSender responseSender  [TYPE]  ResponseSpec responseSpec  [TYPE]  ResponseBody responseBody  [TYPE]  HttpServletRequest req  [TYPE]  RequestReceiver requestReceiver  [TYPE]  WebServiceResponse response  [TYPE]  boolean false  true  [TYPE]  WebServiceRequest webServiceRequest  [TYPE]  HeaderMap responseHeaders  [TYPE]  RequestSpec requestSpec  [TYPE]  Cart cart 
[REPLACE]^RequestSpec requestSpec = spec.getResponseSpec (  ) ;^51^^^^^49^75^[REPLACE] RequestSpec requestSpec = spec.getRequestSpec (  ) ;^[METHOD] service [TYPE] void [PARAMETER] HttpServletRequest req HttpServletResponse res [CLASS] MainServlet   [TYPE]  Order order  [TYPE]  WebServiceCallSpec spec  [TYPE]  HttpServletResponse res  [TYPE]  Gson gson  [TYPE]  String authToken  [TYPE]  ResponseSender responseSender  [TYPE]  ResponseSpec responseSpec  [TYPE]  ResponseBody responseBody  [TYPE]  HttpServletRequest req  [TYPE]  RequestReceiver requestReceiver  [TYPE]  WebServiceResponse response  [TYPE]  boolean false  true  [TYPE]  WebServiceRequest webServiceRequest  [TYPE]  HeaderMap responseHeaders  [TYPE]  RequestSpec requestSpec  [TYPE]  Cart cart 
[REPLACE]^ResponseSpec responseSpec = spec.getRequestSpec (  ) ;^52^^^^^49^75^[REPLACE] ResponseSpec responseSpec = spec.getResponseSpec (  ) ;^[METHOD] service [TYPE] void [PARAMETER] HttpServletRequest req HttpServletResponse res [CLASS] MainServlet   [TYPE]  Order order  [TYPE]  WebServiceCallSpec spec  [TYPE]  HttpServletResponse res  [TYPE]  Gson gson  [TYPE]  String authToken  [TYPE]  ResponseSender responseSender  [TYPE]  ResponseSpec responseSpec  [TYPE]  ResponseBody responseBody  [TYPE]  HttpServletRequest req  [TYPE]  RequestReceiver requestReceiver  [TYPE]  WebServiceResponse response  [TYPE]  boolean false  true  [TYPE]  WebServiceRequest webServiceRequest  [TYPE]  HeaderMap responseHeaders  [TYPE]  RequestSpec requestSpec  [TYPE]  Cart cart 
[ADD]^^53^54^55^^^49^75^[ADD] Gson gson = new GsonBuilder (  ) .registerTypeAdapter ( RequestBody.class, new RequestBodyGsonConverter ( requestSpec.getBodySpec (  )  )  )^[METHOD] service [TYPE] void [PARAMETER] HttpServletRequest req HttpServletResponse res [CLASS] MainServlet   [TYPE]  Order order  [TYPE]  WebServiceCallSpec spec  [TYPE]  HttpServletResponse res  [TYPE]  Gson gson  [TYPE]  String authToken  [TYPE]  ResponseSender responseSender  [TYPE]  ResponseSpec responseSpec  [TYPE]  ResponseBody responseBody  [TYPE]  HttpServletRequest req  [TYPE]  RequestReceiver requestReceiver  [TYPE]  WebServiceResponse response  [TYPE]  boolean false  true  [TYPE]  WebServiceRequest webServiceRequest  [TYPE]  HeaderMap responseHeaders  [TYPE]  RequestSpec requestSpec  [TYPE]  Cart cart 
[REPLACE]^ResponseSender responseSender = new ResponseSender ( gson )  ;^59^^^^^49^75^[REPLACE] RequestReceiver requestReceiver = new RequestReceiver ( gson, requestSpec ) ;^[METHOD] service [TYPE] void [PARAMETER] HttpServletRequest req HttpServletResponse res [CLASS] MainServlet   [TYPE]  Order order  [TYPE]  WebServiceCallSpec spec  [TYPE]  HttpServletResponse res  [TYPE]  Gson gson  [TYPE]  String authToken  [TYPE]  ResponseSender responseSender  [TYPE]  ResponseSpec responseSpec  [TYPE]  ResponseBody responseBody  [TYPE]  HttpServletRequest req  [TYPE]  RequestReceiver requestReceiver  [TYPE]  WebServiceResponse response  [TYPE]  boolean false  true  [TYPE]  WebServiceRequest webServiceRequest  [TYPE]  HeaderMap responseHeaders  [TYPE]  RequestSpec requestSpec  [TYPE]  Cart cart 
[REPLACE]^ResponseSpec responseSpec = spec.getResponseSpec (  )  ;^60^^^^^49^75^[REPLACE] WebServiceRequest webServiceRequest = requestReceiver.receive ( req ) ;^[METHOD] service [TYPE] void [PARAMETER] HttpServletRequest req HttpServletResponse res [CLASS] MainServlet   [TYPE]  Order order  [TYPE]  WebServiceCallSpec spec  [TYPE]  HttpServletResponse res  [TYPE]  Gson gson  [TYPE]  String authToken  [TYPE]  ResponseSender responseSender  [TYPE]  ResponseSpec responseSpec  [TYPE]  ResponseBody responseBody  [TYPE]  HttpServletRequest req  [TYPE]  RequestReceiver requestReceiver  [TYPE]  WebServiceResponse response  [TYPE]  boolean false  true  [TYPE]  WebServiceRequest webServiceRequest  [TYPE]  HeaderMap responseHeaders  [TYPE]  RequestSpec requestSpec  [TYPE]  Cart cart 
[REPLACE]^Cart cart = webServiceRequest.getHeader (  ) .get ( TypedKeys.RequestBody.CART ) ;^62^^^^^49^75^[REPLACE] Cart cart = webServiceRequest.getBody (  ) .get ( TypedKeys.RequestBody.CART ) ;^[METHOD] service [TYPE] void [PARAMETER] HttpServletRequest req HttpServletResponse res [CLASS] MainServlet   [TYPE]  Order order  [TYPE]  WebServiceCallSpec spec  [TYPE]  HttpServletResponse res  [TYPE]  Gson gson  [TYPE]  String authToken  [TYPE]  ResponseSender responseSender  [TYPE]  ResponseSpec responseSpec  [TYPE]  ResponseBody responseBody  [TYPE]  HttpServletRequest req  [TYPE]  RequestReceiver requestReceiver  [TYPE]  WebServiceResponse response  [TYPE]  boolean false  true  [TYPE]  WebServiceRequest webServiceRequest  [TYPE]  HeaderMap responseHeaders  [TYPE]  RequestSpec requestSpec  [TYPE]  Cart cart 
[REPLACE]^ResponseSpec responseSpec = spec.getResponseSpec (  )  ;^63^^^^^49^75^[REPLACE] String authToken = webServiceRequest.getHeader ( TypedKeys.Request.AUTH_TOKEN ) ;^[METHOD] service [TYPE] void [PARAMETER] HttpServletRequest req HttpServletResponse res [CLASS] MainServlet   [TYPE]  Order order  [TYPE]  WebServiceCallSpec spec  [TYPE]  HttpServletResponse res  [TYPE]  Gson gson  [TYPE]  String authToken  [TYPE]  ResponseSender responseSender  [TYPE]  ResponseSpec responseSpec  [TYPE]  ResponseBody responseBody  [TYPE]  HttpServletRequest req  [TYPE]  RequestReceiver requestReceiver  [TYPE]  WebServiceResponse response  [TYPE]  boolean false  true  [TYPE]  WebServiceRequest webServiceRequest  [TYPE]  HeaderMap responseHeaders  [TYPE]  RequestSpec requestSpec  [TYPE]  Cart cart 
[REPLACE]^ResponseSpec responseSpec = spec.getResponseSpec (  )  ;^65^^^^^49^75^[REPLACE] Order order = placeOrder ( cart, authToken ) ;^[METHOD] service [TYPE] void [PARAMETER] HttpServletRequest req HttpServletResponse res [CLASS] MainServlet   [TYPE]  Order order  [TYPE]  WebServiceCallSpec spec  [TYPE]  HttpServletResponse res  [TYPE]  Gson gson  [TYPE]  String authToken  [TYPE]  ResponseSender responseSender  [TYPE]  ResponseSpec responseSpec  [TYPE]  ResponseBody responseBody  [TYPE]  HttpServletRequest req  [TYPE]  RequestReceiver requestReceiver  [TYPE]  WebServiceResponse response  [TYPE]  boolean false  true  [TYPE]  WebServiceRequest webServiceRequest  [TYPE]  HeaderMap responseHeaders  [TYPE]  RequestSpec requestSpec  [TYPE]  Cart cart 
[REPLACE]^ResponseBody responseBody = new Builder ( responseSpec.getBodySpec (  )  ) .put ( ORDER, order ) .build (  )  ;^68^^^^^49^75^[REPLACE] HeaderMap responseHeaders = new HeaderMap.Builder ( responseSpec.getHeadersSpec (  )  ) .build (  ) ;^[METHOD] service [TYPE] void [PARAMETER] HttpServletRequest req HttpServletResponse res [CLASS] MainServlet   [TYPE]  Order order  [TYPE]  WebServiceCallSpec spec  [TYPE]  HttpServletResponse res  [TYPE]  Gson gson  [TYPE]  String authToken  [TYPE]  ResponseSender responseSender  [TYPE]  ResponseSpec responseSpec  [TYPE]  ResponseBody responseBody  [TYPE]  HttpServletRequest req  [TYPE]  RequestReceiver requestReceiver  [TYPE]  WebServiceResponse response  [TYPE]  boolean false  true  [TYPE]  WebServiceRequest webServiceRequest  [TYPE]  HeaderMap responseHeaders  [TYPE]  RequestSpec requestSpec  [TYPE]  Cart cart 
[REPLACE]^HeaderMap responseHeaders = new Builder ( responseSpec.getHeadersSpec (  )  ) .build (  )  ;^72^^^^^49^75^[REPLACE] WebServiceResponse response = new WebServiceResponse ( responseHeaders, responseBody ) ;^[METHOD] service [TYPE] void [PARAMETER] HttpServletRequest req HttpServletResponse res [CLASS] MainServlet   [TYPE]  Order order  [TYPE]  WebServiceCallSpec spec  [TYPE]  HttpServletResponse res  [TYPE]  Gson gson  [TYPE]  String authToken  [TYPE]  ResponseSender responseSender  [TYPE]  ResponseSpec responseSpec  [TYPE]  ResponseBody responseBody  [TYPE]  HttpServletRequest req  [TYPE]  RequestReceiver requestReceiver  [TYPE]  WebServiceResponse response  [TYPE]  boolean false  true  [TYPE]  WebServiceRequest webServiceRequest  [TYPE]  HeaderMap responseHeaders  [TYPE]  RequestSpec requestSpec  [TYPE]  Cart cart 
[REPLACE]^RequestReceiver requestReceiver = new RequestReceiver ( gson, requestSpec )  ;^73^^^^^49^75^[REPLACE] ResponseSender responseSender = new ResponseSender ( gson ) ;^[METHOD] service [TYPE] void [PARAMETER] HttpServletRequest req HttpServletResponse res [CLASS] MainServlet   [TYPE]  Order order  [TYPE]  WebServiceCallSpec spec  [TYPE]  HttpServletResponse res  [TYPE]  Gson gson  [TYPE]  String authToken  [TYPE]  ResponseSender responseSender  [TYPE]  ResponseSpec responseSpec  [TYPE]  ResponseBody responseBody  [TYPE]  HttpServletRequest req  [TYPE]  RequestReceiver requestReceiver  [TYPE]  WebServiceResponse response  [TYPE]  boolean false  true  [TYPE]  WebServiceRequest webServiceRequest  [TYPE]  HeaderMap responseHeaders  [TYPE]  RequestSpec requestSpec  [TYPE]  Cart cart 
[REPLACE]^super (  )  ;^74^^^^^49^75^[REPLACE] responseSender.send ( res, response ) ;^[METHOD] service [TYPE] void [PARAMETER] HttpServletRequest req HttpServletResponse res [CLASS] MainServlet   [TYPE]  Order order  [TYPE]  WebServiceCallSpec spec  [TYPE]  HttpServletResponse res  [TYPE]  Gson gson  [TYPE]  String authToken  [TYPE]  ResponseSender responseSender  [TYPE]  ResponseSpec responseSpec  [TYPE]  ResponseBody responseBody  [TYPE]  HttpServletRequest req  [TYPE]  RequestReceiver requestReceiver  [TYPE]  WebServiceResponse response  [TYPE]  boolean false  true  [TYPE]  WebServiceRequest webServiceRequest  [TYPE]  HeaderMap responseHeaders  [TYPE]  RequestSpec requestSpec  [TYPE]  Cart cart 
[ADD]^^74^^^^^49^75^[ADD] responseSender.send ( res, response ) ;^[METHOD] service [TYPE] void [PARAMETER] HttpServletRequest req HttpServletResponse res [CLASS] MainServlet   [TYPE]  Order order  [TYPE]  WebServiceCallSpec spec  [TYPE]  HttpServletResponse res  [TYPE]  Gson gson  [TYPE]  String authToken  [TYPE]  ResponseSender responseSender  [TYPE]  ResponseSpec responseSpec  [TYPE]  ResponseBody responseBody  [TYPE]  HttpServletRequest req  [TYPE]  RequestReceiver requestReceiver  [TYPE]  WebServiceResponse response  [TYPE]  boolean false  true  [TYPE]  WebServiceRequest webServiceRequest  [TYPE]  HeaderMap responseHeaders  [TYPE]  RequestSpec requestSpec  [TYPE]  Cart cart 
